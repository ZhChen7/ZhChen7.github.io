{
    "version": "https://jsonfeed.org/version/1",
    "title": "sunflower • All posts by \"js\" category",
    "description": "周琛的博客",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2020/03/23/getOfferES6/",
            "url": "http://example.com/2020/03/23/getOfferES6/",
            "title": "ES6 知识点",
            "date_published": "2020-03-23T09:38:45.000Z",
            "content_html": "<h2 id=\"面试专题总结es6-知识点\"><a class=\"markdownIt-Anchor\" href=\"#面试专题总结es6-知识点\">#</a> 面试专题总结：ES6 知识点</h2>\n<blockquote>\n<p>希望读者依此构建自己的知识树（思维导图）</p>\n<p>偷懒一下：可参考我自己总结思维导图 : <a href=\"https://github.com/ZhChen7/Interview-mind-map\">点这里</a></p>\n<p>附带：高频面试题积累文档。 来自于（学长、牛客网等平台）</p>\n<p>自己开发的博客地址：<a href=\"http://zxinc520.com/\">zxinc520.com</a></p>\n<p>github 地址: <a href=\"https://github.com/ZhChen7\">点击</a></p>\n</blockquote>\n<blockquote>\n<p>此篇 js - 【ES6 知识总结】 知识点： 全部弄懂了，面试很容易。</p>\n</blockquote>\n<blockquote>\n<p>详细可参考： <a href=\"https://es6.ruanyifeng.com/\">ECMAScript 6 入门</a></p>\n</blockquote>\n<h3 id=\"1-es6-是什么\"><a class=\"markdownIt-Anchor\" href=\"#1-es6-是什么\">#</a> 1、es6 是什么</h3>\n<p>ECMAScript 6.0（以下简称 ES6）是 JavaScript 语言的下一代标准，已经在 2015 年 6 月正式发布了。 ECMA 是标准，Javascript 是 ECMA 的实现。因为 js 也是一种语言，但凡语言都有一套标准，而 ECMA 就是 javascript 的标准。在 2015 年正式发布了 ECMAscript6.0，简称 ES6，又称为 ECMAscript2015。</p>\n<h3 id=\"2-var-let-const声明方式\"><a class=\"markdownIt-Anchor\" href=\"#2-var-let-const声明方式\">#</a> 2、var、let、const（声明方式）</h3>\n<ul>\n<li>类别\n<ol>\n<li>变量提升</li>\n<li>暂时性死区</li>\n<li>重复声明</li>\n<li>块作用域有效</li>\n<li>初始值</li>\n<li>重新赋值</li>\n</ol>\n</li>\n<li>区别\n<ol>\n<li>let/const 定义的变量不会出现变量提升，而 var 定义的变量会提升。</li>\n<li>相同作用域中，let 和 const 不允许重复声明，var 允许重复声明。</li>\n<li>const 声明变量时必须设置初始值</li>\n<li>const 声明一个只读的常量，这个常量不可改变</li>\n<li>let/const 声明的变量仅在块级作用域中有效。而 var 声明的变量在块级作用域外仍能访问到。</li>\n<li>顶层作用域中 var 声明的变量挂在 window 上 (浏览器环境)</li>\n<li>let/const 有暂时性死区的问题，即 let/const 声明的变量，在定义之前都是不可用的。如果使用会抛出错误。</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"3-变量的解构赋值\"><a class=\"markdownIt-Anchor\" href=\"#3-变量的解构赋值\">#</a> 3、 变量的解构赋值</h3>\n<ul>\n<li>\n<p>数组解构赋值</p>\n<p>let [aa, bb, cc] = [0, 1, 2];</p>\n</li>\n<li>\n<p>对象解构赋值</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> <span class=\"token punctuation\">&#123;</span> cnName<span class=\"token punctuation\">,</span> enName <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  id<span class=\"token operator\">:</span> <span class=\"token string\">\"151521574\"</span><span class=\"token punctuation\">,</span>\n  cnName<span class=\"token operator\">:</span> <span class=\"token string\">\"张生\"</span><span class=\"token punctuation\">,</span>\n  enName<span class=\"token operator\">:</span> <span class=\"token string\">\"Ronnie\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>cnName<span class=\"token punctuation\">,</span> enName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//'张生'，'Ronnie'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n<h3 id=\"4-箭头函数\"><a class=\"markdownIt-Anchor\" href=\"#4-箭头函数\">#</a> 4、箭头函数</h3>\n<blockquote>\n<p>es6 之前的函数的 this 指向调用函数时所在的对象，而箭头函数的 this 指向函数定义时所在的对象</p>\n</blockquote>\n<h4 id=\"箭头函数及其-this-问题\"><a class=\"markdownIt-Anchor\" href=\"#箭头函数及其-this-问题\">#</a> 箭头函数及其 this 问题</h4>\n<ol>\n<li>this 对象的指向是可变的，但是在箭头函数中，它是固定的。</li>\n<li>this 指向的固定化，并不是因为箭头函数内部有绑定 this 的机制，实际原因是箭头函数根本没有自己的 this，导致内部的 this 就是外层代码块的 this。正是因为它没有 this，所以也就不能用作构造函数。</li>\n<li>箭头函数里面根本没有自己的 this，而是引用外层的 this。</li>\n<li>由于箭头函数没有自己的 this，所以当然也就不能用 call ()、apply ()、bind () 这些方法去改变 this 的指向</li>\n</ol>\n<h3 id=\"5-symbol\"><a class=\"markdownIt-Anchor\" href=\"#5-symbol\">#</a> 5、Symbol</h3>\n<ul>\n<li>\n<p>是什么？</p>\n<p>symbols 是一种无法被重建的基本类型。这时 symbols 有点类似与对象创建的实例互相不相等的情况，但同时 symbols 又是一种无法被改变的基本类型数据。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> s1 <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> s2 <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s1 <span class=\"token operator\">===</span> s2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>作用</p>\n<ol>\n<li>symbols 作为对象的属性</li>\n<li>阻止对象属性名冲突 （扩展对象属性很有用）</li>\n<li>模拟私有属性</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"6-module-模块\"><a class=\"markdownIt-Anchor\" href=\"#6-module-模块\">#</a> 6、Module 模块</h3>\n<blockquote>\n<p>可从 IIFE、AMD、CMD、CommonJS、UMD、webpack (require.ensure)、ES Module、&lt;<em>script type=“module”</em> &gt; 这几个角度考虑。</p>\n<p><strong>作用</strong> ：模块化主要是用来抽离公共代码，隔离作用域，避免变量冲突等。</p>\n</blockquote>\n<h4 id=\"模块化发展历程\"><a class=\"markdownIt-Anchor\" href=\"#模块化发展历程\">#</a> 模块化发展历程</h4>\n<ol>\n<li>\n<p>IIFE</p>\n<ul>\n<li>\n<p>使用自执行函数来编写模块化</p>\n</li>\n<li>\n<p>特点：</p>\n<p>在一个单独的函数作用域中执行代码，避免变量冲突。</p>\n</li>\n</ul>\n</li>\n<li>\n<p>AMD</p>\n<ul>\n<li>\n<p>使用 requireJS 来编写模块化</p>\n</li>\n<li>\n<p>特点：依赖必须提前声明好</p>\n</li>\n<li>\n<p>简单实现</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./index.js\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">code</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">// code 就是index.js 返回的内容</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>CMD</p>\n<ul>\n<li>\n<p>使用 seaJS 来编写模块化</p>\n</li>\n<li>\n<p>特点：支持动态引入依赖文件</p>\n</li>\n<li>\n<p>简单实现</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">require<span class=\"token punctuation\">,</span> exports<span class=\"token punctuation\">,</span> module</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> indexCode <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./index.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>CommonJS</p>\n<ul>\n<li>nodejs 中自带的模块化</li>\n<li>var fs = require(‘fs’);</li>\n</ul>\n</li>\n<li>\n<p>UMD</p>\n<ul>\n<li>兼容 AMD，CommonJS 模块化语法</li>\n</ul>\n</li>\n<li>\n<p>webpack(require.ensure)</p>\n<ul>\n<li>webpack 2.x 版本中的代码分割</li>\n</ul>\n</li>\n<li>\n<p>ES Modules</p>\n<ul>\n<li>ES6 引入的模块化，支持 import 来引入另一个 js</li>\n<li>import a from ‘a’;</li>\n</ul>\n</li>\n</ol>\n<h4 id=\"61-amd-与-cmd-的比较\"><a class=\"markdownIt-Anchor\" href=\"#61-amd-与-cmd-的比较\">#</a> 6.1、AMD 与 CMD 的比较</h4>\n<ul>\n<li>\n<p>定义</p>\n<p>AMD 和 CMD 都是用于浏览器端的模块规范</p>\n</li>\n<li>\n<p>AMD</p>\n<ul>\n<li>AMD 是 RequireJS 在推广过程中对模块定义的规范化产出</li>\n<li>其主要内容就是定义了 define 函数该如何书写，只要你按照这个规范书写模块和依赖，require.js 就能正确的进行解析。</li>\n</ul>\n</li>\n<li>\n<p>CMD</p>\n<ul>\n<li>CMD 其实就是 SeaJS 在推广过程中对模块定义的规范化产出</li>\n<li>主要内容就是描述该如何定义模块，如何引入模块，如何导出模块，只要你按照这个规范书写代码，sea.js 就能正确的进行解析</li>\n</ul>\n</li>\n<li>\n<p>AMD 与 CMD 的区别</p>\n<ol>\n<li>AMD 推崇依赖前置，CMD 推崇依赖就近</li>\n<li>AMD 是提前执行，CMD 是延迟执行。</li>\n</ol>\n</li>\n</ul>\n<h4 id=\"62-commonjs-与-amd-的比较\"><a class=\"markdownIt-Anchor\" href=\"#62-commonjs-与-amd-的比较\">#</a> 6.2、CommonJS 与 AMD 的比较</h4>\n<blockquote>\n<p>在服务器端比如 node，采用的则是 CommonJS 规范。</p>\n<p>AMD 和 CMD 都是用于浏览器端的模块规范</p>\n</blockquote>\n<ol>\n<li>\n<p>CommonJS 规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。</p>\n</li>\n<li>\n<p>AMD 规范则是非同步加载模块，允许指定回调函数。</p>\n<p>由于 Node.js 主要用于服务器编程，模块文件一般都已经存在于本地硬盘，所以加载起来比较快，不用考虑非同步加载的方式，所以 CommonJS 规范比较适用。</p>\n</li>\n<li>\n<p>但是，如果是浏览器环境，要从服务器端加载模块，这时就必须采用非同步模式，因此浏览器端一般采用 AMD 规范。</p>\n</li>\n</ol>\n<h4 id=\"63-es6-与-commonjs-的比较\"><a class=\"markdownIt-Anchor\" href=\"#63-es6-与-commonjs-的比较\">#</a> 6.3、ES6 与 CommonJS 的比较</h4>\n<blockquote>\n<p>注意！浏览器加载 ES6 模块，也使用 &lt;<em>script</em> &gt; 标签，但是要加入 type=“module” 属性。</p>\n</blockquote>\n<ol>\n<li>CommonJS 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用。</li>\n<li>CommonJS 模块是运行时加载，ES6 模块是编译时输出接口</li>\n</ol>\n<h3 id=\"7-异步编程-6-种解决方案\"><a class=\"markdownIt-Anchor\" href=\"#7-异步编程-6-种解决方案\">#</a> 7、异步编程 6 种解决方案</h3>\n<ol>\n<li>\n<p>回调函数（Callback）</p>\n<ul>\n<li>\n<p>回调函数是异步操作最基本的方法</p>\n</li>\n<li>\n<p>ajax(url, () =&gt; {</p>\n<p>​ // 处理逻辑</p>\n<p>})</p>\n</li>\n<li>\n<p>缺点</p>\n<ul>\n<li>容易写出回调地狱（Callback hell）</li>\n<li>不能使用 try catch 捕获错误，不能直接 return</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>事件监听</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">f1<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"done\"</span><span class=\"token punctuation\">,</span> f2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li>\n<p>发布订阅</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">jQuery<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"done\"</span><span class=\"token punctuation\">,</span> f2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li>\n<p>Promise</p>\n<ul>\n<li>\n<p>是什么？</p>\n<ul>\n<li>promise 是目前 JS 异步编程的主流解决方案，遵循 Promises/A+ 方案。Promise 用于异步操作，表示一个还未完成但是预期会完成的操作。</li>\n<li>Promise 是 ES6 引入的一个新的对象，他的主要作用是用来解决 JS 异步机制里，回调机制产生的 “回调地狱”。它并不是什么突破性的 API，只是封装了异步回调形式，使得异步回调可以写的更加优雅，可读性更高，而且可以链式调用。</li>\n</ul>\n</li>\n<li>\n<p>剖析</p>\n<ul>\n<li>\n<p>promise 本身相当于一个状态机，拥有三种状态</p>\n<ul>\n<li>pending</li>\n<li>fulfilled</li>\n<li>rejected</li>\n</ul>\n<p>一个 promise 对象初始化时的状态是 pending，调用了 resolve 后会将 promise 的状态扭转为 fulfilled，调用 reject 后会将 promise 的状态扭转为 rejected，这两种扭转一旦发生便不能再扭转该 promise 到其他状态。</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Promise 如何使用</p>\n<p>构造一个 promise 对象，并将要执行的异步函数传入到 promise 的参数中执行，并且在异步执行结束后调用 resolve ( ) 函数，就可以在 promise 的 then 方法中获取到异步函数的执行结果</p>\n</li>\n<li>\n<p>Promise 原型上的方法</p>\n<ol>\n<li>Promise.prototype.then(onFulfilled, onRejected)</li>\n<li>Promise.prototype.catch(onRejected)</li>\n<li>Promise.prototype.finally(onFinally)</li>\n</ol>\n</li>\n<li>\n<p>Promise 静态方法</p>\n<ol>\n<li>\n<p>Promise.all()</p>\n<p>Promise.all 接收一个 promise 对象数组作为参数，只有全部的 promise 都已经变为 fulfilled 状态后才会继续后面的处理</p>\n</li>\n<li>\n<p>Promise.race()</p>\n<p>这个函数会在 promises 中第一个 promise 的状态扭转后就开始后面的处理（fulfilled、rejected 均可）</p>\n</li>\n<li>\n<p>Promise.resolve()</p>\n</li>\n<li>\n<p>Promise.reject()</p>\n</li>\n</ol>\n</li>\n<li>\n<p>优点</p>\n<p>将异步操作以同步操作的流程表达出来，promise 链式调用，更好地解决了层层嵌套的回调地狱</p>\n</li>\n<li>\n<p>缺点</p>\n<ol>\n<li>不能取消执行。</li>\n<li>无法获取当前执行的进度信息（比如，要在用户界面展示进度条）。</li>\n<li>外部无法捕捉 Promise 内部抛出的错误</li>\n</ol>\n</li>\n</ul>\n</li>\n<li>\n<p>generator 函数</p>\n<ul>\n<li>\n<p>是什么</p>\n<ul>\n<li>Generator 函数是 ES6 提供的一种异步编程解决方案，语法行为与传统函数完全不同。</li>\n<li>如果说 JavaScript 是 ECMAScript 标准的一种具体实现、Iterator 遍历器是 Iterator 的具体实现，那么 Generator 函数可以说是 Iterator 接口的具体实现方式。</li>\n<li>Generator 函数可以通过配合 Thunk 函数更轻松更优雅的实现异步编程和控制流管理</li>\n</ul>\n</li>\n<li>\n<p>描述</p>\n<ul>\n<li>执行 Generator 函数会返回一个遍历器对象，每一次 Generator 函数里面的 yield 都相当一次遍历器对象的 next () 方法，并且可以通过 next (value) 方法传入自定义的 value, 来改变 Generator 函数的行为。</li>\n</ul>\n</li>\n<li>\n<p>能封装异步任务的根本原因</p>\n<ul>\n<li>最大特点就是可以交出函数的执行权（即暂停执行）。Generator 函数可以暂停执行和恢复执行</li>\n</ul>\n</li>\n<li>\n<p>两个特征</p>\n<ul>\n<li>function 关键字与函数名之间有一个星号</li>\n<li>函数体内部使用 yield 表达式，定义不同的内部状态（yield 在英语里的意思就是 “产出”）。</li>\n</ul>\n</li>\n<li>\n<p>过程</p>\n<p>Generator 函数的调用方法与普通函数一样，也是在函数名后面加上一对圆括号。不同的是，调用 Generator 函数后，该函数并不执行，返回的也不是函数运行结果，而是一个指向内部状态的指针对象，也就是上一章介绍的遍历器对象（Iterator Object）</p>\n</li>\n<li>\n<p>Generator 及其异步方面的应用</p>\n<ul>\n<li>Generator 函数将 JavaScript 异步编程带入了一个全新的阶段</li>\n</ul>\n</li>\n<li>\n<p>总结</p>\n<p>调用 Generator 函数，返回一个遍历器对象，代表 Generator 函数的内部指针。以后，每次调用遍历器对象的 next 方法，就会返回一个有着 value 和 done 两个属性的对象。value 属性表示当前的内部状态的值，是 yield 表达式后面那个表达式的值；done 属性是一个布尔值，表示是否遍历结束。</p>\n</li>\n<li>\n<p>demo</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> fetch <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"node-fetch\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">gen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> url <span class=\"token operator\">=</span> <span class=\"token string\">\"https://api.github.com/users/github\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">yield</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>bio<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>async 和 await</p>\n<ul>\n<li>\n<p>含义</p>\n<p>ES2017 标准引入了 async 函数，使得异步操作变得更加方便。</p>\n</li>\n<li>\n<p>是什么？</p>\n<ul>\n<li>一句话，它就是 Generator 函数的语法糖。</li>\n<li>一比较就会发现，async 函数就是将 Generator 函数的星号（*）替换成 async，将 yield 替换成 await，仅此而已。</li>\n<li>async 函数可以理解为内置自动执行器的 Generator 函数语法糖，它配合 ES6 的 Promise 近乎完美的实现了异步编程解决方案。</li>\n</ul>\n</li>\n<li>\n<p>相对于 Promise，优势体现在</p>\n<ol>\n<li>处理 then 的调用链，能够更清晰准确的写出代码</li>\n<li>并且也能优雅地解决回调地狱问题</li>\n</ol>\n</li>\n<li>\n<p>相对 Generator 函数，体现在以下 4 点</p>\n<ol>\n<li>内置执行器。 Generator 函数的执行必须靠执行器，所以才有了 co 函数库，而 async 函数自带执行器。也就是说，async 函数的执行，与普通函数一模一样，只要一行</li>\n<li>更好的语义。 async 和 await，比起星号和 yield，语义更清楚了。async 表示函数里有异步操作，await 表示紧跟在后面的表达式需要等待结果</li>\n<li>更广的适用性。 co 函数库约定，yield 命令后面只能是 Thunk 函数或 Promise 对象，而 async 函数的 await 命令后面，可以跟 Promise 对象和原始类型的值（数值、字符串和布尔值，但这时等同于同步操作）</li>\n<li>返回值是 Promise。async 函数的返回值是 Promise 对象，这比 Generator 函数的返回值是 Iterator 对象方便多了。你可以用 then 方法指定下一步的操作。</li>\n</ol>\n</li>\n<li>\n<p>缺点</p>\n<p>当然 async/await 函数也存在一些缺点，因为 await 将异步代码改造成了同步代码，如果多个异步代码没有依赖性却使用了 await 会导致性能上的降低，代码没有依赖性的话，完全可以使用 Promise.all 的方式。</p>\n</li>\n</ul>\n</li>\n</ol>\n<h4 id=\"总结\"><a class=\"markdownIt-Anchor\" href=\"#总结\">#</a> 总结</h4>\n<ol>\n<li>JS 异步编程进化史：callback -&gt; promise -&gt; generator -&gt; async + await</li>\n<li>async/await 函数的实现，就是将 Generator 函数和自动执行器，包装在一个函数里</li>\n<li>async/await 可以说是异步终极解决方案了</li>\n</ol>\n<h3 id=\"8-class\"><a class=\"markdownIt-Anchor\" href=\"#8-class\">#</a> 8、Class</h3>\n<blockquote>\n<p>ES6 的 class 可以看作只是一个 ES5 生成实例对象的构造函数的语法糖。它参考了 java 语言，定义了一个类的概念，让对象原型写法更加清晰，对象实例化更像是一种面向对象编程。Class 类可以通过 extends 实现继承。</p>\n</blockquote>\n<ul>\n<li>\n<p>语法</p>\n<ul>\n<li>super 关键字的使用</li>\n<li>static 关键字</li>\n</ul>\n</li>\n<li>\n<p>ES5/ES6 的继承除了写法以外还有什么区别？</p>\n<ol>\n<li>class 声明会提升，但不会初始化赋值。Foo 进入暂时性死区，类似于 let、const 声明变量。</li>\n<li>class 声明内部会启用严格模式</li>\n<li>class 的所有方法（包括静态方法和实例方法）都是不可枚举的</li>\n<li>class 的所有方法（包括静态方法和实例方法）都没有原型对象 prototype，所以也没有 [[construct]]，不能使用 new 来调用</li>\n<li>必须使用 new 调用 class</li>\n<li>class 内部无法重写类名</li>\n</ol>\n<p>ES5 的继承，实质是先创造子类的实例对象 this，然后再将父类的方法添加到 this 上面。ES6 的继承机制完全不同，实质是先将父类实例对象的属性和方法，加到 this 上面（所以必须先调用 super 方法），然后再用子类的构造函数修改 this</p>\n</li>\n<li>\n<p>优点</p>\n<p>但是某些时候，我们使用 es6 的类可以让我们的代码的可读性更高</p>\n</li>\n</ul>\n<h3 id=\"9-set-和-map\"><a class=\"markdownIt-Anchor\" href=\"#9-set-和-map\">#</a> 9、Set 和 Map</h3>\n<ul>\n<li>Set\n<ul>\n<li>是什么\n<ul>\n<li>Set 是一种叫做集合的数据结构</li>\n<li>Set 是 ES6 引入的一种类似 Array 的新的数据结构，Set 实例的成员类似于数组 item 成员，区别是 Set 实例的成员都是唯一，不重复的。这个特性可以轻松地实现数组去重。</li>\n</ul>\n</li>\n<li>应用场景\n<ul>\n<li>数组去重</li>\n</ul>\n</li>\n<li>特点\n<ol>\n<li>成员唯一、无序且不重复</li>\n<li>[value, value]，键值与键名是一致的（或者说只有键值，没有键名）</li>\n<li>可以遍历，方法有：add、delete、has</li>\n</ol>\n</li>\n</ul>\n</li>\n<li>WeakSet\n<ul>\n<li>特点\n<ol>\n<li>成员都是对象</li>\n<li>成员都是弱引用，可以被垃圾回收机制回收，可以用来保存 DOM 节点，不容易造成内存泄漏</li>\n<li>不能遍历，方法有 add、delete、has</li>\n</ol>\n</li>\n</ul>\n</li>\n<li>Map\n<ul>\n<li>是什么\n<ul>\n<li>Map 是一种叫做字典的数据结构</li>\n<li>Map 是 ES6 引入的一种类似 Object 的新的数据结构，Map 可以理解为是 Object 的超集，打破了以传统键值对形式定义对象，对象的 key 不再局限于字符串，也可以是 Object。可以更加全面的描述对象的属性。</li>\n</ul>\n</li>\n<li>应用场景\n<ul>\n<li>数据存储</li>\n</ul>\n</li>\n<li>特点\n<ul>\n<li>本质上是键值对的集合，类似集合</li>\n<li>可以遍历，方法很多可以跟各种数据格式转换</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>WeakMap\n<ul>\n<li>特点\n<ul>\n<li>只接受对象作为键名（null 除外），不接受其他类型的值作为键名</li>\n<li>键名是弱引用，键值可以是任意的，键名所指向的对象可以被垃圾回收，此时键名是无效的</li>\n<li>不能遍历，方法有 get、set、has、delete</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Set 和 Map\n<ul>\n<li>Set 和 Map 主要的应用场景在于数组去重和数据存储</li>\n<li>原来 Set 是一种叫做集合的数据结构，Map 是一种叫做字典的数据结构</li>\n</ul>\n</li>\n<li>Set 与 WeakSet 区别\n<ol>\n<li>WeakSet 只能存放对象</li>\n<li>WeakSet 不支持遍历，没有 size 属性</li>\n<li>WeakSet 存放的对象不会计入到对象的引用技术，因此不会影响 GC 的回收</li>\n<li>WeakSet 存在的对象如果在外界消失了，那么在 WeakSet 里面也会不存在</li>\n</ol>\n</li>\n<li>Map 与 WeakMap 区别\n<ol>\n<li>WeakMap 只能接受对象作为键名字 (null 除外)</li>\n<li>WeakMap 键名指向对象不会计入对象的引用数</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"10-es6-对-string-字符串类型做的常用升级优化\"><a class=\"markdownIt-Anchor\" href=\"#10-es6-对-string-字符串类型做的常用升级优化\">#</a> 10、ES6 对 String 字符串类型做的常用升级优化</h3>\n<ul>\n<li>优化部分\n<ul>\n<li>ES6 新增了字符串模板，在拼接大段字符串时，用反斜杠 (`) 取代以往的字符串相加的形式，能保留所有空格和换行，使得字符串拼接看起来更加直观，更加优雅。</li>\n</ul>\n</li>\n<li>升级部分\n<ul>\n<li>ES6 在 String 原型上新增了 includes () 方法，用于取代传统的只能用 indexOf 查找包含字符的方法 (indexOf 返回 - 1 表示没查到不如 includes 方法返回 false 更明确，语义更清晰), 此外还新增了 startsWith (), endsWith (), padStart (),padEnd (),repeat () 等方法，可方便的用于查找，补全字符串。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"11-es6-对-number-数字类型做的常用升级优化\"><a class=\"markdownIt-Anchor\" href=\"#11-es6-对-number-数字类型做的常用升级优化\">#</a> 11、ES6 对 Number 数字类型做的常用升级优化？</h3>\n<ul>\n<li>优化部分\n<ul>\n<li>ES6 在 Number 原型上新增了 isFinite (), isNaN () 方法，用来取代传统的全局 isFinite (), isNaN () 方法检测数值是否有限、是否是 NaN。ES5 的 isFinite (), isNaN () 方法都会先将非数值类型的参数转化为 Number 类型再做判断，这其实是不合理的，最造成 isNaN (‘NaN’) === true 的奇怪行为–'NaN’是一个字符串，但是 isNaN 却说这就是 NaN。而 Number.isFinite () 和 Number.isNaN () 则不会有此类问题 (Number.isNaN (‘NaN’) === false)。</li>\n</ul>\n</li>\n<li>升级部分\n<ul>\n<li>ES6 在 Math 对象上新增了 Math.cbrt ()，trunc ()，hypot () 等等较多的科学计数法运算方法，可以更加全面的进行立方根、求和立方根等等科学计算。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"12-es6-对-array-数组类型做的常用升级优化\"><a class=\"markdownIt-Anchor\" href=\"#12-es6-对-array-数组类型做的常用升级优化\">#</a> 12、ES6 对 Array 数组类型做的常用升级优化</h3>\n<ul>\n<li>优化部分\n<ul>\n<li>数组解构赋值。ES6 可以直接以 let [a,b,c] = [1,2,3] 形式进行变量赋值，在声明较多变量时，不用再写很多 let (var), 且映射关系清晰，且支持赋默认值</li>\n<li>扩展运算符。ES6 新增的扩展运算符 (…)(重要), 可以轻松的实现数组和松散序列的相互转化，可以取代 arguments 对象和 apply 方法，轻松获取未知参数个数情况下的参数集合。（尤其是在 ES5 中，arguments 并不是一个真正的数组，而是一个类数组的对象，但是扩展运算符的逆运算却可以返回一个真正的数组）。扩展运算符还可以轻松方便的实现数组的复制和解构赋值（let a = [2,3,4]; let b = […a]）</li>\n</ul>\n</li>\n<li>升级部分\n<ul>\n<li>ES6 在 Array 原型上新增了 find () 方法，用于取代传统的只能用 indexOf 查找包含数组项目的方法，且修复了 indexOf 查找不到 NaN 的 bug ([NaN].indexOf (NaN) === -1). 此外还新增了 copyWithin (), includes (), fill (),flat () 等方法，可方便的用于字符串的查找，补全，转换等</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"13-es6-对-object-类型做的常用升级优化\"><a class=\"markdownIt-Anchor\" href=\"#13-es6-对-object-类型做的常用升级优化\">#</a> 13、ES6 对 Object 类型做的常用升级优化</h3>\n<ul>\n<li>\n<p>优化部分</p>\n<ol>\n<li>对象属性变量式声明。ES6 可以直接以变量形式声明对象属性或者方法，。比传统的键值对形式声明更加简洁，更加方便，语义更加清晰。</li>\n<li>对象的解构赋值</li>\n<li>对象的扩展运算符 (…)</li>\n<li>super 关键字。ES6 在 Class 类里新增了类似 this 的关键字 super。同 this 总是指向当前函数所在的对象不同，super 关键字总是指向当前函数所在对象的原型对象。</li>\n</ol>\n</li>\n<li>\n<p>升级部分</p>\n<ol>\n<li>\n<p>ES6 在 Object 原型上新增了 is () 方法，做两个目标对象的相等比较，用来完善’=<mark>‘方法。’</mark>=' 方法中 NaN === NaN //false 其实是不合理的，<a href=\"http://Object.is\">Object.is</a> 修复了这个小 bug。(<a href=\"http://Object.is\">Object.is</a>(NaN, NaN) // true)</p>\n</li>\n<li>\n<p>ES6 在 Object 原型上新增了 assign () 方法，用于对象新增属性或者多个对象合并。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> target <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> a<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> source1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> b<span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> source2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> c<span class=\"token operator\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> source1<span class=\"token punctuation\">,</span> source2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ntarget<span class=\"token punctuation\">;</span> <span class=\"token comment\">// &#123;a:1, b:2, c:3&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>ES6 在 Object 原型上新增了 getOwnPropertyDescriptors () 方法，此方法增强了 ES5 中 getOwnPropertyDescriptor () 方法，可以获取指定对象所有自身属性的描述对象。结合 defineProperties () 方法，可以完美复制对象，包括复制 get 和 set 属性。</p>\n</li>\n<li>\n<p>ES6 在 Object 原型上新增了 getPrototypeOf () 和 setPrototypeOf () 方法，用来获取或设置当前对象的 prototype 对象。获取或设置当前对象的 prototype 对象时，都应该采用 ES6 新增的标准用法。</p>\n</li>\n<li>\n<p>ES6 在 Object 原型上还新增了 Object.keys ()，Object.values ()，Object.entries () 方法，用来获取对象的所有键、所有值和所有键值对数组。</p>\n</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"14-es6-对-function-函数类型做的常用升级优化\"><a class=\"markdownIt-Anchor\" href=\"#14-es6-对-function-函数类型做的常用升级优化\">#</a> 14、ES6 对 Function 函数类型做的常用升级优化</h3>\n<ul>\n<li>\n<p>优化部分</p>\n<ul>\n<li>箭头函数 (核心)。箭头函数里没有自己的 this, 这改变了以往 JS 函数中最让人难以理解的 this 运行机制\n<ol>\n<li>箭头函数内的 this 指向的是函数定义时所在的对象，而不是函数执行时所在的对象。</li>\n<li>箭头函数不能用作构造函数，因为它没有自己的 this，无法实例化。</li>\n<li>也是因为箭头函数没有自己的 this, 所以箭头函数 内也不存在 arguments 对象。（可以用扩展运算符代替）</li>\n</ol>\n</li>\n</ul>\n</li>\n<li>\n<p>升级部分</p>\n<ul>\n<li>\n<p>ES6 新增了双冒号运算符，用来取代以往的 bind，call, 和 apply (浏览器暂不支持，Babel 已经支持转码)</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">foo<span class=\"token operator\">:</span><span class=\"token operator\">:</span>bar<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 等同于</span>\n<span class=\"token function\">bar</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nfoo<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 等同于</span>\n<span class=\"token function\">bar</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">,</span> arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"15-proxy\"><a class=\"markdownIt-Anchor\" href=\"#15-proxy\">#</a> 15、Proxy</h3>\n<p>Proxy 是 ES6 新增的一个构造函数，这个词的原意是代理，用在这里表示由它来 “代理” 某些操作，可以译为 “代理器”。Proxy 可以理解成，在目标对象之前架设一层 “拦截”，外界对该对象的访问，都必须先通过这层拦截，因此提供了一种机制，可以对外界的访问进行过滤和改写。</p>\n<h3 id=\"16-reflect\"><a class=\"markdownIt-Anchor\" href=\"#16-reflect\">#</a> 16、Reflect</h3>\n<ul>\n<li>是什么\n<ul>\n<li>Reflect 对象与 Proxy 对象一样，也是 ES6 为了操作对象而提供的新 API</li>\n</ul>\n</li>\n<li>作用\n<ol>\n<li>一是将原生的一些零散分布在 Object、Function 或者全局函数里的方法 (如 apply、delete、get、set 等等)，统一整合到 Reflect 上，这样可以更加方便更加统一的管理一些原生 API。</li>\n<li>其次就是因为 Proxy 可以改写默认的原生 API，如果一旦原生 API 别改写可能就找不到了，所以 Reflect 也可以起到备份原生 API 的作用，使得即使原生 API 被改写了之后，也可以在被改写之后的 API 用上默认的 API。</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"17-iterator\"><a class=\"markdownIt-Anchor\" href=\"#17-iterator\">#</a> 17、Iterator</h3>\n<ul>\n<li>是什么\n<ul>\n<li>一种设计标准，来统一所有可遍历类型的遍历方式。Iterator 正是这样一种标准。或者说是一种规范理念</li>\n</ul>\n</li>\n<li>解决的问题\n<ul>\n<li>Set、Map 都不能用 for 循环遍历，解决这个问题有两种方案，一种是为 Set、Map 单独新增一个用来遍历的 API，另一种是为 Set、Map、Array、Object 新增一个统一的遍历 API，显然，第二种更好，ES6 也就顺其自然的需要一种设计标准，来统一所有可遍历类型的遍历方式。</li>\n</ul>\n</li>\n<li>Iterator 标准的具体实现\n<ul>\n<li>Iterator 标准的具体实现是 Iterator 遍历器。Iterator 标准规定，所有部署了 key 值为 [Symbol.iterator]，且 [Symbol.iterator] 的 value 是标准的 Iterator 接口函数 (标准的 Iterator 接口函数：该函数必须返回一个对象，且对象中包含 next 方法，且执行 next () 能返回包含 value/done 属性的 Iterator 对象) 的对象，都称之为可遍历对象，next () 后返回的 Iterator 对象也就是 Iterator 遍历器。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"18-forin-和-forof-有什么区别\"><a class=\"markdownIt-Anchor\" href=\"#18-forin-和-forof-有什么区别\">#</a> 18、for…in 和 for…of 有什么区别</h3>\n<ul>\n<li>\n<p>ES6 规定，有所部署了载了 Iterator 接口的对象 (可遍历对象) 都可以通过 for…of 去遍历，而 for…in 仅仅可以遍历对象。</p>\n</li>\n<li>\n<p>使用 for…of 的好处</p>\n<ul>\n<li>\n<p>这也就意味着，数组也可以用 for…of 遍历，这极大地方便了数组的取值，且避免了很多程序用 for…in 去遍历数组的恶习。</p>\n<p>上面提到的扩展运算符本质上也就是 for…of 循环的一种实现。</p>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"19-module-export-import\"><a class=\"markdownIt-Anchor\" href=\"#19-module-export-import\">#</a> 19、module、export、import</h3>\n<ul>\n<li>module、export、import 是 ES6 用来统一前端模块化方案的设计思路和实现方案</li>\n<li>作用\n<ul>\n<li>export、import 的出现统一了前端模块化的实现方案，整合规范了浏览器 / 服务端的模块化方法，用来取代传统的 AMD/CMD、requireJS、seaJS、commondJS 等等一系列前端模块不同的实现方案，使前端模块化更加统一规范，JS 也能更加能实现大型的应用程序开发。</li>\n</ul>\n</li>\n<li>注意\n<ul>\n<li>import 引入的模块是静态加载（编译阶段加载）而不是动态加载（运行时加载）</li>\n<li>import 引入 export 导出的接口值是动态绑定关系，即通过该接口，可以取到模块内部实时的值</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"20-iterator-和-forofiterator-遍历器的实现\"><a class=\"markdownIt-Anchor\" href=\"#20-iterator-和-forofiterator-遍历器的实现\">#</a> 20、 Iterator 和 for…of（Iterator 遍历器的实现）</h3>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">//自定义迭代器</span>\n<span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token function\">makeiterator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">makeiterator</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> nextindex <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function-variable function\">next</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">return</span> nextindex <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length\n        <span class=\"token operator\">?</span> <span class=\"token punctuation\">&#123;</span> value<span class=\"token operator\">:</span> arr<span class=\"token punctuation\">[</span>nextindex<span class=\"token operator\">++</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> done<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> value<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> done<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// Symbol.iterator遍历器接口</span>\n<span class=\"token keyword\">let</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"b\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"c\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> iter <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\niter<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &#123; value: 'a', done: false &#125;</span>\niter<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &#123; value: 'b', done: false &#125;</span>\niter<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &#123; value: 'c', done: false &#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"21-循环语法比较及使用场景for-foreach-forin-forof\"><a class=\"markdownIt-Anchor\" href=\"#21-循环语法比较及使用场景for-foreach-forin-forof\">#</a> 21、循环语法比较及使用场景（for、forEach、for…in、for…of）</h3>\n<p>for 循环的速度是最快的，是最老的循环，也是优化得最好的，其次是 for-of 这个是 es6 才新增的循环非常好用，最慢是 for-in 我们可以作一下速度排序</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">for</span> <span class=\"token operator\">></span> <span class=\"token keyword\">for</span><span class=\"token operator\">-</span><span class=\"token keyword\">of</span> <span class=\"token operator\">></span> forEach <span class=\"token operator\">></span> filter <span class=\"token operator\">></span> map <span class=\"token operator\">></span> <span class=\"token keyword\">for</span><span class=\"token operator\">-</span><span class=\"token keyword\">in</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n",
            "tags": [
                "ES6",
                "面试全面总结"
            ]
        },
        {
            "id": "http://example.com/2020/03/23/getOfferVariabletypesandcalculations/",
            "url": "http://example.com/2020/03/23/getOfferVariabletypesandcalculations/",
            "title": "变量类型和计算",
            "date_published": "2020-03-23T09:35:29.000Z",
            "content_html": "<h2 id=\"javascript-变量类型和计算\"><a class=\"markdownIt-Anchor\" href=\"#javascript-变量类型和计算\">#</a> JavaScript 变量类型和计算</h2>\n<blockquote>\n<p>拿到 字节跳动实习生 offer 总结</p>\n<p>回馈分享一波自己的知识点总结</p>\n</blockquote>\n<blockquote>\n<p>希望读者依此构建自己的知识树（思维导图）</p>\n<p>偷懒一下：可参考我自己总结思维导图 : <a href=\"https://github.com/ZhChen7/Interview-mind-map\">点这里</a></p>\n<p>附带：高频面试题积累文档。 来自于（学长、牛客网等平台）</p>\n<p>自己开发的博客地址：<a href=\"http://zxinc520.com/\">zxinc520.com</a></p>\n<p>github 地址: <a href=\"https://github.com/ZhChen7\">点击</a></p>\n</blockquote>\n<blockquote>\n<p>此篇 js - 【变量类型和计算】 知识点： 全部弄懂了，面试很容易。</p>\n</blockquote>\n<h2 id=\"一-变量类型\"><a class=\"markdownIt-Anchor\" href=\"#一-变量类型\">#</a> 一、变量类型</h2>\n<h3 id=\"11-类型\"><a class=\"markdownIt-Anchor\" href=\"#11-类型\">#</a> 1.1、类型</h3>\n<ul>\n<li>值类型（基本数据类型）\n<ul>\n<li>string,number,boolean,undefined,null,symbol 6 种</li>\n</ul>\n</li>\n<li>引用类型\n<ul>\n<li>Object、Array、Funtion。细分的话：有 Object、Array、Funtion、Date、RegExp 等</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"12-值类型基本数据类型和引用类型区别\"><a class=\"markdownIt-Anchor\" href=\"#12-值类型基本数据类型和引用类型区别\">#</a> 1.2、值类型（基本数据类型）和引用类型区别</h3>\n<ol>\n<li>内存的分配不同\n<ul>\n<li>基本数据类型存储在栈中。</li>\n<li>复杂数据类型存储在堆中，栈中存储的变量，是指向堆中的引用地址</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p>栈（操作系统）：由操作系统自动分配释放 ，存放函数的参数值和局部变量的值等。堆（操作系统）： 一般由程序员分配释放， 若程序员不释放，程序结束时可能由 OS 回收，分配方式倒是类似于链表。其实在堆中一般存放变量是一些对象类型</p>\n</blockquote>\n<ol start=\"2\">\n<li>访问机制不同：值类型按值访问，引用类型按引用访问</li>\n<li>复变量时不同 (a=b)\n<ul>\n<li>基本数据类型：a=b; 是将 b 中保存的原始值的副本赋值给新变量 a，a 和 b 完全独立，互不影响</li>\n<li>复杂数据类型：a=b; 将 b 保存的对象内存的引用地址赋值给了新变量 a;a 和 b 指向了同一个堆内存地址，其中一个值发生了改变，另一个也会改变。</li>\n</ul>\n</li>\n<li>参数传递的不同 (实参 / 形参)\n<ul>\n<li>函数传参都是按值传递 (栈中的存储的内容)：基本数据类型，拷贝的是值；复杂数据类型，拷贝的是引用地址</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"13-javascript-判断数据类型\"><a class=\"markdownIt-Anchor\" href=\"#13-javascript-判断数据类型\">#</a> 1.3、JavaScript 判断数据类型</h3>\n<ol>\n<li>\n<p>typeof</p>\n<ul>\n<li>typeof 运算符 只能 区分 值类型 的 类型，对于引用类型的 对象、数组 区分不出来</li>\n<li>注意：typeof null===“object” typeof new Function (); //function 有效</li>\n</ul>\n</li>\n<li>\n<p>instanceof</p>\n<ul>\n<li>instanceof 运算符返回一个布尔值，表示对象是否为某个构造函数的实例</li>\n<li>缺点：instanceof 运算符只能用于对象（纯对象和数组），不适用原始类型（Undefined、Null、Boolean、Number 和 String）的值。</li>\n</ul>\n</li>\n<li>\n<p>Object.prototype.toString.call()</p>\n<ul>\n<li>可以通过 Object.prototype.toString 方法准确判断某个对象值属于哪种内置类型。</li>\n</ul>\n</li>\n<li>\n<p>constructor</p>\n<ul>\n<li>\n<p>constructor 属性的作用是，可以得知某个实例对象，到底是哪一个构造函数产生的。</p>\n</li>\n<li>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">var</span> f <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">F</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>f<span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">===</span> <span class=\"token constant\">F</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>code￼<span class=\"token number\">0</span><span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr></table></figure></li>\n<li>\n<p>奇特的～运算符</p>\n<ul>\n<li>~x 大致等同于 -(x+1)</li>\n<li>~ 和 indexOf () 一起可以将结果强制类型转换为真 / 假值，如果 indexOf () 返回 - 1，~ 将其转换为假值 0，其他情况一律转换为真值。</li>\n</ul>\n</li>\n<li>\n<p>~~ 字位截除</p>\n</li>\n<li>\n<p>显式解析数字字符串</p>\n<ul>\n<li>Number()</li>\n<li>parseInt()</li>\n<li>parseFloat()</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>显式转换为布尔值</p>\n<ul>\n<li>Boolean()</li>\n<li>(<span class=\"spoiler\" title=\"...\">) 显式强制类型转换为布尔值最常用地方法是</span></li>\n</ul>\n</li>\n<li>\n<p>抽象值操作</p>\n<ul>\n<li>ToString</li>\n<li>ToNumber</li>\n<li>ToBoolean</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"22-隐式强制类型转换\"><a class=\"markdownIt-Anchor\" href=\"#22-隐式强制类型转换\">#</a> 2.2、隐式强制类型转换</h3>\n<ol>\n<li>\n<p>转成字符串的</p>\n<ul>\n<li>\n<p>字符串拼接</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> b <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\na <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span> <span class=\"token comment\">//\"1,23,4\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>因为数组的 valueOf () 操作无法得到简单基本类型值，于是调用 toString ()，因此两个数组变成了 &quot;1,2&quot; 和 &quot;3,4&quot;，+ 将它们拼接后返回。</p>\n</li>\n</ul>\n</li>\n<li>\n<p>隐式强制类型转换为布尔值</p>\n<ul>\n<li>if () 语句中的条件判断表达式</li>\n<li>for (…; …; …) 语句中的条件判断表达式</li>\n<li>while () 和 do … while ()</li>\n<li>? : 中的条件判断表达式</li>\n<li>逻辑运算符 || 和 &amp;&amp; 左边的操作数</li>\n</ul>\n</li>\n<li>\n<p>布尔值到数字</p>\n</li>\n<li>\n<p>|| 和 &amp;&amp;(选择器运算符)</p>\n<ul>\n<li>ES5 规范中说到：&amp;&amp; 和 || 运算符的返回值并不一定是布尔类型，而是两个操作数其中一个的值。\n<ul>\n<li>对于 || 来说，如果条件判断结果为 true 就返回第一个操作数的值，如果为 false 就返回第二个操作数的值。</li>\n<li>对于 &amp;&amp; 来说，如果条件判断结果为 true 就返回第二个操作数的值，如果为 false 就返回第一个操作数的值。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"23-和-宽松相等和严格相等\"><a class=\"markdownIt-Anchor\" href=\"#23-和-宽松相等和严格相等\">#</a> 2.3、== 和 ===(宽松相等和严格相等)</h3>\n<blockquote>\n<p>区别：<mark>允许在相等比较中进行强制类型转换，而</mark> = 不允许。</p>\n</blockquote>\n<h4 id=\"231-经典问题-ifa-1-a-2-a-3\"><a class=\"markdownIt-Anchor\" href=\"#231-经典问题-ifa-1-a-2-a-3\">#</a> 2.3.1、经典问题【 if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) 】</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>a <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">//... 使之成立</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"思考方向-利用隐式转换规则\"><a class=\"markdownIt-Anchor\" href=\"#思考方向-利用隐式转换规则\">#</a> 思考方向 — 【<strong>利用隐式转换规则</strong>】</h4>\n<p><code>==</code>  操作符在左右数据类型不一致时，会先进行隐式转换。</p>\n<p><code>a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3</code>  的值意味着其不可能是基本数据类型。因为如果 a 是 null 或者是 undefined bool 类型，都不可能返回 true。</p>\n<p>因此可以推测 a 是复杂数据类型，JS 中复杂数据类型只有  <code>object</code> ，回忆一下，Object 转换为原始类型会调用什么方法？</p>\n<ul>\n<li>如果部署了  <code>[Symbol.toPrimitive]</code>  接口，那么调用此接口，若返回的不是基本数据类型，抛出错误。</li>\n<li>如果没有部署 [Symbol.toPrimitive] 接口，那么根据要转换的类型，先调用 valueOf/toString\n<ol>\n<li>非 Date 类型对象， <code>hint</code>  是  <code>default</code>  时，调用顺序为： <code>valueOf</code>  &gt;&gt;&gt;  <code>toString</code> ，即 <code>valueOf</code>  返回的不是基本数据类型，才会继续调用  <code>toString</code> ，如果 <code>toString</code>  返回的还不是基本数据类型，那么抛出错误。</li>\n<li>如果  <code>hint</code>  是  <code>string</code>  (Date 对象的 hint 默认是 string) ，调用顺序为： <code>toString</code>  &gt;&gt;&gt;  <code>valueOf</code> ，即 <code>toString</code>  返回的不是基本数据类型，才会继续调用  <code>valueOf</code> ，如果 <code>valueOf</code>  返回的还不是基本数据类型，那么抛出错误。</li>\n<li>如果  <code>hint</code>  是  <code>number</code> ，调用顺序为：  <code>valueOf</code>  &gt;&gt;&gt;  <code>toString</code></li>\n</ol>\n</li>\n</ul>\n<h3 id=\"7-种解决方案\"><a class=\"markdownIt-Anchor\" href=\"#7-种解决方案\">#</a> 7 种解决方案</h3>\n<ol>\n<li>\n<p>利用 [Symbol.toPrimitive] 接口</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>toPrimitive<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">hint</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">return</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>调用 valueOf 接口</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  valueOf<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">return</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>利用 正则</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  reg<span class=\"token operator\">:</span> <span class=\"token regex\">/\\d/g</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>reg<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>利用数据劫持</p>\n<ul>\n<li>\n<p>使用 Object.defineProperty 定义的属性，在获取属性时，会调用 get 方法。利用这个特性，我们在 window 对象上定义 a 属性</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">,</span> <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>利用 ES6 Proxy</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#123;</span>\n    i<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>重写数组的 join</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\na<span class=\"token punctuation\">.</span>join <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>shift<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token operator\">&amp;&amp;</span> a <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>利用 with 关键字</p>\n</li>\n</ol>\n<blockquote>\n<p>注意：0 == ‘\\n’ //true</p>\n</blockquote>\n<h2 id=\"三-相关典型问题\"><a class=\"markdownIt-Anchor\" href=\"#三-相关典型问题\">#</a> 三、相关典型问题</h2>\n<ul>\n<li>JS 中使用 typeof 能得到的哪些类型</li>\n<li>何时使用 === 何时使用 ==\n<ul>\n<li>除了判断 <strong>对象属性是否为空</strong> 和 <strong>看是否函数的参数为空</strong> 的情况 ，其余的都用 === 。</li>\n</ul>\n</li>\n<li>JS 中有哪些 内置函数</li>\n<li>JS 变量按照 存储方式 分为哪些类型，并描述其特点</li>\n<li>如何理解 JSON</li>\n</ul>\n",
            "tags": [
                "面试全面总结"
            ]
        },
        {
            "id": "http://example.com/2020/03/23/getOfferthis/",
            "url": "http://example.com/2020/03/23/getOfferthis/",
            "title": "this 指向问题",
            "date_published": "2020-03-23T09:35:29.000Z",
            "content_html": "<h2 id=\"专题总结this-指向问题\"><a class=\"markdownIt-Anchor\" href=\"#专题总结this-指向问题\">#</a> 专题总结：this 指向问题</h2>\n<blockquote>\n<p>拿到 字节跳动实习生 offer 总结</p>\n<p>回馈分享一波自己的知识点总结</p>\n</blockquote>\n<blockquote>\n<p>希望读者依此构建自己的知识树（思维导图）</p>\n<p>偷懒一下：可参考我自己总结思维导图 : <a href=\"https://github.com/ZhChen7/Interview-mind-map\">点这里</a></p>\n<p>附带：高频面试题积累文档。 来自于（学长、牛客网等平台）</p>\n<p>自己开发的博客地址：<a href=\"http://zxinc520.com/\">zxinc520.com</a></p>\n<p>github 地址: <a href=\"https://github.com/ZhChen7\">点击</a></p>\n</blockquote>\n<blockquote>\n<p>此篇 js - 【this 指向问题】 知识点： 全部弄懂了，面试很容易。</p>\n</blockquote>\n<h2 id=\"一-this-的四条绑定规则\"><a class=\"markdownIt-Anchor\" href=\"#一-this-的四条绑定规则\">#</a> 一、this 的四条绑定规则</h2>\n<ol>\n<li>\n<p>默认绑定</p>\n<ul>\n<li>独立函数调用时，this 指向全局对象（window），如果使用严格模式，那么全局对象无法使用默认绑定， this 绑定至 undefined。</li>\n</ul>\n</li>\n<li>\n<p>隐式绑定</p>\n<ul>\n<li>\n<p>函数 this 是指向调用者 （隐式指向）</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  a<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n  foo<span class=\"token operator\">:</span> foo<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>obj1.obj2.foo (); //foo 中的 this 与 obj2 绑定</li>\n</ul>\n</li>\n<li>\n<p>问题：隐式丢失</p>\n<ul>\n<li>描述：隐式丢失指的是函数中的 this 丢失绑定对象，即它会应用第 1 条的默认绑定规则，从而将 this 绑定到全局对象或者 undefined 上，取决于是否在严格模式下运行。</li>\n<li>以下情况会发生隐式丢失\n<ol>\n<li>绑定至上下文对象的函数被赋值给一个新的函数，然后调用这个新的函数时</li>\n<li>传入回调函数时</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>显式绑定</p>\n<ul>\n<li>显式绑定的核心是 JavaScript 内置的 call (…) 和 apply (…) 方法，call 和 apply bind 的 this 第一个参数 （显示指向）</li>\n</ul>\n</li>\n<li>\n<p>new 绑定</p>\n<ul>\n<li>构造函数的 this 是 new 之后的新对象 （构造器）</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"二-call-bind-apply\"><a class=\"markdownIt-Anchor\" href=\"#二-call-bind-apply\">#</a> 二、call bind apply</h2>\n<blockquote>\n<p>改变函数执行时的上下文（改变函数运行时的 this 指向）</p>\n</blockquote>\n<h3 id=\"21-apply\"><a class=\"markdownIt-Anchor\" href=\"#21-apply\">#</a> 2.1、apply</h3>\n<ul>\n<li>\n<p>第二个参数为数组</p>\n</li>\n<li>\n<p>自定义实现</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// 自定义apply函数</span>\n<span class=\"token class-name\">Function</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">apply1</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">obj<span class=\"token punctuation\">,</span> arg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">//context为null或者是undefined时,设置默认值</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    obj <span class=\"token operator\">=</span> <span class=\"token keyword\">typeof</span> window <span class=\"token operator\">===</span> <span class=\"token string\">\"undefined\"</span> <span class=\"token operator\">?</span> global <span class=\"token operator\">:</span> window<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  obj<span class=\"token punctuation\">.</span>fn <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//undefined 或者 是 null 不是 Iterator 对象，不能被 ...</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arg <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span> <span class=\"token operator\">||</span> arg <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    result <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>arg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n    result <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>arg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">delete</span> obj<span class=\"token punctuation\">.</span>fn<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n<h3 id=\"22-call\"><a class=\"markdownIt-Anchor\" href=\"#22-call\">#</a> 2.2、call</h3>\n<ul>\n<li>\n<p>第二个参数为参数列表</p>\n</li>\n<li>\n<p>自定义实现</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token class-name\">Function</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">call1</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">obj<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    obj <span class=\"token operator\">=</span> <span class=\"token keyword\">typeof</span> window <span class=\"token operator\">===</span> <span class=\"token string\">\"undefined\"</span> <span class=\"token operator\">?</span> global <span class=\"token operator\">:</span> window<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  obj<span class=\"token punctuation\">.</span>fn <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  result <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>arg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">delete</span> obj<span class=\"token punctuation\">.</span>fn<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n<h3 id=\"23-bind\"><a class=\"markdownIt-Anchor\" href=\"#23-bind\">#</a> 2.3、bind</h3>\n<ul>\n<li>\n<p>特点</p>\n<ul>\n<li>返回一个函数</li>\n<li>可以传入参数（使用 bind 时和 bind 新生成的函数都可以传参）</li>\n<li>当 bind 返回的函数作为构造函数的时候，bind 时指定的 this 值会失效，但传入的参数依然生效</li>\n</ul>\n</li>\n<li>\n<p>注意：bind 这个方法在 IE6~8 下不兼容</p>\n</li>\n<li>\n<p>自定义实现</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token class-name\">Function</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">bind1</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">obj<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    obj <span class=\"token operator\">=</span> <span class=\"token keyword\">typeof</span> window <span class=\"token operator\">===</span> <span class=\"token string\">\"undefined\"</span> <span class=\"token operator\">?</span> global <span class=\"token operator\">:</span> window<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">let</span> self <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> args <span class=\"token operator\">=</span> arg<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n  f<span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> <span class=\"token function-variable function\">bound</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">let</span> res <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arguments<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> _this <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span> <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">f</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">this</span> <span class=\"token operator\">:</span> obj<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>_this<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  bound<span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">f</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> bound<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n<h3 id=\"24-区别\"><a class=\"markdownIt-Anchor\" href=\"#24-区别\">#</a> 2.4、区别</h3>\n<blockquote>\n<p>call 和 apply 改变了函数的 this 上下文后便执行该函数，而 bind 则是返回改变了上下文后的一个函数。</p>\n</blockquote>\n<h2 id=\"三-相关题目\"><a class=\"markdownIt-Anchor\" href=\"#三-相关题目\">#</a> 三、相关题目</h2>\n<ol>\n<li>\n<p>怎么利用 call、apply 来求一个数组中最大或者最小值</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">19</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nMath<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nMath<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> fn <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>如何利用 call、apply 来做继承</p>\n</li>\n<li>\n<p>apply、call、bind 的区别和主要应用场景</p>\n<ol>\n<li>将类数组 / 含有 length 属性的对象转化为数组</li>\n<li>求数组中的最大和最小值</li>\n<li>数组追加</li>\n<li>利用 call 和 apply 做继承</li>\n<li>判断变量类型</li>\n</ol>\n</li>\n</ol>\n",
            "tags": [
                "面试全面总结"
            ]
        },
        {
            "id": "http://example.com/2020/03/23/getOfferScopeandclosure/",
            "url": "http://example.com/2020/03/23/getOfferScopeandclosure/",
            "title": "作用域和闭包",
            "date_published": "2020-03-23T09:18:21.000Z",
            "content_html": "<h2 id=\"专题总结作用域和闭包\"><a class=\"markdownIt-Anchor\" href=\"#专题总结作用域和闭包\">#</a> 专题总结：作用域和闭包</h2>\n<blockquote>\n<p>拿到 字节跳动实习生 offer 总结</p>\n<p>回馈分享一波自己的知识点总结</p>\n</blockquote>\n<blockquote>\n<p>希望读者依此构建自己的知识树（思维导图）</p>\n<p>偷懒一下：可参考我自己总结思维导图 : <a href=\"https://github.com/ZhChen7/Interview-mind-map\">点这里</a></p>\n<p>附带：高频面试题积累文档。 来自于（学长、牛客网等平台）</p>\n<p>自己开发的博客地址：<a href=\"http://zxinc520.com/\">zxinc520.com</a></p>\n<p>github 地址: <a href=\"https://github.com/ZhChen7\">点击</a></p>\n</blockquote>\n<blockquote>\n<p>此篇 js - 【作用域和闭包】 知识点： 全部弄懂了，面试很容易。</p>\n</blockquote>\n<h2 id=\"一-作用域和作用域链概念\"><a class=\"markdownIt-Anchor\" href=\"#一-作用域和作用域链概念\">#</a> 一、作用域和作用域链概念</h2>\n<h3 id=\"11-作用域\"><a class=\"markdownIt-Anchor\" href=\"#11-作用域\">#</a> 1.1、作用域</h3>\n<h4 id=\"111-作用域是什么\"><a class=\"markdownIt-Anchor\" href=\"#111-作用域是什么\">#</a> 1.1.1、作用域是什么</h4>\n<p>作用域本质就是程序源代码中定义变量的区域，它可以解释为一套规则，是关于 JS 引擎如何寻找变量以及会在何处找到变量的规则。</p>\n<h4 id=\"112-作用域分为哪些\"><a class=\"markdownIt-Anchor\" href=\"#112-作用域分为哪些\">#</a> 1.1.2、作用域分为哪些</h4>\n<ul>\n<li>词法作用域（静态作用域）\n<ul>\n<li>词法作用域是在写代码时就确定了作用域（不使用 eval 和 with 的前提下，这两个现在基本不使用，因此不讲了），即静态作用域</li>\n</ul>\n</li>\n<li>动态作用域\n<ul>\n<li>而动态作用域是在代码运行时动态确定的</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"12-作用域链\"><a class=\"markdownIt-Anchor\" href=\"#12-作用域链\">#</a> 1.2、作用域链</h3>\n<h4 id=\"121-作用域链是什么\"><a class=\"markdownIt-Anchor\" href=\"#121-作用域链是什么\">#</a> 1.2.1、作用域链是什么</h4>\n<p>作用域链实际上是指向变量对象的指针列表，它只引用但不实际包含变量对象，它的用途是保证对执行环境有权访问的所有变量和函数的有序访问。</p>\n<p>简单来说：作用域链就是从当前作用域开始一层一层向上寻找某个变量，直到找到全局作用域还是没找到，就宣布放弃。这种一层一层的关系，就是作用域链。</p>\n<h5 id=\"两个重要概念\"><a class=\"markdownIt-Anchor\" href=\"#两个重要概念\">#</a> 两个重要概念：</h5>\n<ul>\n<li>\n<p>变量对象</p>\n<p>每个执行环境都有一个与之关联的变量对象，环境中定义的所有变量和函数都保存在这个对象中（变量对象其实就是作用域这个抽象概念的具体值），比如一个函数中包含的局部变量，它的参数，它里面声明的函数都存在变量对象中。（一个当前执行函数的变量对象最开始时就包含一个 arguments 对象，这个对象用来装函数括号内的参数，所以全局环境的变量对象没有这个）</p>\n</li>\n<li>\n<p>执行环境</p>\n<p>也可以叫执行上下文，这里定义了变量或函数有权访问的其他数据，当一个函数被执行时，他的执行环境会被推入环境栈，执行之后才会被弹出，把控制权返回给之前的执行环境。</p>\n</li>\n</ul>\n<h2 id=\"二-闭包\"><a class=\"markdownIt-Anchor\" href=\"#二-闭包\">#</a> 二、闭包</h2>\n<h3 id=\"21-闭包是什么\"><a class=\"markdownIt-Anchor\" href=\"#21-闭包是什么\">#</a> 2.1、闭包是什么</h3>\n<p>闭包是指有权访问另一个函数作用域中的变量的函数，创建闭包最常用的方式就是在一个函数内部创建另一个函数。</p>\n<h3 id=\"22-闭包的作用\"><a class=\"markdownIt-Anchor\" href=\"#22-闭包的作用\">#</a> 2.2、闭包的作用</h3>\n<ol>\n<li>\n<p>能够访问函数定义时所在的词法作用域 (阻止其被回收)。</p>\n</li>\n<li>\n<p>私有化变量</p>\n</li>\n<li>\n<p>模拟块级作用域</p>\n</li>\n<li>\n<p>创建模块</p>\n<ul>\n<li>两个必备的条件 (来自《你不知道的 JavaScript》)\n<ul>\n<li>必须有外部的封闭函数，该函数必须至少被调用一次 (每次调用都会创建一个新的模块实例)</li>\n<li>封闭函数必须返回至少一个内部函数，这样内部函数才能在私有作用域中形成闭包，并且可以访问或者修改私有的状态。</li>\n</ul>\n</li>\n</ul>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">coolModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"Yvette\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> age <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">sayName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">sayAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span>\n    sayName<span class=\"token punctuation\">,</span>\n    sayAge<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">let</span> info <span class=\"token operator\">=</span> <span class=\"token function\">coolModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ninfo<span class=\"token punctuation\">.</span><span class=\"token function\">sayName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//'Yvette'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ol>\n<h3 id=\"23-闭包的缺点\"><a class=\"markdownIt-Anchor\" href=\"#23-闭包的缺点\">#</a> 2.3、闭包的缺点</h3>\n<p>闭包会导致函数的变量一直保存在内存中，过多的闭包可能会导致内存泄漏</p>\n<p>2.4、经典题目（闭包）</p>\n<blockquote>\n<p>函数自增</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> fn <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//0</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//1</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//2</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//3</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n",
            "tags": [
                "面试全面总结",
                "JS 三座大山"
            ]
        },
        {
            "id": "http://example.com/2020/03/23/getOfferPrototypesandprototypechains/",
            "url": "http://example.com/2020/03/23/getOfferPrototypesandprototypechains/",
            "title": "原型和原型链",
            "date_published": "2020-03-23T09:18:21.000Z",
            "content_html": "<h2 id=\"javascript-原型和原型链\"><a class=\"markdownIt-Anchor\" href=\"#javascript-原型和原型链\">#</a> JavaScript 原型和原型链</h2>\n<blockquote>\n<p>拿到 字节跳动实习生 offer 总结</p>\n<p>回馈分享一波自己的知识点总结</p>\n</blockquote>\n<blockquote>\n<p>希望读者依此构建自己的知识树（思维导图）</p>\n<p>偷懒一下：可参考我自己总结思维导图 : <a href=\"https://github.com/ZhChen7/Interview-mind-map\">点这里</a></p>\n<p>附带：高频面试题积累文档。 来自于（学长、牛客网等平台）</p>\n<p>自己开发的博客地址：<a href=\"http://zxinc520.com/\">zxinc520.com</a></p>\n<p>github 地址: <a href=\"https://github.com/ZhChen7\">点击</a></p>\n</blockquote>\n<blockquote>\n<p>此篇 js - 【原型和原型链】 知识点： 全部弄懂了，面试很容易。</p>\n</blockquote>\n<h2 id=\"一-原型和原型定义\"><a class=\"markdownIt-Anchor\" href=\"#一-原型和原型定义\">#</a> 一、原型和原型定义</h2>\n<h3 id=\"11-背景\"><a class=\"markdownIt-Anchor\" href=\"#11-背景\">#</a> 1.1、背景</h3>\n<p>JavaScript 中除了基础类型外的数据类型，都是对象（引用类型）。但是由于其没有 类（class，ES6 引入了 class，但其只是语法糖）的概念，如何将所有对象联系起来就成立一个问题，于是就有了原型和原型链的概念。</p>\n<h3 id=\"12-原型是什么\"><a class=\"markdownIt-Anchor\" href=\"#12-原型是什么\">#</a> 1.2、原型是什么？</h3>\n<blockquote>\n<p>原型是一个 prototype 对象，用于表示对象之间的关系。</p>\n</blockquote>\n<h3 id=\"13-原型链\"><a class=\"markdownIt-Anchor\" href=\"#13-原型链\">#</a> 1.3、原型链</h3>\n<p>每个实例对象（ object ）都有一个私有属性（称之为 <strong>proto</strong> ）指向它的构造函数的原型对象（prototype ）。该原型对象也有一个自己的原型对象 ( <strong>proto</strong> ) ，层层向上直到一个对象的原型对象为 null。根据定义，null 没有原型，并作为这个原型链中的最后一个环节。以上一整个原型与原型层层相链接的过程即为原型链</p>\n<h3 id=\"14-公式\"><a class=\"markdownIt-Anchor\" href=\"#14-公式\">#</a> 1.4、公式</h3>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> 对象 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">函数</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n对象<span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">===</span> <span class=\"token class-name\">对象的构造函数</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h2 id=\"二-7-大继承写法\"><a class=\"markdownIt-Anchor\" href=\"#二-7-大继承写法\">#</a> 二、7 大继承写法</h2>\n<blockquote>\n<p>常考点【熟练掌握】</p>\n</blockquote>\n<h3 id=\"21-原型链继承\"><a class=\"markdownIt-Anchor\" href=\"#21-原型链继承\">#</a> 2.1、原型链继承</h3>\n<ul>\n<li>\n<p>原型链继承的基本思想：是利用原型让一个引用类型继承另一个引用类型的属性和方法。</p>\n<p>如 SubType.prototype = new SuperType ();</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">SuperType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"Yvette\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">SubType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> <span class=\"token number\">22</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token class-name\">SubType</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SuperType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>缺点</p>\n<ol>\n<li>通过原型来实现继承时，原型会变成另一个类型的实例，原先的实例属性变成了现在的原型属性，该原型的引用类型属性会被所有的实例共享</li>\n<li>在创建子类型的实例时，不能向超类型的构造函数中传递参数</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"22-借用构造函数\"><a class=\"markdownIt-Anchor\" href=\"#22-借用构造函数\">#</a> 2.2、借用构造函数</h3>\n<ul>\n<li>\n<p>其基本思想为：在子类型的构造函数中调用超类型构造函数。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">SuperType</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">SubType</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">SuperType</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>优点</p>\n<ol>\n<li>可以向超类传递参数</li>\n<li>解决了原型中包含引用类型值被所有实例共享的问题</li>\n</ol>\n</li>\n<li>\n<p>缺点</p>\n<ol>\n<li>方法都在构造函数中定义，函数复用无从谈起</li>\n<li>另外超类型原型中定义的方法对于子类型而言都是不可见的</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"23-组合继承\"><a class=\"markdownIt-Anchor\" href=\"#23-组合继承\">#</a> 2.3、组合继承</h3>\n<ul>\n<li>\n<p>组合继承指的是将原型链和借用构造函数技术组合到一块，从而发挥二者之长的一种继承模式。基本思路：使用原型链实现对原型属性和方法的继承，通过借用构造函数来实现对实例属性的继承，既通过在原型上定义方法来实现了函数复用，又保证了每个实例都有自己的属性。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">SuperType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"zc\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"pink\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"green\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">SubType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">SuperType</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token class-name\">SubType</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SuperType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">SubType</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">=</span> SubType<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SubType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SubType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\na<span class=\"token punctuation\">.</span>colors<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>colors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//[ 'pink', 'blue', 'green', 'red' ]</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">.</span>colors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//[ 'pink', 'blue', 'green' ]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>优点</p>\n<ol>\n<li>可以向超类传递参数</li>\n<li>每个实例都有自己的属性</li>\n<li>实现了函数复用</li>\n</ol>\n</li>\n<li>\n<p>缺点</p>\n<ol>\n<li>无论什么情况下，都会调用两次超类型构造函数：一次是在创建子类型原型的时候，另一次是在子类型构造函数内部。</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"24-原型式继承\"><a class=\"markdownIt-Anchor\" href=\"#24-原型式继承\">#</a> 2.4、原型式继承</h3>\n<ul>\n<li>\n<p>原型式继承继承的基本思想：在 object () 函数内部，先创建一个临时性的构造函数，然后将传入的对象作为这个构造函数的原型，最后返回了这个临时类型的一个新实例，从本质上讲，object () 对传入的对象执行了一次浅拷贝。</p>\n<p>ECMAScript5 通过新增 Object.create () 方法规范了原型式继承。这个方法接收两个参数：一个用作新对象原型的对象和（可选的）一个为新对象定义额外属性的对象 (可以覆盖原型对象上的同名属性)，在传入一个参数的情况下，Object.create () 和 object () 方法的行为相同。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">object</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">o</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">function</span> <span class=\"token constant\">F</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n  <span class=\"token class-name\">F</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> o<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">F</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>缺点</p>\n<ol>\n<li>同原型链实现继承一样，包含引用类型值的属性会被所有实例共享</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"25-寄生式继承\"><a class=\"markdownIt-Anchor\" href=\"#25-寄生式继承\">#</a> 2.5、寄生式继承</h3>\n<ul>\n<li>\n<p>寄生式继承是与原型式继承紧密相关的一种思路。寄生式继承的思路与寄生构造函数和工厂模式类似，即创建一个仅用于封装继承过程的函数，该函数在内部已某种方式来增强对象，最后再像真地是它做了所有工作一样返回对象。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">object</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">o</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">function</span> <span class=\"token constant\">F</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n  <span class=\"token class-name\">F</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> o<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">F</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">createAnother</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">original</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> clone <span class=\"token operator\">=</span> <span class=\"token function\">object</span><span class=\"token punctuation\">(</span>original<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//通过调用函数创建一个新对象</span>\n  clone<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">sayHi</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">//以某种方式增强这个对象</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hi\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> clone<span class=\"token punctuation\">;</span> <span class=\"token comment\">//返回这个对象</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>优点</p>\n<ol>\n<li>基于 person 返回了一个新对象 -—— person2，新对象不仅具有 person 的所有属性和方法，而且还有自己的 sayHi () 方法。在考虑对象而不是自定义类型和构造函数的情况下，寄生式继承也是一种有用的模式。</li>\n</ol>\n</li>\n<li>\n<p>缺点</p>\n<ol>\n<li>使用寄生式继承来为对象添加函数，会由于不能做到函数复用而效率低下。</li>\n<li>同原型链实现继承一样，包含引用类型值的属性会被所有实例共享。</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"26-寄生组合式继承\"><a class=\"markdownIt-Anchor\" href=\"#26-寄生组合式继承\">#</a> 2.6、寄生组合式继承</h3>\n<ul>\n<li>\n<p>所谓寄生组合式继承，即通过借用构造函数来继承属性，通过原型链的混成形式来继承方法，基本思路：</p>\n<p>不必为了指定子类型的原型而调用超类型的构造函数，我们需要的仅是超类型原型的一个副本，本质上就是使用寄生式继承来继承超类型的原型，然后再将结果指定给子类型的原型。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">inheritPrototype</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">subType<span class=\"token punctuation\">,</span> superType</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> prototype <span class=\"token operator\">=</span> <span class=\"token function\">object</span><span class=\"token punctuation\">(</span>superType<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//创建对象</span>\n  prototype<span class=\"token punctuation\">.</span>constructor <span class=\"token operator\">=</span> subType<span class=\"token punctuation\">;</span> <span class=\"token comment\">//增强对象</span>\n  subType<span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> prototype<span class=\"token punctuation\">;</span> <span class=\"token comment\">//指定对象</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">SuperType</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"pink\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"green\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">SuberType</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> age</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">SuperType</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token function\">inheritPrototype</span><span class=\"token punctuation\">(</span>SuberType<span class=\"token punctuation\">,</span> SuperType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>步骤</p>\n<p>第一步：创建超类型原型的一个副本</p>\n<p>第二步：为创建的副本添加 constructor 属性</p>\n<p>第三步：将新创建的对象赋值给子类型的原型</p>\n</li>\n<li>\n<p>优点</p>\n<ol>\n<li>只调用了一次超类构造函数，效率更高。避免在 SuberType.prototype 上面创建不必要的、多余的属性，与其同时，原型链还能保持不变。因此寄生组合继承是引用类型最理性的继承范式。</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"27-es6-继承\"><a class=\"markdownIt-Anchor\" href=\"#27-es6-继承\">#</a> 2.7、ES6 继承</h3>\n<ul>\n<li>\n<p>Class 可以通过 extends 关键字实现继承</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">SuperType</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">age</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SubType</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">SuperType</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">age<span class=\"token punctuation\">,</span> name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 调用父类的constructor(x, y)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>对于 ES6 的 class 需要做以下几点说明</p>\n<ol>\n<li>class 声明会提升，但不会初始化赋值。Foo 进入暂时性死区，类似于 let、const 声明变量。</li>\n<li>class 声明内部会启用严格模式。</li>\n<li>class 的所有方法（包括静态方法和实例方法）都是不可枚举的。</li>\n<li>class 的所有方法（包括静态方法和实例方法）都没有原型对象 prototype，所以也没有 [[construct]]，不能使用 new 来调用。</li>\n<li>必须使用 new 调用 class</li>\n<li>class 内部无法重写类名</li>\n</ol>\n</li>\n</ul>\n<h4 id=\"使用-extends-关键字实现继承有几点需要特别说明\"><a class=\"markdownIt-Anchor\" href=\"#使用-extends-关键字实现继承有几点需要特别说明\">#</a> 使用 extends 关键字实现继承，有几点需要特别说明</h4>\n<ul>\n<li>子类必须在 constructor 中调用 super 方法，否则新建实例时会报错。如果没有子类没有定义 constructor 方法，那么这个方法会被默认添加。在子类的构造函数中，只有调用 super 之后，才能使用 this 关键字，否则报错。这是因为子类实例的构建，基于父类实例，只有 super 方法才能调用父类实例。</li>\n<li>ES5 的继承，实质是先创造子类的实例对象 this，然后再将父类的方法添加到 this 上面（Parent.apply (this)）。ES6 的继承机制完全不同，实质是先将父类实例对象的属性和方法，加到 this 上面（所以必须先调用 super 方法），然后再用子类的构造函数修改 this</li>\n</ul>\n<h2 id=\"三-相关题目\"><a class=\"markdownIt-Anchor\" href=\"#三-相关题目\">#</a> 三、相关题目</h2>\n<h3 id=\"31-写一个原型链继承的例子\"><a class=\"markdownIt-Anchor\" href=\"#31-写一个原型链继承的例子\">#</a> 3.1、写一个原型链继承的例子</h3>\n<ul>\n<li>详细请观看上文。</li>\n</ul>\n<h3 id=\"32-描述-new-一个对象的过程\"><a class=\"markdownIt-Anchor\" href=\"#32-描述-new-一个对象的过程\">#</a> 3.2、描述 new 一个对象的过程</h3>\n<h4 id=\"321-思路分析\"><a class=\"markdownIt-Anchor\" href=\"#321-思路分析\">#</a> 3.2.1、思路分析</h4>\n<ol>\n<li>创建一个新对象 obj</li>\n<li>把 obj 的<strong> proto</strong> 指向 构造函数.prototype 实现继承</li>\n<li>执行构造函数，传递参数，改变 this 指向</li>\n<li>最后把 obj 返回</li>\n</ol>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">伪代码：<span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"John\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\tobj<span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">=</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">var</span> result <span class=\"token operator\">=</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span><span class=\"token string\">\"John\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">typeof</span> result <span class=\"token operator\">===</span> <span class=\"token string\">'object'</span> <span class=\"token operator\">?</span> result <span class=\"token operator\">:</span> obj<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 如果无返回值或者返回一个非对象值，则将obj返回作为新对象</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"322-优秀的写法\"><a class=\"markdownIt-Anchor\" href=\"#322-优秀的写法\">#</a> 3.2.2、优秀的写法</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">_new</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fn<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>fn<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> ret <span class=\"token operator\">=</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> arg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> ret <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Object</span> <span class=\"token operator\">?</span> ret <span class=\"token operator\">:</span> obj<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>或</strong> 【个人倾向于后面一种】</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">_new</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fn<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arg</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">let</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  obj<span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">=</span> fn<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> ret <span class=\"token operator\">=</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> arg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> ret <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Object</span> <span class=\"token operator\">?</span> ret <span class=\"token operator\">:</span> obj<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"323-为什么-return-ret-instanceof-object-ret-obj-需要存在这一步骤\"><a class=\"markdownIt-Anchor\" href=\"#323-为什么-return-ret-instanceof-object-ret-obj-需要存在这一步骤\">#</a> 3.2.3、为什么  <code>return ret instanceof Object ? ret : obj;</code>  需要存在这一步骤？</h4>\n<blockquote>\n<p>这是因为 new 一个实例的时候，如果没有 return，</p>\n<p>就会根据构造函数内部 this 绑定的值生成对象，如果有返回值，</p>\n<p>就会根据返回值生成对象，为了模拟这一效果，就需要判断 apply 后是否有返回值。</p>\n</blockquote>\n<h4 id=\"324-总结-new-的过程中发生了什么\"><a class=\"markdownIt-Anchor\" href=\"#324-总结-new-的过程中发生了什么\">#</a> 3.2.4、总结 new 的过程中发生了什么</h4>\n<ol>\n<li>\n<p>令 john 的<strong> proto</strong> 属性指向 Person.prototype，确立了这条原型链， 导致 john 能通过原型链继承 Person.prototype 中的部分属性，可以简单地视 john 和 Person.prototype 是继承关系。</p>\n</li>\n<li>\n<p>john 是 Person 构造函数 的实例 john instanceof Person; //true</p>\n</li>\n<li>\n<p>我们再来了解一下 instanceof 的内部原理，以应证我们的图是正确的</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token constant\">L</span> <span class=\"token operator\">=</span> <span class=\"token constant\">A</span><span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> <span class=\"token constant\">R</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">B</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">L</span> <span class=\"token operator\">===</span> <span class=\"token constant\">R</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</li>\n</ol>\n",
            "tags": [
                "面试全面总结",
                "JS 三座大山"
            ]
        },
        {
            "id": "http://example.com/2020/03/23/getOfferSinglethreadedandasynchronous/",
            "url": "http://example.com/2020/03/23/getOfferSinglethreadedandasynchronous/",
            "title": "单线程和异步",
            "date_published": "2020-03-23T09:18:21.000Z",
            "content_html": "<h2 id=\"专题总结单线程和异步\"><a class=\"markdownIt-Anchor\" href=\"#专题总结单线程和异步\">#</a> 专题总结：单线程和异步</h2>\n<blockquote>\n<p>拿到 字节跳动实习生 offer 总结</p>\n<p>回馈分享一波自己的知识点总结</p>\n</blockquote>\n<blockquote>\n<p>希望读者依此构建自己的知识树（思维导图）</p>\n<p>偷懒一下：可参考我自己总结思维导图 : <a href=\"https://github.com/ZhChen7/Interview-mind-map\">点这里</a></p>\n<p>附带：高频面试题积累文档。 来自于（学长、牛客网等平台）</p>\n<p>自己开发的博客地址：<a href=\"http://zxinc520.com/\">zxinc520.com</a></p>\n<p>github 地址: <a href=\"https://github.com/ZhChen7\">点击</a></p>\n</blockquote>\n<blockquote>\n<p>此篇 js - 【单线程和异步】 知识点： 全部弄懂了，面试很容易。</p>\n</blockquote>\n<h2 id=\"一-单线程和异步\"><a class=\"markdownIt-Anchor\" href=\"#一-单线程和异步\">#</a> 一、单线程和异步</h2>\n<h3 id=\"11-同步-vs-异步\"><a class=\"markdownIt-Anchor\" href=\"#11-同步-vs-异步\">#</a> 1.1、同步 vs 异步</h3>\n<ul>\n<li>同步是什么？\n<ul>\n<li>简单来说：一定要等任务执行完了，得到结果，才执行下一个任务。</li>\n<li>指某段程序执行时会阻塞其它程序执行，其表现形式为程序的执行顺序依赖程序本身的书写顺序</li>\n</ul>\n</li>\n<li>异步是什么？\n<ul>\n<li>指某段程序执行时不会阻塞其它程序执行，其表现形式为程序的执行顺序不依赖程序本身的书写顺序</li>\n<li>实现方式：event loop【事件轮询】</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"12-异步和单线程\"><a class=\"markdownIt-Anchor\" href=\"#12-异步和单线程\">#</a> 1.2、异步和单线程</h3>\n<ul>\n<li>\n<p>单线程</p>\n<ul>\n<li>是什么？单线程就是同时只做一件事，两段 JS 不能同时 执行</li>\n<li>为什么是单线程？\n<ul>\n<li>避免 DOM 渲染的冲突\n<ol>\n<li>浏览器需要渲染 DOM</li>\n<li>JS 可以修改 DOM 结构</li>\n<li>JS 执行的时候，浏览器 DOM 渲染会暂停</li>\n<li>两段 JS 也不能同时执行（都修改 DOM 就冲突了）</li>\n<li>webworker 支持多线程，但是不能访问 DOM</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>单线程的解决方案 ？</p>\n<ul>\n<li>异步\n<ul>\n<li>异步暴露出的问题\n<ol>\n<li>没按照书写方式执行，可读性差</li>\n<li>callback 中不容易模块化</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>event loop</p>\n<ul>\n<li>是什么？</li>\n<li>事件轮询， JS 实现异步 的具体解决方案</li>\n<li>具体\n<ul>\n<li>同步代码，直接执行</li>\n<li>异步函数先放在 异步队列 中</li>\n<li>待同步函数执行完毕，轮询执行 异步队列 的函数</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"13-宏队列和微队列\"><a class=\"markdownIt-Anchor\" href=\"#13-宏队列和微队列\">#</a> 1.3、宏队列和微队列</h3>\n<blockquote>\n<p><code>macrotask</code> （宏任务） 和  <code>microtask</code> （微任务）</p>\n<p>面试常考题【promise 回调函数和定时器任务的顺序问题】</p>\n</blockquote>\n<ul>\n<li>\n<p>宏任务：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">script</span><span class=\"token punctuation\">(</span>整体代码<span class=\"token punctuation\">)</span>\nsetTimeout\nsetInterval\n<span class=\"token constant\">I</span><span class=\"token operator\">/</span><span class=\"token constant\">O</span>\n<span class=\"token constant\">UI</span>交互事件\npostMessage\nMessageChannel\n<span class=\"token function\">setImmediate</span><span class=\"token punctuation\">(</span>Node<span class=\"token punctuation\">.</span>js 环境<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>微任务</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">Promise<span class=\"token punctuation\">.</span>then\nObject<span class=\"token punctuation\">.</span>observe\nMutaionObserver\nprocess<span class=\"token punctuation\">.</span><span class=\"token function\">nextTick</span><span class=\"token punctuation\">(</span>Node<span class=\"token punctuation\">.</span>js 环境<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n<p>执行机制：</p>\n<ol>\n<li>执行一个宏任务（栈中没有就从事件队列中获取）</li>\n<li>执行过程中如果遇到微任务，就将它添加到微任务的任务队列中</li>\n<li>宏任务执行完毕后，立即执行当前微任务队列中的所有微任务（依次执行）</li>\n<li>当前宏任务执行完毕，开始检查渲染，然后 GUI 线程接管渲染</li>\n<li>渲染完毕后，JS 引擎线程继续，开始下一个宏任务（从宏任务队列中获取）</li>\n</ol>\n<h4 id=\"经典面试题\"><a class=\"markdownIt-Anchor\" href=\"#经典面试题\">#</a> 经典面试题</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"script start\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> promise1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"promise1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"promise1 end\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"promise2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"settimeout\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"script end\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 输出顺序: script start->promise1->promise1 end->script end->promise2->settimeout</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">async1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"async1 start\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">async2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"async1 end\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">async2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"async2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"script start\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">async1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"script end\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 输出顺序：script start->async1 start->async2->script end->async1 end</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"14-前端异步的场景\"><a class=\"markdownIt-Anchor\" href=\"#14-前端异步的场景\">#</a> 1.4、前端异步的场景</h3>\n<ul>\n<li>简单来说：所有的 “等待情况” 都需要异步</li>\n<li>定时任务：setTimeout，setInterval</li>\n<li>网络请求：ajax 请求，动态 &lt;<em>img</em> &gt; 加载</li>\n<li>事件绑定</li>\n</ul>\n<h3 id=\"15-web-worker\"><a class=\"markdownIt-Anchor\" href=\"#15-web-worker\">#</a> 1.5、Web Worker</h3>\n<blockquote>\n<p>就是为 JavaScript 创造多线程环境，允许主线程创建 Worker 线程，将一些任务分配给后者运行。在主线程运行的同时，Worker 线程在后台运行，两者互不干扰。等到 Worker 线程完成计算任务，再把结果返回给主线程。这样的好处是，一些计算密集型或高延迟的任务，被 Worker 线程负担了，主线程（通常负责 UI 交互）就会很流畅，不会被阻塞或拖慢。</p>\n</blockquote>\n<h3 id=\"16-模块化发展历程\"><a class=\"markdownIt-Anchor\" href=\"#16-模块化发展历程\">#</a> 1.6、模块化发展历程</h3>\n<blockquote>\n<p>可从 IIFE、AMD、CMD、CommonJS、UMD、webpack (require.ensure)、ES Module、&lt;<em>script type=“module”</em> &gt; 这几个角度考虑。</p>\n<p><strong>作用</strong> ：模块化主要是用来抽离公共代码，隔离作用域，避免变量冲突等。</p>\n</blockquote>\n<ol>\n<li>\n<p>IIFE</p>\n<ul>\n<li>\n<p>使用自执行函数来编写模块化</p>\n</li>\n<li>\n<p>特点：</p>\n<p>在一个单独的函数作用域中执行代码，避免变量冲突。</p>\n</li>\n</ul>\n</li>\n<li>\n<p>AMD</p>\n<ul>\n<li>\n<p>使用 requireJS 来编写模块化</p>\n</li>\n<li>\n<p>特点：依赖必须提前声明好</p>\n</li>\n<li>\n<p>简单实现</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./index.js\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">code</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">// code 就是index.js 返回的内容</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>CMD</p>\n<ul>\n<li>\n<p>使用 seaJS 来编写模块化</p>\n</li>\n<li>\n<p>特点：支持动态引入依赖文件</p>\n</li>\n<li>\n<p>简单实现</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">require<span class=\"token punctuation\">,</span> exports<span class=\"token punctuation\">,</span> module</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> indexCode <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./index.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>CommonJS</p>\n<ul>\n<li>nodejs 中自带的模块化</li>\n<li>var fs = require(‘fs’);</li>\n</ul>\n</li>\n<li>\n<p>UMD</p>\n<ul>\n<li>兼容 AMD，CommonJS 模块化语法</li>\n</ul>\n</li>\n<li>\n<p>webpack(require.ensure)</p>\n<ul>\n<li>webpack 2.x 版本中的代码分割</li>\n</ul>\n</li>\n<li>\n<p>ES Modules</p>\n<ul>\n<li>ES6 引入的模块化，支持 import 来引入另一个 js</li>\n<li>import a from ‘a’;</li>\n</ul>\n</li>\n</ol>\n<h4 id=\"161-amd-与-cmd-的比较\"><a class=\"markdownIt-Anchor\" href=\"#161-amd-与-cmd-的比较\">#</a> 1.6.1、AMD 与 CMD 的比较</h4>\n<ul>\n<li>\n<p>定义</p>\n<p>AMD 和 CMD 都是用于浏览器端的模块规范</p>\n</li>\n<li>\n<p>AMD</p>\n<ul>\n<li>AMD 是 RequireJS 在推广过程中对模块定义的规范化产出</li>\n<li>其主要内容就是定义了 define 函数该如何书写，只要你按照这个规范书写模块和依赖，require.js 就能正确的进行解析。</li>\n</ul>\n</li>\n<li>\n<p>CMD</p>\n<ul>\n<li>CMD 其实就是 SeaJS 在推广过程中对模块定义的规范化产出</li>\n<li>主要内容就是描述该如何定义模块，如何引入模块，如何导出模块，只要你按照这个规范书写代码，sea.js 就能正确的进行解析</li>\n</ul>\n</li>\n<li>\n<p>AMD 与 CMD 的区别</p>\n<ol>\n<li>AMD 推崇依赖前置，CMD 推崇依赖就近</li>\n<li>AMD 是提前执行，CMD 是延迟执行。</li>\n</ol>\n</li>\n</ul>\n<h4 id=\"162-commonjs-与-amd-的比较\"><a class=\"markdownIt-Anchor\" href=\"#162-commonjs-与-amd-的比较\">#</a> 1.6.2、CommonJS 与 AMD 的比较</h4>\n<blockquote>\n<p>在服务器端比如 node，采用的则是 CommonJS 规范。</p>\n<p>AMD 和 CMD 都是用于浏览器端的模块规范</p>\n</blockquote>\n<ol>\n<li>\n<p>CommonJS 规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。</p>\n</li>\n<li>\n<p>AMD 规范则是非同步加载模块，允许指定回调函数。</p>\n<p>由于 Node.js 主要用于服务器编程，模块文件一般都已经存在于本地硬盘，所以加载起来比较快，不用考虑非同步加载的方式，所以 CommonJS 规范比较适用。</p>\n</li>\n<li>\n<p>但是，如果是浏览器环境，要从服务器端加载模块，这时就必须采用非同步模式，因此浏览器端一般采用 AMD 规范。</p>\n</li>\n</ol>\n<h4 id=\"163-es6-与-commonjs-的比较\"><a class=\"markdownIt-Anchor\" href=\"#163-es6-与-commonjs-的比较\">#</a> 16.3、ES6 与 CommonJS 的比较</h4>\n<blockquote>\n<p>注意！浏览器加载 ES6 模块，也使用 &lt;<em>script</em> &gt; 标签，但是要加入 type=“module” 属性。</p>\n</blockquote>\n<ol>\n<li>CommonJS 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用。</li>\n<li>CommonJS 模块是运行时加载，ES6 模块是编译时输出接口</li>\n</ol>\n<h3 id=\"17-async-和-defer\"><a class=\"markdownIt-Anchor\" href=\"#17-async-和-defer\">#</a> 1.7、async 和 defer</h3>\n<ul>\n<li>\n<p>共同点</p>\n<p>两者都会并行下载，不会影响页面的解析。</p>\n</li>\n<li>\n<p>defer：defer 会按照顺序在 DOMContentLoaded 前按照页面出现顺序依次执行。</p>\n</li>\n<li>\n<p>async ：async 则是下载完立即执行</p>\n</li>\n<li>\n<p>具体解析【剖析】</p>\n<ul>\n<li>\n<p>先来看一个普通的 script 标签。&lt;<em>script src=“a.js”&gt;&lt;/script</em> &gt;</p>\n<ul>\n<li>\n<p>浏览器会做如下处理：</p>\n<p>1、停止解析 document.</p>\n<p>2、请求 a.js</p>\n<p>3、执行 a.js 中的脚本</p>\n<p>4、继续解析 document</p>\n</li>\n</ul>\n</li>\n<li>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"d.js\"</span> defer<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"e.js\"</span> defer<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>code￼<span class=\"token number\">6</span><span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>不阻止解析 document<span class=\"token punctuation\">,</span> 并行下载 b<span class=\"token punctuation\">.</span>js<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">.</span>js</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>当脚本下载完后立即执行。（两者执行顺序不确定，执行阶段不确定，可能在 DOMContentLoaded 事件前或者后 ）</pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"async-和-defer-总结\"><a class=\"markdownIt-Anchor\" href=\"#async-和-defer-总结\">#</a> async 和 defer 总结</h4>\n<ul>\n<li>\n<p>两者都不会阻止 document 的解析</p>\n</li>\n<li>\n<p>defer 会在 DOMContentLoaded 前依次执行 （可以利用这两点哦！）</p>\n</li>\n<li>\n<p>async 则是下载完立即执行，不一定是在 DOMContentLoaded 前</p>\n</li>\n<li>\n<p>async 因为顺序无关，所以很适合像 Google Analytics 这样的无依赖脚本</p>\n</li>\n</ul>\n<h3 id=\"18-异步编程-6-种解决方案\"><a class=\"markdownIt-Anchor\" href=\"#18-异步编程-6-种解决方案\">#</a> 1.8、异步编程 6 种解决方案</h3>\n<ol>\n<li>\n<p>回调函数（Callback）</p>\n<ul>\n<li>\n<p>回调函数是异步操作最基本的方法</p>\n</li>\n<li>\n<p>ajax(url, () =&gt; {</p>\n<p>​ // 处理逻辑</p>\n<p>})</p>\n</li>\n<li>\n<p>缺点</p>\n<ul>\n<li>容易写出回调地狱（Callback hell）</li>\n<li>不能使用 try catch 捕获错误，不能直接 return</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>事件监听</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">f1<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"done\"</span><span class=\"token punctuation\">,</span> f2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li>\n<p>发布订阅</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">jQuery<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"done\"</span><span class=\"token punctuation\">,</span> f2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li>\n<p>Promise</p>\n<ul>\n<li>\n<p>是什么？</p>\n<ul>\n<li>promise 是目前 JS 异步编程的主流解决方案，遵循 Promises/A+ 方案。Promise 用于异步操作，表示一个还未完成但是预期会完成的操作。</li>\n<li>Promise 是 ES6 引入的一个新的对象，他的主要作用是用来解决 JS 异步机制里，回调机制产生的 “回调地狱”。它并不是什么突破性的 API，只是封装了异步回调形式，使得异步回调可以写的更加优雅，可读性更高，而且可以链式调用。</li>\n</ul>\n</li>\n<li>\n<p>剖析</p>\n<ul>\n<li>\n<p>promise 本身相当于一个状态机，拥有三种状态</p>\n<ul>\n<li>pending</li>\n<li>fulfilled</li>\n<li>rejected</li>\n</ul>\n<p>一个 promise 对象初始化时的状态是 pending，调用了 resolve 后会将 promise 的状态扭转为 fulfilled，调用 reject 后会将 promise 的状态扭转为 rejected，这两种扭转一旦发生便不能再扭转该 promise 到其他状态。</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Promise 如何使用</p>\n<p>构造一个 promise 对象，并将要执行的异步函数传入到 promise 的参数中执行，并且在异步执行结束后调用 resolve ( ) 函数，就可以在 promise 的 then 方法中获取到异步函数的执行结果</p>\n</li>\n<li>\n<p>Promise 原型上的方法</p>\n<ol>\n<li>Promise.prototype.then(onFulfilled, onRejected)</li>\n<li>Promise.prototype.catch(onRejected)</li>\n<li>Promise.prototype.finally(onFinally)</li>\n</ol>\n</li>\n<li>\n<p>Promise 静态方法</p>\n<ol>\n<li>\n<p>Promise.all()</p>\n<p>Promise.all 接收一个 promise 对象数组作为参数，只有全部的 promise 都已经变为 fulfilled 状态后才会继续后面的处理</p>\n</li>\n<li>\n<p>Promise.race()</p>\n<p>这个函数会在 promises 中第一个 promise 的状态扭转后就开始后面的处理（fulfilled、rejected 均可）</p>\n</li>\n<li>\n<p>Promise.resolve()</p>\n</li>\n<li>\n<p>Promise.reject()</p>\n</li>\n</ol>\n</li>\n<li>\n<p>优点</p>\n<p>将异步操作以同步操作的流程表达出来，promise 链式调用，更好地解决了层层嵌套的回调地狱</p>\n</li>\n<li>\n<p>缺点</p>\n<ol>\n<li>不能取消执行。</li>\n<li>无法获取当前执行的进度信息（比如，要在用户界面展示进度条）。</li>\n<li>外部无法捕捉 Promise 内部抛出的错误</li>\n</ol>\n</li>\n</ul>\n</li>\n<li>\n<p>generator 函数</p>\n<ul>\n<li>\n<p>是什么</p>\n<ul>\n<li>Generator 函数是 ES6 提供的一种异步编程解决方案，语法行为与传统函数完全不同。</li>\n<li>如果说 JavaScript 是 ECMAScript 标准的一种具体实现、Iterator 遍历器是 Iterator 的具体实现，那么 Generator 函数可以说是 Iterator 接口的具体实现方式。</li>\n<li>Generator 函数可以通过配合 Thunk 函数更轻松更优雅的实现异步编程和控制流管理</li>\n</ul>\n</li>\n<li>\n<p>描述</p>\n<ul>\n<li>执行 Generator 函数会返回一个遍历器对象，每一次 Generator 函数里面的 yield 都相当一次遍历器对象的 next () 方法，并且可以通过 next (value) 方法传入自定义的 value, 来改变 Generator 函数的行为。</li>\n</ul>\n</li>\n<li>\n<p>能封装异步任务的根本原因</p>\n<ul>\n<li>最大特点就是可以交出函数的执行权（即暂停执行）。Generator 函数可以暂停执行和恢复执行</li>\n</ul>\n</li>\n<li>\n<p>两个特征</p>\n<ul>\n<li>function 关键字与函数名之间有一个星号</li>\n<li>函数体内部使用 yield 表达式，定义不同的内部状态（yield 在英语里的意思就是 “产出”）。</li>\n</ul>\n</li>\n<li>\n<p>过程</p>\n<p>Generator 函数的调用方法与普通函数一样，也是在函数名后面加上一对圆括号。不同的是，调用 Generator 函数后，该函数并不执行，返回的也不是函数运行结果，而是一个指向内部状态的指针对象，也就是上一章介绍的遍历器对象（Iterator Object）</p>\n</li>\n<li>\n<p>Generator 及其异步方面的应用</p>\n<ul>\n<li>Generator 函数将 JavaScript 异步编程带入了一个全新的阶段</li>\n</ul>\n</li>\n<li>\n<p>总结</p>\n<p>调用 Generator 函数，返回一个遍历器对象，代表 Generator 函数的内部指针。以后，每次调用遍历器对象的 next 方法，就会返回一个有着 value 和 done 两个属性的对象。value 属性表示当前的内部状态的值，是 yield 表达式后面那个表达式的值；done 属性是一个布尔值，表示是否遍历结束。</p>\n</li>\n<li>\n<p>demo</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> fetch <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"node-fetch\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">gen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> url <span class=\"token operator\">=</span> <span class=\"token string\">\"https://api.github.com/users/github\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">yield</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>bio<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>async 和 await</p>\n<ul>\n<li>\n<p>含义</p>\n<p>ES2017 标准引入了 async 函数，使得异步操作变得更加方便。</p>\n</li>\n<li>\n<p>是什么？</p>\n<ul>\n<li>一句话，它就是 Generator 函数的语法糖。</li>\n<li>一比较就会发现，async 函数就是将 Generator 函数的星号（*）替换成 async，将 yield 替换成 await，仅此而已。</li>\n<li>async 函数可以理解为内置自动执行器的 Generator 函数语法糖，它配合 ES6 的 Promise 近乎完美的实现了异步编程解决方案。</li>\n</ul>\n</li>\n<li>\n<p>相对于 Promise，优势体现在</p>\n<ol>\n<li>处理 then 的调用链，能够更清晰准确的写出代码</li>\n<li>并且也能优雅地解决回调地狱问题</li>\n</ol>\n</li>\n<li>\n<p>相对 Generator 函数，体现在以下 4 点</p>\n<ol>\n<li>内置执行器。 Generator 函数的执行必须靠执行器，所以才有了 co 函数库，而 async 函数自带执行器。也就是说，async 函数的执行，与普通函数一模一样，只要一行</li>\n<li>更好的语义。 async 和 await，比起星号和 yield，语义更清楚了。async 表示函数里有异步操作，await 表示紧跟在后面的表达式需要等待结果</li>\n<li>更广的适用性。 co 函数库约定，yield 命令后面只能是 Thunk 函数或 Promise 对象，而 async 函数的 await 命令后面，可以跟 Promise 对象和原始类型的值（数值、字符串和布尔值，但这时等同于同步操作）</li>\n<li>返回值是 Promise。async 函数的返回值是 Promise 对象，这比 Generator 函数的返回值是 Iterator 对象方便多了。你可以用 then 方法指定下一步的操作。</li>\n</ol>\n</li>\n<li>\n<p>缺点</p>\n<p>当然 async/await 函数也存在一些缺点，因为 await 将异步代码改造成了同步代码，如果多个异步代码没有依赖性却使用了 await 会导致性能上的降低，代码没有依赖性的话，完全可以使用 Promise.all 的方式。</p>\n</li>\n</ul>\n</li>\n</ol>\n<h4 id=\"总结\"><a class=\"markdownIt-Anchor\" href=\"#总结\">#</a> 总结</h4>\n<ol>\n<li>JS 异步编程进化史：callback -&gt; promise -&gt; generator -&gt; async + await</li>\n<li>async/await 函数的实现，就是将 Generator 函数和自动执行器，包装在一个函数里</li>\n<li>async/await 可以说是异步终极解决方案了</li>\n</ol>\n<h2 id=\"二-相关面试问题\"><a class=\"markdownIt-Anchor\" href=\"#二-相关面试问题\">#</a> 二、相关面试问题</h2>\n<ol>\n<li>\n<p>什么是单线程，和异步有什么关系？</p>\n<ul>\n<li>单线程就是同时只做一件事，两段 JS 不能同时 执行</li>\n<li>原因就是 为了避免 DOM 渲染的冲突</li>\n<li>异步是一种 “无奈” 的解决方案，虽然有很多问题</li>\n</ul>\n</li>\n<li>\n<p>是否用过 jQuery 的 Deferred</p>\n<ul>\n<li>\n<p>步骤</p>\n<p>可以 jQuery 1.5 对 ajax 的改变举例</p>\n<p>说明如何简单的封装，使用 Deferred</p>\n<p>说明 ES6 promise 和 Deferred 的区别</p>\n</li>\n<li>\n<p>jQuery 1.5 的变化</p>\n<ul>\n<li>\n<p>无法改变 JS 异步和单线程的本质</p>\n</li>\n<li>\n<p>只能从写法上杜绝 callback 这种形式</p>\n</li>\n<li>\n<p>它是一种语法糖形式，但是解耦了代码</p>\n</li>\n<li>\n<p>很好的体现：开放封闭原则</p>\n</li>\n<li>\n<p>ajax 为例</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> ajax <span class=\"token operator\">=</span> $<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data.json\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\najax\n  <span class=\"token punctuation\">.</span><span class=\"token function\">done</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success 1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">fail</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"error\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">done</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>ajax<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//返回一个 deferred 对象</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>使用 jQuery Deferred</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">waitHandle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> dtd <span class=\"token operator\">=</span> $<span class=\"token punctuation\">.</span><span class=\"token function\">Deferred</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//创建一个 Deferred 对象</span>\n  <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">wait</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dtd</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">//要求传入一个 Deferred 对象</span>\n    <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">task</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"执行完成\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      dtd<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//表示异步任务已经完成</span>\n      <span class=\"token comment\">// dtd.reject()  //表示异步任务失败或出错</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>task<span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> dtd<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 要求返回 Deferred 对象</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 注意，这里一定要有返回值</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">wait</span><span class=\"token punctuation\">(</span>dtd<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n</ul>\n</li>\n</ol>\n",
            "tags": [
                "面试全面总结",
                "JS 三座大山"
            ]
        },
        {
            "id": "http://example.com/2019/08/14/asynchronization/",
            "url": "http://example.com/2019/08/14/asynchronization/",
            "title": "异步",
            "date_published": "2019-08-14T07:30:31.000Z",
            "content_html": "<h1 id=\"异步\"><a class=\"markdownIt-Anchor\" href=\"#异步\">#</a> 异步</h1>\n<blockquote>\n<p>本章全面讲解了 JS 异步的知识点。先从<strong>原理开始</strong> ，讲解什么是 <strong>单线程</strong>、什么是 <strong>event loop</strong> ；然后讲解 jQuery 中解决 <strong>异步的 Deferred</strong> 以及 jQuery 初次展示出来的 <strong>Promise 的用法</strong>；最后再讲解 ES6 中 <strong>Promise 的用法和标准</strong> 。</p>\n<p><strong>基础篇请看</strong> ：<a href=\"http://zxinc520.com/lcj/%225d2eeda9d797f0309cf6ab02%22\">异步和单线程</a></p>\n</blockquote>\n<h2 id=\"异步-2\"><a class=\"markdownIt-Anchor\" href=\"#异步-2\">#</a> 异步</h2>\n<blockquote>\n<p>高级面试</p>\n</blockquote>\n<ul>\n<li>《<a href=\"http://zxinc520.com/lcj/%225d2eeda9d797f0309cf6ab02%22\">前端 JS 面试技巧</a>》讲到异步的基础</li>\n<li>高级面试会问到更多的内容</li>\n<li>如 event-loop Promise Async/Await 等</li>\n</ul>\n<h3 id=\"问题\"><a class=\"markdownIt-Anchor\" href=\"#问题\">#</a> 问题</h3>\n<ul>\n<li>什么是单线程，和异步有什么关系？ <a href=\"http://zxinc520.com/lcj/%225d2eeda9d797f0309cf6ab02%22\">参考 </a></li>\n<li>什么是 event-loop？</li>\n<li>是否用过 jQuery 的 Deferred</li>\n<li>Promise 的基本使用和原理</li>\n<li>介绍一下 async/await（ES7）（和 Promise 的区别、联系）</li>\n<li>总结一下当前 JS 解决异步的方案</li>\n</ul>\n<h2 id=\"4-1-单线程和异步\"><a class=\"markdownIt-Anchor\" href=\"#4-1-单线程和异步\">#</a> 4-1 单线程和异步</h2>\n<blockquote>\n<p><a href=\"http://zxinc520.com/lcj/%225d2eeda9d797f0309cf6ab02%22\">单线程和异步基础篇 </a></p>\n</blockquote>\n<ul>\n<li>为什么是单线程？\n<ul>\n<li>原因 - 避免 DOM 渲染冲突\n<ul>\n<li>浏览器需要渲染 DOM</li>\n<li>JS 可以修改 DOM 结构</li>\n<li>JS 执行的时候，浏览器 DOM 渲染会暂停</li>\n<li>两段 JS 也不能同时执行 （ 都修改 DOM 就冲突了）</li>\n<li>webworker 支持多线程 ，但是不能 访问 DOM</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>单线程的解决方案</strong> ： <strong>异步</strong></p>\n<p><em>暴露出的问题</em> ：</p>\n<ul>\n<li>问题一：没按照书写方式执行，可读性差</li>\n<li>问题二：callback 中不容易模块化</li>\n</ul>\n<h3 id=\"问题解答\"><a class=\"markdownIt-Anchor\" href=\"#问题解答\">#</a> 问题解答</h3>\n<ul>\n<li>什么是单线程，和异步有什么关系？\n<ul>\n<li>单线程就是同时只做一件事，两段 JS 不能同时 执行</li>\n<li>原因就是 为了避免 DOM 渲染的冲突</li>\n<li>异步是一种 “无奈” 的解决方案，虽然有很多问题</li>\n</ul>\n</li>\n</ul>\n<p><strong>承上启下：</strong></p>\n<ul>\n<li>单线程 - 同时间只能做一件事</li>\n<li>原因 - 避免 DOM 渲染冲突</li>\n<li>解决方案 - 异步</li>\n<li>异步的实现方式 - event loop</li>\n</ul>\n<h2 id=\"4-2-什么是-event-loop\"><a class=\"markdownIt-Anchor\" href=\"#4-2-什么是-event-loop\">#</a> 4-2 什么是 event-loop</h2>\n<blockquote>\n<p>主线程从 &quot;任务队列&quot; 中读取事件，这个过程是循环不断的，所以整个的这种运行机制又称为 Event Loop（事件循环）。 <a href=\"http://www.ruanyifeng.com/blog/2014/10/event-loop.html\">再谈 Event Loop</a></p>\n</blockquote>\n<h3 id=\"文字解释\"><a class=\"markdownIt-Anchor\" href=\"#文字解释\">#</a> 文字解释</h3>\n<blockquote>\n<p>event-loop</p>\n</blockquote>\n<ul>\n<li>事件轮询， JS 实现异步 的具体解决方案</li>\n<li>同步代码，直接执行</li>\n<li>异步函数先放在 异步队列 中</li>\n<li>待同步函数执行完毕，轮询执行 异步队列 的函数</li>\n</ul>\n<h3 id=\"实例分析\"><a class=\"markdownIt-Anchor\" href=\"#实例分析\">#</a> 实例分析</h3>\n<p><em>示例一：</em></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190813/mxsAJyrO4cLE.png?imageslim\" alt=\"mark\"></p>\n<p><em>示例二：</em></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190813/kftHfWYaHL80.png?imageslim\" alt=\"mark\"></p>\n<p><em>示例三：</em></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190813/j3lPm5VCfcSB.png?imageslim\" alt=\"mark\"></p>\n<p><strong>上图有 2 种结果</strong>：(a 是在 ajax 请求成功时放入异步队列，所以时间不确定)</p>\n<ol>\n<li>d -&gt; c -&gt; a -&gt; b</li>\n<li>d -&gt; c -&gt; b -&gt; a</li>\n</ol>\n<h3 id=\"问题解答-2\"><a class=\"markdownIt-Anchor\" href=\"#问题解答-2\">#</a> 问题解答</h3>\n<ul>\n<li>什么是 event-loop？\n<ul>\n<li>事件轮询， JS 实现异步 的具体解决方案</li>\n<li>什么是异步队列，何时被放入 异步队列</li>\n<li>轮询的过程</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"4-3-jquery-的-deferred\"><a class=\"markdownIt-Anchor\" href=\"#4-3-jquery-的-deferred\">#</a> 4-3 jQuery 的 Deferred</h2>\n<blockquote>\n<p><a href=\"http://www.ruanyifeng.com/blog/2011/08/a_detailed_explanation_of_jquery_deferred_object.html\">jQuery 的 deferred 对象详解</a></p>\n<p>jQuery 1.5.0 版本开始引入的一个新功能 ----<a href=\"http://api.jquery.com/category/deferred-object/\">deferred 对象</a>。</p>\n<p>针对的读者是那些已经具备 jQuery 使用经验的开发者。如果你想了解 jQuery 的基本用法，请阅读 <a href=\"http://www.ruanyifeng.com/\">阮一峰</a> 编写的<a href=\"http://www.ruanyifeng.com/blog/2011/07/jquery_fundamentals.html\">《jQuery 设计思想》</a>和<a href=\"http://www.ruanyifeng.com/blog/2011/08/jquery_best_practices.html\">《jQuery 最佳实践》</a>。</p>\n</blockquote>\n<h3 id=\"知识点\"><a class=\"markdownIt-Anchor\" href=\"#知识点\">#</a> 知识点</h3>\n<ul>\n<li>jQuery 1.5 的变化</li>\n<li>使用 jQuery Deferred</li>\n<li>初步引入 Promise 概念</li>\n</ul>\n<p><strong>注意</strong> ：不要以为所有的网站 都是 vue 和 React 开发的</p>\n<h4 id=\"jquery-15-之前\"><a class=\"markdownIt-Anchor\" href=\"#jquery-15-之前\">#</a> jQuery 1.5 之前</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> ajax <span class=\"token operator\">=</span> $<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  url<span class=\"token operator\">:</span> <span class=\"token string\">\"data.json\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">success</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">error</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"error\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>ajax<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//返回一个 XHR 对象</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"jquery-15-之后\"><a class=\"markdownIt-Anchor\" href=\"#jquery-15-之后\">#</a> jQuery 1.5 之后</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> ajax <span class=\"token operator\">=</span> $<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data.json\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\najax\n  <span class=\"token punctuation\">.</span><span class=\"token function\">done</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success 1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">fail</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"error\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">done</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>ajax<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//返回一个 deferred 对象</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"jquery-15-的变化\"><a class=\"markdownIt-Anchor\" href=\"#jquery-15-的变化\">#</a> jQuery 1.5 的变化</h4>\n<ul>\n<li>无法改变 JS 异步和单线程的本质</li>\n<li>只能从写法上杜绝 callback 这种形式</li>\n<li>它是一种语法糖形式，但是解耦了代码</li>\n<li>很好的体现：<strong>开放封闭原则</strong></li>\n</ul>\n<h3 id=\"使用-jquery-deferred\"><a class=\"markdownIt-Anchor\" href=\"#使用-jquery-deferred\">#</a> 使用 jQuery Deferred</h3>\n<blockquote>\n<p>使用 jQuery Deferred</p>\n<p>对比 说明</p>\n</blockquote>\n<p><em>未使用情况：</em></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// 给出一段非常简单的异步操作代码，使用 setTimeout 函数</span>\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">wait</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">task</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"执行完成\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>task<span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 新增需求：要在执行完成之后进行某些特别复杂的操作，代码可能会很多，而且分好几个步骤</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><em>使用 jQuery Deferred</em>：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">waitHandle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> dtd <span class=\"token operator\">=</span> $<span class=\"token punctuation\">.</span><span class=\"token function\">Deferred</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//创建一个 Deferred 对象</span>\n\n  <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">wait</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dtd</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">//要求传入一个 Deferred 对象</span>\n    <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">task</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"执行完成\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      dtd<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//表示异步任务已经完成</span>\n      <span class=\"token comment\">// dtd.reject()  //表示异步任务失败或出错</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>task<span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> dtd<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 要求返回 Deferred 对象</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 注意，这里一定要有返回值</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">wait</span><span class=\"token punctuation\">(</span>dtd<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">//区别于promise，好像不能链式调用</span>\n<span class=\"token keyword\">var</span> w <span class=\"token operator\">=</span> <span class=\"token function\">waitHandle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nw<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>\n  <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ok 1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"err 1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nw<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>\n  <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ok 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"error 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 还有 w.done w.fail</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"总结\"><a class=\"markdownIt-Anchor\" href=\"#总结\">#</a> 总结</h3>\n<ul>\n<li>总结，dtd 的 API 可分成两类，用意不同</li>\n<li>第一类：dtd.resolve dtd.reject</li>\n<li>第二类：dtd.then dtd.done dtd.fail</li>\n<li>这两类应该分开，否则后果很严重</li>\n</ul>\n<h3 id=\"问题解答-3\"><a class=\"markdownIt-Anchor\" href=\"#问题解答-3\">#</a> 问题解答</h3>\n<ul>\n<li>\n<p>是否用过 jQuery 的 Deferred</p>\n<ul>\n<li>可以 jQuery 1.5 对 ajax 的改变举例</li>\n<li>说明如何简单的封装，使用 Deferred</li>\n<li>说明 ES6 promise 和 Deferred 的区别</li>\n</ul>\n</li>\n</ul>\n<p><strong>想要深入理解它，就需要知道它的前世今生。</strong></p>\n<h2 id=\"4-4-promise\"><a class=\"markdownIt-Anchor\" href=\"#4-4-promise\">#</a> 4-4 Promise</h2>\n<blockquote>\n<p>Promise 是异步编程的一种解决方案，比传统的解决方案 —— 回调函数和事件 —— 更合理和更强大。它由社区最早提出和实现，ES6 将其写进了语言标准，统一了用法，原生提供了 <code>Promise</code>  对象。</p>\n<p>所谓 <code>Promise</code> ，简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。从语法上说，Promise 是一个对象，从它可以获取异步操作的消息。Promise 提供统一的 API，各种异步操作都可以用同样的方法进行处理。</p>\n<p><a href=\"http://es6.ruanyifeng.com/#docs/promise\">ECMAScript 6 Promise 对象</a></p>\n<p><strong>基础语法</strong> 请参考我的另一篇博客： <a href=\"http://zxinc520.com/lcj/%225cbb3bf05733fa0a66088c80%22\">Promise 详细分析</a></p>\n</blockquote>\n<p><code>Promise</code> <strong> 对象有以下两个特点</strong>。</p>\n<ol>\n<li>对象的状态不受外界影响。 <code>Promise</code>  对象代表一个异步操作，有三种状态： <code>pending</code> （进行中）、 <code>fulfilled</code> （已成功）和 <code>rejected</code> （已失败）。只有异步操作的结果，可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。这也是 <code>Promise</code>  这个名字的由来，它的英语意思就是 “承诺”，表示其他手段无法改变。</li>\n<li>一旦状态改变，就不会再变，任何时候都可以得到这个结果。 <code>Promise</code>  对象的状态改变，只有两种可能：从 <code>pending</code>  变为 <code>fulfilled</code>  和从 <code>pending</code>  变为 <code>rejected</code> 。只要这两种情况发生，状态就凝固了，不会再变了，会一直保持这个结果，这时就称为 resolved（已定型）。如果改变已经发生了，你再对 <code>Promise</code>  对象添加回调函数，也会立即得到这个结果。这与事件（Event）完全不同，事件的特点是，如果你错过了它，再去监听，是得不到结果的。</li>\n</ol>\n<p>注意，为了行文方便，本章后面的 <code>resolved</code>  统一只指 <code>fulfilled</code>  状态，不包含 <code>rejected</code>  状态。</p>\n<p>有了 <code>Promise</code>  对象，就可以将异步操作以同步操作的流程表达出来，避免了层层嵌套的回调函数。此外， <code>Promise</code>  对象提供统一的接口，使得控制异步操作更加容易。</p>\n<p><code>Promise</code>  也有一些缺点。首先，无法取消 <code>Promise</code> ，一旦新建它就会立即执行，无法中途取消。其次，如果不设置回调函数， <code>Promise</code>  内部抛出的错误，不会反应到外部。第三，当处于 <code>pending</code>  状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）。</p>\n<p>如果某些事件不断地反复发生，一般来说，使用 <a href=\"https://nodejs.org/api/stream.html\">Stream</a> 模式是比部署 <code>Promise</code>  更好的选择。</p>\n<h3 id=\"异常捕获\"><a class=\"markdownIt-Anchor\" href=\"#异常捕获\">#</a> 异常捕获</h3>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">src</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">const</span> promise <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">var</span> img <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> src<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> promise<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">var</span> src <span class=\"token operator\">=</span>\n  <span class=\"token string\">\"https://edu-image.nosdn.127.net/B34DC36428D2D51B8EF5EE2C83CE9BF2.png?imageView&amp;thumbnail=241y34&amp;quality=100\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> result <span class=\"token operator\">=</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//规定 ： then 只接受一个参数，最后统一用 catch 捕获异常</span>\nresult\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">img</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> img<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">img</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ex</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// 最后统一 catch</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>ex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"promiseall-promiserace\"><a class=\"markdownIt-Anchor\" href=\"#promiseall-promiserace\">#</a> Promise.all &amp; Promise.race</h3>\n<blockquote>\n<p><strong>Promise.all</strong> 可以将多个 Promise 实例包装成一个新的 Promise 实例。同时，成功和失败的返回值是不同的，成功的时候返回的是一个结果数组，而失败的时候则返回最先被 reject 失败状态的值。</p>\n<p><strong>Promse.race</strong> 就是赛跑的意思，意思就是说，Promise.race ([p1, p2, p3]) 里面哪个结果获得的快，就返回那个结果，不管结果本身是成功状态还是失败状态。</p>\n<p><a href=\"https://www.jianshu.com/p/7e60fc1be1b2\">理解和使用 Promise.all 和 Promise.race</a></p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190814/LoF987DaE10r.png?imageslim\" alt=\"mark\"></p>\n<p><em>演示</em> ：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">src</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">const</span> promise <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">var</span> img <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> src<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> promise<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">var</span> src1 <span class=\"token operator\">=</span>\n  <span class=\"token string\">\"https://edu-image.nosdn.127.net/B34DC36428D2D51B8EF5EE2C83CE9BF2.png?imageView&amp;thumbnail=241y34&amp;quality=100\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> src2 <span class=\"token operator\">=</span> <span class=\"token string\">\"https://www.imooc.com/static/img/index/logo.png\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> result1 <span class=\"token operator\">=</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span>src1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> result2 <span class=\"token operator\">=</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span>src2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nPromise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>result1<span class=\"token punctuation\">,</span> result2<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">datas</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>datas<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>datas<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//谁快谁先执行</span>\nPromise<span class=\"token punctuation\">.</span><span class=\"token function\">race</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>result1<span class=\"token punctuation\">,</span> result2<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">datas</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>datas<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>Promise.all 的执行结果</strong> ：</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190814/ITqccL9zhyE0.png?imageslim\" alt=\"mark\"></p>\n<p><strong>Promise.race 的执行结果</strong> ：</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190814/PP76XFiW0S3V.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"promise-标准\"><a class=\"markdownIt-Anchor\" href=\"#promise-标准\">#</a> promise 标准</h3>\n<ul>\n<li>关于 “标准” 的闲谈</li>\n<li>状态变化</li>\n<li>then</li>\n</ul>\n<h4 id=\"关于-标准-的闲谈\"><a class=\"markdownIt-Anchor\" href=\"#关于-标准-的闲谈\">#</a> 关于 “标准” 的闲谈</h4>\n<ul>\n<li>任何技术推广使用都需要一套标准来支撑</li>\n<li>如 html js css http 等，无规矩不成方圆</li>\n<li>任何不符合标准的东西，终将会被用户抛弃</li>\n<li>不要挑战标准，不要自造标准</li>\n</ul>\n<h4 id=\"状态变化\"><a class=\"markdownIt-Anchor\" href=\"#状态变化\">#</a> 状态变化</h4>\n<ul>\n<li>三种状态：pending fulfilled rejected</li>\n<li>初始状态：pending</li>\n<li><strong>成功</strong>：pending 变成 fulfilled ，<strong>失败</strong>：pending 变成 rejected</li>\n<li>状态变化不可逆</li>\n</ul>\n<h4 id=\"then\"><a class=\"markdownIt-Anchor\" href=\"#then\">#</a> then</h4>\n<ul>\n<li>\n<p>Promise 实例必须实现 then 这个方法</p>\n</li>\n<li>\n<p>then () 必须可以接受两个函数作为参数</p>\n</li>\n<li>\n<p>then () 返回的必须是一个 Promise 实例</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190814/p2zjIfnNkjIp.png?imageslim\" alt=\"mark\"></p>\n</li>\n</ul>\n<h3 id=\"问题解答-4\"><a class=\"markdownIt-Anchor\" href=\"#问题解答-4\">#</a> 问题解答</h3>\n<p><strong>问题：Promise 的基本使用和原理？</strong></p>\n<ul>\n<li>基本语法 （复习）</li>\n<li>如何异常捕获 （ error 和 reject 都要考虑）</li>\n<li>多个串联 - 链式执行的好处</li>\n<li>Promise.all 和 Promise.race</li>\n<li>Promise 标准 - 状态变化，then 函数</li>\n</ul>\n<h2 id=\"4-5-asyncawait\"><a class=\"markdownIt-Anchor\" href=\"#4-5-asyncawait\">#</a> 4-5 async/await</h2>\n<blockquote>\n<p>ES2017 标准引入了 async 函数，使得异步操作变得更加方便。</p>\n<p>async 函数是什么？一句话，它就是 Generator 函数的语法糖。</p>\n<p><a href=\"http://es6.ruanyifeng.com/\">ECMAScript 6 入门</a> <a href=\"http://es6.ruanyifeng.com/#docs/async\">async 函数</a></p>\n</blockquote>\n<ul>\n<li>then 只是将 callback 拆分了</li>\n<li>async/await 是最直接的同步写法</li>\n</ul>\n<p><img src=\"http://static.zxinc520.com/blog/20190815/B2MsvoDMkq7B.png?imageslim\" alt=\"mark\"></p>\n<p><strong>最直接的同步写法：</strong></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">load</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">const</span> result1 <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span>src1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> result2 <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span>src2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"用法\"><a class=\"markdownIt-Anchor\" href=\"#用法\">#</a> 用法</h3>\n<ul>\n<li>使用 await，函数必须用 async 标识</li>\n<li>await 后面跟的是一个 Promise 实例</li>\n<li>需要 babel-polyfill</li>\n</ul>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">src</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">const</span> promise <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">var</span> img <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> src<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> promise<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">var</span> src1 <span class=\"token operator\">=</span>\n  <span class=\"token string\">\"https://edu-image.nosdn.127.net/B34DC36428D2D51B8EF5EE2C83CE9BF2.png?imageView&amp;thumbnail=241y34&amp;quality=100\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> src2 <span class=\"token operator\">=</span> <span class=\"token string\">\"https://www.imooc.com/static/img/index/logo.png\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">load</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">const</span> result1 <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span>src1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> result2 <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span>src2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"问题解答-5\"><a class=\"markdownIt-Anchor\" href=\"#问题解答-5\">#</a> 问题解答</h3>\n<ul>\n<li>介绍一下 async/await（ES7）（和 Promise 的区别、联系）\n<ul>\n<li>基本语法</li>\n<li>使用了 Promise，并没有和 Promise 冲突</li>\n<li>完全是同步的写法，再也没有回调函数</li>\n<li>但是：改变不了 JS 单线程、异步的本质</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "JS 三座大山",
                "单线程",
                "event loop",
                "异步的 Deferred",
                "Promise"
            ]
        },
        {
            "id": "http://example.com/2019/08/10/NewPrototype/",
            "url": "http://example.com/2019/08/10/NewPrototype/",
            "title": "原型",
            "date_published": "2019-08-10T07:52:24.000Z",
            "content_html": "<h1 id=\"原型\"><a class=\"markdownIt-Anchor\" href=\"#原型\">#</a> 原型</h1>\n<blockquote>\n<p>本章将结合 <strong>jQuery</strong> 和 <strong>zepto</strong> 源码来讲解原型的实际应用。通过 <strong>源码来分析</strong> jQuery 和 zepto 是如何使用原型的，以及通过它们的 <strong>插件机制</strong>，讲解 <strong>原型的扩展性</strong> 。</p>\n<p>《前端 JS 面试技巧》请参考我之前的博客： <a href=\"http://zxinc520.com/lcj/%225d2df2cdda85353d5ca8b83f%22\">前端 JS 基础面试技巧</a></p>\n</blockquote>\n<h3 id=\"关于原型\"><a class=\"markdownIt-Anchor\" href=\"#关于原型\">#</a> 关于原型</h3>\n<ul>\n<li>《前端 JS 面试技巧》已经讲解过原型的 <a href=\"http://zxinc520.com/lcj/%225d2df2cdda85353d5ca8b83f%22\">基础知识</a></li>\n<li>高级面试题，光会原型基础还不够，还要实际应用</li>\n<li>zepto jquery 中如何用原型</li>\n<li>顺便也算是解读了 zepto 和 jquery 的部分源码</li>\n</ul>\n<h3 id=\"题目\"><a class=\"markdownIt-Anchor\" href=\"#题目\">#</a> 题目</h3>\n<ul>\n<li>说一个原型的实际应用</li>\n<li>原型如何体现它的扩展性</li>\n</ul>\n<h2 id=\"原型的实际应用\"><a class=\"markdownIt-Anchor\" href=\"#原型的实际应用\">#</a> 原型的实际应用</h2>\n<blockquote>\n<p>原型的实际应用</p>\n</blockquote>\n<h3 id=\"知识点\"><a class=\"markdownIt-Anchor\" href=\"#知识点\">#</a> 知识点</h3>\n<ul>\n<li>jquery 和 zepto 的简单使用</li>\n<li>zepto 如何使用原型</li>\n<li>jquery 如何使用原型</li>\n</ul>\n<h4 id=\"简单使用\"><a class=\"markdownIt-Anchor\" href=\"#简单使用\">#</a> 简单使用</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token constant\">DOCTYPE</span> html<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>html lang<span class=\"token operator\">=</span><span class=\"token string\">\"en\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>head<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>meta charset<span class=\"token operator\">=</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span>Title<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>head<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>body<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>jquery test <span class=\"token number\">1</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>jquery test <span class=\"token number\">2</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>jquery test <span class=\"token number\">3</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"div1\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>jquery test <span class=\"token keyword\">in</span> dev<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n    <span class=\"token keyword\">var</span> $p <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'p'</span><span class=\"token punctuation\">)</span>\n    $p<span class=\"token punctuation\">.</span><span class=\"token function\">css</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font-size'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'40px'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//css 是原型方法</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>$p<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> \t\t    <span class=\"token comment\">//html 是原型方法</span>\n\n    <span class=\"token keyword\">var</span> $div1 <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#div1'</span><span class=\"token punctuation\">)</span>      <span class=\"token comment\">//css 是原型方法</span>\n    $div1<span class=\"token punctuation\">.</span><span class=\"token function\">css</span><span class=\"token punctuation\">(</span><span class=\"token string\">'color'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//html 是原型方法</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>$div1<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span>\n\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"zepto-如何使用原型\"><a class=\"markdownIt-Anchor\" href=\"#zepto-如何使用原型\">#</a> zepto 如何使用原型</h4>\n<blockquote>\n<p>源码中，这里的处理情况比较复杂。但因为本次只针对原型，因此这里就弱化了</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">window</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">//空对象</span>\n  <span class=\"token keyword\">var</span> zepto <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n  zepto<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">init</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">selector</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">//源码中，这里的处理情况比较复杂。但因为本次只针对原型，因此这里就弱化了</span>\n    <span class=\"token keyword\">var</span> slice <span class=\"token operator\">=</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>slice<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> dom <span class=\"token operator\">=</span> <span class=\"token function\">slice</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> zepto<span class=\"token punctuation\">.</span><span class=\"token constant\">Z</span><span class=\"token punctuation\">(</span>dom<span class=\"token punctuation\">,</span> selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 即使用 zepto 时候的 $</span>\n  <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">$</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">selector</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> zepto<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 这就是构造函数</span>\n  <span class=\"token keyword\">function</span> <span class=\"token constant\">Z</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dom<span class=\"token punctuation\">,</span> selector</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">var</span> i<span class=\"token punctuation\">,</span>\n      len <span class=\"token operator\">=</span> dom <span class=\"token operator\">?</span> dom<span class=\"token punctuation\">.</span>length <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> dom<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>length <span class=\"token operator\">=</span> len<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selector <span class=\"token operator\">=</span> selector<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n\n  zepto<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">Z</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dom<span class=\"token punctuation\">,</span> selector</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// 注意，出现了 new 关键字</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Z</span><span class=\"token punctuation\">(</span>dom<span class=\"token punctuation\">,</span> selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n  $<span class=\"token punctuation\">.</span>fn <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    constructor<span class=\"token operator\">:</span> zepto<span class=\"token punctuation\">.</span><span class=\"token constant\">Z</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">css</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">html</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n  zepto<span class=\"token punctuation\">.</span><span class=\"token class-name\">Z</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token class-name\">Z</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> $<span class=\"token punctuation\">.</span>fn<span class=\"token punctuation\">;</span>\n\n  window<span class=\"token punctuation\">.</span>$ <span class=\"token operator\">=</span> $<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"jquery-如何使用原型\"><a class=\"markdownIt-Anchor\" href=\"#jquery-如何使用原型\">#</a> jquery 如何使用原型</h4>\n<blockquote>\n<p>简化了源码，重在讲解 jquery 如何使用原型</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">//简化了源码，真实源码分支很多,选取部分代码</span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">window</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">jQuery</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">selector</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">//注意 new 关键字，第一步就找到了 构造函数</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">jQuery<span class=\"token punctuation\">.</span>fn<span class=\"token punctuation\">.</span>init</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">//定义构造函数</span>\n  <span class=\"token keyword\">var</span> init <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>jQuery<span class=\"token punctuation\">.</span>fn<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">init</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">selector</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">var</span> slice <span class=\"token operator\">=</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>slice<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> dom <span class=\"token operator\">=</span> <span class=\"token function\">slice</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">var</span> i<span class=\"token punctuation\">,</span>\n      len <span class=\"token operator\">=</span> dom <span class=\"token operator\">?</span> dom<span class=\"token punctuation\">.</span>length <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> dom<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>length <span class=\"token operator\">=</span> len<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selector <span class=\"token operator\">=</span> selector <span class=\"token operator\">||</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  init<span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> jQuery<span class=\"token punctuation\">.</span>fn<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">//初始化 jQuery.fn</span>\n  jQuery<span class=\"token punctuation\">.</span>fn <span class=\"token operator\">=</span> jQuery<span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    constructor<span class=\"token operator\">:</span> jQuery<span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\">//其他函数...</span>\n    <span class=\"token function-variable function\">css</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">html</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">//定义原型</span>\n  init<span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> jQuery<span class=\"token punctuation\">.</span>fn<span class=\"token punctuation\">;</span>\n  window<span class=\"token punctuation\">.</span>$ <span class=\"token operator\">=</span> jQuery<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"问题解答\"><a class=\"markdownIt-Anchor\" href=\"#问题解答\">#</a> 问题解答</h3>\n<ul>\n<li>描述一下 jquery 如何使用原型</li>\n<li>描述一下 zepto 如何使用原型</li>\n<li>再结合自己的项目经验，说一下自己开发的例子</li>\n</ul>\n<h2 id=\"如何体现原型的扩展性\"><a class=\"markdownIt-Anchor\" href=\"#如何体现原型的扩展性\">#</a> 如何体现原型的扩展性</h2>\n<blockquote>\n<p>体现原型的扩展性</p>\n</blockquote>\n<h3 id=\"知识点-2\"><a class=\"markdownIt-Anchor\" href=\"#知识点-2\">#</a> 知识点</h3>\n<ul>\n<li>总结 zepto 和 jquery 原型的使用</li>\n<li>插件机制</li>\n</ul>\n<h3 id=\"总结-zepto-和-jquery-原型的使用\"><a class=\"markdownIt-Anchor\" href=\"#总结-zepto-和-jquery-原型的使用\">#</a> 总结 zepto 和 jquery 原型的使用</h3>\n<blockquote>\n<p>总结 zepto 和 jquery 原型的使用</p>\n<p>相关 <strong>代码实现</strong> 请看上文 ：zepto 如何使用原型 和 jquery 如何使用原型</p>\n</blockquote>\n<p><em>问题一：为何要把原型方法放在 $.fn ?</em></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">//初始化 jQuery.fn</span>\njQuery<span class=\"token punctuation\">.</span>fn <span class=\"token operator\">=</span> jQuery<span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  constructor<span class=\"token operator\">:</span> jQuery<span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">//其他函数...</span>\n  <span class=\"token function-variable function\">css</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">html</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//定义原型</span>\ninit<span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> jQuery<span class=\"token punctuation\">.</span>fn<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>解答</strong> ：<u>因为要扩展插件</u> ，做一个简单的插件的例子</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// 因为要扩展插件，做一个简单的插件的例子</span>\n$<span class=\"token punctuation\">.</span>fn<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getNodeName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>nodeName<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>好处</strong>：</p>\n<ol>\n<li>只有 $ 会暴露在 window 全局变量</li>\n<li>将插件扩展统一到 $.fn.xxx 这一接口，方便使用</li>\n</ol>\n<h2 id=\"总结\"><a class=\"markdownIt-Anchor\" href=\"#总结\">#</a> 总结</h2>\n<ul>\n<li>\n<p>说一个原型的实际应用</p>\n<ul>\n<li>描述一下 jquery 如何使用 原型</li>\n<li>描述一下 zepto 如何使用 原型</li>\n<li>再结合自己的项目经验，说一下自己开发的例子</li>\n</ul>\n</li>\n<li>\n<p>原型如何体现它的扩展性</p>\n<ul>\n<li>说一下 jquery 和 zepto 的 插件机制</li>\n<li>结合自己的开发经验，做过的基于原型的插件</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "面试全面总结",
                "JS 三座大山"
            ]
        },
        {
            "id": "http://example.com/2019/08/04/ES6intro/",
            "url": "http://example.com/2019/08/04/ES6intro/",
            "title": "ES6 语法",
            "date_published": "2019-08-04T08:46:35.000Z",
            "content_html": "<h1 id=\"es6-语法\"><a class=\"markdownIt-Anchor\" href=\"#es6-语法\">#</a> ES6 语法</h1>\n<blockquote>\n<p>本章主要讲解工作中最常用的 ES6 语法，包括 <strong>Module Class Promise</strong> 等语法，还会介绍使用 <strong>babel webpack rollup</strong> 来搭建 ES6 编译环境。</p>\n<p><a href=\"http://es6.ruanyifeng.com/\">ECMAScript 6 入门</a></p>\n</blockquote>\n<h2 id=\"es6-使用\"><a class=\"markdownIt-Anchor\" href=\"#es6-使用\">#</a> ES6 使用</h2>\n<ul>\n<li>开发环境已经普及使用</li>\n<li>浏览器环境却支持不好（ 需要开发环境编译 ）</li>\n<li>内容很多，重点了解常用语法</li>\n<li>面试：开发环境的使用 + 重点语法的掌握</li>\n</ul>\n<h3 id=\"问题\"><a class=\"markdownIt-Anchor\" href=\"#问题\">#</a> 问题</h3>\n<ul>\n<li>ES6 模块化如何使用，开发环境如何打包</li>\n<li>Class 和 普通构造函数 有何区别 ？</li>\n<li>Promise 的基本使用和原理</li>\n<li>总结一下 ES6 其它常用功能</li>\n</ul>\n<h2 id=\"2-1-es6-模块化语法\"><a class=\"markdownIt-Anchor\" href=\"#2-1-es6-模块化语法\">#</a> 2-1 ES6 模块化语法</h2>\n<blockquote>\n<p>ES6 模块化如何使用，开发环境如何打包</p>\n</blockquote>\n<h3 id=\"知识点\"><a class=\"markdownIt-Anchor\" href=\"#知识点\">#</a> 知识点</h3>\n<p><strong>ES6 模块化如何使用，开发环境如何打包:</strong></p>\n<ul>\n<li>模块化的基本语法</li>\n<li>开发环境的配置</li>\n<li>关于 JS 众多 模块化标准</li>\n</ul>\n<h4 id=\"export-语法\"><a class=\"markdownIt-Anchor\" href=\"#export-语法\">#</a> export 语法</h4>\n<blockquote>\n<p>export 语法</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">/*util1.js*/</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">&#123;</span>\n  a<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/*util2.js*/</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fn1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fn1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fn2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fn2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">/*index.js*/</span>\n<span class=\"token keyword\">import</span> util1 <span class=\"token keyword\">from</span> <span class=\"token string\">\"./util1.js\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> fn1<span class=\"token punctuation\">,</span> fn2 <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./util2.js\"</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>util1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">fn1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">fn2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"开发环境-babel\"><a class=\"markdownIt-Anchor\" href=\"#开发环境-babel\">#</a> 开发环境 - babel</h4>\n<blockquote>\n<p>Babel 是一个 JavaScript 编译器。<a href=\"https://babeljs.io/\">官网</a></p>\n<p>使用技巧 可参考 <a href=\"http://zxinc520.com/lcj/%225cc4640d9b3032095d9e5754%22\">React 学习第一天 ：webpack 中使用 Babel 配置</a></p>\n<p>和 <a href=\"http://zxinc520.com/lcj/%225cb72a04009ae94788aa0d7f%22\">Vue 第六天学习 ：webpack 中 babel 的配置</a></p>\n</blockquote>\n<h4 id=\"开发环境-webpack\"><a class=\"markdownIt-Anchor\" href=\"#开发环境-webpack\">#</a> 开发环境 - webpack</h4>\n<blockquote>\n<p>开发环境 - webpack - <em>webpack</em> 是一个模块打包器 <a href=\"https://webpack.js.org/\">官网</a></p>\n<p>详情 可参考我的博客：<a href=\"http://zxinc520.com/lcj/%225cb181596d3d4a5cb52b65c9%22\">Vue 第五天：webpack</a> 和 <a href=\"http://zxinc520.com/lcj/%225cb72a04009ae94788aa0d7f%22\">Vue 第六天学习：深入 webpack</a> 以及 <a href=\"http://zxinc520.com/lcj/%225cc4640d9b3032095d9e5754%22\">React 学习第一天：创建基本的 webpack4.x 项目 </a></p>\n</blockquote>\n<h4 id=\"rollupjs\"><a class=\"markdownIt-Anchor\" href=\"#rollupjs\">#</a> rollup.js</h4>\n<blockquote>\n<p>概述 (Overview) <a href=\"https://www.rollupjs.com/guide/zh\">中文文档</a> <a href=\"https://rollupjs.org/guide/en/\">官网</a></p>\n<p>Rollup 是一个 JavaScript 模块打包器，可以将小块代码编译成大块复杂的代码，例如 library 或应用程序。Rollup 对代码模块使用新的标准化格式，这些标准都包含在 JavaScript 的 ES6 版本中，而不是以前的特殊解决方案，如 CommonJS 和 AMD。ES6 模块可以使你自由、无缝地使用你最喜爱的 library 中那些最有用独立函数，而你的项目不必携带其他未使用的代码。ES6 模块最终还是要由浏览器原生实现，但当前 Rollup 可以使你提前体验</p>\n<p><strong>rollup 功能单一（极致） ，webpack 功能强大</strong></p>\n</blockquote>\n<h4 id=\"关于-js-众多-模块化标准\"><a class=\"markdownIt-Anchor\" href=\"#关于-js-众多-模块化标准\">#</a> 关于 JS 众多 模块化标准</h4>\n<blockquote>\n<p>关于 JS 众多 模块化标准</p>\n<p>详情可参考我的博客：<a href=\"http://zxinc520.com/lcj/%225d31940b724e8113740499b3%22\">开发环境： 模块化</a></p>\n</blockquote>\n<p><strong>发展过程</strong></p>\n<ul>\n<li>没有模块化</li>\n<li>AMD 成为 标准，require.js （也有 CMD【<strong>用的不多</strong> 】）</li>\n<li>前端打包工具，nodejs 模块化可以被使用</li>\n<li>ES6 出现 ，想统一现在所有的模块化标准</li>\n<li>nodejs 积极支持，浏览器尚未统一</li>\n<li>你可以自造 lib，但是不要自造标准</li>\n</ul>\n<h3 id=\"问题解答\"><a class=\"markdownIt-Anchor\" href=\"#问题解答\">#</a> 问题解答</h3>\n<ul>\n<li>语法：import export （注意有无 default）</li>\n<li>环境：babel 编译 ES6 语法，模块化可用 webpack 和 rollup</li>\n<li>扩展：说一下自己对模块化标准统一的期待</li>\n</ul>\n<h2 id=\"2-2-class-和-普通构造函数有何区别\"><a class=\"markdownIt-Anchor\" href=\"#2-2-class-和-普通构造函数有何区别\">#</a> 2-2 Class 和 普通构造函数有何区别</h2>\n<blockquote>\n<p>Class 和 普通构造函数有何区别</p>\n<p><a href=\"http://zxinc520.com/lcj/%225cd03896bd482e21ac46a9d4%22\">我的博客：React 学习第二天：了解 class</a></p>\n</blockquote>\n<h3 id=\"知识点-2\"><a class=\"markdownIt-Anchor\" href=\"#知识点-2\">#</a> 知识点</h3>\n<ul>\n<li>JS 构造函数</li>\n<li>Class 基本语法</li>\n<li>语法糖</li>\n<li>继承</li>\n</ul>\n<h3 id=\"问题解答-2\"><a class=\"markdownIt-Anchor\" href=\"#问题解答-2\">#</a> 问题解答</h3>\n<ul>\n<li>Class 和 普通构造函数 有何区别 ？\n<ul>\n<li>Class 在语法上更加贴合面向对象的写法</li>\n<li>Class 实现继承更加易读、易理解</li>\n<li>更易于写 java 等后端语言的使用</li>\n<li>本质还是语法糖， 使用 prototype</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2-3-promise-的基本使用\"><a class=\"markdownIt-Anchor\" href=\"#2-3-promise-的基本使用\">#</a> 2-3 Promise 的基本使用</h2>\n<h3 id=\"promise-的基本使用\"><a class=\"markdownIt-Anchor\" href=\"#promise-的基本使用\">#</a> Promise 的基本使用</h3>\n<blockquote>\n<p>可参考我的博客：<a href=\"http://zxinc520.com/lcj/%225cbb3bf05733fa0a66088c80%22\">Promise 详细分析</a></p>\n</blockquote>\n<ul>\n<li>Callback Hell</li>\n<li>Promise 语法</li>\n</ul>\n<h4 id=\"callback-hell\"><a class=\"markdownIt-Anchor\" href=\"#callback-hell\">#</a> Callback Hell</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">src<span class=\"token punctuation\">,</span> callback<span class=\"token punctuation\">,</span> fail</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> img <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  img<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  img<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">fail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  img<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> src<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">var</span> src <span class=\"token operator\">=</span>\n  <span class=\"token string\">\"https://edu-image.nosdn.127.net/B34DC36428D2D51B8EF5EE2C83CE9BF2.png?imageView&amp;thumbnail=241y34&amp;quality=100\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span>\n  src<span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">img</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"failed\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"promise-语法\"><a class=\"markdownIt-Anchor\" href=\"#promise-语法\">#</a> Promise 语法</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">src</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">const</span> promise <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">var</span> img <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> src<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> promise<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">var</span> src <span class=\"token operator\">=</span>\n  <span class=\"token string\">\"https://edu-image.nosdn.127.net/B34DC36428D2D51B8EF5EE2C83CE9BF2.png?imageView&amp;thumbnail=241y34&amp;quality=100\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> result <span class=\"token operator\">=</span> <span class=\"token function\">loadImg</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nresult<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>\n  <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">img</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"faild\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nresult<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">img</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"问题解答-3\"><a class=\"markdownIt-Anchor\" href=\"#问题解答-3\">#</a> 问题解答</h3>\n<ul>\n<li>Promise 的基本使用和原理？\n<ul>\n<li>new Promise 实例，而且要 return</li>\n<li>new Promise 时要传入函数，函数有 resolve, reject 两个参数</li>\n<li>成功时执行 resolve () 失败时执行 reject ()</li>\n<li>then 监听结果</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2-4-总结一下-es6-其它常用功能\"><a class=\"markdownIt-Anchor\" href=\"#2-4-总结一下-es6-其它常用功能\">#</a> 2-4 总结一下 ES6 其它常用功能</h2>\n<h3 id=\"知识点-3\"><a class=\"markdownIt-Anchor\" href=\"#知识点-3\">#</a> 知识点</h3>\n<ul>\n<li>let/const</li>\n<li>多行字符串 / 模板变量</li>\n<li>解构赋值</li>\n<li>块级作用域</li>\n<li>函数默认参数</li>\n<li>箭头函数</li>\n</ul>\n<h4 id=\"letconst\"><a class=\"markdownIt-Anchor\" href=\"#letconst\">#</a> let/const</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190804/IjRCPysI3ja5.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"多行字符串模板变量\"><a class=\"markdownIt-Anchor\" href=\"#多行字符串模板变量\">#</a> 多行字符串 / 模板变量</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190804/cmkreCVTvB3f.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"解构赋值\"><a class=\"markdownIt-Anchor\" href=\"#解构赋值\">#</a> 解构赋值</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190804/tkv3jll7XPJG.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"块级作用域\"><a class=\"markdownIt-Anchor\" href=\"#块级作用域\">#</a> 块级作用域</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190804/vqFw5Cyt1Okg.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"函数默认参数\"><a class=\"markdownIt-Anchor\" href=\"#函数默认参数\">#</a> 函数默认参数</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190804/rDHBLwq6djzQ.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"箭头函数\"><a class=\"markdownIt-Anchor\" href=\"#箭头函数\">#</a> 箭头函数</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190804/26aXyJj3eE8M.png?imageslim\" alt=\"mark\"></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190804/XppPYlgRUceY.png?imageslim\" alt=\"mark\"></p>\n",
            "tags": [
                "ES6 模块化语法",
                "babel",
                "webpack",
                "rollup",
                "ES6"
            ]
        },
        {
            "id": "http://example.com/2019/08/04/JsBasicKnowledge01/",
            "url": "http://example.com/2019/08/04/JsBasicKnowledge01/",
            "title": "前端JS基础面试技巧上",
            "date_published": "2019-08-04T08:44:08.000Z",
            "content_html": "<h1 id=\"前端-js-基础面试技巧\"><a class=\"markdownIt-Anchor\" href=\"#前端-js-基础面试技巧\">#</a> 前端 JS 基础面试技巧</h1>\n<blockquote>\n<p>讲解 JS 基础语法相关的面试题，分析原理以及解答方法。这一章节讲解了基础知识的第一部分：变量的类型和计算。以及 JS “三座大山” —— 原型、作用域和异步中的： 原型和原型链、作用域和闭包。</p>\n<p>知识点：</p>\n<p>2-1 变量类型和计算</p>\n<p>2-2 原型和原型链</p>\n<p>2-3 函数声明和函数表达式</p>\n<p>2-4 作用域和闭包</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/A5zp7Ltc8RyD.png?imageslim\" alt=\"mark\"></p>\n<p><strong>关于面试</strong></p>\n<ul>\n<li>基层工程师 - <em>基础知识</em></li>\n<li>高级工程师 - <em>项目经验</em></li>\n<li>架构师 - <em>解决方案</em></li>\n</ul>\n<h2 id=\"先从几道面试题入手\"><a class=\"markdownIt-Anchor\" href=\"#先从几道面试题入手\">#</a> 先从几道面试题入手</h2>\n<ul>\n<li>JS 中使用 <strong>typeof</strong> 能得到的哪些类型？\n<ul>\n<li>考点：<em>JS 变量类型</em></li>\n</ul>\n</li>\n<li>何时使用 <strong>===</strong> 何时使用 **== **？\n<ul>\n<li>考点：<em>强制类型转换</em></li>\n</ul>\n</li>\n<li><strong>window.onload</strong> 和 <strong>DOMContentLoaded</strong> 的区别？\n<ul>\n<li>考点：<em>浏览器的渲染过程</em></li>\n</ul>\n</li>\n<li>用 JS 创建 10 个 a 标签，点击的时候弹出来对应的序号\n<ul>\n<li>考点：<em>作用域</em></li>\n</ul>\n</li>\n<li>简述如何实现一个<strong>模块加载器</strong>，实现类似 <strong>require.js</strong> 的基本功能\n<ul>\n<li>考点：<em>JS 模块化</em></li>\n</ul>\n</li>\n<li>实现数组的 <strong>随机排序</strong>\n<ul>\n<li>考点：<em>JS 基础算法</em></li>\n</ul>\n</li>\n</ul>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/HysLOVvbjQLN.png?imageslim\" alt=\"mark\"></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/YKiIQGW864fb.png?imageslim\" alt=\"mark\"></p>\n<h1 id=\"知识体系\"><a class=\"markdownIt-Anchor\" href=\"#知识体系\">#</a> 知识体系</h1>\n<blockquote>\n<p>题目</p>\n<p>知识点</p>\n<p>解答</p>\n</blockquote>\n<h2 id=\"2-1-变量类型和计算\"><a class=\"markdownIt-Anchor\" href=\"#2-1-变量类型和计算\">#</a> 2-1 变量类型和计算</h2>\n<blockquote>\n<p>2-1 变量类型和计算</p>\n<p>题目</p>\n<p>知识点</p>\n<p>解答</p>\n</blockquote>\n<h3 id=\"题目\"><a class=\"markdownIt-Anchor\" href=\"#题目\">#</a> 题目</h3>\n<ul>\n<li>JS 中使用 <strong>typeof</strong> 能得到的哪些类型？</li>\n<li>何时使用 <strong>===</strong> 何时使用 **== **？</li>\n<li>JS 中有哪些 <strong>内置函数</strong></li>\n<li>JS 变量按照 <strong>存储方式</strong> 分为哪些类型，并描述其特点</li>\n<li>如何理解 <strong>JSON</strong></li>\n</ul>\n<h3 id=\"知识点\"><a class=\"markdownIt-Anchor\" href=\"#知识点\">#</a> 知识点</h3>\n<ul>\n<li>变量类型\n<ul>\n<li>值类型 vs 引用类型</li>\n<li>typeof 运算符 详解</li>\n</ul>\n</li>\n<li>变量计算</li>\n</ul>\n<h3 id=\"变量类型\"><a class=\"markdownIt-Anchor\" href=\"#变量类型\">#</a> 变量类型</h3>\n<blockquote>\n<p>值类型 vs 引用类型</p>\n</blockquote>\n<h4 id=\"值类型\"><a class=\"markdownIt-Anchor\" href=\"#值类型\">#</a> 值类型</h4>\n<blockquote>\n<p><strong>值类型 (基本数据类型) 的值是按值访问的。</strong></p>\n<p>基本类型的值是<strong>不可变的</strong>，基本类型的比较是它们的<strong>值的比较</strong>，基本类型的变量是存放在 <strong>栈内存（Stack）里的</strong>。</p>\n<p><strong>JavaScript</strong> 数据<strong>类型</strong> 值<strong>类型</strong> (<strong>基本类型</strong>)：字符串（String）、数字 (Number)、布尔 (Boolean)、对空（Null）、未定义（Undefined）、Symbol (ES6 提供的新的类型)。</p>\n<p>6 种基本数据类型:<strong>string</strong>、<strong>number</strong>、<strong>boolean</strong>、<strong>undefined</strong>、<strong>null</strong> 、<strong>Symbol</strong> 。</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/Ss70W0DDyFPT.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"引用类型\"><a class=\"markdownIt-Anchor\" href=\"#引用类型\">#</a> 引用类型</h4>\n<blockquote>\n<p><strong>引用类型的值是按引用访问的。</strong></p>\n<p>引用类型的值是<strong>可变的</strong>，引用类型的比较是<strong>引用的比较</strong>，引用类型的值是保存在 <strong>堆内存（Heap）中的对象（Object）</strong>。</p>\n<p>特点：无限制扩展属性</p>\n<p><strong>3 种</strong> 主要引用类型：对象（<strong>Object</strong>）、数组（<strong>Array</strong>）、函数（<strong>Function</strong>）</p>\n<p>细分的话，有： <code>Object 类型</code> 、 <code>Array 类型</code> 、 <code>Date 类型</code> 、 <code>RegExp 类型</code> 、 <code>Function 类型</code>  等。</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/znhFw1Srcm3D.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"数据类型\"><a class=\"markdownIt-Anchor\" href=\"#数据类型\">#</a> 数据类型</h4>\n<blockquote>\n<p>** 值类型 (基本类型) **+ <strong>引用数据类型</strong></p>\n<p><u>7 种数据类型</u>：<strong>number</strong>、<strong>string</strong>、<strong>boolean</strong>、<strong>undefined</strong>、<strong>null</strong>、<strong>Symbol</strong> 、<strong>Object (Object、Array、Function)</strong> 。</p>\n</blockquote>\n<h4 id=\"typeof-运算符\"><a class=\"markdownIt-Anchor\" href=\"#typeof-运算符\">#</a> typeof 运算符</h4>\n<blockquote>\n<p><strong>7</strong> 种类型：<strong>undefined</strong>、<strong>string</strong>、<strong>number</strong>、<strong>boolean</strong>、<strong>object</strong>、<strong>function</strong> 、<strong>symbol</strong>（ES6 提供的新的类型）</p>\n<p>注意：typeof <strong>null</strong> // object</p>\n<p>typeof 运算符 <strong>只能</strong> 区分 <strong>值类型</strong> 的 类型，对于引用类型的 <strong>对象</strong>、<strong>数组</strong> <strong>区分不出来</strong> 。</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/k3tYgoHSpYgy.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"变量计算\"><a class=\"markdownIt-Anchor\" href=\"#变量计算\">#</a> 变量计算</h3>\n<blockquote>\n<p>这个主要针对值类型 - 强制类型转换</p>\n</blockquote>\n<p><strong>4 种强制类型转换：</strong></p>\n<ul>\n<li>字符串拼接</li>\n<li>== 运算符</li>\n<li>if 语句</li>\n<li>逻辑运算</li>\n</ul>\n<h4 id=\"字符串拼接\"><a class=\"markdownIt-Anchor\" href=\"#字符串拼接\">#</a> 字符串拼接</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/WBxaMX9CiLmz.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"运算符\"><a class=\"markdownIt-Anchor\" href=\"#运算符\">#</a> == 运算符</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/PTp1mF5ulTVw.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"if-语句\"><a class=\"markdownIt-Anchor\" href=\"#if-语句\">#</a> if 语句</h4>\n<blockquote>\n<p>if 语句</p>\n<p><u>false 情况</u>：<strong>0</strong>、<strong>NaN</strong>、<strong>’&lt;空字符串&gt;’</strong>、<strong>null</strong>、<strong>undefine</strong> 、<strong>false</strong></p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/C387EiaoakPe.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"逻辑运算符\"><a class=\"markdownIt-Anchor\" href=\"#逻辑运算符\">#</a> 逻辑运算符</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/4sGRvRvO2x65.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"何时使用-和\"><a class=\"markdownIt-Anchor\" href=\"#何时使用-和\">#</a> 何时使用 === 和 ==</h4>\n<blockquote>\n<p>何时使用 === 和 ==？</p>\n<p>解答：参考 jQuery 源码中推荐的写法，除了<strong>判断对象属性是否为空</strong> 和 ** 看是否函数的参数为空 ** 的情况 ，其余的都用 <strong>===</strong> 。</p>\n<p><code>==</code>  : 只进行值的比较</p>\n<p><code>===</code>  : 不仅进行值得比较，还要进行数据类型的比较</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/dfHpCgG4HQNR.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"js-中的内置函数\"><a class=\"markdownIt-Anchor\" href=\"#js-中的内置函数\">#</a> JS 中的内置函数</h4>\n<blockquote>\n<p>JS 中的内置函数的作用</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/BDtLCAEhGEUX.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"js-按存储方式区分变量类型\"><a class=\"markdownIt-Anchor\" href=\"#js-按存储方式区分变量类型\">#</a> JS 按存储方式区分变量类型</h4>\n<blockquote>\n<p><a href=\"https://segmentfault.com/a/1190000006752076\">参考 1</a></p>\n<p><a href=\"https://www.cnblogs.com/leiting/p/8081413.html\">参考 2</a></p>\n<p>基本类型的值是不可变的</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/0cbg9UtuHTED.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"如何理解-json\"><a class=\"markdownIt-Anchor\" href=\"#如何理解-json\">#</a> 如何理解 JSON</h4>\n<blockquote>\n<p>JS 内置对象，Math 也是内置对象</p>\n<p>注意：JSON 既是一个 JS <strong>内置对象</strong>，也是一种 <strong>数据格式</strong>。</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/5bkwAGYcMzH8.png?imageslim\" alt=\"mark\"></p>\n<h2 id=\"2-2-原型和原型链\"><a class=\"markdownIt-Anchor\" href=\"#2-2-原型和原型链\">#</a> 2-2 原型和原型链</h2>\n<blockquote>\n<p>2-2 原型和原型链</p>\n<p>题目</p>\n<p>知识点</p>\n<p>解答</p>\n</blockquote>\n<h3 id=\"题目-2\"><a class=\"markdownIt-Anchor\" href=\"#题目-2\">#</a> 题目</h3>\n<ul>\n<li>如何准确判断一个变量是 <strong>数组类型</strong></li>\n<li>写一个原型链继承的例子</li>\n<li>描述 new 一个对象的过程</li>\n<li>zepto (或其他框架) 源码中如何使用原型链</li>\n</ul>\n<h3 id=\"知识点-2\"><a class=\"markdownIt-Anchor\" href=\"#知识点-2\">#</a> 知识点</h3>\n<ul>\n<li>构造函数</li>\n<li>构造函数 - 扩展</li>\n<li>原型规则和示例</li>\n<li>原型链</li>\n<li>instanceof</li>\n</ul>\n<h4 id=\"构造函数\"><a class=\"markdownIt-Anchor\" href=\"#构造函数\">#</a> 构造函数</h4>\n<blockquote>\n<p>函数名 习惯 <strong>第一个字母大写</strong>（ 高级程序员规范）</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/aYlOy0sAIxjg.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"构造函数扩展\"><a class=\"markdownIt-Anchor\" href=\"#构造函数扩展\">#</a> 构造函数扩展</h4>\n<blockquote>\n<p>构造函数扩展</p>\n<p>函数扩展 ---- <strong>语法糖</strong></p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/KAiPkbgM6g8k.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"5-条原型规则和示例\"><a class=\"markdownIt-Anchor\" href=\"#5-条原型规则和示例\">#</a> 5 条原型规则和示例</h4>\n<blockquote>\n<p>5 条原型规则</p>\n<p><strong>原型规则</strong> 是学习 <strong>原型链</strong> 的基础</p>\n</blockquote>\n<p><strong>5 条原型规则 ：</strong></p>\n<ol>\n<li>\n<p>所有的 <strong>引用类型</strong> (对象，数组，函数)，都具有对象特性，即可 <strong>自由扩展</strong> 属性（除了 null 以外）。</p>\n</li>\n<li>\n<p>所有的 <strong>引用类型</strong> (对象，数组，函数)，都有一个 <code>__proto__</code>  （ <em>隐式原型</em> ）属性，属性值都是一个普通对象。</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/i237crTwXpRw.png?imageslim\" alt=\"mark\"></p>\n</li>\n<li>\n<p>所有的函数都有一个 <code>prototype</code>  （ <em>显示原型</em> ）属性，属性值是一个普通对象。</p>\n</li>\n<li>\n<p>所有的引用类型 (对象，数组，函数)， <code>__proto__</code> 属性值指向它的构造函数的 <code>prototype</code>  属性值。</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/gbOkNmykomux.png?imageslim\" alt=\"mark\"></p>\n</li>\n<li>\n<p>当试图得到一个引用类型的某个属性时，如果这个对象本身没有这个属性，那么会去它的 <code>__proto__</code> (即它的构造函数的 <code>prototype</code> ) 中去找。</p>\n</li>\n</ol>\n<p><strong>示例</strong> ：</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/CKA2EOYdkSQ5.png?imageslim\" alt=\"mark\"></p>\n<p><strong>循环自身的属性：</strong></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190715/kAsCaFM5fgCq.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"原型链\"><a class=\"markdownIt-Anchor\" href=\"#原型链\">#</a> 原型链</h4>\n<blockquote>\n<p>这种搜索的轨迹，形似一条长链，又因 prototype 在这个游戏规则中充当链接的作用，于是我们把这种实例与原型的链条称作 <strong>原型链</strong></p>\n<p><a href=\"https://juejin.im/post/58f94c9bb123db411953691b\">参考</a></p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/zjK7G9Pwib6K.png?imageslim\" alt=\"mark\"></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/hyX26borV0mF.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"instanceof\"><a class=\"markdownIt-Anchor\" href=\"#instanceof\">#</a> instanceof</h4>\n<blockquote>\n<p>用于 判断 <strong>引用类型</strong> 属于哪个 构造函数的方法</p>\n<p>**instanceof 运算符 ** 用于测试构造函数的 prototype 属性是否出现在对象的原型链中的任何位置</p>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof\">参看 MDN</a></p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/mHVNeyIgfsSE.png?imageslim\" alt=\"mark\"></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Car</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">make<span class=\"token punctuation\">,</span> model<span class=\"token punctuation\">,</span> year</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>make <span class=\"token operator\">=</span> make<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>model <span class=\"token operator\">=</span> model<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>year <span class=\"token operator\">=</span> year<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">var</span> auto <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Honda\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Accord\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1998</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>auto <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Car</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//  true</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>auto <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"解答\"><a class=\"markdownIt-Anchor\" href=\"#解答\">#</a> 解答</h3>\n<ul>\n<li>\n<p>如何准确判断一个变量是 <strong>数组类型</strong></p>\n<ul>\n<li>arr instanceof Arrar</li>\n</ul>\n</li>\n<li>\n<p>写一个原型链继承的例子、</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Elem</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>elem <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token class-name\">Elem</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">html</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">val</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> elem <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>elem<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    elem<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> val<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//链式操作</span>\n  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> elem<span class=\"token punctuation\">.</span>innerText<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">Elem</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">on</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">type<span class=\"token punctuation\">,</span> fn</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> elem <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>elem<span class=\"token punctuation\">;</span>\n  elem<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> div1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Elem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndiv1<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;p>hello world&lt;/p>\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"clicked\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>\n<p>描述 new 一个对象的过程</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/fEURg05c9KBT.png?imageslim\" alt=\"mark\"></p>\n</li>\n<li>\n<p>zepto (或其他框架) 源码中如何使用原型链</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/6vDDJLlWz5AQ.png?imageslim\" alt=\"mark\"></p>\n</li>\n</ul>\n<h2 id=\"2-3-函数声明和函数表达式\"><a class=\"markdownIt-Anchor\" href=\"#2-3-函数声明和函数表达式\">#</a> 2-3 函数声明和函数表达式</h2>\n<blockquote>\n<p>函数声明和函数表达式</p>\n</blockquote>\n<h4 id=\"函数声明\"><a class=\"markdownIt-Anchor\" href=\"#函数声明\">#</a> 函数声明</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//执行</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">//声明</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"函数表达式\"><a class=\"markdownIt-Anchor\" href=\"#函数表达式\">#</a> 函数表达式</h4>\n<blockquote>\n<p>把 var 定义的变量提前：相当于：先定义 <strong>var fn</strong> — &gt; 然后执行 <strong>fn()</strong></p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// TypeError: fn is not a function</span>\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">fn</span><span class=\"token operator\">=</span><span class=\"token keyword\">function</span>（）<span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// 表达式</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>相关的例子（函数执行的顺序）：</strong></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undefined</span>\n<span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zhouchen\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  age <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> age<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">//output：zhouchen 20</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zhouchen\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 参数的集合</span>\n  age <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> age<span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">/*\n    &#123; '0': 'zhouchen' &#125;\n    zhouchen 20\n    100\n*/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"2-4-作用域和闭包\"><a class=\"markdownIt-Anchor\" href=\"#2-4-作用域和闭包\">#</a> 2-4 作用域和闭包</h2>\n<blockquote>\n<p>作用域和闭包</p>\n<p>题目</p>\n<p>知识点</p>\n<p>解答</p>\n</blockquote>\n<h3 id=\"题目-3\"><a class=\"markdownIt-Anchor\" href=\"#题目-3\">#</a> 题目</h3>\n<ul>\n<li>说一下对变量提升的理解</li>\n<li>说明 this 几种 不同的使用场景</li>\n<li>创建 10 个 a 标签，点击的时候弹出来对应的序号</li>\n<li>如何理解作用域</li>\n<li>实际开发中闭包的应用</li>\n</ul>\n<h3 id=\"知识点-3\"><a class=\"markdownIt-Anchor\" href=\"#知识点-3\">#</a> 知识点</h3>\n<ul>\n<li>\n<p>执行上下文</p>\n</li>\n<li>\n<p>this</p>\n</li>\n<li>\n<p>作用域</p>\n</li>\n<li>\n<p>作用域链</p>\n</li>\n<li>\n<p>闭包</p>\n</li>\n</ul>\n<h4 id=\"执行上下文\"><a class=\"markdownIt-Anchor\" href=\"#执行上下文\">#</a> 执行上下文</h4>\n<blockquote>\n<p>执行上下文</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/slpXIRmFPFUC.png?imageslim\" alt=\"mark\"></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/yGYEzQ0mBi3H.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"this\"><a class=\"markdownIt-Anchor\" href=\"#this\">#</a> this</h4>\n<blockquote>\n<p>this 要在 <strong>执行时</strong> 才能确定值，<strong>定义时</strong> 无法确认</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/y7uMvda2zozx.png?imageslim\" alt=\"mark\"></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/X4ErfYyomFle.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"块级作用域\"><a class=\"markdownIt-Anchor\" href=\"#块级作用域\">#</a> 块级作用域</h4>\n<blockquote>\n<p>任何一对花括号中的语句集都属于一个块，在这之中定义的所有变量在代码块外都是不可见的，我们称之为块级作用域。</p>\n<p><strong>JS</strong> 并 <strong>不支持 块级作用域</strong>，它<strong>只支持 函数作用域</strong> ，<u>而且在一个函数中的<strong>任何位置定义的变量</strong> 在该函数中的 <strong>任何地方都是可见的</strong> 。</u></p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"zhouchen\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// zhouchen</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"链式作用域\"><a class=\"markdownIt-Anchor\" href=\"#链式作用域\">#</a> 链式作用域</h4>\n<blockquote>\n<p><strong>如何从外部读取局部变量？</strong></p>\n<p>出于种种原因，我们有时候需要得到函数内的局部变量。但是，前面已经说过了，正常情况下，这是办不到的，只有通过变通方法才能实现。</p>\n<p>那就是在函数的内部，再定义一个函数。</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">f1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> n <span class=\"token operator\">=</span> <span class=\"token number\">999</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">f2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 999</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>在上面的代码中，函数 f2 就被包括在函数 f1 内部，这时 f1 内部的所有局部变量，对 f2 都是可见的。但是反过来就不行，f2 内部的局部变量，对 f1 就是不可见的。这就是 Javascript 语言特有的 &quot;<strong>链式作用域&quot; 结构</strong>（chain scope），子对象会一级一级地向上寻找所有父对象的变量。所以，父对象的所有变量，对子对象都是可见的，反之则不成立。</p>\n<h4 id=\"闭包\"><a class=\"markdownIt-Anchor\" href=\"#闭包\">#</a> 闭包</h4>\n<blockquote>\n<p>上一节代码中的 f2 函数，就是闭包。</p>\n<p>简单来说：闭包就是 <strong>能够读取其他函数内部变量的函数</strong>。</p>\n<p>由于在 Javascript 语言中，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成 <strong>定义在一个函数内部的函数</strong> 。</p>\n<p>所以，在本质上，<u>闭包就是将函数内部和函数外部连接起来的一座桥梁</u>。</p>\n<p><a href=\"http://www.ruanyifeng.com/blog/2009/08/learning_javascript_closures.html\">参考阮一峰的网络日志 </a></p>\n</blockquote>\n<h4 id=\"闭包的用途\"><a class=\"markdownIt-Anchor\" href=\"#闭包的用途\">#</a> 闭包的用途</h4>\n<blockquote>\n<p>闭包可以用在许多地方。它的最大用处有两个，一个是前面提到的可以读取函数内部的变量，另一个就是让这些变量的值始终保持在内存中。</p>\n</blockquote>\n<h4 id=\"实际开发中闭包的应用\"><a class=\"markdownIt-Anchor\" href=\"#实际开发中闭包的应用\">#</a> 实际开发中闭包的应用</h4>\n<blockquote>\n<p>实际开发中闭包的应用</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/oAEdrQVxx55a.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"解题\"><a class=\"markdownIt-Anchor\" href=\"#解题\">#</a> 解题</h3>\n<ul>\n<li>\n<p>说一下对变量提升的理解</p>\n<ul>\n<li>变量定义</li>\n<li>函数声明 （ 注意和 函数表达式 的区别）</li>\n</ul>\n</li>\n<li>\n<p>说明 this 几种 不同的使用场景</p>\n<ul>\n<li><a href=\"https://blog.csdn.net/weixin_40387601/article/details/80313884\">参考 1</a></li>\n<li><a href=\"https://blog.csdn.net/sinat_32067081/article/details/53047149\">参考 2</a></li>\n</ul>\n</li>\n<li>\n<p>创建 10 个 a 标签，点击的时候弹出来对应的序号</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/jpCryHpWtFmQ.png?imageslim\" alt=\"mark\"></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/JOON77hWUAPT.png?imageslim\" alt=\"mark\"></p>\n</li>\n<li>\n<p>如何理解作用域</p>\n<ul>\n<li>自由变量</li>\n<li>作用域连，即自由变量的查找</li>\n<li>闭包的两个场景</li>\n</ul>\n</li>\n<li>\n<p>实际开发中闭包的应用</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190716/DOiHXt0yUzLP.png?imageslim\" alt=\"mark\"></p>\n</li>\n</ul>\n",
            "tags": [
                "JS"
            ]
        },
        {
            "id": "http://example.com/2019/08/04/JsBasicKnowledge02/",
            "url": "http://example.com/2019/08/04/JsBasicKnowledge02/",
            "title": "前端JS基础面试技巧下",
            "date_published": "2019-08-04T08:44:08.000Z",
            "content_html": "<h1 id=\"前端-js-基础面试技巧\"><a class=\"markdownIt-Anchor\" href=\"#前端-js-基础面试技巧\">#</a> 前端 JS 基础面试技巧</h1>\n<blockquote>\n<p>前端 JS 基础面试技巧 – <strong>JS 基础知识下</strong></p>\n<p>JS 三座大山：<strong>原型原型链</strong> 、<strong>作用域闭包</strong> 、<strong>异步和单线程</strong> 。</p>\n<p>知识点：</p>\n<p>3-1 异步和单线程</p>\n<p>3-2 日期和 math</p>\n<ul>\n<li>日期</li>\n<li>Math</li>\n<li>数组 API</li>\n<li>对象 API</li>\n</ul>\n</blockquote>\n<h2 id=\"3-1-异步和单线程\"><a class=\"markdownIt-Anchor\" href=\"#3-1-异步和单线程\">#</a> 3-1 异步和单线程</h2>\n<blockquote>\n<p>异步和单线程</p>\n<p>题目</p>\n<p>知识点</p>\n<p>解答</p>\n</blockquote>\n<h3 id=\"题目\"><a class=\"markdownIt-Anchor\" href=\"#题目\">#</a> 题目</h3>\n<ul>\n<li>同步和异步的区别是什么？分别举一个同步和异步的例子</li>\n<li>一个关于 setTimeout 的笔试题</li>\n<li>前端使用异步的场景有哪些</li>\n</ul>\n<h3 id=\"知识点\"><a class=\"markdownIt-Anchor\" href=\"#知识点\">#</a> 知识点</h3>\n<ul>\n<li>什么是异步（对比同步）</li>\n<li>前端使用异步的场景</li>\n<li>异步个单线程</li>\n</ul>\n<h3 id=\"什么是异步\"><a class=\"markdownIt-Anchor\" href=\"#什么是异步\">#</a> 什么是异步</h3>\n<blockquote>\n<p>异步（Asynchronous）</p>\n<p>一般而言，操作分为发出调用和得到结果两步。发出调用后一直等待，直到拿到结果（这段时间不能做任何事）为 <strong>同步</strong> ；发出调用后不等待，继续执行下一个任务，就是 <strong>异步任务</strong> 。</p>\n<p><a href=\"https://www.jianshu.com/p/667936441cb5\">参考</a></p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*\n    100\n    300\n    200\n*/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"何时需要异步\"><a class=\"markdownIt-Anchor\" href=\"#何时需要异步\">#</a> 何时需要异步？</h4>\n<ul>\n<li>\n<p>在可能发生等待的情况</p>\n</li>\n<li>\n<p>等待过程中不能像 alert 一样阻塞程序运行</p>\n</li>\n<li>\n<p>因此，所有的 “等待情况” 都需要异步</p>\n</li>\n</ul>\n<h4 id=\"前端使用异步的场景\"><a class=\"markdownIt-Anchor\" href=\"#前端使用异步的场景\">#</a> 前端使用异步的场景</h4>\n<ul>\n<li>\n<p>定时任务：<strong>setTimeout</strong>，<strong>setInterval</strong></p>\n</li>\n<li>\n<p>网络请求：<strong>ajax 请求</strong>，<strong>动态</strong> &lt;<strong>img</strong>&gt; <strong>加载</strong></p>\n</li>\n<li>\n<p><strong>事件绑定</strong></p>\n</li>\n</ul>\n<h3 id=\"单线程\"><a class=\"markdownIt-Anchor\" href=\"#单线程\">#</a> 单线程</h3>\n<blockquote>\n<p><strong>Javascript 是单线程的</strong> <a href=\"https://www.cnblogs.com/Mainz/p/3552717.html\">参考</a></p>\n<p>JS 的单线程是指一个浏览器进程中只有一个 JS 的执行线程，同一时刻内只会有一段代码在执行</p>\n<p>在某个特定的时刻只有特定的代码能够被执行，并 <strong>阻塞</strong> 其它的代码。</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>上面代码执行过程：</strong></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190717/kEQlmncCXtel.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"重点总结\"><a class=\"markdownIt-Anchor\" href=\"#重点总结\">#</a> 重点总结</h4>\n<ul>\n<li>异步和同步的区别</li>\n<li>异步和单线程的关系</li>\n<li>异步在前端的引用场景</li>\n</ul>\n<h3 id=\"解答\"><a class=\"markdownIt-Anchor\" href=\"#解答\">#</a> 解答</h3>\n<ul>\n<li>\n<p>同步和异步的区别是什么？分别举一个同步和异步的例子</p>\n<ul>\n<li>\n<p><em>同步</em> 是 <strong>阻塞模式</strong> ，<em>异步</em> 是 <strong>非阻塞模式</strong> 。</p>\n<p><em>同步</em> 就是指一个进程在执行某个请求的时候，若该请求需要一段时间才能返回信息，那么这个进程将会 <strong>一直等待下去</strong> ，知道收到返回信息才继续执行下去；</p>\n<p><em>异步</em> 是指进程 <strong>不需要一直等下去</strong> ，而是 <strong>继续执行下面的操作</strong>，不管其他进程的状态。当有消息返回式系统会通知进程进行处理，这样可以提高执行的效率。</p>\n</li>\n<li>\n<p>alert 是 同步， setTimeout 是 异步</p>\n</li>\n</ul>\n</li>\n<li>\n<p>一个关于 setTimeout 的笔试题</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/* \n\t1\n    3\n    5\n    2\n    4\n*/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>前端使用异步的场景有哪些\n<ul>\n<li>定时任务：<strong>setTimeout</strong>，<strong>setInterval</strong></li>\n<li>网络请求：<strong>ajax 请求</strong>，<strong>动态</strong> &lt;<strong>img</strong>&gt; <strong>加载</strong></li>\n<li><strong>事件绑定</strong></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"3-2-日期和-math\"><a class=\"markdownIt-Anchor\" href=\"#3-2-日期和-math\">#</a> 3-2 日期和 math</h2>\n<blockquote>\n<p>题目</p>\n<p>知识点</p>\n<p>解答</p>\n</blockquote>\n<h3 id=\"题目-2\"><a class=\"markdownIt-Anchor\" href=\"#题目-2\">#</a> 题目</h3>\n<ul>\n<li>获取 2017 -06 -10 格式的日期</li>\n<li>获取 随机数，要求是长度一致 的字符串格式</li>\n<li>写一个 能遍历对象 和数组 的通用 forEach 函数</li>\n</ul>\n<h3 id=\"知识点-2\"><a class=\"markdownIt-Anchor\" href=\"#知识点-2\">#</a> 知识点</h3>\n<ul>\n<li>日期</li>\n<li>Math</li>\n<li>数组 API</li>\n<li>对象 API</li>\n</ul>\n<h4 id=\"日期\"><a class=\"markdownIt-Anchor\" href=\"#日期\">#</a> 日期</h4>\n<blockquote>\n<p><strong>日期对象用于处理日期和时间。</strong></p>\n<p><a href=\"http://www.w3school.com.cn/jsref/jsref_obj_date.asp\">JavaScript Date 对象 API</a></p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190717/3ijIzI0Frks1.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"math\"><a class=\"markdownIt-Anchor\" href=\"#math\">#</a> Math</h4>\n<blockquote>\n<p><strong>Math</strong> 是一个内置对象， 它具有数学常数和函数的属性和方法。不是一个函数对象。</p>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math\">Math Api</a></p>\n<p>描述：与其它全局对象不同的是， <code>Math</code>  不是一个构造器.  <code>Math</code>  的所有属性和方法都是静态的。你用到的常数 pi 可以用  <code>Math.PI</code>  表示，用  <code>x</code>  作参数 Math.sin (x) 调用 sin 函数. JavaScript 中的常数，是以全精度的实数定义的.</p>\n<p>Math.random () 在前端的作用：随时改变，清除缓存。</p>\n</blockquote>\n<h4 id=\"数组-api\"><a class=\"markdownIt-Anchor\" href=\"#数组-api\">#</a> 数组 API</h4>\n<blockquote>\n<p><a href=\"http://louiszhai.github.io/2017/04/28/array/#Array%E6%9E%84%E9%80%A0%E5%99%A8\">参考</a></p>\n<p>详情可以参考我的博客：<a href=\"http://zxinc520.com/lcj/%225d119841fd02ab26e068eb0a%22\">JavaScript 数组那些事</a></p>\n</blockquote>\n<p><strong>面试官最常问的几个</strong> ：</p>\n<ul>\n<li>forEach 遍历所有元素</li>\n<li>every 判断所有元素是否都符合条件</li>\n<li>some 判断是否有至少一个元素符合条件</li>\n<li>sort 排序</li>\n<li>map 对元素重新组装，生成新数组</li>\n<li>filter 过滤符合条件的元素</li>\n</ul>\n<h4 id=\"对象-api\"><a class=\"markdownIt-Anchor\" href=\"#对象-api\">#</a> 对象 API</h4>\n<blockquote>\n<p><strong>Object.prototype API</strong></p>\n<p><code>Object.prototype</code>  表示对象的原型对象<br>\n <code>Object.prototype</code>  属性的属性特征</p>\n<p><a href=\"https://www.jianshu.com/p/2f43db2b656c\">参考</a></p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190717/mOpzx9LK1xmu.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"解答-2\"><a class=\"markdownIt-Anchor\" href=\"#解答-2\">#</a> 解答</h3>\n<ul>\n<li>获取 2019-07-17 格式的日期</li>\n</ul>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">formatDate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>dt<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    dt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">var</span> dt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> year <span class=\"token operator\">=</span> dt<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> month <span class=\"token operator\">=</span> dt<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> data <span class=\"token operator\">=</span> dt<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>month <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    month <span class=\"token operator\">=</span> <span class=\"token string\">\"0\"</span> <span class=\"token operator\">+</span> month<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>data <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    data <span class=\"token operator\">=</span> <span class=\"token string\">\"0\"</span> <span class=\"token operator\">+</span> data<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">return</span> year <span class=\"token operator\">+</span> <span class=\"token string\">\"-\"</span> <span class=\"token operator\">+</span> month <span class=\"token operator\">+</span> <span class=\"token string\">\"-\"</span> <span class=\"token operator\">+</span> data<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">var</span> dt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">formatDate</span><span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//  2019-07-17</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>获取 随机数，要求是长度一致 的字符串格式</li>\n</ul>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> random <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrandom <span class=\"token operator\">=</span> random <span class=\"token operator\">+</span> <span class=\"token string\">\"0000000000\"</span><span class=\"token punctuation\">;</span>\nrandom <span class=\"token operator\">=</span> random<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>random<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>写一个 能遍历对象 和数组 的通用 forEach 函数</li>\n</ul>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// 写一个 能遍历对象 和数组 的通用 forEach 函数</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obj<span class=\"token punctuation\">,</span> fn</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>obj <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    obj<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">item<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> key <span class=\"token keyword\">in</span> obj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> obj<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// 使用  forEach 函数</span>\n<span class=\"token keyword\">var</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> x<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token number\">200</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">index<span class=\"token punctuation\">,</span> item</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">+</span> <span class=\"token string\">\"---\"</span> <span class=\"token operator\">+</span> item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/*\n\t2---1\n    3---2\n    x 100\n    y 200\n*/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n",
            "tags": [
                "JS"
            ]
        },
        {
            "id": "http://example.com/2019/08/04/JS-Web-API/",
            "url": "http://example.com/2019/08/04/JS-Web-API/",
            "title": "JS-Web-API",
            "date_published": "2019-08-04T08:44:08.000Z",
            "content_html": "<h1 id=\"js-web-api\"><a class=\"markdownIt-Anchor\" href=\"#js-web-api\">#</a> JS-Web-API</h1>\n<blockquote>\n<p>前端 JS 基础面试技巧 - - <strong>JS-Web-API 上</strong></p>\n<p>讲解 JS 在浏览器中具体应用的面试题。包括 <strong>DOM 操作</strong>，<strong>BOM 操作</strong> ，<strong>事件绑定</strong>，<strong>ajax</strong> 和 <strong>存储</strong> ，这些类别的题目。</p>\n</blockquote>\n<h2 id=\"从基础知识到-js-web-api\"><a class=\"markdownIt-Anchor\" href=\"#从基础知识到-js-web-api\">#</a> 从基础知识到 JS-Web-API</h2>\n<blockquote>\n<p>从基础知识 <strong>过渡</strong> 到 JS-Web-API</p>\n</blockquote>\n<ul>\n<li>回顾 JS 基础知识</li>\n<li>JS-Web-API</li>\n<li>总结</li>\n</ul>\n<h3 id=\"回顾-js-基础知识\"><a class=\"markdownIt-Anchor\" href=\"#回顾-js-基础知识\">#</a> 回顾 JS 基础知识</h3>\n<blockquote>\n<p>特点：表面看来并不能哟用于工作中开发代码</p>\n<p>内置函数：Object，Array，Boolean，String …</p>\n<p>内置对象：Math，Json …</p>\n<p>详情请参考：<a href=\"http://zxinc520.com/lcj/%225d2df2cdda85353d5ca8b83f%22\">原型和原型链，闭包和作用域</a> <a href=\"http://zxinc520.com/lcj/%225d2eeda9d797f0309cf6ab02%22\">异步和单线程</a></p>\n<ul>\n<li>我们连在网页上弹出一句 hello world 都不能实现</li>\n</ul>\n</blockquote>\n<p><strong>知识点</strong> ：</p>\n<ul>\n<li>\n<p>变量类型和计算</p>\n</li>\n<li>\n<p>原型和原型链</p>\n</li>\n<li>\n<p>闭包和作用域</p>\n</li>\n<li>\n<p>异步和单线程</p>\n</li>\n<li>\n<p>其它（如日期，Math，各种常用 API）</p>\n</li>\n<li>\n<p>JS 基础知识：<strong>ECMA 262 标准</strong></p>\n</li>\n<li>\n<p>JS-Web-API ：<strong>W3C 标准</strong></p>\n</li>\n</ul>\n<h3 id=\"js-web-api-2\"><a class=\"markdownIt-Anchor\" href=\"#js-web-api-2\">#</a> JS-Web-API</h3>\n<blockquote>\n<p>JS-Web-API</p>\n</blockquote>\n<p><strong>W3C 标准中关于 JS 的规定有</strong> ：</p>\n<ul>\n<li>DOM 操作</li>\n<li>BOM 操作</li>\n<li>事件绑定</li>\n<li>ajax 请求（包括 http 协议）</li>\n<li>储存</li>\n</ul>\n<p><strong>页面弹框 window.alert (123) ，浏览器需要做：</strong></p>\n<ul>\n<li>定义一个 window 全局变量 ，对象类型</li>\n<li>给它定义一个 alert 属性，属性值是一个函数</li>\n</ul>\n<p><strong>获取元素 document.getElementById (id)，浏览器需要做：</strong></p>\n<ul>\n<li>定义一个 document 全局变量 ，对象类型</li>\n<li>给它定义一个 getElementById 属性，属性值是一个函数</li>\n</ul>\n<p><strong>W3C 标准：</strong></p>\n<ul>\n<li>W3C 标准没有规定任何 JS 基础相关的东西</li>\n<li>不管什么变量类型，原型，作用域和异步</li>\n<li>只管 定义用于 浏览器中 JS 操作页面的 API 和 全局变量</li>\n</ul>\n<h4 id=\"总结\"><a class=\"markdownIt-Anchor\" href=\"#总结\">#</a> 总结：</h4>\n<p><strong>常说的 JS （浏览器执行的 JS ）包含两部分：</strong></p>\n<ul>\n<li>JS 基础知识：<strong>ECMA 262 标准</strong></li>\n<li>JS-Web-API ：<strong>W3C 标准</strong></li>\n</ul>\n<h2 id=\"5-1-bom-节点操作\"><a class=\"markdownIt-Anchor\" href=\"#5-1-bom-节点操作\">#</a> 5-1 BOM 节点操作</h2>\n<blockquote>\n<p>BOM 操作： <strong>Browser</strong>、<strong>Object</strong>、<strong>Model</strong> （ 浏览器对象模型 ）</p>\n<p><strong>BOM 节点操作</strong> 可以理解为：浏览器把拿到的 html 代码，结构化一个 浏览器 能识别并且 js 可操作的一个模型而已 。</p>\n<p>javacsript 是通过 <strong>访问 BOM</strong> （Browser Object Model）对象来 <strong>访问、控制、修改</strong> 客户端 (浏览器)，由于 BOM 的 window 包含了 document，<strong>window 对象的属性和方法是直接可以使用而且被感知的</strong> ，因此可以直接使用 window 对象的 document 属性，通过 document 属性就可以访问、检索、修改 XHTML 文档内容与结构。因为 document 对象又是 DOM（Document Object Model）模型的根节点。可以说，<strong>BOM 包含了 DOM (对象)</strong> ，浏览器提供出来给予访问的是 BOM 对象，从 BOM 对象再访问到 DOM 对象，从而 js 可以操作浏览器以及浏览器读取到的文档。</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/LLToFChkpany.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"题目\"><a class=\"markdownIt-Anchor\" href=\"#题目\">#</a> 题目</h3>\n<ul>\n<li>如何检测浏览器的类型</li>\n<li>拆解 url 的 各部分</li>\n</ul>\n<h3 id=\"知识点\"><a class=\"markdownIt-Anchor\" href=\"#知识点\">#</a> 知识点</h3>\n<ul>\n<li>navigator</li>\n<li>screen</li>\n<li>location</li>\n<li>history</li>\n</ul>\n<h4 id=\"navigator-screen\"><a class=\"markdownIt-Anchor\" href=\"#navigator-screen\">#</a> navigator &amp; screen</h4>\n<blockquote>\n<p>navigator &amp; screen</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/r3iKL9Xukvhh.png?imageslim\" alt=\"mark\"></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/HGtIQM9isqCI.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"location-history\"><a class=\"markdownIt-Anchor\" href=\"#location-history\">#</a> location &amp; history</h4>\n<blockquote>\n<h6 id=\"location-history-2\"><a class=\"markdownIt-Anchor\" href=\"#location-history-2\">#</a> location &amp; history</h6>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/cbYxCVkoLMQu.png?imageslim\" alt=\"mark\"></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/wBG2i12YtTmW.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"解答\"><a class=\"markdownIt-Anchor\" href=\"#解答\">#</a> 解答</h3>\n<ul>\n<li>如何检测浏览器的类型</li>\n</ul>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/TfK1lJ7IAry5.png?imageslim\" alt=\"mark\"></p>\n<ul>\n<li>拆解 url 的 各部分</li>\n</ul>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/UzzCgHl1fImg.png?imageslim\" alt=\"mark\"></p>\n<h2 id=\"5-2-dom-节点操作\"><a class=\"markdownIt-Anchor\" href=\"#5-2-dom-节点操作\">#</a> 5-2 DOM 节点操作</h2>\n<blockquote>\n<p><strong>DOM 操作的重点：找到节点对节点（元素 / 文本 / 属性节点）增删改查</strong></p>\n<p><strong>各方法和属性之间的结合操作才会使得 DOM 文档活跃起来</strong></p>\n<p><code>注意方法与属性的不同。</code>  <strong>注意属性的返回值</strong></p>\n<p><strong>注意 javascript 操作样式的可读可写性</strong></p>\n<p><a href=\"https://juejin.im/post/5b16113f5188257d7a49ada7\">可参考</a></p>\n</blockquote>\n<h3 id=\"dom-节点操作\"><a class=\"markdownIt-Anchor\" href=\"#dom-节点操作\">#</a> DOM 节点操作：</h3>\n<ul>\n<li>获取 DOM 节点</li>\n<li>prototype</li>\n<li>Attribute</li>\n</ul>\n<h4 id=\"获取-dom-节点\"><a class=\"markdownIt-Anchor\" href=\"#获取-dom-节点\">#</a> 获取 DOM 节点</h4>\n<blockquote>\n<p>获取 DOM 节点</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">getElementByClassName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"classname\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"tag\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#foo > div.bar\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".bar\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/TsP71SzkfFU5.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"prototype\"><a class=\"markdownIt-Anchor\" href=\"#prototype\">#</a> prototype</h4>\n<blockquote>\n<p>prototype</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/nehMbgtKQirx.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"property\"><a class=\"markdownIt-Anchor\" href=\"#property\">#</a> property</h4>\n<blockquote>\n<p>property 只是一个 JS 对象的属性的修改</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/3vippb1mnJqF.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"attribute\"><a class=\"markdownIt-Anchor\" href=\"#attribute\">#</a> Attribute</h4>\n<blockquote>\n<p>Attribute</p>\n<p>Attribute 是对 html <strong>标签属性</strong> 的修改 （获取）</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/B7FUAdLGXAHz.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"dom-结构操作\"><a class=\"markdownIt-Anchor\" href=\"#dom-结构操作\">#</a> DOM 结构操作</h3>\n<blockquote>\n<p>DOM 结构操作</p>\n</blockquote>\n<ul>\n<li>新增节点</li>\n<li>获取父元素</li>\n<li>获取子元素</li>\n<li>删除节点</li>\n</ul>\n<h4 id=\"新增节点\"><a class=\"markdownIt-Anchor\" href=\"#新增节点\">#</a> 新增节点</h4>\n<blockquote>\n<p>新增节点</p>\n<p>移动已有 的节点</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n  <span class=\"token keyword\">var</span> div1 <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div1'</span><span class=\"token punctuation\">)</span> p <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'p'</span><span class=\"token punctuation\">)</span>\n  p<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">'&lt;h3>hello world&lt;/h3>'</span> div1<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span> <span class=\"token keyword\">var</span> p2 <span class=\"token operator\">=</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.p2'</span><span class=\"token punctuation\">)</span> div1<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>p2<span class=\"token punctuation\">)</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>div1<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/e7UMDpPFqB1d.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"获取父元素和子元素\"><a class=\"markdownIt-Anchor\" href=\"#获取父元素和子元素\">#</a> 获取父元素和子元素</h4>\n<blockquote>\n<p>获取父元素和子元素</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"div1\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"p1\"</span><span class=\"token operator\">></span><span class=\"token keyword\">this</span> is p1<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"p2\"</span><span class=\"token operator\">></span><span class=\"token keyword\">this</span> is p2<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"div2\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"p3\"</span><span class=\"token operator\">></span><span class=\"token keyword\">this</span> is p3<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"p4\"</span><span class=\"token operator\">></span><span class=\"token keyword\">this</span> is p4<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n    <span class=\"token keyword\">var</span> div1<span class=\"token operator\">=</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div1'</span><span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>div1<span class=\"token punctuation\">.</span>parentElement<span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>div1<span class=\"token punctuation\">.</span>childNodes<span class=\"token punctuation\">)</span>\n\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>div1<span class=\"token punctuation\">.</span>childNodes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>nodeType<span class=\"token punctuation\">)</span>  <span class=\"token comment\">//3</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>div1<span class=\"token punctuation\">.</span>childNodes<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>nodeType<span class=\"token punctuation\">)</span>  <span class=\"token comment\">//1</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>div1<span class=\"token punctuation\">.</span>childNodes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>nodeName<span class=\"token punctuation\">)</span>  <span class=\"token comment\">//#text</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>div1<span class=\"token punctuation\">.</span>childNodes<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>nodeName<span class=\"token punctuation\">)</span>  <span class=\"token comment\">// DIV</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/BD4IQWndiCTW.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"解答-2\"><a class=\"markdownIt-Anchor\" href=\"#解答-2\">#</a> 解答</h4>\n<ul>\n<li>\n<p>DOM 是哪种基本的数据结构</p>\n<ul>\n<li>树</li>\n</ul>\n</li>\n<li>\n<p>DOM 操作的常用 API 有哪些</p>\n<ul>\n<li>获取 DOM 节点，以及节点的 property 和 Attribute</li>\n<li>获取父节点，获取子节点</li>\n<li>新增节点，删除节点</li>\n</ul>\n</li>\n<li>\n<p>DOM 节点的 Attribute 和 property 有何区别</p>\n<ul>\n<li>property 只是一个 JS 对象的属性的修改</li>\n<li>Attribute 是对 html 标签属性的修改</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"重点总结\"><a class=\"markdownIt-Anchor\" href=\"#重点总结\">#</a> 重点总结</h4>\n<ul>\n<li>DOM 本质</li>\n<li>DOM 节点操作</li>\n<li>DOM 结构操作</li>\n</ul>\n<h2 id=\"5-3-事件绑定\"><a class=\"markdownIt-Anchor\" href=\"#5-3-事件绑定\">#</a> 5-3 事件绑定</h2>\n<blockquote>\n<p>JavaScript 绑定事件的三种方式</p>\n</blockquote>\n<h3 id=\"javascript-绑定事件的三种方式\"><a class=\"markdownIt-Anchor\" href=\"#javascript-绑定事件的三种方式\">#</a> JavaScript 绑定事件的三种方式：</h3>\n<ul>\n<li>使用内联</li>\n<li>使用 <code>.onclick</code>  的方式</li>\n<li>使用事件监听 <code>addEventListener</code>  的方式</li>\n</ul>\n<h4 id=\"内联\"><a class=\"markdownIt-Anchor\" href=\"#内联\">#</a> 内联</h4>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>按钮<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>alert(1);<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>这种方式就是在一个元素上面直接绑定了一个点击 <code>onclick</code>  事件，此事件为<a href=\"https://link.juejin.im/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2FDOM%2F50288%3Ffr%3Daladdin\"> DOM 0 级标准</a>。同时，这个事件的优先级是最高的。</p>\n<h4 id=\"使用对象事件的形式\"><a class=\"markdownIt-Anchor\" href=\"#使用对象事件的形式\">#</a> 使用对象。事件的形式</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"button\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"按钮\"</span><span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span><span class=\"token operator\">></span>\n\t<span class=\"token keyword\">var</span> bt <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsBytagname</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"input\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\tbt<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>使用这种形式也是可以给一个 DOM 元素添加上一个事件。这个也是<a href=\"https://link.juejin.im/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2FDOM%2F50288%3Ffr%3Daladdin\"> DOM 0 级标准</a>。</p>\n<h4 id=\"以上的弊端\"><a class=\"markdownIt-Anchor\" href=\"#以上的弊端\">#</a> 以上的弊端</h4>\n<p>以上两种方式都是存在一个弊端的，就是一个元素只能添加一个事件。第一种就不用说了，写在行内就一个属性。至于第二种，有的网友可能会说我可以再写一个，比如：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"button\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"按钮\"</span><span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span><span class=\"token operator\">></span>\n    <span class=\"token keyword\">var</span> bt <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"input\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    bt<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    bt<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/u7dGQvDbEuTR.gif\" alt=\"mark\"></p>\n<p>写是可以这么写。那么我们先来看一看这个写法的意思，这种写法的本质就是在一个对象上添加一个属性，就上面的例子，就是在 <code>bt</code>  这个对象上添加一个 <code>onclick</code>  属性。那么，如果在之后的代码中也存在 <code>bt.onclcik</code> ，只会吧前面的给覆盖了。所以这样的写法也只能添加一个事件。</p>\n<p>那么，问题来了。我要给一个元素（DOM 对象）添加两个甚至是多个事件，使用什么呢？此时，就需要使用 <code>addEventListener</code>  的方式来添加事件。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"button\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"按钮\"</span><span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span><span class=\"token operator\">></span>\n\t<span class=\"token keyword\">var</span> bt <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsBytagname</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"input\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\tbt<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\tbt<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/fH7NDlrt0vLr.gif\" alt=\"mark\"></p>\n<p>上面的方式就可以给一个 DOM 对象绑定一个或者是多个事件。<strong>强烈推荐使用这一种绑定事件的方式</strong>。 使用 <code>addEventListener</code>  的方式还可以拥有第三个参数。 <a href=\"https://www.runoob.com/jsref/met-element-addeventlistener.html\">参看</a></p>\n<p><strong>三个参数</strong> ：</p>\n<ol>\n<li>事件类型，<strong>不需要</strong>添加上 <code>on</code></li>\n<li>事件函数</li>\n<li>是否捕获（布尔值），默认是 <code>false</code> ，即不捕获，那就是冒泡。</li>\n</ol>\n<h3 id=\"捕获和冒泡\"><a class=\"markdownIt-Anchor\" href=\"#捕获和冒泡\">#</a> 捕获和冒泡</h3>\n<h4 id=\"捕获\"><a class=\"markdownIt-Anchor\" href=\"#捕获\">#</a> 捕获</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/VLE5T5uzApOX.png?imageslim\" alt=\"mark\"></p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>a<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  a\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>b<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    b\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>c<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>c<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> b <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"b\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> c <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"c\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 捕获</span>\n  a<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"b-a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  b<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"b-b\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  c<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"b-c\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">//运行结果：点击c时，上面的代码的执行顺序：b-a，b-b，b-c</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"冒泡\"><a class=\"markdownIt-Anchor\" href=\"#冒泡\">#</a> 冒泡</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/eVyMTBdrppfb.png?imageslim\" alt=\"mark\"></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"a\"</span><span class=\"token operator\">></span>\n    a\n    <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"b\"</span><span class=\"token operator\">></span>\n        b\n        <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"c\"</span><span class=\"token operator\">></span>c<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n \t<span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> b <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"b\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> c <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"c\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// 冒泡</span>\n    a<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"m-a\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    b<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"m-b\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    c<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"m-c\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">//运行结果：点击c时，上面的代码的执行顺序：m-c，m-b，m-a</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"停止传播\"><a class=\"markdownIt-Anchor\" href=\"#停止传播\">#</a> 停止传播</h4>\n<p>使用 <code>stopPropagation</code>  可以阻止事件的<strong>传播</strong>。不能使用 <code>return false</code>  ，阻止捕获也是一样，添加之后就不会在继续往下传递了。</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// 阻止冒泡</span>\nc<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"m-c\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    e<span class=\"token punctuation\">.</span><span class=\"token function\">stopPropagation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 此处阻止传播</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 此时的顺序：b-a,b-c,m-c。不会传递，后面的不会执行了</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"关于使用addeventlistener\"><a class=\"markdownIt-Anchor\" href=\"#关于使用addeventlistener\">#</a> 关于使用 <code>addEventListener</code></h4>\n<p><strong>由于 <code>addEventListener</code>  单词太长：</strong> 所以封装一下：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">addEvent</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ele<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">,</span> fn</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  ele<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"关于事件代理委托\"><a class=\"markdownIt-Anchor\" href=\"#关于事件代理委托\">#</a> 关于事件代理（委托）</h4>\n<p>如果你要给每一个 <code>li</code>  标签添加一个点击事件，弹出每一个 <code>li</code>  的索引值</p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>box<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>list-1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>list-2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>list-3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>list-4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>闭包：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> oLis <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> oLis<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">addEvent</span><span class=\"token punctuation\">(</span>oLis<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>因为你的 <code>li</code>  的个数可能发生改变，如果是这样的话，可能会出一些问题。</p>\n<p>事件代理代码：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> oBox <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"box\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">addEvent</span><span class=\"token punctuation\">(</span>oBox<span class=\"token punctuation\">,</span> <span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> target <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 判断点击的是li</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>nodeName <span class=\"token operator\">==</span> <span class=\"token string\">\"LI\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>innerHTML<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>这样也是可以的，不过此时的 <code>addEvent</code>  函数点击的时候就需要在 <code>fn</code>  里面判断点击的是哪一个标签。为了更好的使用 <code>addEvent</code> ，我们可以改进一下</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">addEvent</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ele<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">,</span> selector<span class=\"token punctuation\">,</span> fn</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">// 如果只有三个参数，那么3,4互换</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fn <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    fn <span class=\"token operator\">=</span> selector<span class=\"token punctuation\">;</span>\n    selector <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  ele<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">var</span> target<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token comment\">//  代理</span>\n      target <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span><span class=\"token function\">matches</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">fn</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token comment\">// 不代理</span>\n      <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>这时点击 <code>li</code>  弹出 innerHTML 就可以这样实现：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">addEvent</span><span class=\"token punctuation\">(</span>oBox<span class=\"token punctuation\">,</span> <span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"li\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>innerHTML<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"总结-2\"><a class=\"markdownIt-Anchor\" href=\"#总结-2\">#</a> 总结：</h4>\n<ol>\n<li><strong>同时 存在捕获与冒泡时</strong> ，<strong>捕获的优先级是高于冒泡的</strong> 。</li>\n<li>没有捕获的时候谁在前面先执行谁</li>\n</ol>\n<p>如果要取消一个使用 <code>addEventListener</code>  绑定的事件函数，使用 <code>removeEventListener</code>  可以移除事件。</p>\n<h4 id=\"解答-3\"><a class=\"markdownIt-Anchor\" href=\"#解答-3\">#</a> 解答</h4>\n<ul>\n<li>编写一个通用的事件监听函数</li>\n</ul>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">bindEvent</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">elem<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">,</span> seletor<span class=\"token punctuation\">,</span> fn</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fn <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    fn <span class=\"token operator\">=</span> selector<span class=\"token punctuation\">;</span>\n    seletor <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  elem<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">var</span> target<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>seletor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      target <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span><span class=\"token function\">matches</span><span class=\"token punctuation\">(</span>seletor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">fn</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>\n<p>描述事件冒泡的流程</p>\n<ul>\n<li>DOM 树形结构</li>\n<li>事件冒泡</li>\n<li>阻止冒泡</li>\n<li>冒泡的应用</li>\n</ul>\n</li>\n<li>\n<p>对于一个无线下拉加载图片的页面，如何给每个图片绑定事件</p>\n<ul>\n<li>使用代理</li>\n<li>知道代理的两个优点</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"重点总结-2\"><a class=\"markdownIt-Anchor\" href=\"#重点总结-2\">#</a> 重点总结</h4>\n<ul>\n<li>通用事件绑定</li>\n<li>事件冒泡</li>\n<li>代理</li>\n</ul>\n<h2 id=\"5-4-ajax\"><a class=\"markdownIt-Anchor\" href=\"#5-4-ajax\">#</a> 5-4 Ajax</h2>\n<blockquote>\n<p>题目</p>\n<p>知识点</p>\n<p>题目</p>\n</blockquote>\n<h3 id=\"题目-2\"><a class=\"markdownIt-Anchor\" href=\"#题目-2\">#</a> 题目</h3>\n<ul>\n<li>手动编写一个 ajax，不依赖第三方库</li>\n<li>跨域的几种实现方式</li>\n</ul>\n<h3 id=\"知识点-2\"><a class=\"markdownIt-Anchor\" href=\"#知识点-2\">#</a> 知识点</h3>\n<ul>\n<li>XMLHttpRequest</li>\n<li>状态码说明</li>\n<li>跨域</li>\n</ul>\n<h4 id=\"xmlhttprequest\"><a class=\"markdownIt-Anchor\" href=\"#xmlhttprequest\">#</a> XMLHttpRequest</h4>\n<blockquote>\n<p>使用 XMLHttpRequest (XHR) 对象可以与服务器交互。您可以从 URL 获取数据，而无需让整个的页面刷新。这使得 Web 页面可以只更新页面的局部，而不影响用户的操作。XMLHttpRequest 在 <a href=\"https://developer.mozilla.org/en-US/docs/AJAX\">Ajax</a> 编程中被大量使用</p>\n<p>尽管名称如此，XMLHttpRequest 可以用于获取任何类型的数据，而不仅仅是 XML，它还支持 <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP\">HTTP</a> 以外的协议 (包括文件和 ftp)。</p>\n<p>如果您的通信需要从服务器接收事件或消息数据，请考虑通过<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/EventSource\"> <code>EventSource</code> </a> 接口使用 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events\">server-sent events</a>。对于 full-duplex 通信， <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API\">WebSockets</a> 可能是更好的选择。</p>\n<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest\">可参考</a></p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> xhr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nxhr<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GET\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/api\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//false 使用异步</span>\nxhr<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onreadystatechange</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token comment\">//这里是函数异步执行，可参考之前 JS 基础中的异步 模块</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>xhr<span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">==</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>xhr<span class=\"token punctuation\">.</span>status <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>xhr<span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\nxhr<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"ie-兼容性问题\"><a class=\"markdownIt-Anchor\" href=\"#ie-兼容性问题\">#</a> IE 兼容性问题</h4>\n<blockquote>\n<p><a href=\"https://www.w3cschool.cn/mlb2er/3miu1pxk.html\">有意向者可参考</a></p>\n</blockquote>\n<ul>\n<li>IE 低版本使用 ActiveXObject，和 W3C 标准不一样</li>\n<li>IE 低版本使用量非常少，很多网站都早已不支持</li>\n<li>建议对 IE 低版本的兼容性：<strong>了解即可，无需深究</strong> 。</li>\n<li>如果遇到对 IE 低版本要求苛刻的面试，果断放弃</li>\n</ul>\n<h4 id=\"readystate-状态码说明\"><a class=\"markdownIt-Anchor\" href=\"#readystate-状态码说明\">#</a> readyState 状态码说明</h4>\n<blockquote>\n<p>readyState 是 XMLHttpRequest 对象的一个属性，用来标识当前 XMLHttpRequest 对象处于什么状态。<br>\nreadyState 总共有 5 个状态值，分别为 0~4，每个值代表了不同的含义</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token number\">0</span>：未初始化，还没有调用 <span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>方法\n<span class=\"token number\">1</span><span class=\"token function\">：载入，已调用send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>方法，XMLHttpRequest对象开始发送请求\n<span class=\"token number\">2</span><span class=\"token function\">：载入完成，send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>方法执行完成，已经接收到全部的相应内容\n<span class=\"token number\">3</span>：交互，正在解析响应内容\n<span class=\"token number\">4</span>：完成，响应内容解析完成，可以在客户端调用了<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"status-状态码说明\"><a class=\"markdownIt-Anchor\" href=\"#status-状态码说明\">#</a> status 状态码说明</h4>\n<blockquote>\n<p>status 是 XMLHttpRequest 对象的一个属性，表示响应的 HTTP 状态码</p>\n<p><a href=\"https://www.cnblogs.com/liu-fei-fei/p/5618782.html\">详细参考</a></p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token number\">1</span>xx：信息响应类，表示接收到请求并且继续处理\n<span class=\"token number\">2</span>xx：处理成功响应类，表示动作被成功接收、理解和接受\n<span class=\"token number\">3</span>xx：重定向响应类，为了完成指定的动作，必须接受进一步处理\n<span class=\"token number\">4</span>xx：客户端错误，客户请求包含语法错误或者是不能正确执行\n<span class=\"token number\">5</span>xx：服务端错误，服务器不能正确执行一个正确的请求\n\n<span class=\"token number\">200</span>——交易成功\n<span class=\"token number\">404</span>——没有发现文件、查询或URl\n<span class=\"token operator\">...</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"5-5-跨域\"><a class=\"markdownIt-Anchor\" href=\"#5-5-跨域\">#</a> 5-5 跨域</h2>\n<blockquote>\n<p><strong>定义</strong> ：跨域是指从一个域名的网页去请求另一个域名的资源。<a href=\"http://xn--www-8p9d920c8x0a.baidu.com\">比如从 www.baidu.com</a> 页面去请求 <a href=\"http://www.google.com\">www.google.com</a> 的资源。但是一般情况下不能这么做，它是由浏览器的同源策略造成的，是浏览器对<a href=\"https://link.juejin.im?target=http%3A%2F%2Flib.csdn.net%2Fbase%2Fjavascript\"> JavaScript</a> 施加的安全限制。跨域的严格一点的定义是：只要 协议，域名，端口有任何一个的不同，就被当作是跨域</p>\n<p>** 所谓同源是指，域名，协议，端口均相同。** 这里说的 js 跨域是指通过 js 在不同的域之间进行数据传输或通信，比如用 ajax 向一个不同的域请求数据，或者通过 js 获取页面中不同域的框架中 (iframe) 的数据。</p>\n<p>概念：<strong>只要协议、域名、端口有任何一个不同</strong> ，都被当作是不同的域。算作 跨域。</p>\n<p><a href=\"https://segmentfault.com/a/1190000015597029\">参考</a></p>\n<p>http 默认端口：80</p>\n<p>https 默认端口：443</p>\n</blockquote>\n<h3 id=\"问题\"><a class=\"markdownIt-Anchor\" href=\"#问题\">#</a> 问题</h3>\n<ul>\n<li>说明什么是跨域</li>\n<li>JSONP</li>\n<li>服务器端设置 http header</li>\n</ul>\n<h4 id=\"什么是跨域\"><a class=\"markdownIt-Anchor\" href=\"#什么是跨域\">#</a> 什么是跨域</h4>\n<p><strong>跨域是</strong>指一个<strong>域</strong>下的文档或脚本试图去请求另一个<strong>域</strong>下的资源，这里<strong>跨域是</strong>广义的。 其实我们通常所说的<strong>跨域是</strong>狭义的，<strong>是</strong>由浏览器同源策略限制的一类请求场景。</p>\n<h4 id=\"可以跨域的三个标签\"><a class=\"markdownIt-Anchor\" href=\"#可以跨域的三个标签\">#</a> 可以跨域的三个标签</h4>\n<ul>\n<li>&lt;<strong>img src=xxx</strong> &gt; 用于打点统计，统计网站可能是其它域</li>\n<li>&lt;<strong>link href=xxxx</strong> &gt; 可以使用 CDN,CDN 也是其它域</li>\n<li>&lt;<strong>script src=xxx</strong> &gt; 可以使用 CDN, 可以用于 <strong>JSONP</strong></li>\n</ul>\n<h4 id=\"跨域注意事项\"><a class=\"markdownIt-Anchor\" href=\"#跨域注意事项\">#</a> 跨域注意事项</h4>\n<ul>\n<li>所有的跨域请求都必须经过信息提供方允许</li>\n<li>如果未经允许即可获取，那是浏览器同源策略出现漏洞</li>\n</ul>\n<h3 id=\"jsonp-实现原理\"><a class=\"markdownIt-Anchor\" href=\"#jsonp-实现原理\">#</a> JSONP 实现原理</h3>\n<blockquote>\n<p>jsonp 是一种跨域通信的手段</p>\n<p><a href=\"https://segmentfault.com/a/1190000007665361\">参考 1</a> <a href=\"https://github.com/qianlongo/zepto-analysis/issues/4\">参考 2</a></p>\n</blockquote>\n<p><strong>jsonp 是一种跨域通信的手段，它的原理其实很简单：</strong></p>\n<ol>\n<li>客户端利用 <code>script</code>  标签可以跨域请求资源的性质，向网页中动态插入 <code>script</code>  标签，来向服务端请求数据。</li>\n<li>服务端会解析请求的 <code>url</code> , 至少拿到一个回调函数 (比如 <code>callback=myCallback</code> ) 参数，之后将数据放入其中返回给客户端。</li>\n<li>当然 jsonp 不同于平常的 <code>ajax</code>  请求，它仅仅支持 get 类型的方式</li>\n</ol>\n<h4 id=\"实现流程\"><a class=\"markdownIt-Anchor\" href=\"#实现流程\">#</a> 实现流程</h4>\n<ol>\n<li>\n<p>设定一个 script 标签</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"http://jsonp.js?callback=xxx\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li>\n<p>callback 定义了一个函数名，而远程服务端通过调用指定的函数并传入参数来实现传递参数，将 <code>fn(response)</code>  传递回客户端</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token variable\">$callback</span> <span class=\"token operator\">=</span> <span class=\"token operator\">!</span><span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'callback'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'callback'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token single-quoted-string string\">'callback'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">echo</span> <span class=\"token variable\">$callback</span><span class=\"token punctuation\">.</span><span class=\"token single-quoted-string string\">'(.json_encode($data).)'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li>\n<p>客户端接收到返回的 js 脚本，开始解析和执行 <code>fn(response)</code></p>\n</li>\n</ol>\n<h4 id=\"服务端设置-http-header\"><a class=\"markdownIt-Anchor\" href=\"#服务端设置-http-header\">#</a> 服务端设置 http header</h4>\n<ul>\n<li>另外一个解决跨域的简洁方法，需要服务器端来做</li>\n<li>但是作为交互方，我们必须知道这个方法</li>\n<li>是将来解决跨域问题的一个趋势</li>\n</ul>\n<p><img src=\"http://static.zxinc520.com/blog/20190718/YNGAeXPTUx6I.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"重点总结-3\"><a class=\"markdownIt-Anchor\" href=\"#重点总结-3\">#</a> 重点总结</h4>\n<ul>\n<li>XMLHttpRequest</li>\n<li>状态码说明</li>\n<li>跨域</li>\n</ul>\n<h2 id=\"5-6-存储\"><a class=\"markdownIt-Anchor\" href=\"#5-6-存储\">#</a> 5-6 存储</h2>\n<blockquote>\n<p>题目</p>\n<p>知识点</p>\n<p>解答</p>\n</blockquote>\n<h3 id=\"题目-3\"><a class=\"markdownIt-Anchor\" href=\"#题目-3\">#</a> 题目</h3>\n<ul>\n<li>请描述一下 cookie，sessionStorage 和 localStorage 的区别？</li>\n</ul>\n<h3 id=\"知识点-3\"><a class=\"markdownIt-Anchor\" href=\"#知识点-3\">#</a> 知识点</h3>\n<ul>\n<li>cookie</li>\n<li>sessionStorage 和 localStorage</li>\n</ul>\n<h4 id=\"cookie\"><a class=\"markdownIt-Anchor\" href=\"#cookie\">#</a> cookie</h4>\n<blockquote>\n<p><a href=\"https://juejin.im/post/5b57dba3f265da0fb018741f\">可参考</a></p>\n</blockquote>\n<ul>\n<li>本身用于客户端和服务器端通信</li>\n<li>但是它有本地储存的功能，于是就被 <strong>借用</strong></li>\n<li>使用 document.cookie = … 获取和修改即可</li>\n</ul>\n<h4 id=\"cookie-用于储存的缺点\"><a class=\"markdownIt-Anchor\" href=\"#cookie-用于储存的缺点\">#</a> cookie 用于储存的缺点</h4>\n<ul>\n<li>\n<p><strong>储存量太小</strong> ，Cookie` 数量和长度的限制。每个 domain 最多只能有 20 条 cookie，每个 cookie 长度不能超过 4KB，否则会被截掉。在当今新的浏览器和客户端设备版本中，支持 8192 字节的 Cookie 大小已愈发常见。</p>\n</li>\n<li>\n<p>所有 http 请求都带着，会<strong>影响获取资源的效率</strong></p>\n</li>\n<li>\n<p>用户配置为禁用。有些用户禁用了浏览器或客户端设备接收 Cookie 的能力，因此限制了这一功能</p>\n</li>\n<li>\n<p>由于在 HTTP 请求中的 cookie 是明文传递的，潜在的安全风险，Cookie 可能会被篡改</p>\n</li>\n<li>\n<p>有些状态不可能保存在客户端</p>\n</li>\n<li>\n<p>cookie 会被附加在每个 HTTP 请求中，所以无形中增加了流量</p>\n</li>\n<li>\n<p>cookie 一般不可跨域使用</p>\n</li>\n<li>\n<p>没有封装好的 setCookie 和 getCookie 方法，需要开发者自省封装</p>\n</li>\n</ul>\n<h3 id=\"sessionstorage-和-localstorage\"><a class=\"markdownIt-Anchor\" href=\"#sessionstorage-和-localstorage\">#</a> sessionStorage 和 localStorage</h3>\n<ul>\n<li>HTML5 专门为储存而设计，最大容量 5M</li>\n<li>API 简答易用</li>\n<li>localStorage.setItem(key, value); localStorage.getItem(key, value);</li>\n</ul>\n<h4 id=\"区别\"><a class=\"markdownIt-Anchor\" href=\"#区别\">#</a> 区别：</h4>\n<p><strong>localStorage</strong> 生命周期是永久，这意味着除非用户显示在浏览器提供的 UI 上清除 localStorage 信息，否则这些信息将永远存在。</p>\n<p><strong>sessionStorage</strong> 生命周期为当前窗口或标签页，一旦窗口或标签页被永久关闭了，那么所有通过 sessionStorage 存储的数据也就被清空了。</p>\n<p>不同浏览器无法共享 localStorage 或 sessionStorage 中的信息。相同浏览器的不同页面间可以共享相同的 localStorage（页面属于相同域名和端口），但是不同页面或标签页间无法共享 sessionStorage 的信息。这里需要注意的是，页面及标 签页仅指顶级窗口，如果一个标签页包含多个 iframe 标签且他们属于同源页面，那么他们之间是可以共享 sessionStorage 的。</p>\n<h4 id=\"注意\"><a class=\"markdownIt-Anchor\" href=\"#注意\">#</a> 注意</h4>\n<ul>\n<li>iOS safari 隐藏模式下</li>\n<li>localStorage.getItem 会报错</li>\n<li>建议 统一使用 try-catch 封装</li>\n</ul>\n<h3 id=\"解答-4\"><a class=\"markdownIt-Anchor\" href=\"#解答-4\">#</a> 解答</h3>\n<ul>\n<li>请描述一下 cookie，sessionStorage 和 localStorage 的区别？\n<ul>\n<li>容量</li>\n<li>是否携带到 ajax 中</li>\n<li>API 易用性</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "DOM",
                "BOM",
                "事件绑定",
                "ajax 请求",
                "储存"
            ]
        },
        {
            "id": "http://example.com/2019/07/19/OperationEnvironment/",
            "url": "http://example.com/2019/07/19/OperationEnvironment/",
            "title": "运行环境",
            "date_published": "2019-07-19T15:06:51.000Z",
            "content_html": "<h1 id=\"运行环境\"><a class=\"markdownIt-Anchor\" href=\"#运行环境\">#</a> 运行环境</h1>\n<blockquote>\n<p>讲解 JS 代码在浏览器中运行的相关问题，例如 <strong>页面加载和渲染</strong>，<strong>性能优化</strong>，<strong>安全性</strong> ，这些类别的题目。</p>\n<p>知识点：</p>\n<p>8-1 页面加载过程</p>\n<p>8-2 性能优化</p>\n</blockquote>\n<ul>\n<li>浏览器就可以通过访问链接来得到页面内容</li>\n<li>通过绘制和渲染，显示出页面的最终的样子</li>\n</ul>\n<h2 id=\"整个过程中我们需要考虑什么问题\"><a class=\"markdownIt-Anchor\" href=\"#整个过程中我们需要考虑什么问题\">#</a> 整个过程中，我们需要考虑什么问题？</h2>\n<h3 id=\"3-个重点\"><a class=\"markdownIt-Anchor\" href=\"#3-个重点\">#</a> 3 个重点</h3>\n<ul>\n<li>页面加载过程</li>\n<li>性能优化</li>\n<li>安全性</li>\n</ul>\n<h2 id=\"8-1-页面加载过程\"><a class=\"markdownIt-Anchor\" href=\"#8-1-页面加载过程\">#</a> 8-1 页面加载过程</h2>\n<blockquote>\n<p>题目</p>\n<p>知识点</p>\n<p>解答</p>\n</blockquote>\n<h3 id=\"题目\"><a class=\"markdownIt-Anchor\" href=\"#题目\">#</a> 题目</h3>\n<ul>\n<li>从输入 url 到得到 html 的详细过程</li>\n<li>window.onload 和 DOMContentLoaded 的区别？</li>\n</ul>\n<h3 id=\"知识点\"><a class=\"markdownIt-Anchor\" href=\"#知识点\">#</a> 知识点</h3>\n<ul>\n<li>加载资源的形式</li>\n<li>加载一个资源的过程</li>\n<li>浏览器渲染页面的过程</li>\n</ul>\n<h4 id=\"加载资源的形式\"><a class=\"markdownIt-Anchor\" href=\"#加载资源的形式\">#</a> 加载资源的形式</h4>\n<ul>\n<li>输入 url （或跳转页面）加载 html</li>\n<li>url: <a href=\"https://www.imooc.com/\">https://www.imooc.com/</a></li>\n<li>加载 html 中的静态资源</li>\n<li>script 标签中资源的加载: &lt;<strong>script src=&quot;/static/jsjquery.js&quot;&gt;&lt;/script</strong> &gt;</li>\n</ul>\n<h4 id=\"加载一个资源的过程\"><a class=\"markdownIt-Anchor\" href=\"#加载一个资源的过程\">#</a> 加载一个资源的过程</h4>\n<ol>\n<li>浏览器根据 DNS 服务器得到域名的 IP 地址</li>\n<li>向这个 IP 的机器发送 http 请求</li>\n<li>服务器收到、处理并返回 http 请求</li>\n<li>浏览器得到返回内容</li>\n</ol>\n<h4 id=\"浏览器渲染页面的过程\"><a class=\"markdownIt-Anchor\" href=\"#浏览器渲染页面的过程\">#</a> 浏览器渲染页面的过程：</h4>\n<p>1. 根据 HTML 结构生成 DOM Tree 2. 根据 CSS 生成 CSSOM 3. 将 DOM 和 CSSOM 整合形成 RenderTree 4. 根据 RenderTree 开始渲染和展示 5. 遇到 &lt;<strong>script</strong> &gt; 时，会执行并阻止渲染。</p>\n<h4 id=\"思考\"><a class=\"markdownIt-Anchor\" href=\"#思考\">#</a> 思考</h4>\n<ul>\n<li><strong>为何要把 css 放在 head 中？</strong>\n<ul>\n<li>css 放在 body 标签尾部时，DOMTree 构建完成之后便开始构建 RenderTree, 并计算布局渲染网页，等加载解析完 css 之后，开始构建 CSSOMTree, 并和 DOMTree 重新构建 RenderTree, 重新计算布局渲染网页</li>\n<li>css 放在 head 标签中时，先加载 css, 之后解析 css 构建 CSSOMTree, 于此同时构建 DOMTree, CSSOMTree 和 DOMTree 都构建完毕之后开始构建 RenderTree, 计算布局渲染网页</li>\n</ul>\n</li>\n</ul>\n<p>对比两者，css 放在 head 标签中比 css 放在 body 标签尾部少了一次构建 RenderTree, 一次计算布局和一次渲染网页，因此性能会更好；并且 css 放在 body 标签尾部时会在网页中短暂出现 &quot;裸奔&quot; 的 HTML, 这不利于用户体验</p>\n<hr>\n<ul>\n<li>\n<p><strong>为何要把 js 放在 body 最下面？</strong> ，<u>既然 Dom 树完全生成好后才能显示 “没有图片的首屏”，浏览器又必须读完全部 HTML 才能生成完整的 Dom 树，script 标签不放在 body 底部是不是也一样？</u></p>\n<ul>\n<li>—— JS 放在底部可以保证让浏览器优先渲染完现有的 HTML 内容，让用户先看到内容，体验好。另外，JS 执行如果涉及 DOM 操作，得等待 DOM 解析完成才行，JS 放在底部执行时，HTML 肯定都解析成了 DOM 结构。JS 如果放在 HTML 顶部，JS 执行的时候 HTML 还没来得及转换为 DOM 结构，可能会报错。 <a href=\"https://segmentfault.com/a/1190000004292479\">JS 一定要放在 Body 的最底部么？聊聊浏览器的渲染机制</a></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"windowonload-和-domcontentloaded\"><a class=\"markdownIt-Anchor\" href=\"#windowonload-和-domcontentloaded\">#</a> window.onload 和 DOMContentLoaded</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190719/sSK9VYP2CSRd.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"解答\"><a class=\"markdownIt-Anchor\" href=\"#解答\">#</a> 解答</h3>\n<ul>\n<li>\n<p>从输入 url 到得到 html 的详细过程</p>\n<ul>\n<li>浏览器根据 DNS 服务器得到域名的 IP 地址</li>\n<li>向这个 IP 的机器发送 http 请求</li>\n<li>服务器收到、处理并返回 http 请求</li>\n<li>浏览器得到返回内容</li>\n</ul>\n</li>\n<li>\n<p>window.onload 和 DOMContentLoaded 的区别？</p>\n<ul>\n<li>window.onload： 页面的全部资源加载完才会执行，包括图片、视频等</li>\n<li>DOMContentLoaded： DOM 渲染完即可执行，此时图片、视频还没有加载完</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"8-2-性能优化\"><a class=\"markdownIt-Anchor\" href=\"#8-2-性能优化\">#</a> 8-2 性能优化</h2>\n<blockquote>\n<p><a href=\"https://juejin.im/post/5a966bd16fb9a0635172a50a\">2018 前端性能优化清单</a></p>\n<p>关于 <strong>性能优化</strong> 是个大的面，这篇文章主要涉及到 <strong>前端</strong> 的几个点，如 <strong>前端性能优化</strong> 的流程、常见技术手段、工具等。</p>\n<p>提及 <strong>前端性能优化</strong> ，大家应该都会想到 <strong>雅虎军规</strong>，本文会结合 <strong>雅虎军规</strong> 融入自己的了解知识，进行的总结和梳理 😜</p>\n</blockquote>\n<h3 id=\"我们先来看看-雅虎军规-的-35-条\"><a class=\"markdownIt-Anchor\" href=\"#我们先来看看-雅虎军规-的-35-条\">#</a> 我们先来看看 👀 雅虎军规 的 35 条 ：</h3>\n<ul>\n<li>尽量减少 HTTP 请求个数 —— 须权衡</li>\n<li>使用 <strong>CDN</strong>（内容分发网络）</li>\n<li>为文件头指定 Expires 或 Cache-Control ，使内容具有缓存性。</li>\n<li>避免空的 src 和 href</li>\n<li>使用 gzip 压缩内容</li>\n<li>把 CSS 放到顶部</li>\n<li>把 JS 放到底部</li>\n<li>避免使用 CSS 表达式</li>\n<li>将 CSS 和 JS 放到外部文件中</li>\n<li>减少 DNS 查找次数</li>\n<li>精简 CSS 和 JS</li>\n<li>避免跳转</li>\n<li>剔除重复的 JS 和 CSS</li>\n<li>配置 ETags</li>\n<li>使 AJAX 可缓存</li>\n<li>尽早刷新输出缓冲</li>\n<li>使用 GET 来完成 AJAX 请求</li>\n<li>延迟加载</li>\n<li>预加载</li>\n<li>减少 DOM 元素个数</li>\n<li>根据域名划分页面内容</li>\n<li>尽量减少 iframe 的个数</li>\n<li>避免 404</li>\n<li>减少 Cookie 的大小</li>\n<li>使用无 cookie 的域</li>\n<li>减少 DOM 访问</li>\n<li>开发智能事件处理程序</li>\n<li>用 代替 @import</li>\n<li>避免使用滤镜</li>\n<li>优化图像</li>\n<li>优化 CSS Spirite</li>\n<li>不要在 HTML 中缩放图像 —— 须权衡</li>\n<li>favicon.ico 要小而且可缓存</li>\n<li>保持单个内容小于 25K</li>\n<li>打包组件成复合文本</li>\n</ul>\n<hr>\n<ul>\n<li>这本身就是一个综合性的问题</li>\n<li>没有标准答案，如果要非常全面，能写一本书</li>\n<li>只关注核心点，针对面试</li>\n</ul>\n<h3 id=\"原则\"><a class=\"markdownIt-Anchor\" href=\"#原则\">#</a> 原则</h3>\n<ul>\n<li>多使用内存、缓存或其他方法</li>\n<li>减少 CPU 计算、减少网络请求</li>\n</ul>\n<h3 id=\"从哪里入手\"><a class=\"markdownIt-Anchor\" href=\"#从哪里入手\">#</a> 从哪里入手</h3>\n<ul>\n<li>加载页面和静态资源</li>\n<li>页面渲染</li>\n</ul>\n<h3 id=\"加载资源优化\"><a class=\"markdownIt-Anchor\" href=\"#加载资源优化\">#</a> 加载资源优化</h3>\n<ul>\n<li>静态资源的压缩合并</li>\n<li>静态资源缓存</li>\n<li>使用 CDN 让资源加载更快</li>\n<li>使用 SSR 后端渲染，数据直接输出到 HTML 中</li>\n</ul>\n<h3 id=\"渲染优化\"><a class=\"markdownIt-Anchor\" href=\"#渲染优化\">#</a> 渲染优化</h3>\n<ul>\n<li>CSS 放前面 ，JS 放后面</li>\n<li>懒加载 （图片懒加载、下拉加载更多）</li>\n<li>减少 DOM 查询 ，对 DOM 查询做缓存</li>\n<li>减少 DOM 操作，多个操作尽量合并 在一起执行</li>\n<li>事件节流</li>\n<li>尽早执行操作 （如 DOMContentLoaded）</li>\n</ul>\n<h3 id=\"优化示例\"><a class=\"markdownIt-Anchor\" href=\"#优化示例\">#</a> 优化示例</h3>\n<blockquote>\n<p>展示几个优化示例</p>\n</blockquote>\n<h4 id=\"资源合并\"><a class=\"markdownIt-Anchor\" href=\"#资源合并\">#</a> 资源合并</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"a.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"b.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"c.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n<span class=\"token comment\">//资源合并</span>\n<span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"abc.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"缓存\"><a class=\"markdownIt-Anchor\" href=\"#缓存\">#</a> 缓存</h4>\n<ul>\n<li>通过连接名字控制缓存</li>\n<li>&lt;<strong>script src=“adc_1.js”&gt;&lt;/script</strong> &gt;</li>\n<li>只有内容改变的时候，连接名称才会改变</li>\n<li>&lt;<strong>script src=“adc_2.js”&gt;&lt;/script</strong> &gt;</li>\n</ul>\n<h4 id=\"cdn\"><a class=\"markdownIt-Anchor\" href=\"#cdn\">#</a> CDN</h4>\n<blockquote>\n<p>2 个在线的好用的 CDN 网站：</p>\n<p><a href=\"https://www.bootcdn.cn/\">https://www.bootcdn.cn/</a></p>\n<p><a href=\"https://cdnjs.com/\">https://cdnjs.com/</a></p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190719/wqVaD4amGTnT.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"使用-ssr-后端渲染\"><a class=\"markdownIt-Anchor\" href=\"#使用-ssr-后端渲染\">#</a> 使用 SSR 后端渲染</h4>\n<ul>\n<li>现在 Vue React 提出了这样的概念</li>\n<li>其实 jsp php asp 都属于后端渲染</li>\n</ul>\n<h4 id=\"懒加载\"><a class=\"markdownIt-Anchor\" href=\"#懒加载\">#</a> 懒加载</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190719/dNHq1Xfe0Ep5.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"缓存-dom-查询\"><a class=\"markdownIt-Anchor\" href=\"#缓存-dom-查询\">#</a> 缓存 DOM 查询</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190719/4xj98cKCzJh9.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"合并-dom-插入\"><a class=\"markdownIt-Anchor\" href=\"#合并-dom-插入\">#</a> 合并 DOM 插入</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190719/S7Fvwi6QNApC.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"事件节流\"><a class=\"markdownIt-Anchor\" href=\"#事件节流\">#</a> 事件节流</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190719/vHApgiVQan6S.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"尽早操作\"><a class=\"markdownIt-Anchor\" href=\"#尽早操作\">#</a> 尽早操作</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190719/q8SS7PiiaKI4.png?imageslim\" alt=\"mark\"></p>\n",
            "tags": [
                "性能优化",
                "加载过程"
            ]
        },
        {
            "id": "http://example.com/2019/07/19/DevelopmentEnvironment/",
            "url": "http://example.com/2019/07/19/DevelopmentEnvironment/",
            "title": "开发环境",
            "date_published": "2019-07-19T09:57:31.000Z",
            "content_html": "<h1 id=\"开发环境\"><a class=\"markdownIt-Anchor\" href=\"#开发环境\">#</a> 开发环境</h1>\n<blockquote>\n<p>讲解在面试过程中，面试官可能会问及的前端开发环境的问题，例如 <strong>IDE</strong> ，<strong>Git</strong> ，<strong>模块化</strong> ，<strong>打包工具</strong> ，<strong>上线流程</strong> ，这些类别的题目。</p>\n<p>知识点：</p>\n<p>7-1 IDE</p>\n<p>7-2 Git</p>\n<p>7-3 模块化</p>\n<p>7-4 构建工具</p>\n<p>7-5 上线和回滚</p>\n</blockquote>\n<h3 id=\"关于开发环境\"><a class=\"markdownIt-Anchor\" href=\"#关于开发环境\">#</a> 关于开发环境</h3>\n<ul>\n<li>面试官想通过开发环境了解面试者的经验</li>\n<li>开发环境，最能体现工作产出的效率</li>\n<li>会以聊天的形式为主，而不是出具体的问题</li>\n</ul>\n<h2 id=\"知识点\"><a class=\"markdownIt-Anchor\" href=\"#知识点\">#</a> 知识点</h2>\n<blockquote>\n<p><strong>IDE</strong> ，<strong>Git</strong> ，<strong>JS 模块化</strong> ，<strong>打包工具</strong> ，<strong>上线流程</strong> ，</p>\n</blockquote>\n<ul>\n<li>IDE （ 写代码的效率 ）</li>\n<li>git （ 代码版本管理 ，多人协作开发 ）</li>\n<li>JS 模块化</li>\n<li>打包工具</li>\n<li>上线回滚的流程</li>\n</ul>\n<h2 id=\"7-1-ide\"><a class=\"markdownIt-Anchor\" href=\"#7-1-ide\">#</a> 7-1 IDE</h2>\n<ul>\n<li>webstorm （ 我平常基本用的就是 <strong>webstorm</strong> ）</li>\n<li>sublime</li>\n<li>vscode</li>\n<li>atom</li>\n<li>插件 插件 插件 ！！！</li>\n</ul>\n<p><img src=\"http://static.zxinc520.com/blog/20190719/MxVs8IUJKDhO.png?imageslim\" alt=\"mark\"></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190719/QNC5aBgIVByU.png?imageslim\" alt=\"mark\"></p>\n<p><strong>注意：</strong></p>\n<ul>\n<li>千万不要说你使用 Dreamweaver 或者 notpad ++</li>\n<li>不做 .net 也不要用 Visual Studio</li>\n<li>不做 java 也不要用 eclipse</li>\n</ul>\n<h2 id=\"7-2-git\"><a class=\"markdownIt-Anchor\" href=\"#7-2-git\">#</a> 7-2 Git</h2>\n<blockquote>\n<p>Git 详细介绍：可参考的的博客：<a href=\"http://zxinc520.com/lcj/%225d285a027b8c9f7d8dc4f627%22\">Git 篇</a></p>\n</blockquote>\n<ul>\n<li>正式项目都需要代码版本管理</li>\n<li>大型项目需要多人协作开发</li>\n<li>Git 和 linux 是一个作者</li>\n</ul>\n<h2 id=\"7-3-模块化\"><a class=\"markdownIt-Anchor\" href=\"#7-3-模块化\">#</a> 7-3 模块化</h2>\n<blockquote>\n<p>模块化编程就是通过组合一些<strong>相对独立可复用的模块</strong>来进行功能的实现，其最核心的两部分是<strong>定义模块</strong>和<strong>引入模块</strong>；</p>\n<ul>\n<li>定义模块时，每个模块内部的执行逻辑是不被外部感知的，只是导出（暴露）出部分方法和数据；</li>\n<li>引入模块时，同步 / 异步去加载待引入的代码，执行并获取到其暴露的方法和数据；</li>\n</ul>\n<p><strong>模块化的发展情况</strong> ：无模块化–&gt;CommonJS 规范–&gt;AMD 规范–&gt;CMD 规范–&gt;ES6 模块化</p>\n<p><a href=\"https://juejin.im/post/5b6c222a6fb9a04fde5af4ee\">Javascript 模块化指北</a></p>\n<p><a href=\"https://juejin.im/post/5b4420e7f265da0f4b7a7b27\">这一次，我要弄懂 javascript 的模块化</a></p>\n</blockquote>\n<h3 id=\"知识点-2\"><a class=\"markdownIt-Anchor\" href=\"#知识点-2\">#</a> 知识点</h3>\n<ul>\n<li>不使用模块化的情况</li>\n<li>使用模块化</li>\n<li>AMD</li>\n<li>CommonJS</li>\n</ul>\n<h4 id=\"无模块化\"><a class=\"markdownIt-Anchor\" href=\"#无模块化\">#</a> 无模块化</h4>\n<p>script 标签引入 js 文件，相互罗列，但是被依赖的放在前面，否则使用就会报错。如下：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"jquery.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n　　<span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"jquery_scroller.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n　　<span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"main.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n　　<span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"other1.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n　　<span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"other2.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n　　<span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"other3.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>​ 即简单的将所有的 js 文件统统放在一起。但是这些文件的顺序还不能出错，比如 jquery 需要先引入，才能引入 jquery 插件，才能在其他的文件中使用 jquery。缺点很明显：</p>\n<ul>\n<li>污染全局作用域</li>\n<li>维护成本高</li>\n<li>依赖关系不明显</li>\n</ul>\n<h3 id=\"amd-规范\"><a class=\"markdownIt-Anchor\" href=\"#amd-规范\">#</a> AMD 规范</h3>\n<blockquote>\n<p>异步模块定义（<strong>AMD</strong>）API 指定了一种定义模块的机制，以便可以异步加载模块及其依赖项。这特别适用于浏览器环境，其中模块的同步加载会导致性能，可用性，调试和跨域访问问题。</p>\n</blockquote>\n<ul>\n<li>require.js <a href=\"https://requirejs.org/\">https://requirejs.org/</a></li>\n<li>全局 define 函数</li>\n<li>全局 require 函数</li>\n<li>依赖 JS 会自动、异步加载</li>\n</ul>\n<p>AMD 标准中，定义了下面三个 API：</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>module<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> callback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">define</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>depends<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> callback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrequire<span class=\"token punctuation\">.</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>即通过 define 来<strong>定义</strong>一个模块，然后使用 require 来<strong>加载</strong>一个模块，使用 require.config () 指定引用路径。</p>\n<h4 id=\"举例说明\"><a class=\"markdownIt-Anchor\" href=\"#举例说明\">#</a> 举例说明：</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>script\n  src<span class=\"token operator\">=</span><span class=\"token string\">\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\"</span>\n  data<span class=\"token operator\">-</span>main<span class=\"token operator\">=</span><span class=\"token string\">\"./main.js\"</span>\n<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p><em>main.js:</em></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"./a.js\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  a<span class=\"token punctuation\">.</span><span class=\"token function\">printDate</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p><em>a.js:</em></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"./a-util.js\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">aUtil</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function-variable function\">printDate</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>aUtil<span class=\"token punctuation\">.</span><span class=\"token function\">aGetFormatDate</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> a<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><em>a-util.js:</em></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"./util.js\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">util</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> aUtil <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function-variable function\">aGetFormatDate</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">return</span> util<span class=\"token punctuation\">.</span><span class=\"token function\">getFormatDate</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> aUtil<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><em>util.js:</em></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">var</span> util <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function-variable function\">getFormatDate</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data<span class=\"token punctuation\">,</span> type</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"2019-07-19\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"2019年6月20日\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> util<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190719/tVkLYFlEzrtH.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"commonjs\"><a class=\"markdownIt-Anchor\" href=\"#commonjs\">#</a> CommonJS</h3>\n<blockquote>\n<p>2009 年 ry 发布 Node.js 的第一个版本，CommonJS 作为其中最核心的特性之一，适用于服务端下的场景；历年来的考察和时间的洗礼，以及前端工程化对其的充分支持，CommonJS 被广泛运用于 Node.js 和浏览器；</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">// Core Module</span>\n<span class=\"token keyword\">const</span> cp <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"child_process\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Npm Module</span>\n<span class=\"token keyword\">const</span> axios <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"axios\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Custom Module</span>\n<span class=\"token keyword\">const</span> foo <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./foo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> axios <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span>foo <span class=\"token operator\">=</span> foo<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>规范</strong></p>\n<ul>\n<li>module (Object): 模块本身</li>\n<li>exports (*): 模块的导出部分，即暴露出来的内容</li>\n<li>require (Function): 加载模块的函数，获得目标模块的导出值（基础类型为复制，引用类型为浅拷贝），可以加载内置模块、npm 模块和自定义模块。</li>\n</ul>\n<p><strong>nodejs 模块化规范，现在被大量用前端，原因</strong> ：</p>\n<ul>\n<li>前端开发依赖的插件课库，都可以从 npm 中获取</li>\n<li>构建工具的高度自动化，使得使用 npm 的成本非常低</li>\n<li>CommonJS 不会异步加载 JS ，而是同步一次性加载出来</li>\n</ul>\n<h4 id=\"使用-commonjs\"><a class=\"markdownIt-Anchor\" href=\"#使用-commonjs\">#</a> 使用 CommonJS</h4>\n<blockquote>\n<p><strong>module</strong> (Object)、<strong>exports</strong> (*)、<strong>require</strong> (Function)</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">//util.ls</span>\nmodule<span class=\"token punctuation\">.</span>export <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function-variable function\">getFormatDate</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data<span class=\"token punctuation\">,</span> type</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token string\">\"2019-07-19\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token string\">\"2019年6月20日\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//a-util.js</span>\n<span class=\"token keyword\">var</span> util <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"util.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmodule<span class=\"token punctuation\">.</span>export <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function-variable function\">aGetFormatDate</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> util<span class=\"token punctuation\">.</span><span class=\"token function\">getFormatDate</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"特性总结\"><a class=\"markdownIt-Anchor\" href=\"#特性总结\">#</a> 特性总结</h4>\n<ul>\n<li>同步执行模块声明和引入逻辑，分析一些复杂的依赖引用（如循环依赖）时需注意；</li>\n<li>缓存机制，性能更优，同时限制了内存占用；</li>\n<li>Module 模块可供改造的灵活度高，可以实现一些定制需求（如热更新、任意文件类型模块支持）；</li>\n</ul>\n<h4 id=\"amd-和-commonjs-的使用场景\"><a class=\"markdownIt-Anchor\" href=\"#amd-和-commonjs-的使用场景\">#</a> AMD 和 CommonJS 的使用场景</h4>\n<ul>\n<li>需要异步加载 JS ，使用 AMD</li>\n<li>使用了 npm 之后建议使用 CommonJS</li>\n</ul>\n<h3 id=\"重点总结\"><a class=\"markdownIt-Anchor\" href=\"#重点总结\">#</a> 重点总结</h3>\n<ul>\n<li>AMD</li>\n<li>CommonJS</li>\n<li>两者的区别</li>\n</ul>\n<h2 id=\"7-4-构建工具\"><a class=\"markdownIt-Anchor\" href=\"#7-4-构建工具\">#</a> 7-4 构建工具</h2>\n<blockquote>\n<p>我们一定会感叹前端技术发展之快，各种可以提高开发效率的新思想和框架层出不穷。但是他们都有一个共同特点：源代码无法直接运行，必须通过转换后才能正常运行。</p>\n<p>比如：Grunt 、Gulp、FIS 3、<strong>Webpack</strong> …</p>\n<p><a href=\"https://juejin.im/entry/5ae5c8c9f265da0b9f400d8e\">前端构建工具发展及其比较</a></p>\n<p><a href=\"http://zxinc520.com/lcj/%225cb181596d3d4a5cb52b65c9%22\">webpack 学习可参考我的博客 </a> 和 <a href=\"http://zxinc520.com/lcj/%225cb72a04009ae94788aa0d7f%22\">我的另一篇博客</a> 均有 涉及。</p>\n</blockquote>\n<p>构建工具就是做这件事，将源代码转换成可以执行的 JavaScript、CSS、HTML 代码，包括如下内容：</p>\n<ul>\n<li>代码转换：将 TypeScript 编译成 JavaScript、将 SCSS 编译成 CSS 等。</li>\n<li>文件优化：压缩 JavaScript、CSS、HTML 代码，压缩合并图片等。</li>\n<li>代码分割：提取多个页面的公共代码，提取首屏不需要执行部分代码让其异步记在。</li>\n<li>模块合并：在采用模块化的项目里会有很多个模块和文件，需要通过构建功能将模块分类合并成一个文件。</li>\n<li>自动刷新：监听本地源代码变化，自动重新构建、刷新浏览器。</li>\n<li>代码校验：在代码被提交到仓库前需要校验代码是否符合规范，以及单元测试是否通过。</li>\n<li>自动发布：更新代码后，自动构建出线上发布代码并传输给发布系统。</li>\n</ul>\n<p>构建其实是工程化、自动化思想在前端开发中的体现，将一系列流程用代码去实现，让代码自动化地执行这一系列复杂的流程。构建为前端开发注入了更大的活力，解放了我们的生产力。</p>\n<p>历史上先后出现了一系列构建工具，他们各有优缺点。由于前端工程师很熟悉 JavaScript，Node.js 又可以胜任所有构建需求，所以大多数构建工具都是用 Node.js 开发的。</p>\n<h2 id=\"7-5-上线和回滚\"><a class=\"markdownIt-Anchor\" href=\"#7-5-上线和回滚\">#</a> 7-5 上线和回滚</h2>\n<ul>\n<li>不会有具体的问题，交流询问的方式</li>\n</ul>\n<h3 id=\"知识点-3\"><a class=\"markdownIt-Anchor\" href=\"#知识点-3\">#</a> 知识点</h3>\n<ul>\n<li>上线和回滚的基本流程</li>\n<li>linux 基本命令</li>\n</ul>\n<h4 id=\"上线和回滚的基本流程\"><a class=\"markdownIt-Anchor\" href=\"#上线和回滚的基本流程\">#</a> 上线和回滚的基本流程</h4>\n<ul>\n<li>\n<p>是非常重要的开发环节</p>\n</li>\n<li>\n<p>各个公司的具体流程不同</p>\n</li>\n<li>\n<p>由专门的工具后者系统完成，我们无需关心细节</p>\n</li>\n<li>\n<p>如果你没有参与过，面试时也要说出要点</p>\n</li>\n<li>\n<p>只讲要点，具体实现无法讲解</p>\n</li>\n</ul>\n<h3 id=\"上线流程要点\"><a class=\"markdownIt-Anchor\" href=\"#上线流程要点\">#</a> 上线流程要点</h3>\n<ul>\n<li>将测试完成的代码提交到 git 版本库的 master 分支</li>\n<li>将当前服务器的代码全部打包并记录版本号，备份</li>\n<li>将 master 分支的代码提交覆盖到线上服务器，生成新版本号</li>\n</ul>\n<h3 id=\"回滚的流程要点\"><a class=\"markdownIt-Anchor\" href=\"#回滚的流程要点\">#</a> 回滚的流程要点</h3>\n<ul>\n<li>将当前服务器的代码打包并记录版本号，备份</li>\n<li>将备份的上一个版本号解压，覆盖到线上服务器，并生成新的版本号</li>\n</ul>\n<h3 id=\"linux-基本命令\"><a class=\"markdownIt-Anchor\" href=\"#linux-基本命令\">#</a> linux 基本命令</h3>\n<ul>\n<li>服务器使用 linux 居多，server 版，只有命令行</li>\n<li>测试环境要匹配线上环境，因此也是 linux</li>\n<li>经常需要登录测试机来自己配置，获取数据</li>\n</ul>\n",
            "tags": [
                "IDE",
                "Git",
                "模块化",
                "构建工具",
                "上线和回滚"
            ]
        },
        {
            "id": "http://example.com/2019/05/13/Promise/",
            "url": "http://example.com/2019/05/13/Promise/",
            "title": "Promise",
            "date_published": "2019-05-13T04:52:54.000Z",
            "content_html": "<h2 id=\"promise\"><a class=\"markdownIt-Anchor\" href=\"#promise\">#</a> Promise</h2>\n<blockquote>\n<p>前言: Promise 是 <strong>异步编程</strong> 的一种解决方案，相比传统的解决方案 —&gt; 回调函数和事件更加强大。由社区最早提出和实现，ES6 将其写进了语言标准，统一了用法，原生提供了 Promise 对象.</p>\n<p>没有 Promise 之前，解决异步都是依赖回调，但执行多个具备前后顺序的异步操作时代码就会非常乱并且出现问题难调试.</p>\n<p>Promise 的 <strong>本质</strong> 是要干什么的：就是单纯的为了解决 <strong>回调地狱问题</strong>，但是并不能帮我们减少代码量。</p>\n</blockquote>\n<h3 id=\"回调地狱是什么\"><a class=\"markdownIt-Anchor\" href=\"#回调地狱是什么\">#</a> &quot;回调地狱&quot; 是什么</h3>\n<p>” 回调地狱 “也叫” 回调金字塔 “，我们平时写代码的时候 js 如果异步 回调是不可避免的<br>\n例如 ajax 不断的进行异步请求数据 回调方法里还要对数据进行处理，继续回调… 形成回调地狱<br>\n这会使得我们的代码可读性变差，出现问题 不好调试 也会导致性能下降</p>\n<p>而 nodejs 是一种单线程的事件驱动而且是非阻塞的 I/O 模型，而 I/O 模型，是异步的，这样 nodejs 在处理结果的时候 就需要在回调函数中执行，这样也就形成了回调地狱。</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190420/4iquo6cVxxSQ.jpg?imageslim\" alt=\"mark\"></p>\n<h3 id=\"promise-介绍\"><a class=\"markdownIt-Anchor\" href=\"#promise-介绍\">#</a> Promise 介绍</h3>\n<p>Promise 就是实现异步编程的一种解决方案，核心就是 Promise 对象。Promise 对象就像一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。它可以将异步操作以同步操作的流程表达出来，避免层层嵌套 (callback) 的毁掉函数。此外，Promise 对象提供统一的接口，使得控制异步操作更加容易。</p>\n<p><strong>Promise 对象的两个特点</strong>：</p>\n<ol>\n<li>\n<p>对象的状态不受外界影响。有三种状态：pending (进行中)、resolved (已成功)、rejected (已失败);</p>\n</li>\n<li>\n<p>一旦状态改变，就不会再变，任何时候都可以得到这个结果。Promise 对象的状态改变，只有两种可能：从 pending 变为 resolved 和从 pending 变为 rejected。</p>\n</li>\n</ol>\n<p><strong>Promise 缺点：</strong></p>\n<ol>\n<li>无法取消 Promise，一旦新建它就会立即执行，无法中途取消；</li>\n<li>如果不设置回调函数，Promise 内部抛出的错误，不会反应到外部；</li>\n<li>当处于 pending 状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）</li>\n</ol>\n<hr>\n<h4 id=\"基本概念\"><a class=\"markdownIt-Anchor\" href=\"#基本概念\">#</a> <strong>基本概念：</strong></h4>\n<ol>\n<li>\n<p>Promise 是一个构造函数，既然是构造函数，那么，我们就可以 new Promise () 得到一个 Promise 的实例</p>\n</li>\n<li>\n<p>在 Promise 上，有两个函数，分别叫做 <strong>resolve</strong>（成功之后的回调函数） 和 <strong>reject</strong>（失败之后的回调函数）</p>\n</li>\n<li>\n<p>在 Promise 构造函数的 Prototype 属性上，有一个 <strong>.then()</strong> 方法，也就说，只要是 Promise 构造函数创建的实例，都可以访问到 .then () 方法。</p>\n</li>\n<li>\n<p>Promise 表示一个 异步操作，每当我们 new 一个 Promise 的实例，这个实例，就表示一个具体的异步操作</p>\n</li>\n<li>\n<p>既然 Promise 创建的实例，是一个异步操作，那么，这个 异步操作的结果，只能有两种状态：</p>\n</li>\n</ol>\n<p>​ 5.1 <strong>状态 1</strong>： 异步执行成功了，需要在内部调用成功的回调函数（<strong>resolve</strong>），把结果返回给调用者。</p>\n<p>​ 5.2 <strong>状态 2</strong>： 异步执行失败了，需要在内部调用失败的回调函数（<strong>reject</strong>），把结果返回给调用者。</p>\n<p>​ 5.3 由于 Promise 的实例，是一个异步操作，所以，内部拿到 操作结果后，无法使用 return 把操作的结果返回给调用者；这时候，只能使用回调函数的形式，来把 成功 或 失败的结果，返回给调用者。</p>\n<ol start=\"6\">\n<li>我们可以在 new 出来的 Promise 实例上，调用 <strong>.then () 方法</strong>，【预先】为这个 Promise 异步操作指定 成功（<strong>resolve</strong>）和 失败（<strong>reject</strong>）回调函数</li>\n</ol>\n<h2 id=\"关于-promise-要解决回调地狱问题的说明\"><a class=\"markdownIt-Anchor\" href=\"#关于-promise-要解决回调地狱问题的说明\">#</a> 关于 Promise 要解决回调地狱问题的说明</h2>\n<p><strong>实验需求</strong>：你要封装一个方法，我给你一个要读取文件的路径，你这个方法帮我读取文件，并把内容返回给我。</p>\n<p><em>代码实际演示：</em></p>\n<p>目录结构：</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190420/djU0REH3KKbb.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"第一步初步实现一个读取文件的功能\"><a class=\"markdownIt-Anchor\" href=\"#第一步初步实现一个读取文件的功能\">#</a> 第一步：初步实现一个读取文件的功能：</h3>\n<p><strong>封装读取文件的方法.js</strong>：</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 需求：你要封装一个方法，我给你一个要读取文件的路径，你这个方法帮我读取文件，并把内容返回给我</span>\n\n<span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fs\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nfs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"./files/1.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">throw</span> err<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>运行结果：</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190420/TR4X4SXC6m2m.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"第二步封装一个读取文件的方法\"><a class=\"markdownIt-Anchor\" href=\"#第二步封装一个读取文件的方法\">#</a> 第二步：封装一个读取文件的方法</h3>\n<p><strong>封装读取文件的方法.js</strong>：</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fs\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//初衷 ：给定文件路径 ，返回读取到的内容</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fpath</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span>fpath<span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">throw</span> err<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">return</span> dataStr<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"./files/1.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>结果：</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190420/4LrSd5ascJjT.png?imageslim\" alt=\"mark\"></p>\n<h2 id=\"解决方案使用回调函数\"><a class=\"markdownIt-Anchor\" href=\"#解决方案使用回调函数\">#</a> 解决方案：使用回调函数</h2>\n<p><strong>封装读取文件的方法.js</strong>：</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fs\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//使用回调函数</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fpath<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span>fpath<span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>dataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"./files/1.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>运行结果：</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190420/U5MDnc8QChTb.png?imageslim\" alt=\"mark\"></p>\n<h2 id=\"封装读取文件的方法改进\"><a class=\"markdownIt-Anchor\" href=\"#封装读取文件的方法改进\">#</a> 封装读取文件的方法–改进：</h2>\n<h4 id=\"callback-中设置两个参数err-datastr\"><a class=\"markdownIt-Anchor\" href=\"#callback-中设置两个参数err-datastr\">#</a> callback 中，设置两个参数（err, dataStr）</h4>\n<p><strong>封装读取文件的方法.js</strong>：</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fs\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//使用回调函数</span>\n<span class=\"token comment\">//我们可以规定一下，callback中，有两个参数，第一个参数是失败的结果，第二个参数是成功的结果</span>\n<span class=\"token comment\">//同时，我们规定了：如果成功后，返回的结果，应该位于callback 参数的第二个位置，此时，第一个位置由于没有出错，所以放一个null，如果失败了则第一个位置放置 Error对象，第二个位置放置一个 undefined</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fpath<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span>fpath<span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> dataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"./files/1.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190420/Gi6Iffxxw1Jk.png?imageslim\" alt=\"mark\"></p>\n<h2 id=\"封装读取文件的方法-提高版\"><a class=\"markdownIt-Anchor\" href=\"#封装读取文件的方法-提高版\">#</a> 封装读取文件的方法 - 提高版</h2>\n<h4 id=\"拆分成-两个-回调getfilebypath-fpath-succcb-errcb\"><a class=\"markdownIt-Anchor\" href=\"#拆分成-两个-回调getfilebypath-fpath-succcb-errcb\">#</a> 拆分成 两个 回调（getFileByPath (fpath, succCb, errCb)）</h4>\n<p><strong>封装读取文件的方法 - 提高版.js：</strong></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fs\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//使用两个回调---便于理解</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fpath<span class=\"token punctuation\">,</span> succCb<span class=\"token punctuation\">,</span> errCb</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span>fpath<span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">errCb</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token function\">succCb</span><span class=\"token punctuation\">(</span>dataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span>\n  path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"./files/1.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span><span class=\"token parameter\">dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"成功的结果，使用成功的回调succCb: \"</span> <span class=\"token operator\">+</span> dataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"失败的结果，使用失败的回调errCb: \"</span> <span class=\"token operator\">+</span> err<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>成功的结果：</strong></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190420/OfeQfiHdiJVC.png?imageslim\" alt=\"mark\"></p>\n<p><strong>失败的结果：</strong></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190420/uVvrqObQxNtc.png?imageslim\" alt=\"mark\"></p>\n<h2 id=\"回调嵌套\"><a class=\"markdownIt-Anchor\" href=\"#回调嵌套\">#</a> 回调嵌套</h2>\n<h3 id=\"需求先读取文件-1在读取文件-2最后读取文件-3\"><a class=\"markdownIt-Anchor\" href=\"#需求先读取文件-1在读取文件-2最后读取文件-3\">#</a> 需求：先读取文件 1，在读取文件 2，最后读取文件 3</h3>\n<h6 id=\"初步实现\"><a class=\"markdownIt-Anchor\" href=\"#初步实现\">#</a> <strong><em>初步实现：</em></strong></h6>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//使用回调函数</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fpath<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span>fpath<span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>dataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">//回调地狱</span>\n<span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"./files/1.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"./files/2.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"./files/3.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>运行结果：</strong></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190420/lQlQH83IcW3B.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"使用-promise\"><a class=\"markdownIt-Anchor\" href=\"#使用-promise\">#</a> 使用 **Promise **:</h3>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fs\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fpath</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> fpath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> dataStr</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>dataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./files/1.txt\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//读取文件2</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./files/2.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//读取文件3</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">getFileByPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./files/3.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190420/G1arCfeFpYYK.png?imageslim\" alt=\"mark\"></p>\n<h2 id=\"ajax-使用-then-方法高逼格请求数据\"><a class=\"markdownIt-Anchor\" href=\"#ajax-使用-then-方法高逼格请求数据\">#</a> Ajax 使用 then 方法高逼格请求数据</h2>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Title<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./node_modules/jquery/dist/jquery.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>按钮<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n      <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#btn\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n          $<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n            url<span class=\"token operator\">:</span> <span class=\"token string\">\"./data.json\"</span><span class=\"token punctuation\">,</span>\n            type<span class=\"token operator\">:</span> <span class=\"token string\">\"get\"</span><span class=\"token punctuation\">,</span>\n            dataType<span class=\"token operator\">:</span> <span class=\"token string\">\"json\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>运行结果：</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190420/Raly4WtVEqEx.gif\" alt=\"mark\"></p>\n",
            "tags": [
                "promise",
                "异步解决方案",
                "回调地狱"
            ]
        }
    ]
}