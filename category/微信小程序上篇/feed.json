{
    "version": "https://jsonfeed.org/version/1",
    "title": "sunflower • All posts by \"微信小程序上篇\" category",
    "description": "周琛的博客",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2019/09/05/WeChatUp/",
            "url": "http://example.com/2019/09/05/WeChatUp/",
            "title": "微信小程序笔记上",
            "date_published": "2019-09-05T09:07:39.000Z",
            "content_html": "<h1 id=\"微信小程序笔记上\"><a class=\"markdownIt-Anchor\" href=\"#微信小程序笔记上\">#</a> 微信小程序笔记上</h1>\n<blockquote>\n<p>微信小程序学习笔记上</p>\n<p>初步接触小程序</p>\n<p>基础内容介绍</p>\n<p>开发者文档</p>\n<p>app.js 全局生命周期函数</p>\n<p>WXML 数据绑定</p>\n<p>通过 wx.request 请求数据</p>\n<p>微信小程序里列表渲染</p>\n<p>页面相关事件处理函数</p>\n<p>True mastery of any skill takes a lifetime.</p>\n<p>对任何技能的掌握都需要一生的刻苦操练。</p>\n</blockquote>\n<h1 id=\"小程序简介\"><a class=\"markdownIt-Anchor\" href=\"#小程序简介\">#</a> 小程序简介</h1>\n<blockquote>\n<p>小程序是一种全新的连接用户与服务的方式，它可以在微信内被便捷地获取和传播，同时具有出色的使用体验。</p>\n<p>微信小程序使用了前端技术栈 JavaScript/WXML/WXSS。</p>\n</blockquote>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/quickstart/basic/introduction.html\">相关介绍</a></p>\n<p><strong>微信小程序使用了前端技术栈 JavaScript/WXML/WXSS。但和常规的前端开发又有一些区别：</strong> <a href=\"https://juejin.im/entry/581db98fa0bb9f0058abffea\">可以参考</a></p>\n<ol>\n<li><strong>JavaScript</strong>: 微信小程序的 JavaScript 运行环境即不是 Browser 也不是 Node.js。它运行在微信 App 的上下文中，不能操作 Browser context 下的 DOM，也不能通过 N*ode.js 相关接口访问操作系统 API。所以，严格意义来讲，微信小程序并不是 Html5，虽然开发过程和用到的技术栈和 Html5 是相通的。</li>\n<li>**WXML：** 作为微信小程序的展示层，并不是使用 Html，而是自己发明的基于 XML 语法的描述。</li>\n<li>**WXSS：** 用来修饰展示层的样式。官方的描述是 “WXSS (WeiXin Style Sheets) 是一套样式语言，用于描述 WXML 的组件样式。WXSS 用来决定 WXML 的组件应该怎么显示。” “我们的 WXSS 具有 CSS 大部分特性… 我们对 CSS 进行了扩充以及修改。” 基于 CSS2 还是 CSS3？大部分是哪些部分？是否支持 CSS3 里的动画？不得而知。</li>\n</ol>\n<h4 id=\"目录结构\"><a class=\"markdownIt-Anchor\" href=\"#目录结构\">#</a> 目录结构：</h4>\n<p><img src=\"http://static.zxinc520.com/blog/20190514/yTqqYeB2UoIS.png?imageslim\" alt=\"mark\"></p>\n<ol>\n<li><code>app.js</code>  做为小程序的入口，里面有个 App 实例，每个小程序只会有一个 App 实例，小程序启动以后触发 onLaunch 函数执行，获取用户信息</li>\n<li><code>app.json</code>  是小程序的所有全局配置， <code>pages</code>  字段放置所有页面的路径， <code>window</code>  字段定义所有页面的顶部背景颜色，文字颜色 详细配置请<a href=\"https://link.juejin.im?target=https%3A%2F%2Fmp.weixin.qq.com%2Fdebug%2Fwxadoc%2Fdev%2Fframework%2Fconfig.html\">戳这里 👇</a></li>\n<li><code>app.wxss</code>  文件就是页面公用的样式，仅支持部分 css 选择器</li>\n<li><code>wxml</code>  就是我们的 HTML 文件，常用标签为  <code>view</code>  、 <code>text</code>  等，没有所谓的 <code>div</code> 、 <code>span</code> 、 <code>p</code>  一类的标签了，我们习惯称它们为组件</li>\n</ol>\n<hr>\n<blockquote>\n<p><strong>设计理念：</strong></p>\n<p>小程序内部可以理解成一个 mvvm 的框架，分为逻辑层和视图层，逻辑层将数据进行处理后发送给视图层，同时接受视图层的事件反馈。</p>\n</blockquote>\n<hr>\n<p><img src=\"http://static.zxinc520.com/blog/20190514/U6eXvlL8evmQ.png?imageslim\" alt=\"mark\"></p>\n<p><img src=\"http://static.zxinc520.com/blog/20190514/m4UDxEkFa1ae.png?imageslim\" alt=\"mark\"></p>\n<h2 id=\"开始上手\"><a class=\"markdownIt-Anchor\" href=\"#开始上手\">#</a> 开始上手</h2>\n<blockquote>\n<p><strong>开始正式学习</strong></p>\n<p>基础学习部分</p>\n</blockquote>\n<h3 id=\"加载一张图片\"><a class=\"markdownIt-Anchor\" href=\"#加载一张图片\">#</a> 加载一张图片</h3>\n<p><img src=\"http://static.zxinc520.com/blog/20190514/GnYuPkAo16G5.png?imageslim\" alt=\"mark\"></p>\n<p><em>简单使用样式</em>：</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190514/gvNQzg8BaF74.png?imageslim\" alt=\"mark\"></p>\n<h2 id=\"wxss\"><a class=\"markdownIt-Anchor\" href=\"#wxss\">#</a> WXSS</h2>\n<blockquote>\n<p>WXSS (WeiXin Style Sheets) 是一套样式语言，用于描述 WXML 的组件样式。</p>\n<p>WXSS 用来决定 WXML 的组件应该怎么显示。 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html\">可以参考官网</a></p>\n</blockquote>\n<p>为了适应广大的前端开发者，WXSS 具有 CSS 大部分特性。同时为了更适合开发微信小程序，WXSS 对 CSS 进行了扩充以及修改。</p>\n<p>与 CSS 相比，WXSS 扩展的特性有：</p>\n<ul>\n<li>尺寸单位</li>\n<li>样式导入</li>\n</ul>\n<h2 id=\"尺寸单位\"><a class=\"markdownIt-Anchor\" href=\"#尺寸单位\">#</a> 尺寸单位</h2>\n<p>​ <strong>rpx</strong>（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为 750rpx。如在 iPhone6 上，屏幕宽度为 375px，共有 750 个物理像素，则 750rpx = 375px = 750 物理像素，1rpx = 0.5px = 1 物理像素</p>\n<p><img src=\"http://static.zxinc520.com/blog/20190514/57Wa2m8PEEyp.png?imageslim\" alt=\"mark\"></p>\n<p><strong>建议：</strong> 开发微信小程序时设计师可以用 iPhone6 作为视觉稿的标准。</p>\n<p><strong>注意：</strong> 在较小的屏幕上不可避免的会有一些毛刺，请在开发时尽量避免这种情况。</p>\n<h2 id=\"全局样式与局部样式\"><a class=\"markdownIt-Anchor\" href=\"#全局样式与局部样式\">#</a> 全局样式与局部样式</h2>\n<p>定义在 app.wxss 中的样式为全局样式，作用于每一个页面。在 page 的 wxss 文件中定义的样式为局部样式，只作用在对应的页面，并会覆盖 app.wxss 中相同的选择器。</p>\n<h2 id=\"开发者文档\"><a class=\"markdownIt-Anchor\" href=\"#开发者文档\">#</a> 开发者文档</h2>\n<blockquote>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/image.html\">开发者文档</a></p>\n<p><strong>不会</strong> 或 <strong>忘了</strong> 就查文档！</p>\n</blockquote>\n<h3 id=\"image\"><a class=\"markdownIt-Anchor\" href=\"#image\">#</a> image:</h3>\n<p>​ <strong>解决图片缩放问题：</strong></p>\n<ul>\n<li>mode （ 常用下面 2 个属性值缩放图片 ）\n<ul>\n<li>aspectFit：缩放模式，保持纵横比缩放图片，使图片的长边能完全显示出来。也就是说，可以完整地将图片显示出来。</li>\n<li>aspectFill：缩放模式，保持纵横比缩放图片，只保证图片的短边能完全显示出来。也就是说，图片通常只在水平或垂直方向是完整的，另一个方向将会发生截取。</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"http://static.zxinc520.com/blog/20190520/XC3RPCh4fJdY.png?imageslim\" alt=\"mark\"></p>\n<h3 id=\"swiper\"><a class=\"markdownIt-Anchor\" href=\"#swiper\">#</a> swiper</h3>\n<blockquote>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html\">看开发者文档</a></p>\n<p>轮播组件：调用相应的标签及参数设置</p>\n</blockquote>\n<p><img src=\"http://static.zxinc520.com/blog/20190520/PgOdEdCQrqvp.gif\" alt=\"mark\"></p>\n<h2 id=\"解读-appjson\"><a class=\"markdownIt-Anchor\" href=\"#解读-appjson\">#</a> 解读 app.json</h2>\n<blockquote>\n<p>小程序根目录下的  <code>app.json</code>  文件用来对微信小程序进行全局配置。文件内容为一个 JSON 对象，有以下属性：</p>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html\">可以参考官网</a></p>\n</blockquote>\n<h3 id=\"pages\"><a class=\"markdownIt-Anchor\" href=\"#pages\">#</a> pages</h3>\n<blockquote>\n<p>用于指定小程序由哪些页面组成，每一项都对应一个页面的 路径（含文件名） 信息。文件名不需要写文件后缀，框架会自动去寻找对于位置的  <code>.json</code> ,  <code>.js</code> ,  <code>.wxml</code> ,  <code>.wxss</code>  四个文件进行处理。</p>\n</blockquote>\n<h3 id=\"window\"><a class=\"markdownIt-Anchor\" href=\"#window\">#</a> window</h3>\n<blockquote>\n<p>用于设置小程序的状态栏、导航条、标题、窗口背景色。</p>\n</blockquote>\n<p>例如：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token string\">\"window\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token string\">\"navigationBarBackgroundColor\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#ffffff\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"navigationBarTextStyle\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"black\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"navigationBarTitleText\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"微信接口功能演示\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"backgroundColor\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#eeeeee\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"backgroundTextStyle\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"light\"</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"tabbar\"><a class=\"markdownIt-Anchor\" href=\"#tabbar\">#</a> tabBar</h3>\n<blockquote>\n<p>如果小程序是一个多 tab 应用（客户端窗口的底部或顶部有 tab 栏可以切换页面），可以通过 tabBar 配置项指定 tab 栏的表现，以及 tab 切换时显示的对应页面。</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token string\">\"tabBar\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n   <span class=\"token string\">\"color\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#333\"</span><span class=\"token punctuation\">,</span>\n   <span class=\"token string\">\"selectedColor\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#f30\"</span><span class=\"token punctuation\">,</span>\n   <span class=\"token string\">\"list\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span>\n     <span class=\"token string\">\"pagePath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"pages/index/index\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"text\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"首页\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"iconPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"assets/tabs/icon1.png\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"selectedIconPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"assets/tabs/icon1.png\"</span>\n   <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">&#123;</span>\n     <span class=\"token string\">\"pagePath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"pages/message/message\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"text\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"消息\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"iconPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"assets/tabs/icon1.png\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"selectedIconPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"assets/tabs/icon1.png\"</span>\n   <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">&#123;</span>\n     <span class=\"token string\">\"pagePath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"pages/index/index\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"text\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"个人中心\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"iconPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"assets/tabs/icon1.png\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"selectedIconPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"assets/tabs/icon1.png\"</span>\n   <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">&#123;</span>\n     <span class=\"token string\">\"pagePath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"pages/index/index\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"text\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"综合\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"iconPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"assets/tabs/icon1.png\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"selectedIconPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"assets/tabs/icon1.png\"</span>\n   <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190521/OCDT2PNCaB4Y.png?imageslim\" alt=\"mark\"></p>\n<p><em>等等等… 不了解就看文档！</em></p>\n<p><strong>注意： 所以看开发者文档很重要！</strong></p>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html\">点一下就可以看了，别懒！</a></p>\n<h2 id=\"appjs-全局生命周期函数\"><a class=\"markdownIt-Anchor\" href=\"#appjs-全局生命周期函数\">#</a> app.js 全局生命周期函数</h2>\n<blockquote>\n<p>app.js 全局生命周期函数</p>\n</blockquote>\n<p><em>在 app.js 文件中</em> ， 定义了一些生命周期方法 ， onLaunch，onShow，onHide，onError，以及任意开发者添加的函数或者数据（通过 this 可以访问）</p>\n<p><strong>以下是各个生命周期方法作用和描述：</strong></p>\n<ol>\n<li><strong>onLaunch 生命周期函数</strong> -- 监听小程序初始化 当小程序初始化完成时，会触发 onLaunch（全局只触发一次）</li>\n<li><strong>onShow 生命周期函数</strong>–监听小程序显示 当小程序启动，或从后台进入前台显示，会触发 onShow</li>\n<li><strong>onHide 生命周期函数</strong>–监听小程序隐藏 当小程序从前台进入后台，会触发 onHide</li>\n<li><strong>onError 错误监听函数</strong> 当小程序发生脚本错误，或者 api 调用失败时，会触发 onError 并带上错误信息</li>\n</ol>\n<p>其他 Any 开发者可以添加任意的函数或数据到 Object 参数中，用 this 可以访问</p>\n<p><em>index.js:</em> （个人感觉 和 <strong>Vue</strong> 真的好像，如果熟悉 Vue 的话，这理解起来应该没有难度。）</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">//index.js</span>\n<span class=\"token comment\">//获取应用实例</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">getApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    motto<span class=\"token operator\">:</span> <span class=\"token string\">\"Hello World\"</span><span class=\"token punctuation\">,</span>\n    listarr<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">//监听小程序初始化 当小程序初始化完成时，会触发 onLaunch（全局只触发一次）</span>\n  <span class=\"token function-variable function\">onLoad</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">option</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    wx<span class=\"token punctuation\">.</span><span class=\"token function\">request</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n      url<span class=\"token operator\">:</span> <span class=\"token string\">\"https://www.baifubao.com/callback\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">success</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n          listarr<span class=\"token operator\">:</span> res<span class=\"token punctuation\">.</span>statusCode<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>注意：着重关注 onLoad 函数，因为使用最频繁！</strong></p>\n<h2 id=\"wxml-数据绑定\"><a class=\"markdownIt-Anchor\" href=\"#wxml-数据绑定\">#</a> WXML 数据绑定</h2>\n<blockquote>\n<p>WXML 中的动态数据均来自对应 Page 的 data。</p>\n</blockquote>\n<h3 id=\"内容\"><a class=\"markdownIt-Anchor\" href=\"#内容\">#</a> 内容</h3>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>view</span><span class=\"token punctuation\">></span></span>&#123;&#123; message &#125;&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>view</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    message<span class=\"token operator\">:</span> <span class=\"token string\">\"Hello World!\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190526/Dr9a1AITnQo7.png?imageslim\" alt=\"mark\"></p>\n<h4 id=\"特别注意\"><a class=\"markdownIt-Anchor\" href=\"#特别注意\">#</a> 特别注意：</h4>\n<ol>\n<li>花括号和引号之间不能有空格</li>\n<li>不能直接写 checked=“false”，其计算结果是一个字符串，转成 boolean 类型后转为真值。</li>\n</ol>\n<h2 id=\"通过-wxrequest-请求数据\"><a class=\"markdownIt-Anchor\" href=\"#通过-wxrequest-请求数据\">#</a> 通过 wx.request 请求数据</h2>\n<blockquote>\n<p>通过 wx.request 请求数据</p>\n</blockquote>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">wx<span class=\"token punctuation\">.</span><span class=\"token function\">request</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  url<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  data<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  header<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  method<span class=\"token operator\">:</span> <span class=\"token string\">\"GET\"</span><span class=\"token punctuation\">,</span>\n  dataType<span class=\"token operator\">:</span> <span class=\"token string\">\"json\"</span><span class=\"token punctuation\">,</span>\n  responseType<span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">success</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">fail</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">complete</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190527/x00Ledvp9GT7.png?imageslim\" alt=\"mark\"></p>\n<p><strong>setData</strong>：接受 <u>wx.request</u> 请求的数据，赋值给 Page 里面的 data（然后通过插值表达式渲染到页面）</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">//index.js</span>\n<span class=\"token comment\">//获取应用实例</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">getApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    motto<span class=\"token operator\">:</span> <span class=\"token string\">\"Hello World\"</span><span class=\"token punctuation\">,</span>\n    listarr<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">onLoad</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">option</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    wx<span class=\"token punctuation\">.</span><span class=\"token function\">request</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n      url<span class=\"token operator\">:</span> <span class=\"token string\">\"https://www.baifubao.com/callback\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function-variable function\">success</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n          listarr<span class=\"token operator\">:</span> res<span class=\"token punctuation\">.</span>statusCode<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"微信小程序里列表渲染\"><a class=\"markdownIt-Anchor\" href=\"#微信小程序里列表渲染\">#</a> 微信小程序里列表渲染</h2>\n<blockquote>\n<h3 id=\"wxfor\"><a class=\"markdownIt-Anchor\" href=\"#wxfor\">#</a> wx:for</h3>\n<p>在组件上使用  <code>wx:for</code>  控制属性绑定一个数组，即可使用数组中各项的数据重复渲染该组件。</p>\n<p>默认数组的当前项的下标变量名默认为  <code>index</code> ，数组当前项的变量名默认为  <code>item</code></p>\n</blockquote>\n<p><em>类比于 Vue：</em></p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>example-1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item in items<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&#123;&#123; item.message &#125;&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p><em>微信小程序里面：</em></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>view wx<span class=\"token operator\">:</span><span class=\"token keyword\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"&#123;&#123;array&#125;&#125;\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#123;</span>index<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#123;</span>item<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>view<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    array<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">&#123;</span>\n        message<span class=\"token operator\">:</span> <span class=\"token string\">\"foo\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">&#123;</span>\n        message<span class=\"token operator\">:</span> <span class=\"token string\">\"bar\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"wxkey\"><a class=\"markdownIt-Anchor\" href=\"#wxkey\">#</a> wx:key</h4>\n<p>​ <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/list.html\">可以参考</a></p>\n<p>如果列表中项目的位置会动态改变或者有新的项目添加到列表中，并且希望列表中的项目保持自己的特征和状态（如 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/switch.html\"> <code>](https://developers.weixin.qq.com/miniprogram/dev/component/input.html) 中的输入内容，[</code> </a>的选中状态），需要使用  <code>wx:key</code>  来指定列表中项目的唯一的标识符。</p>\n<ol>\n<li>字符串，代表在 for 循环的 array 中 item 的某个 property，该 property 的值需要是列表中唯一的字符串或数字，且不能动态改变。</li>\n<li>保留关键字  <code>*this</code>  代表在 for 循环中的 item 本身，这种表示需要 item 本身是一个唯一的字符串或者数字，如：</li>\n</ol>\n<p>当数据改变触发渲染层重新渲染的时候，会校正带有 key 的组件，框架会确保他们被重新排序，而不是重新创建，以确保使组件保持自身的状态，并且提高列表渲染时的效率。</p>\n<p><strong>如不提供 wx:key，会报一个 warning， 如果明确知道该列表是静态，或者不必关注其顺序，可以选择忽略。</strong></p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>switch</span> <span class=\"token attr-name\"><span class=\"token namespace\">wx:</span>for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&#123;&#123;objectArray&#125;&#125;<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">wx:</span>key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>unique<span class=\"token punctuation\">\"</span></span><span class=\"token style-attr language-css\"><span class=\"token attr-name\"> <span class=\"token attr-name\">style</span></span><span class=\"token punctuation\">=\"</span><span class=\"token attr-value\"><span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  &#123;&#123;item.id&#125;&#125;\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>switch</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">bindtap</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>switch<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Switch<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">bindtap</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>addToFront<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Add to the front<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>switch</span> <span class=\"token attr-name\"><span class=\"token namespace\">wx:</span>for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&#123;&#123;numberArray&#125;&#125;<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">wx:</span>key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>*this<span class=\"token punctuation\">\"</span></span><span class=\"token style-attr language-css\"><span class=\"token attr-name\"> <span class=\"token attr-name\">style</span></span><span class=\"token punctuation\">=\"</span><span class=\"token attr-value\"><span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  &#123;&#123;item&#125;&#125;\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>switch</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">bindtap</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>addNumberToFront<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Add to the front<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    objectArray<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> unique<span class=\"token operator\">:</span> <span class=\"token string\">\"unique_5\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> unique<span class=\"token operator\">:</span> <span class=\"token string\">\"unique_4\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> unique<span class=\"token operator\">:</span> <span class=\"token string\">\"unique_3\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> unique<span class=\"token operator\">:</span> <span class=\"token string\">\"unique_2\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> unique<span class=\"token operator\">:</span> <span class=\"token string\">\"unique_1\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">&#123;</span> id<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> unique<span class=\"token operator\">:</span> <span class=\"token string\">\"unique_0\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    numberArray<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"页面相关事件处理函数\"><a class=\"markdownIt-Anchor\" href=\"#页面相关事件处理函数\">#</a> 页面相关事件处理函数</h2>\n<blockquote>\n<p>页面相关事件处理函数（<strong>下拉刷新</strong>，<strong>滑到底部加载更多</strong>等）</p>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/ui/pull-down-refresh/wx.startPullDownRefresh.html\">可以参考</a></p>\n</blockquote>\n<p><strong>下拉事件和触底事件</strong>：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">//页面相关事件处理函数---监听用户下拉动作</span>\n   <span class=\"token function-variable function\">onPullDownRefresh</span><span class=\"token operator\">:</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n     console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'下拉！'</span><span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n   <span class=\"token comment\">//页面上拉触底事件的处理函数</span>\n   <span class=\"token function-variable function\">onReachBottom</span><span class=\"token operator\">:</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n     console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'上拉'</span><span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"导航栏\"><a class=\"markdownIt-Anchor\" href=\"#导航栏\">#</a> 导航栏</h2>\n<blockquote>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/ui/navigation-bar/wx.showNavigationBarLoading.html\">可以参考官方文档</a></p>\n<p>js 文件</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">函数 API</th>\n<th style=\"text-align:center\">功能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">wx.showNavigationBarLoading(Object object)</td>\n<td style=\"text-align:center\">在当前页面显示导航条加载动画</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">wx.setNavigationBarTitle(Object object)</td>\n<td style=\"text-align:center\">动态设置当前页面的标题</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">wx.setNavigationBarColor(Object object)</td>\n<td style=\"text-align:center\">设置页面导航条颜色</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">wx.hideNavigationBarLoading(Object object)</td>\n<td style=\"text-align:center\">在当前页面隐藏导航条加载动画</td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"http://static.zxinc520.com/blog/20190603/DXIDRjESGUHv.gif\" alt=\"mark\"></p>\n<h2 id=\"界面交互\"><a class=\"markdownIt-Anchor\" href=\"#界面交互\">#</a> 界面交互</h2>\n<blockquote>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showToast.html\">参考官方文档</a></p>\n</blockquote>\n<h4 id=\"示例代码\"><a class=\"markdownIt-Anchor\" href=\"#示例代码\">#</a> 示例代码</h4>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">wx<span class=\"token punctuation\">.</span><span class=\"token function\">showToast</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  title<span class=\"token operator\">:</span> <span class=\"token string\">\"成功w\"</span><span class=\"token punctuation\">,</span>\n  icon<span class=\"token operator\">:</span> <span class=\"token string\">\"success\"</span><span class=\"token punctuation\">,</span>\n  duration<span class=\"token operator\">:</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190603/fRajsw7UWlQc.gif\" alt=\"mark\"></p>\n<h2 id=\"下拉刷新\"><a class=\"markdownIt-Anchor\" href=\"#下拉刷新\">#</a> 下拉刷新</h2>\n<blockquote>\n<p>下拉刷新 ( <strong>配合</strong> 页面<em>相关事件处理函数</em> — 监听用户下拉动作)</p>\n</blockquote>\n<p><strong>index.json:</strong></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token string\">\"enablePullDownRefresh\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"backgroundTextStyle\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dark\"</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>index.js:</strong></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\"><span class=\"token comment\">//页面相关事件处理函数---监听用户下拉动作</span>\n <span class=\"token function-variable function\">onPullDownRefresh</span><span class=\"token operator\">:</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'下拉！'</span><span class=\"token punctuation\">)</span>\n <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"http://static.zxinc520.com/blog/20190603/bHEJTM3fLLsC.gif\" alt=\"mark\"></p>\n",
            "tags": [
                "微信小程序"
            ]
        }
    ]
}