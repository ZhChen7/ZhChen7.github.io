<!DOCTYPE html>


<html lang="en">


<head>
  <meta charset="utf-8" />
   
  <meta name="keywords" content="博客，学习网站，hexo，周琛，周琛的个人博客" />
   
  <meta name="description" content="周琛的博客" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     周琛的博客
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="/favicon.png" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
  
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

  
  

  

<link rel="alternate" href="/atom.xml" title="琛" type="application/atom+xml">
</head>

</html>

<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/ZhChen7"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">琛</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['学习', '学习使我快乐', '快乐，开心～'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-VueLearn05"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/04/13/VueLearn05/"
    >监听事件、nrm、webpack</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/04/13/VueLearn05/" class="article-date">
  <time datetime="2019-04-13T06:27:37.000Z" itemprop="datePublished">2019-04-13</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/Vue/">Vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Vue-第五天"><a href="#Vue-第五天" class="headerlink" title="Vue 第五天"></a>Vue 第五天</h1><blockquote>
<p>监听事件（keyup ，watch ，computed ）</p>
<p>nrm （简单介绍了下）</p>
<p>webpack （很重要！很关键！很实用！重点中的重点！知识点有点多，得慢慢品味！）</p>
</blockquote>
<h2 id="监听事件"><a href="#监听事件" class="headerlink" title="监听事件"></a>监听事件</h2><h4 id="需求：实现名称监听案例"><a href="#需求：实现名称监听案例" class="headerlink" title="需求：实现名称监听案例"></a>需求：实现名称监听案例</h4><h4 id="1-keyup-事件监听"><a href="#1-keyup-事件监听" class="headerlink" title="1.keyup 事件监听"></a>1.keyup 事件监听</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span> @<span class="attr">keyup</span>=<span class="string">&quot;getFullName&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span> @<span class="attr">keyup</span>=<span class="string">&quot;getFullName&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fullName&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      firstName: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="javascript">      lastName: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="javascript">      fullName: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      getFullName() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.fullName = <span class="built_in">this</span>.firstName + <span class="built_in">this</span>.lastName;</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-使用-watch-监听-（-更常用-–-用途更广-）"><a href="#2-使用-watch-监听-（-更常用-–-用途更广-）" class="headerlink" title="2.使用 watch 监听 （ 更常用 – 用途更广 ）"></a>2.使用 watch 监听 （ 更常用 – 用途更广 ）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fullName&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      firstName: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="javascript">      lastName: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="javascript">      fullName: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">//使用这个 属性，可以监视 data 中指定数据的变化，然后触发这个 watch 中对应的 function 处理函数</span></span></span><br><span class="line">    watch: &#123;</span><br><span class="line">      firstName(newVal, oldVal) &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">// this.fullName = this.firstName + this.lastName</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.fullName = newVal + <span class="built_in">this</span>.lastName;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      lastName(newVal, oldVal) &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">// this.fullName = this.firstName + this.lastName</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.fullName = <span class="built_in">this</span>.firstName + newVal;</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190412/4gxmjjUxK2At.gif" alt="mark"></p>
<ul>
<li><h5 id="watch-监听-路由-改变"><a href="#watch-监听-路由-改变" class="headerlink" title="watch 监听 路由 改变"></a>watch 监听 路由 改变</h5></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/login&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/register&quot;</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> login = &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h3</span>&gt;</span>这是登录子组件<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>&quot;,</span></span></span><br><span class="line">  &#125;;</span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> register = &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h3</span>&gt;</span>这是注册子组件<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>&quot;,</span></span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> router = <span class="keyword">new</span> VueRouter(&#123;</span></span><br><span class="line">    routes: [</span><br><span class="line">      &#123;</span><br><span class="line"><span class="javascript">        path: <span class="string">&quot;/login&quot;</span>,</span></span><br><span class="line">        component: login,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line"><span class="javascript">        path: <span class="string">&quot;/register&quot;</span>,</span></span><br><span class="line">        component: register,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line"><span class="javascript">    linkActiveClass: <span class="string">&quot;myactive&quot;</span>,</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    router,</span><br><span class="line">    watch: &#123;</span><br><span class="line"><span class="javascript">      <span class="string">&quot;$route.path&quot;</span>(newVal, oldVal) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (newVal == <span class="string">&quot;/login&quot;</span>) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">&quot;欢迎来到登录页面&quot;</span>);</span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newVal == <span class="string">&quot;/register&quot;</span>) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">&quot;欢迎来到注册页面&quot;</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190412/6V2XPG6gVhim.gif" alt="mark"></p>
<h4 id="3-computed-监听"><a href="#3-computed-监听" class="headerlink" title="3. computed 监听"></a>3. computed 监听</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fullName&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      firstName: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="javascript">      lastName: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">//计算属性：在引用的时候，一定不要加() 去调用，直接把它当作 普通属性去使用就好了</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//只要 计算属性，这个方法内部，所用到的 任何 data 中的数据发生了变化，就会立即重新 计算 这个属性的值</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//计算属性的求值结果，会被缓存起来，方便下次直接使用；如果 计算属性中的数据 都没有发生变化，则不会 重新对 计算属性求值</span></span></span><br><span class="line">    computed: &#123;</span><br><span class="line">      fullName() &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="built_in">this</span>.lastName;</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="methods-watch-computed-的区别"><a href="#methods-watch-computed-的区别" class="headerlink" title="methods,watch,computed 的区别"></a><strong>methods,watch,computed 的区别</strong></h4><ol>
<li><code>computed</code> 属性的结果会被缓存，除非依赖的响应式属性变化才会重新计算。主要当作属性来使用；</li>
<li><code>methods</code> 方法表示一个具体的操作，主要书写业务逻辑；</li>
<li><code>watch</code> 一个对象，键是需要观察的表达式，值是对应回调函数。主要用来监听某些特定数据的变化，从而进行某些具体的业务逻辑操作；可以看作是 computed 和 methods 的结合体；</li>
</ol>
<h2 id="nrm"><a href="#nrm" class="headerlink" title="nrm"></a>nrm</h2><ul>
<li><p>什么是 nrm?</p>
<p><strong>nrm</strong> 是一个 <code>npm</code> 源管理器，允许你快速地在 <code>npm</code> 源间切换</p>
</li>
<li><p>安装 nrm</p>
<p>在命令行执行命令，<code>npm install -g nrm</code>，全局安装 nrm。</p>
</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190412/2eNadQOmpWKL.png?imageslim" alt="mark"></p>
<ul>
<li><p>切换</p>
<p>如果要切换到<code>taobao</code>源，执行命令<code>nrm use taobao</code>。</p>
</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190412/4BzzVOzz2ER5.png?imageslim" alt="mark"></p>
<h2 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h2><h4 id="1-在网页中会引用哪些常见的静态资源？"><a href="#1-在网页中会引用哪些常见的静态资源？" class="headerlink" title="1.在网页中会引用哪些常见的静态资源？"></a>1.在网页中会引用哪些常见的静态资源？</h4><ul>
<li>JS<ul>
<li>.js .jsx .coffee .ts（TypeScript 类 C# 语言）</li>
</ul>
</li>
<li>CSS<ul>
<li>.css .less .sass .scss</li>
</ul>
</li>
<li>Images<ul>
<li>.jpg .png .gif .bmp .svg</li>
</ul>
</li>
<li>字体文件（Fonts）<ul>
<li>.svg .ttf .eot .woff .woff2</li>
</ul>
</li>
<li>模板文件<ul>
<li>.ejs .jade .vue【这是在 webpack 中定义组件的方式，推荐这么用】</li>
</ul>
</li>
</ul>
<h4 id="2-网页中引入的静态资源多了以后有什么问题？？？"><a href="#2-网页中引入的静态资源多了以后有什么问题？？？" class="headerlink" title="2.网页中引入的静态资源多了以后有什么问题？？？"></a>2.网页中引入的静态资源多了以后有什么问题？？？</h4><ol>
<li>网页加载速度慢， 因为 我们要发起很多的二次请求；</li>
<li>要处理错综复杂的依赖关系</li>
</ol>
<h4 id="3-如何解决上述两个问题"><a href="#3-如何解决上述两个问题" class="headerlink" title="3.如何解决上述两个问题"></a>3.如何解决上述两个问题</h4><ol>
<li>合并、压缩、精灵图、图片的 Base64 编码</li>
<li>可以使用之前学过的 requireJS、也可以使用 webpack 可以解决各个包之间的复杂依赖关系；</li>
</ol>
<h4 id="4-什么是-webpack"><a href="#4-什么是-webpack" class="headerlink" title="4.什么是 webpack?"></a>4.什么是 webpack?</h4><p>webpack 是前端的一个项目构建工具，它是基于 Node.js 开发出来的一个前端工具；</p>
<h4 id="5-如何完美实现上述的-2-种解决方案"><a href="#5-如何完美实现上述的-2-种解决方案" class="headerlink" title="5.如何完美实现上述的 2 种解决方案"></a>5.如何完美实现上述的 2 种解决方案</h4><ol>
<li>使用 <a target="_blank" rel="noopener" href="https://www.gulpjs.com.cn/">Gulp</a>， 是基于 task 任务的；</li>
<li>使用 <a target="_blank" rel="noopener" href="https://webpack.github.io/">Webpack</a>， 是基于整个项目进行构建的；<ul>
<li>借助于 webpack 这个前端自动化构建工具，可以完美实现资源的合并、打包、压缩、混淆等诸多功能。</li>
<li>根据官网的图片介绍 webpack 打包的过程</li>
<li><a target="_blank" rel="noopener" href="http://webpack.github.io/">webpack 官网</a></li>
</ul>
</li>
</ol>
<h4 id="6-webpack-安装的两种方式"><a href="#6-webpack-安装的两种方式" class="headerlink" title="6.webpack 安装的两种方式"></a>6.webpack 安装的两种方式</h4><ol>
<li>运行<code>npm i webpack -g </code> 全局安装 webpack，这样就能在全局使用 webpack 的命令</li>
<li>在项目根目录中运行<code>npm i webpack --save-dev</code>安装到项目依赖中</li>
</ol>
<h2 id="webpack-小案例"><a href="#webpack-小案例" class="headerlink" title="webpack 小案例"></a>webpack 小案例</h2><p><strong>最终实现效果图：</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190413/Nhxhjre7JLIk.gif" alt="mark"></p>
<h2 id="第一阶段：用-webpack-打包-main-js-文件生成-bundle-js-文件"><a href="#第一阶段：用-webpack-打包-main-js-文件生成-bundle-js-文件" class="headerlink" title="第一阶段：用 webpack 打包 main.js 文件生成 bundle.js 文件"></a>第一阶段：用 webpack 打包 main.js 文件生成 bundle.js 文件</h2><p><strong><em>目录结构</em></strong>：</p>
<p><img src="http://static.zxinc520.com/blog/20190412/lCOHlyRXWvxs.png?imageslim" alt="mark"></p>
<p><strong>index.html</strong>：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../dist/bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第1个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第2个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第3个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第4个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第5个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第6个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第7个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第8个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第9个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>这是第10个li<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>main.js:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js 是我们项目的JS的入口文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.导入 Jquery</span></span><br><span class="line"><span class="comment">// import *** from *** 是 ES6 中导入模块的方式</span></span><br><span class="line"><span class="comment">//由于 ES6 语法太高级了，浏览器解析不了，所以，执行会报错</span></span><br><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">&quot;jquery&quot;</span>;</span><br><span class="line"></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="string">&quot;li:odd&quot;</span>).css(&#123;</span><br><span class="line">    background: <span class="string">&quot;red&quot;</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  $(<span class="string">&quot;li:even&quot;</span>).css(&#123;</span><br><span class="line">    background: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;#&quot;</span> + <span class="string">&quot;D97634&quot;</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>1.安装完相关包之后，在根目录下运行 <code>webpack .\src\main.js -o .\dist\bundle.js</code></p>
<p><img src="http://static.zxinc520.com/blog/20190412/VN1klW9vTlKk.png?imageslim" alt="mark"></p>
<p>运行结果：</p>
<p><img src="http://static.zxinc520.com/blog/20190412/cCQTanNAophR.png?imageslim" alt="mark"></p>
<h2 id="第二阶段：配置-webpack-config-js"><a href="#第二阶段：配置-webpack-config-js" class="headerlink" title="第二阶段：配置 webpack.config.js"></a>第二阶段：配置 webpack.config.js</h2><blockquote>
<p>Webpack 在执行的时候，除了在 <strong>命令行传入参数</strong>，还可以通过指定的 <strong>配置文件</strong> 来执行。默认情况下，会搜索当前目录的 <code>webpack.config.js</code> 文件，这个文件是一个 node.js 模块，返回一个 json 格式的配置信息对象，或者通过 <code>--config</code> 选项来指定配置文件。</p>
</blockquote>
<h5 id="当我们在-控制台，直接输入-webpack-命令执行的时候，webpack-做了以下几步："><a href="#当我们在-控制台，直接输入-webpack-命令执行的时候，webpack-做了以下几步：" class="headerlink" title="当我们在 控制台，直接输入 webpack 命令执行的时候，webpack 做了以下几步："></a>当我们在 控制台，直接输入 <strong>webpack</strong> 命令执行的时候，webpack 做了以下几步：</h5><ol>
<li>首先，webpack 发现，我们并没有通过命令的形式，给它指定入口和出口</li>
<li>webpack 就会去 项目的 根目录中，查找一个叫做 <code>webpack.config.js</code> 的配置文件</li>
<li>当找到配置文件后，webpack 会去解析执行这个 配置文件，当解析执行完配置文件后，就得到了 配置文件中，导出的配置对象</li>
<li>当 webpack 拿到 配置对象后，就拿到了 配置对象中，指定的 入口 和 出口，然后进行打包构建；</li>
</ol>
<p><strong>webpack.config.js</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: path.join(__dirname, <span class="string">&quot;./src/main.js&quot;</span>), <span class="comment">// 入口，表示，要使用 webpack 打包哪个文件</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">// 输出文件相关的配置</span></span><br><span class="line">    path: path.join(__dirname, <span class="string">&quot;./dist&quot;</span>), <span class="comment">// 指定 打包好的文件，输出到哪个目录中去</span></span><br><span class="line">    filename: <span class="string">&quot;bundle.js&quot;</span>, <span class="comment">// 这是指定 输出的文件的名称</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>然后再根目录下运行 webpack</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190412/Jtcry4FyA52b.png?imageslim" alt="mark"></p>
<h2 id="使用-webpack-dev-server-这个工具，来实现自动打包编译的功能"><a href="#使用-webpack-dev-server-这个工具，来实现自动打包编译的功能" class="headerlink" title="使用 webpack-dev-server 这个工具，来实现自动打包编译的功能"></a>使用 webpack-dev-server 这个工具，来实现自动打包编译的功能</h2><ol>
<li>运行 <code>npm i webpack-dev-server -D</code> 把这个工具安装到项目的本地开发依赖 <a target="_blank" rel="noopener" href="https://blog.csdn.net/wangguoyu1996/article/details/80443861">npm install –save 和 npm install -d 的区别</a></li>
<li>安装完毕后，这个 工具的用法， 和 webpack 命令的用法，完全一样</li>
<li>由于，我们是在项目中，本地安装的 webpack-dev-server ， 所以，无法把它当作 脚本命令，在 powershell 终端中直接运行；（只有那些 安装到 全局 -g 的工具，才能在 终端中正常执行）</li>
<li>注意： webpack-dev-server 这个工具，如果想要正常运行，要求，在本地项目中，必须安装 webpack</li>
<li>webpack-dev-server 帮我们打包生成的 bundle.js 文件，并没有存放到 实际的 物理磁盘上；而是，直接托管到了 电脑的内存中，所以，我们在 项目根目录中，根本找不到 这个打包好的 bundle.js;</li>
<li>我们可以认为， webpack-dev-server 把打包好的 文件，以一种虚拟的形式，托管到了 咱们项目的 根目录中，虽然我们看不到它，但是，可以认为， 和 dist src node_modules 平级，有一个看不见的文件，叫做 bundle.js</li>
</ol>
<ul>
<li>再 package.json 文件中 配置 <code>webpack-dev-server </code></li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190413/0mEiuATRmg4V.png?imageslim" alt="mark"></p>
<ul>
<li>在根目录下运行命令：<code>npm run dev</code></li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190413/01rkpce0a7ou.png?imageslim" alt="mark"></p>
<h4 id="自动编译（保存代码即自动刷新浏览器）"><a href="#自动编译（保存代码即自动刷新浏览器）" class="headerlink" title="自动编译（保存代码即自动刷新浏览器）"></a>自动编译（保存代码即自动刷新浏览器）</h4><p><img src="http://static.zxinc520.com/blog/20190413/sEKMRkaMQOuX.png?imageslim" alt="mark"></p>
<h2 id="运行-npm-run-dev-后-自动-打开对应端口号的浏览器窗口-改端口号-显示内容"><a href="#运行-npm-run-dev-后-自动-打开对应端口号的浏览器窗口-改端口号-显示内容" class="headerlink" title="运行 npm run dev 后 自动 打开对应端口号的浏览器窗口 改端口号 显示内容"></a>运行 npm run dev 后 自动 <strong>打开对应端口号</strong>的浏览器窗口 改端口号 显示内容</h2><h3 id="方式一：配置-package-json-文件"><a href="#方式一：配置-package-json-文件" class="headerlink" title="方式一：配置 package.json 文件"></a>方式一：配置 <code>package.json</code> 文件</h3><p>优点：——-推荐，简单，直接。在开发中更常用。</p>
<p><strong>package.json:</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190413/bhRisI6Rkma4.png?imageslim" alt="mark"></p>
<h3 id="方式二：配置-webpack-config-js-文件"><a href="#方式二：配置-webpack-config-js-文件" class="headerlink" title="方式二：配置 webpack.config.js 文件"></a>方式二：配置 webpack.config.js 文件</h3><ul>
<li>相比之下 麻烦一点</li>
</ul>
<p><strong>webpack.config.js：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="comment">// 启用热更新的 第2步</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&quot;webpack&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: path.join(__dirname, <span class="string">&quot;./src/main.js&quot;</span>), <span class="comment">// 入口，表示，要使用 webpack 打包哪个文件</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    <span class="comment">// 输出文件相关的配置</span></span><br><span class="line">    path: path.join(__dirname, <span class="string">&quot;./dist&quot;</span>), <span class="comment">// 指定 打包好的文件，输出到哪个目录中去</span></span><br><span class="line">    filename: <span class="string">&quot;bundle.js&quot;</span>, <span class="comment">// 这是指定 输出的文件的名称</span></span><br><span class="line">  &#125;,</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    <span class="comment">//这是配置  dev-server 命令参数的第二种形式，相对来说，麻烦一点。</span></span><br><span class="line">    open: <span class="literal">true</span>, <span class="comment">//自动打开浏览器</span></span><br><span class="line">    port: <span class="number">3000</span>, <span class="comment">//设置启动时候的运行端口</span></span><br><span class="line">    contentBase: <span class="string">&quot;src&quot;</span>,</span><br><span class="line">    hot: <span class="literal">true</span>, <span class="comment">//启用热更新 第1步</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">//配置插件的节点</span></span><br><span class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin(), <span class="comment">// new 一个热更新的 模块对象， 这是 启用热更新的第 3 步</span></span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="使用-html-webpack-plugin-插件"><a href="#使用-html-webpack-plugin-插件" class="headerlink" title="使用 html-webpack-plugin 插件"></a>使用 html-webpack-plugin 插件</h2><blockquote>
<p>配合 <code>webpack-dev-server</code> 工具使用</p>
<p>作用：为 html 文件中引入的外部资源</p>
</blockquote>
<p><strong>这个插件的两个作用：</strong></p>
<ul>
<li>为 html 文件中引入的外部资源如<code>script</code>、<code>link</code>动态添加每次 compile 后的 hash，防止引用缓存的外部文件问题</li>
<li>可以生成创建 html 入口文件，比如单页面可以生成一个 html 文件入口，配置<strong>N</strong>个<code>html-webpack-plugin</code>可以生成<strong>N</strong>个页面入口</li>
</ul>
<p><strong>实例作用（简单来说）</strong>：</p>
<ol>
<li><p>自动在内存中根据指定页面生成一个内存的页面</p>
</li>
<li><p>自动，把打包好的 bundle.js 追加到页面中去</p>
<p><img src="http://static.zxinc520.com/blog/20190413/A77bGaRpNnBK.png?imageslim" alt="mark"></p>
</li>
</ol>
<h6 id="安装使用如下："><a href="#安装使用如下：" class="headerlink" title="安装使用如下："></a><strong>安装使用如下：</strong></h6><p>一、首先安装 html-webpack-plugin 插件</p>
<p>​ 在 cmd 中打开项目，输入 <code>npm i html-webpack-plugin -D</code></p>
<p>二、在 webpack-config.js 的 plugins 里面添加 信息，如下图</p>
<p><img src="http://static.zxinc520.com/blog/20190413/FtRgDnktWRwG.png?imageslim" alt="mark"></p>
<p>然后在 cmd 中输入 <code>npm run dev</code> ，即可以在项目文件夹下自动生成 index.html。如果报错，则表示，未安装 html-webpack-plugin 插件。</p>
<p>注：不配置任何选项的<code>html-webpack-plugin</code>插件，他会默认将 webpack 中的<code>entry</code>配置所有入口 thunk 和<code>extract-text-webpack-plugin</code>抽取的 css 样式都插入到文件指定的位置</p>
<h2 id="webpack-处理第三方文件类型的过程"><a href="#webpack-处理第三方文件类型的过程" class="headerlink" title="webpack 处理第三方文件类型的过程"></a>webpack 处理第三方文件类型的过程</h2><h4 id="需求：打包处理-css-文件"><a href="#需求：打包处理-css-文件" class="headerlink" title="需求：打包处理 css 文件"></a>需求：打包处理 css 文件</h4><p><strong>注意：</strong></p>
<ul>
<li><p>webpack, 默认只能打包处理 JS 类型的文件，无法处理 其它的非 JS 类型的文件； 如果要处理 非 JS 类型的文件，我们需要手动安装一些 合适 第三方 loader 加载器；</p>
</li>
<li><p>1.如果想要打包处理 css 文件，需要安装 <code>npm i style-loader css-loader -D</code></p>
<p><img src="http://static.zxinc520.com/blog/20190413/oqXTmYRoKMoA.png?imageslim" alt="mark"></p>
</li>
<li><p>2.打开 webpack.config.js 这个配置文件，在 里面，新增一个 配置节点，叫做 module, 它是一个对象；在 这个 module 对象身上，有个 rules 属性，这个 rules 属性是个 数组；这个数组中，存放了，所有第三方文件的 匹配和 处理规则；</p>
<p><img src="http://static.zxinc520.com/blog/20190413/Xu64lPnxIQLS.png?imageslim" alt="mark"></p>
</li>
</ul>
<p><strong>webpack 处理第三方文件类型的过程：</strong></p>
<ol>
<li>发现这个 要处理的文件不是 JS 文件，然后就去 配置文件中，查找有没有对应的第三方 loader 规则</li>
<li>如果能找到对应的规则， 就会调用 对应的 loader 处理 这种文件类型；</li>
<li>在调用 loader 的时候，是从后往前调用的；</li>
<li>当最后的一个 loader 调用完毕，会把 处理的结果，直接交给 webpack 进行 打包合并，最终输出到 bundle.js 中去</li>
</ol>
<h2 id="打包-less-文件"><a href="#打包-less-文件" class="headerlink" title="打包 less 文件"></a>打包 less 文件</h2><p><strong>第一步：安装包：</strong></p>
<ol>
<li><p>安装 <code>npm i less-loader -D</code></p>
<p><img src="http://static.zxinc520.com/blog/20190413/0bSMpt6TO1EJ.png?imageslim" alt="mark"></p>
</li>
<li><p>less-loader 内部依赖 less 包，所以安装 <code>npm i less -D</code></p>
</li>
</ol>
<p><img src="http://static.zxinc520.com/blog/20190413/5RJ7elAXllGf.png?imageslim" alt="mark"></p>
<p><strong>第二步：配置 webpack.config.js 文件</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190413/qjRV20IM5XiU.png?imageslim" alt="mark"></p>
<p>第三步：根目录下 运行 <code>npm run dev</code></p>
<p><img src="http://static.zxinc520.com/blog/20190413/Nhxhjre7JLIk.gif" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nrm/" rel="tag">nrm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack/" rel="tag">webpack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%9B%91%E5%90%AC%E4%BA%8B%E4%BB%B6%EF%BC%88keyup-%EF%BC%8Cwatch-%EF%BC%8Ccomputed-%EF%BC%89/" rel="tag">监听事件（keyup ，watch ，computed ）</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-VueLearn04"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/04/10/VueLearn04/"
    >父子组件间通信、路由</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/04/10/VueLearn04/" class="article-date">
  <time datetime="2019-04-10T06:13:26.000Z" itemprop="datePublished">2019-04-10</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/Vue/">Vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="Vue-第四天"><a href="#Vue-第四天" class="headerlink" title="Vue 第四天"></a>Vue 第四天</h2><blockquote>
<p>父子组件间通信</p>
<p>ref 获取 DOM 元素 和 组件</p>
<p>路由</p>
</blockquote>
<h3 id="父组件向子组件传值"><a href="#父组件向子组件传值" class="headerlink" title="父组件向子组件传值"></a>父组件向子组件传值</h3><h5 id="1-子组件使用父组件中的数据"><a href="#1-子组件使用父组件中的数据" class="headerlink" title="1.子组件使用父组件中的数据"></a>1.子组件使用父组件中的数据</h5><ul>
<li>初步尝试—（错误分析）</li>
</ul>
<p><img src="http://static.zxinc520.com/blogimage/20190408/mHq7etHeHLPb.png?imageslim" alt="mark"></p>
<ul>
<li>正确使用方法</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--父组件,可以在引用子组件的时候，通过 属性绑定（v-bind：） 的形式，把需要 传递给子组件 的数据，以属性绑定的形式，传递到子组件内部，供子组件使用--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">com1</span> <span class="attr">v-bind:parentmsg</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">com1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;123 父组件中的数据&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      com1: &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">//props中的数据，都是只读的，无法重新赋值。</span></span></span><br><span class="line"><span class="javascript">        props: [<span class="string">&quot;parentmsg&quot;</span>], <span class="comment">//把父组件传递过来的 parentmsg 属性，先在 props 数组中，先定义一下，这样才能使用这个数据</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        template: &quot;<span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是子组件---</span><span class="template-variable">&#123;&#123;<span class="name">parentmsg</span>&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>&quot;,</span></span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190408/mUupYQNPh2hG.png?imageslim" alt="mark"></p>
<h5 id="2-子组件使用父组件中的方法"><a href="#2-子组件使用父组件中的方法" class="headerlink" title="2.子组件使用父组件中的方法"></a>2.子组件使用父组件中的方法</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">com1</span> @<span class="attr">func</span>=<span class="string">&quot;show&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">com1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;tmp1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是子组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;myclick&quot;</span>&gt;</span>这是子组件的中的按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> com2 = &#123;</span></span><br><span class="line"><span class="javascript">    template: <span class="string">&quot;#tmp1&quot;</span>,</span></span><br><span class="line">    methods: &#123;</span><br><span class="line">      myclick() &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">//  emit 英文原意：是触发，调用，发射的意思</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$emit(<span class="string">&quot;func&quot;</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      show() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;调用父组件身上的show方法&quot;</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      com1: com2,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190408/bmsCo9BvmEsC.gif" alt="mark"></p>
<h3 id="子组件向父组件传值"><a href="#子组件向父组件传值" class="headerlink" title="子组件向父组件传值"></a>子组件向父组件传值</h3><ul>
<li>设置参数（ 供子组件传递参数 ）</li>
</ul>
<p><img src="http://static.zxinc520.com/blogimage/20190408/nbHBhOYbCy7g.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blogimage/20190408/R3Te7QLYkM8o.png?imageslim" alt="mark"></p>
<ul>
<li>列举 list 数据对象 说明</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">com1</span> @<span class="attr">func</span>=<span class="string">&quot;show&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">com1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;tmp1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是子组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;myclick&quot;</span>&gt;</span>这是子组件的中的按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> com2 = &#123;</span></span><br><span class="line"><span class="javascript">    template: <span class="string">&quot;#tmp1&quot;</span>,</span></span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        list: [&#123; <span class="attr">id</span>: <span class="string">&quot;1&quot;</span>, <span class="attr">age</span>: <span class="string">&quot;18&quot;</span> &#125;],</span></span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      myclick() &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">// emit 英文原意：是触发，调用，发射的意思</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$emit(<span class="string">&quot;func&quot;</span>, <span class="built_in">this</span>.list);</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      show(data) &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(data);</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      com1: com2,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190408/PgXfzpoRW7u9.png?imageslim" alt="mark"></p>
<h2 id="组件案例-发表评论"><a href="#组件案例-发表评论" class="headerlink" title="组件案例-发表评论"></a>组件案例-发表评论</h2><blockquote>
<p>发表评论案例</p>
<p>所需知识点： 父子组件传值，localStorage 本地储存</p>
</blockquote>
<p>代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">comment-box</span> @<span class="attr">func</span>=<span class="string">&quot;loadlocalStorage&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">comment-box</span>&gt;</span> <span class="comment">&lt;!--评论组件调用--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;list-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;list-group-item&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;item in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge&quot;</span>&gt;</span>&#123;&#123;item.user&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            &#123;&#123;item.content&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--评论组件模板--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;tmp1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;exampleInputEmail1&quot;</span>&gt;</span>user：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;search&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> 	             		                        <span class="attr">id</span>=<span class="string">&quot;exampleInputEmail1&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;user&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;exampleInputEmail2&quot;</span>&gt;</span>content：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;exampleInputEmail2&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;content&quot;</span>                <span class="attr">placeholder</span>=<span class="string">&quot;发表留言&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-bottom: 15px&quot;</span>                       @<span class="attr">click</span>=<span class="string">&quot;Postcomment&quot;</span>&gt;</span>发表</span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> commentBox = &#123;</span></span><br><span class="line"><span class="javascript">            template: <span class="string">&#x27;#tmp1&#x27;</span>,</span></span><br><span class="line">            data() &#123;</span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                    user: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    content: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                Postcomment() &#123;</span><br><span class="line"><span class="javascript">                    <span class="comment">//分析：发表评论的业务逻辑</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//1.评论数据存到哪里去？ 存放到 localStorage 中 	 		            	                       localStorage.setItem(&#x27;cmts&#x27;,&#x27;&#x27;)</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//2.先组织出一个最新的评论数据对象</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//3.想办法，把 第二步中，得到的评论对象。保存到 localStorage 中</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//   3.1 localStorage 只支持存放字符串数据，要先调用 	  JSON.stringify</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//   3.2 在保存最新的 评论数据之前，要先从 localStorage 获取之前的评论数据  （string），转换为一个数组对象然后把最新的评论，push到这个数组</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//   3.3 如果获取到的localStorage中 的评论字符串，为空不存在，则 可以 返回一个&#x27;[]&#x27; ,让JSON.parse 去转换</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//   3.4 把 最新的 评论列表数组，再次调用 JSON.stringify 转换为 数组字符串，然后调用 localStorage.setItem()</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">                    <span class="keyword">let</span> comment = &#123;<span class="attr">id</span>: <span class="built_in">Date</span>.now(), <span class="attr">user</span>: <span class="built_in">this</span>.user, <span class="attr">content</span>: <span class="built_in">this</span>.content&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">                    <span class="comment">//从 localStorage 获取所有的评论</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">let</span> list = <span class="built_in">JSON</span>.parse(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;cmts&#x27;</span>) || <span class="string">&#x27;[]&#x27;</span>)</span></span><br><span class="line"></span><br><span class="line">                    list.unshift(comment)</span><br><span class="line"><span class="javascript">                    <span class="comment">//重新保存 最新的评论数据</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;cmts&#x27;</span>, <span class="built_in">JSON</span>.stringify(list))</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.user = <span class="built_in">this</span>.content = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.$emit(<span class="string">&#x27;func&#x27;</span>)</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">            data: &#123;</span><br><span class="line"><span class="javascript">                list: [&#123;<span class="attr">id</span>: <span class="built_in">Date</span>.now(), <span class="attr">user</span>: <span class="string">&#x27;李白&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;天生我材必有用&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                       &#123;<span class="attr">id</span>: <span class="built_in">Date</span>.now(), <span class="attr">user</span>: <span class="string">&#x27;张三&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;锄禾日当午&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                       &#123;<span class="attr">id</span>: <span class="built_in">Date</span>.now(), <span class="attr">user</span>: <span class="string">&#x27;李四&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;白日依山尽&#x27;</span>&#125;]</span></span><br><span class="line">            &#125;,</span><br><span class="line">            created() &#123;</span><br><span class="line"><span class="javascript">                <span class="comment">//从本地的 localStorage 中加载评论列表</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.list = <span class="built_in">JSON</span>.parse(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;cmts&#x27;</span>) || <span class="string">&#x27;[]&#x27;</span>)</span></span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                loadlocalStorage() &#123;</span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.list = <span class="built_in">JSON</span>.parse(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;cmts&#x27;</span>) || <span class="string">&#x27;[]&#x27;</span>)</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            components: &#123;</span><br><span class="line">                commentBox: commentBox</span><br><span class="line">            &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190409/Xoa1oQoFqxaT.gif" alt="mark"></p>
<h2 id="ref-获取-DOM-元素和组件"><a href="#ref-获取-DOM-元素和组件" class="headerlink" title="ref 获取 DOM 元素和组件"></a>ref 获取 DOM 元素和组件</h2><h4 id="ref-获取-DOM-元素"><a href="#ref-获取-DOM-元素" class="headerlink" title="ref 获取 DOM 元素"></a>ref 获取 DOM 元素</h4><ul>
<li>基本使用</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;getElement&quot;</span>&gt;</span>获取元素<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span> <span class="attr">id</span>=<span class="string">&quot;myh3&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;myh3&quot;</span>&gt;</span>今天阳光明媚<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      getElement() &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(document.getElementById(&#x27;myh3&#x27;).innerText)</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.$refs.myh3.innerText);</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190409/yp3VYrRba9dD.gif" alt="mark"></p>
<h4 id="ref-获取组件"><a href="#ref-获取组件" class="headerlink" title="ref 获取组件"></a>ref 获取组件</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;getElement&quot;</span>&gt;</span>获取元素<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span> <span class="attr">id</span>=<span class="string">&quot;myh3&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;myh3&quot;</span>&gt;</span>今天阳光明媚<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">login</span> <span class="attr">ref</span>=<span class="string">&quot;mylogin&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">login</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> login = &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>&quot;,</span></span></span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        msg: <span class="string">&quot;这是子组件的数据&quot;</span>,</span></span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      show() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;这是子组件的show方法&quot;</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      getElement() &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(document.getElementById(&#x27;myh3&#x27;).innerText)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(this.$refs.myh3.innerText)</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.$refs.mylogin.msg);</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      login,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190409/4uo8wLRXKSxg.gif" alt="mark"></p>
<h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><h3 id="什么是路由？"><a href="#什么是路由？" class="headerlink" title="什么是路由？"></a>什么是路由？</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/deaidai/article/details/80351187">可以参考</a></p>
<blockquote>
<p>后端路由：对于普通的网站，所有的超链接都是 URL 地址，所有的 URL 地址都对应服务器上对应的资源；</p>
<p>前端路由：对于单页面应用程序来说，主要通过 URL 中的 hash(#号)来实现不同页面之间的切换，同时，hash 有一个特点：HTTP 请求中不会包含 hash 相关的内容；所以，单页面程序中的页面跳转主要用 hash 实现；</p>
<p>在单页面应用程序中，这种通过 hash 改变来切换页面的方式，称作前端路由（区别于后端路由）；URL 中的 hash（井号）</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://router.vuejs.org/installation.html#direct-download-cdn">Vue Router</a></p>
<p>​ <a target="_blank" rel="noopener" href="http://www.shouce.ren/api/view/a/11771">实用小文档</a></p>
<ul>
<li>路由的基本使用</li>
<li>登陆和注册路由切换小案例：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../../vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--1.安装 vue-router 路由模块--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../vue-router.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--在后面 a标签 会被 router-link 所替代--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/login&quot;</span>&gt;</span>登陆<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/register&quot;</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--这是 vue-router 提供的元素，专门用来 当作占位符的，将来，路由规则，匹配到的组件，就会展示到这个 router-view 中去--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--所以：我们可以把 router-view 认为是一个 占位符--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//组件模板对象</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> login = &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h1</span>&gt;</span>登陆组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>&quot;,</span></span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> register = &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h1</span>&gt;</span>注册组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>&quot;,</span></span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">//2. 创建 一个路由对象，当 导入 vue-router 包之后，在window 全局对象中，就有了一个 路由的构造函数，叫做 VueRouter</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// 在new 路由对象的时候，可以为 构造函数，传递一个配置对象</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> routerobj = <span class="keyword">new</span> VueRouter(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// routes :这个配置对象中的 route 表示 【路由匹配规则】 的意思</span></span></span><br><span class="line">    routes: [</span><br><span class="line"><span class="javascript">      <span class="comment">//路由匹配规则</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//每个路由规则，都是一个对象，这个规则对象身上，有两个必须的属性</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//属性1 是 path ，表示哪个路由链接地址；</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//属性2 是 component ，表示，如果 路由是前面匹配到的 path，则展示 component 属性对应的那个组件</span></span></span><br><span class="line"><span class="javascript">      &#123; <span class="attr">path</span>: <span class="string">&quot;/login&quot;</span>, <span class="attr">component</span>: login &#125;,</span></span><br><span class="line"><span class="javascript">      &#123; <span class="attr">path</span>: <span class="string">&quot;/register&quot;</span>, <span class="attr">component</span>: register &#125;,</span></span><br><span class="line">    ],</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;sadsad&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    router: routerobj, <span class="comment">//将路由规则对象，注册到 vm 实例上，用来监听 URL 地址的变化，然后展示对应的组件</span></span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190409/4t7CscuJJf8F.gif" alt="mark"></p>
<ul>
<li>router-link 的使用（替代 a 标签）：</li>
</ul>
<p><img src="http://static.zxinc520.com/blogimage/20190409/xwcN5dtoch9i.png?imageslim" alt="mark"></p>
<ul>
<li>首页重定向（根路径重定向）</li>
</ul>
<p><img src="http://static.zxinc520.com/blogimage/20190409/HGW7GfOFp4CR.png?imageslim" alt="mark"></p>
<ul>
<li>路由高亮效果</li>
</ul>
<p><img src="http://static.zxinc520.com/blogimage/20190409/90MOyhi4OgDj.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blogimage/20190409/tksHtocLC0RB.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blogimage/20190409/CiOF0kzonIuk.gif" alt="mark"></p>
<ul>
<li>在路由中使用 动画</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190409/Boq0wxt3SD6W.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190409/x9en06UnaelG.gif" alt="mark"></p>
<h4 id="路由规则中定义参数"><a href="#路由规则中定义参数" class="headerlink" title="路由规则中定义参数"></a>路由规则中定义参数</h4><ul>
<li>传参方式一：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/login?id=10&quot;</span>&gt;</span>登陆<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/register&quot;</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//组件模板对象</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> login = &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h1</span>&gt;</span>登陆组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>&quot;,</span></span></span><br><span class="line">    created() &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.$route);</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> register = &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h1</span>&gt;</span>注册组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>&quot;,</span></span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> routerobj = <span class="keyword">new</span> VueRouter(&#123;</span></span><br><span class="line">    routes: [</span><br><span class="line"><span class="javascript">      <span class="comment">//路由匹配规则</span></span></span><br><span class="line"><span class="javascript">      &#123; <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>, <span class="attr">redirect</span>: <span class="string">&quot;/login&quot;</span> &#125;, <span class="comment">//这里的 redirect 和 Node 中 的redirect 完全是两回事</span></span></span><br><span class="line"><span class="javascript">      &#123; <span class="attr">path</span>: <span class="string">&quot;/login&quot;</span>, <span class="attr">component</span>: login &#125;,</span></span><br><span class="line"><span class="javascript">      &#123; <span class="attr">path</span>: <span class="string">&quot;/register&quot;</span>, <span class="attr">component</span>: register &#125;,</span></span><br><span class="line">    ],</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;sadsad&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    router: routerobj, <span class="comment">//将路由规则对象，注册到 vm 实例上，用来监听 URL 地址的变化，然后展示对应的组件</span></span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190409/fPdxBv6111Wc.png?imageslim" alt="mark"></p>
<ul>
<li>拿到参数渲染到组件上</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190409/4nCicLNRvHdI.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190409/0ljG17fNlXkA.png?imageslim" alt="mark"></p>
<p>或者：==&gt;更简洁，直观！</p>
<p><img src="http://static.zxinc520.com/blog/20190409/qBOfGm2x0N46.png?imageslim" alt="mark"></p>
<ul>
<li>传值方式二：</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190409/XX9MBioYl1Cu.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190409/crPnx2YQN3Hl.png?imageslim" alt="mark"></p>
<h4 id="路由的嵌套"><a href="#路由的嵌套" class="headerlink" title="路由的嵌套"></a>路由的嵌套</h4><ul>
<li>children 的使用</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/account&quot;</span>&gt;</span>account<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;tmp1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是account组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/account/login&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/account/register&quot;</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> account = &#123;</span></span><br><span class="line"><span class="javascript">    template: <span class="string">&quot;#tmp1&quot;</span>,</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> login = &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h3</span>&gt;</span>login<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>&quot;,</span></span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> register = &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h3</span>&gt;</span>register<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>&quot;,</span></span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> router = <span class="keyword">new</span> VueRouter(&#123;</span></span><br><span class="line">    routes: [</span><br><span class="line">      &#123;</span><br><span class="line"><span class="javascript">        path: <span class="string">&quot;/account&quot;</span>,</span></span><br><span class="line">        component: account,</span><br><span class="line">        /*使用 children 属性，实现子路由，同时，子路由的 path 前面，不要带 / ，</span><br><span class="line">否则永远以根路径开始请求，这样不方便我们用户去理解URL地址*/</span><br><span class="line">        children: [</span><br><span class="line"><span class="javascript">          &#123; <span class="attr">path</span>: <span class="string">&quot;login&quot;</span>, <span class="attr">component</span>: login &#125;,</span></span><br><span class="line"><span class="javascript">          &#123; <span class="attr">path</span>: <span class="string">&quot;register&quot;</span>, <span class="attr">component</span>: register &#125;,</span></span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;哈哈&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    router,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190410/gPhEsa53qYkp.gif" alt="mark"></p>
<h2 id="路由-命名视图实现经典布局"><a href="#路由-命名视图实现经典布局" class="headerlink" title="路由-命名视图实现经典布局"></a>路由-命名视图实现经典布局</h2><ul>
<li>命名视图实现经典布局</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  * &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.header</span> &#123;</span></span><br><span class="line">    height: 80px;</span><br><span class="line">    background: orange;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.container</span> &#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">    height: 400px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#2b542c</span>;</span></span><br><span class="line">    flex: 2;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.main</span> &#123;</span></span><br><span class="line">    background: red;</span><br><span class="line">    flex: 8;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">name</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">name</span>=<span class="string">&quot;main&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> header = &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &#x27;<span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span>Header头部区域<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>&#x27;,</span></span></span><br><span class="line">  &#125;;</span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> leftBox = &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &#x27;<span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>leftBox区域<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>&#x27;,</span></span></span><br><span class="line">  &#125;;</span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> mainBox = &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &#x27;<span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span>mainBox区域<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>&#x27;,</span></span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> router = <span class="keyword">new</span> VueRouter(&#123;</span></span><br><span class="line">    routes: [</span><br><span class="line"><span class="javascript">      <span class="comment">// &#123;path:&#x27;/&#x27;,component:header&#125;,</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// &#123;path:&#x27;/left&#x27;,component:leftBox&#125;,</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// &#123;path:&#x27;/main&#x27;,component:mainBox&#125;</span></span></span><br><span class="line">      &#123;</span><br><span class="line"><span class="javascript">        path: <span class="string">&quot;/&quot;</span>,</span></span><br><span class="line">        components: &#123;</span><br><span class="line"><span class="javascript">          <span class="keyword">default</span>: header,</span></span><br><span class="line">          left: leftBox,</span><br><span class="line">          main: mainBox,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;哈啊哈&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    router,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190410/kLyVGLuGTNQU.png?imageslim" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1/" rel="tag">父子组件间通信</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%B7%AF%E7%94%B1/" rel="tag">路由</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-VueLearn03"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/04/02/VueLearn03/"
    >过渡效果、组件</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/04/02/VueLearn03/" class="article-date">
  <time datetime="2019-04-02T14:48:13.000Z" itemprop="datePublished">2019-04-02</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/Vue/">Vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Vue-第三天"><a href="#Vue-第三天" class="headerlink" title="Vue 第三天"></a>Vue 第三天</h1><blockquote>
<p>过渡效果</p>
<p>组件</p>
</blockquote>
<h1 id="过渡效果"><a href="#过渡效果" class="headerlink" title="过渡效果"></a>过渡效果</h1><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>Vue 在插入、更新或者移除 DOM 时，提供多种不同方式的应用过渡效果。<br>包括以下工具：</p>
<ol>
<li><p>在 CSS 过渡和动画中自动应用 class</p>
</li>
<li><p>可以配合使用第三方 CSS 动画库，如 Animate.css</p>
</li>
<li><p>在过渡钩子函数中使用 JavaScript 直接操作 DOM</p>
</li>
<li><p>可以配合使用第三方 JavaScript 动画库，如 <a target="_blank" rel="noopener" href="https://github.com/shepherdwind/velocity.js">Velocity.js</a></p>
</li>
</ol>
<h2 id="1-使用过度类名实现动画"><a href="#1-使用过度类名实现动画" class="headerlink" title="1.使用过度类名实现动画"></a>1.使用过度类名实现动画</h2><p><strong>写个简单例子说明：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--自定义两组样式，来控制 transition 内部的元素实现动画--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  /* v-enter ：  【这是一个时间点】 是进入之前,元素的起始状态，此时还没有开始进入</span><br><span class="line">       v-leave-to：【这是一个时间点】 是动画离开之后，离开的终止状态，此时， 元素动画已经结束</span><br><span class="line">    */</span><br><span class="line"><span class="css">  <span class="selector-class">.v-enter</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.v-leave-to</span> &#123;</span></span><br><span class="line">    opacity: 0;</span><br><span class="line">    transform: translateX(80px);</span><br><span class="line">  &#125;</span><br><span class="line">  /*</span><br><span class="line">      v-enter-active: 入场动画的时间段</span><br><span class="line">      v-leave-active：离场动画的时间段</span><br><span class="line">    */</span><br><span class="line"><span class="css">  <span class="selector-class">.v-enter-active</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.v-leave-active</span> &#123;</span></span><br><span class="line">    transition: all 2s;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;flag=!flag&quot;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--1. transition 元素，是Vue 官方提供的--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-if</span>=<span class="string">&quot;flag&quot;</span>&gt;</span>这是一个h3<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      flag: <span class="literal">true</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190408/saPf7Rw6MKa5.gif" alt="mark"></p>
<p><strong>修改 v-前缀(自定义前缀)</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.my-enter</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.my-leave-to</span> &#123;</span></span><br><span class="line">    opacity: 0;</span><br><span class="line">    transform: translateY(-80px);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.my-enter-active</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.my-leave-active</span> &#123;</span></span><br><span class="line">    transition: all 2s;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;flag1=!flag1&quot;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--1. transition 元素，是Vue 官方提供的--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;my&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h6</span> <span class="attr">v-if</span>=<span class="string">&quot;flag1&quot;</span>&gt;</span>这是一个h6<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-使用第三方类实现动画"><a href="#2-使用第三方类实现动画" class="headerlink" title="2.使用第三方类实现动画"></a>2.使用第三方类实现动画</h2><p><a target="_blank" rel="noopener" href="https://daneden.github.io/animate.css/">animate.css 官网</a></p>
<p><a target="_blank" rel="noopener" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">在线 cdn</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;../../animate.css&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;flag=!flag&quot;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--使用 transition 元素 包裹起来--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition</span></span></span><br><span class="line"><span class="tag">    <span class="attr">enter-active-class</span>=<span class="string">&quot;bounceIn&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">leave-active-class</span>=<span class="string">&quot;bounceOut&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:duration</span>=<span class="string">&quot;&#123;enter:200,leave:400&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-if</span>=<span class="string">&quot;flag&quot;</span>&gt;</span>这是一个h3<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>直接使用在元素身上</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;animated infinite bounce delay-2s&quot;</span>&gt;</span>这是一个h3<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-JavaScript-钩子"><a href="#3-JavaScript-钩子" class="headerlink" title="3.JavaScript 钩子"></a>3.JavaScript 钩子</h3><p><strong>html:</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-on:before-enter</span>=<span class="string">&quot;beforeEnter&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-on:enter</span>=<span class="string">&quot;enter&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-on:after-enter</span>=<span class="string">&quot;afterEnter&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-on:enter-cancelled</span>=<span class="string">&quot;enterCancelled&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-on:before-leave</span>=<span class="string">&quot;beforeLeave&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-on:leave</span>=<span class="string">&quot;leave&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-on:after-leave</span>=<span class="string">&quot;afterLeave&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-on:leave-cancelled</span>=<span class="string">&quot;leaveCancelled&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">  <span class="comment">// 进入中</span></span><br><span class="line">  beforeEnter: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 此回调函数是可选项的设置</span></span><br><span class="line">  <span class="comment">// 与 CSS 结合时使用</span></span><br><span class="line">  enter: <span class="function"><span class="keyword">function</span> (<span class="params">el, done</span>) </span>&#123;</span><br><span class="line">      done()</span><br><span class="line">  &#125;,</span><br><span class="line">  afterEnter: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  enterCancelled: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 离开时</span></span><br><span class="line">  beforeLeave: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 此回调函数是可选项的设置</span></span><br><span class="line">  <span class="comment">// 与 CSS 结合时使用</span></span><br><span class="line">  leave: <span class="function"><span class="keyword">function</span> (<span class="params">el, done</span>) </span>&#123;</span><br><span class="line">    done()</span><br><span class="line">  &#125;,</span><br><span class="line">  afterLeave: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// leaveCancelled 只用于 v-show 中</span></span><br><span class="line">  leaveCancelled: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="案例：小球动画"><a href="#案例：小球动画" class="headerlink" title="案例：小球动画"></a>案例：小球动画</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;flag = !flag&quot;</span>&gt;</span>加入购物车<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--使用 transition 元素把 小球包裹起来--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-on:before-enter</span>=<span class="string">&quot;beforeEnter&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-on:enter</span>=<span class="string">&quot;enter&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-on:after-enter</span>=<span class="string">&quot;afterEnter&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;flag&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ball&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      flag: <span class="literal">false</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//注意：动画钩子函数的第一个参数 el ，表示 要执行动画的那个 DOM 元素，是个原生的JS 对象</span></span></span><br><span class="line">      beforeEnter(el) &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">//beforeEnter : 表示动画入场之前，此时，动画尚未开始，可以在 beforeEnter中，设置元素开始动画之前的起始样式</span></span></span><br><span class="line"><span class="javascript">        el.style.transform = <span class="string">&quot;translate(0,0)&quot;</span>;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      enter(el, done) &#123;</span><br><span class="line">        el.offsetWidth;</span><br><span class="line"><span class="javascript">        <span class="comment">//这句话，没有实际的作用，但是，如果不写，出不来动画效果</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//可以认为  el.offsetWidth 会强制动画刷新</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// enter 表示动画 开始之后的样式，这里，可以设置小球完成动画之后的,结束状态</span></span></span><br><span class="line"><span class="javascript">        el.style.transform = <span class="string">&quot;translate(150px,150px)&quot;</span>;</span></span><br><span class="line"><span class="javascript">        el.style.transition = <span class="string">&quot;all 2s&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">//这里的done， 起始就是 afterEnter 这个函数。也就是说：done 是afterEnter函数的引用</span></span></span><br><span class="line">        done();</span><br><span class="line">      &#125;,</span><br><span class="line">      afterEnter(el) &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">//动画完成之后，会调用 afterEnter()</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.flag = !<span class="built_in">this</span>.flag;</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190408/KnduLdOBz0cI.gif" alt="mark"></p>
<h2 id="列表过渡"><a href="#列表过渡" class="headerlink" title="列表过渡"></a>列表过渡</h2><p>_目前为止，关于过渡我们已经讲到_：</p>
<ul>
<li>单个节点</li>
<li>一次渲染多个节点</li>
</ul>
<p>那么怎么同时渲染整个列表，比如使用 <code>v-for</code> ？在这种场景中，使用<code>&lt;transition-group&gt;</code> 组件。在我们深入例子之前，先了解关于这个组件的几个特点：</p>
<ul>
<li>不同于 <code>&lt;transition&gt;</code>， 它会以一个真实元素呈现：默认为一个 <code>&lt;span&gt;</code>。你也可以通过 <code>tag</code> 特性更换为其他元素。</li>
<li>元素 <strong>一定需要</strong> 指定唯一的 <code>**key</code> 特性值**</li>
</ul>
<p>举例说明：</p>
<h4 id="列表添加动画"><a href="#列表添加动画" class="headerlink" title="列表添加动画"></a>列表添加动画</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.v-enter</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.v-leave-to</span> &#123;</span></span><br><span class="line">    opacity: 0;</span><br><span class="line">    transform: translateY(80px);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.v-enter-active</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.v-leave-active</span> &#123;</span></span><br><span class="line">    transition: all 2s;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--在实现列表过度的时候，如果需要过度的元素，是通过 v-for 循环渲染出来的，不能使用transition 包裹，需要使用transitionGroup--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--如果要为 v-for 循环创建的元素设置动画，必须为每一个元素 设置 :key 属性--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">transition-group</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span>&#123;&#123;item.id&#125;&#125;--- &#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;id&quot;</span>&gt;</span>id:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;id&quot;</span> <span class="attr">id</span>=<span class="string">&quot;id&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>name:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      list: [</span><br><span class="line">        &#123;</span><br><span class="line">          id: 1,</span><br><span class="line"><span class="javascript">          name: <span class="string">&quot;张三&quot;</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: 2,</span><br><span class="line"><span class="javascript">          name: <span class="string">&quot;李四&quot;</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: 3,</span><br><span class="line"><span class="javascript">          name: <span class="string">&quot;王五&quot;</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: 4,</span><br><span class="line"><span class="javascript">          name: <span class="string">&quot;赵二&quot;</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: 5,</span><br><span class="line"><span class="javascript">          name: <span class="string">&quot;王八&quot;</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line"><span class="javascript">      id: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="javascript">      name: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      add() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.list.push(&#123; <span class="attr">id</span>: <span class="built_in">this</span>.id, <span class="attr">name</span>: <span class="built_in">this</span>.name &#125;);</span></span><br><span class="line"><span class="javascript">        (<span class="built_in">this</span>.id = <span class="string">&quot;&quot;</span>), (<span class="built_in">this</span>.name = <span class="string">&quot;&quot;</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190408/BniWO4XoExQy.gif" alt="mark"></p>
<h4 id="删除动画"><a href="#删除动画" class="headerlink" title="删除动画"></a>删除动画</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.v-enter</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.v-leave-to</span> &#123;</span></span><br><span class="line">    opacity: 0;</span><br><span class="line">    transform: translateY(80px);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.v-enter-active</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.v-leave-active</span> &#123;</span></span><br><span class="line">    transition: all 2s;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="comment">/*下面的 .v-move和 .v-leave-active 配合使用，能够实现列表后续的元素，渐渐飘上来的效果*/</span></span></span><br><span class="line"><span class="css">  <span class="selector-class">.v-move</span> &#123;</span></span><br><span class="line">    transition: all 3s ease;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.v-leave-active</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition-group</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,i) in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;del(i)&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123;item.id&#125;&#125;---&#123;&#123;item.name&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190408/vkbO2TDtKy2q.gif" alt="mark"></p>
<h4 id="实现入场时候的效果（-appear-属性）"><a href="#实现入场时候的效果（-appear-属性）" class="headerlink" title="实现入场时候的效果（ appear 属性）"></a>实现入场时候的效果（ appear 属性）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--给 transition-group 添加 appear 属性，实现入场时候的效果--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition-group</span> <span class="attr">appear</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,i) in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;del(i)&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123;item.id&#125;&#125;---&#123;&#123;item.name&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190408/yEodBeN1cCdm.gif" alt="mark"></p>
<h4 id="解决-ul-标签下-span-包裹问题"><a href="#解决-ul-标签下-span-包裹问题" class="headerlink" title="解决 ul 标签下 span 包裹问题"></a>解决 ul 标签下 span 包裹问题</h4><p><img src="http://static.zxinc520.com/blogimage/20190402/vn2iYgGzCqCz.png?imageslim" alt="mark"></p>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p><strong>去掉 ul 标签，并给 transition-group 标签加 tag=”ul” 。</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition-group</span> <span class="attr">appear</span> <span class="attr">tag</span>=<span class="string">&quot;ul&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,i) in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;del(i)&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123;item.id&#125;&#125;---&#123;&#123;item.name&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h1><h3 id="什么是组件？"><a href="#什么是组件？" class="headerlink" title="什么是组件？"></a>什么是组件？</h3><blockquote>
<p>组件（Component）是 Vue.js 最强大的功能之一。组件可以扩展 HTML 元素，封装可重用的代码。在较高层面上，组件是自定义元素， Vue.js 的编译器为它添加特殊功能。在有些情况下，组件也可以是原生 HTML 元素的形式，以 is 特性扩展。</p>
<p>组件的出现，就是为了拆分 Vue 实例的代码量的，能够让我们以不同的组件，来划分不同的功能模块，将来我们需要什么样的功能，就可以去调用对应的组件即可</p>
</blockquote>
<h2 id="组件化和模块化的不同："><a href="#组件化和模块化的不同：" class="headerlink" title="组件化和模块化的不同："></a>组件化和模块化的不同：</h2><h3 id="组件化"><a href="#组件化" class="headerlink" title="组件化"></a>组件化</h3><blockquote>
<p>​ 就是**”基础库”<strong>或者</strong>“基础组件”，**意思是把代码重复的部分提炼出一个个组件供给功能使用。</p>
<p>​ 使用：Dialog，各种自定义的 UI 控件、能在项目或者不同项目重复应用的代码等等。</p>
<p>​ 目的：复用，解耦。</p>
<p>​ 依赖：组件之间低依赖，比较独立。</p>
<p>​ 架构定位：纵向分层（位于架构底层，被其他层所依赖）。</p>
</blockquote>
<h3 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h3><blockquote>
<p>​ 就是**”业务框架”<strong>或者</strong>“业务模块”**，也可以理解为“框架”，意思是把功能进行划分，将同一类型的代码整合在一起，所以模块的功能相对复杂，但都同属于一个业务。</p>
<p>​ 使用：按照项目功能需求划分成不同类型的业务框架（例如：注册、登录、外卖、直播…..）</p>
<p>​ 目的：隔离/封装 （高内聚）。</p>
<p>​ 依赖：模块之间有依赖的关系，可通过路由器进行模块之间的耦合问题。</p>
<p>​ 架构定位：横向分块（位于架构业务框架层）。</p>
</blockquote>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>​ 其实组件相当于<strong>库</strong>，把一些能在<strong>项目里或者不同类型项目中</strong>可复用的代码进行工具性的封装。</p>
<p>​ 而模块相应于<strong>业务逻辑模块</strong>，把<strong>同一类型项目里</strong>的功能逻辑进行进行需求性的封装。</p>
<h2 id="创建组件实例："><a href="#创建组件实例：" class="headerlink" title="创建组件实例："></a>创建组件实例：</h2><blockquote>
<p>注意：不论是哪种方式创建出来的组件，组件的 template 属性指向的模板内容必须有且只能有唯 一的一个根元素</p>
</blockquote>
<h3 id="全局组件"><a href="#全局组件" class="headerlink" title="全局组件"></a>全局组件</h3><h4 id="创建组件的方式-1"><a href="#创建组件的方式-1" class="headerlink" title="创建组件的方式 1"></a>创建组件的方式 1</h4><p><strong>实例：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-com1</span>&gt;</span><span class="tag">&lt;/<span class="name">my-com1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//1.1 使用 Vue.extend 来创建全局的Vue组件</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> com1 = Vue.extend(&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h3</span>&gt;</span>这是使用 Vue.extend 创建的组件<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>&quot;,</span></span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">//1.2 使用  Vue.component(&#x27;组件的名称&#x27;，创建出来的组件模板对象)</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">//如果 使用  Vue.component定义全局组件的时候，组件名称使用了 驼峰命名，则在引用组件的时候，需要把大写的驼峰改为小写的字母，两个单词之间，使用 - 链接</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">//如果不使用驼峰，则直接拿名称来使用</span></span></span><br><span class="line"><span class="javascript">  Vue.component(<span class="string">&quot;myCom1&quot;</span>, com1);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190402/AE4CTF8EzGix.png?imageslim" alt="mark"></p>
<h4 id="简化："><a href="#简化：" class="headerlink" title="简化："></a>简化：</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(</span><br><span class="line">  <span class="string">&quot;myCom1&quot;</span>,</span><br><span class="line">  Vue.extend(&#123;</span><br><span class="line">    template: <span class="string">&quot;&lt;h3&gt;这是使用 Vue.extend 创建的组件&lt;/h3&gt;&quot;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="创建组件的方式-2"><a href="#创建组件的方式-2" class="headerlink" title="创建组件的方式 2"></a>创建组件的方式 2</h4><p><strong>实例</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-com2</span>&gt;</span><span class="tag">&lt;/<span class="name">my-com2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  Vue.component(<span class="string">&quot;myCom2&quot;</span>, &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//注意：不论是哪种方式创建出来的组件，组件的 template 属性指向的模板内容必须有且只能有唯一的一个根元素</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h3</span>&gt;</span>这是直接使用 Vue.component 创建出来的组件<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>&quot;,</span></span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190402/EiTu5Mwl5jpJ.png?imageslim" alt="mark"></p>
<h4 id="创建组件的方式-3"><a href="#创建组件的方式-3" class="headerlink" title="创建组件的方式 3"></a>创建组件的方式 3</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-com3</span>&gt;</span><span class="tag">&lt;/<span class="name">my-com3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--在 被控制的 #app 外面，使用 template 元素，定义组件的 HTML 模板结构--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;tmp1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span></span><br><span class="line">      这是通过 template 元素，在外部定义的组件结构，这个方式，有代码的智能提示和</span><br><span class="line">      高亮</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>好用不错哦！<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  Vue.component(<span class="string">&quot;myCom3&quot;</span>, &#123;</span></span><br><span class="line"><span class="javascript">    template: <span class="string">&quot;#tmp1&quot;</span>,</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190402/V6vcm4TQjGh1.png?imageslim" alt="mark"></p>
<h3 id="私有组件"><a href="#私有组件" class="headerlink" title="私有组件"></a>私有组件</h3><p><strong>自定义一个私有组件</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">login</span>&gt;</span><span class="tag">&lt;/<span class="name">login</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//定义实例内部私有组件</span></span></span><br><span class="line">      login: &#123;</span><br><span class="line"><span class="handlebars"><span class="xml">        template: &quot;<span class="tag">&lt;<span class="name">h2</span>&gt;</span>这是定义实例内部私有组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>&quot;,</span></span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190402/oA5piSDptycq.png?imageslim" alt="mark"><strong>同理而言：或者这样处理</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">login</span>&gt;</span><span class="tag">&lt;/<span class="name">login</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--在 被控制的 #app 外面，使用 template 元素，定义组件的 HTML 模板结构--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;tmp2&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>这是定义实例内部私有组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//定义实例内部私有组件</span></span></span><br><span class="line">      login: &#123;</span><br><span class="line"><span class="javascript">        template: <span class="string">&quot;#tmp2&quot;</span>,</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="组件中的-data-和-methods"><a href="#组件中的-data-和-methods" class="headerlink" title="组件中的 data 和 methods"></a>组件中的 data 和 methods</h2><blockquote>
<ol>
<li><p>组件可以有自己的 data 数据</p>
</li>
<li><p>组件的 data 和 实例的 data 有点不一样，实例中的 data 可以为一个对象，但组件的 data 必须为一个方法</p>
</li>
<li><p>组件中的 data 除了为一个方法之外，这个方法内部，还必须返回一个对象才行</p>
</li>
</ol>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&quot;myCom1&quot;</span>, &#123;</span><br><span class="line">  template: <span class="string">&quot;&lt;h3&gt;&#123;&#123;msg&#125;&#125;&lt;/h3&gt;&quot;</span>,</span><br><span class="line">  data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      msg: <span class="string">&quot;这是组件中定义的数据&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190402/IbE2L3d6S5x8.png?imageslim" alt="mark"></p>
<h2 id="组件切换"><a href="#组件切换" class="headerlink" title="组件切换"></a>组件切换</h2><h4 id="v-if-和-v-else-（-2-个组件之间切换-）"><a href="#v-if-和-v-else-（-2-个组件之间切换-）" class="headerlink" title="v-if 和 v-else （ 2 个组件之间切换 ）"></a>v-if 和 v-else （ 2 个组件之间切换 ）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;flag=true&quot;</span>&gt;</span>登陆<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;flag=false&quot;</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">login</span> <span class="attr">v-if</span>=<span class="string">&quot;flag&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">login</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">register</span> <span class="attr">v-else</span>=<span class="string">&quot;flag&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">register</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190402/wjg1VesuOq1U.png?imageslim" alt="mark"></p>
<h4 id="component-is-实现多个组件之间的切换"><a href="#component-is-实现多个组件之间的切换" class="headerlink" title="component :is 实现多个组件之间的切换"></a>component :is 实现多个组件之间的切换</h4><blockquote>
<!--Vue 提供了 component ，来展示对应名称的组件-->

<!--component 是一个占位符，:is 属性,可以用来指定展示的组件的名称-->
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;comName=&#x27;login&#x27;&quot;</span>&gt;</span>登陆<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;comName=&#x27;register&#x27;&quot;</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--Vue 提供了 component ，来展示对应名称的组件--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--component 是一个占位符，:is 属性,可以用来指定展示的组件的名称--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;comName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  Vue.component(<span class="string">&quot;login&quot;</span>, &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h3</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">msg</span>&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span>&quot;,</span></span></span><br><span class="line"><span class="javascript">    data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        msg: <span class="string">&quot;这是登陆&quot;</span>,</span></span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  Vue.component(<span class="string">&quot;register&quot;</span>, &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">    template: &quot;<span class="tag">&lt;<span class="name">h3</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">msg</span>&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span>&quot;,</span></span></span><br><span class="line"><span class="javascript">    data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        msg: <span class="string">&quot;这是注册&quot;</span>,</span></span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      comName: <span class="string">&quot;login&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190402/lhRHsBxN0qN2.png?imageslim" alt="mark"></p>
<!--总结：当前学习了几个 Vue 提供的标签了-->

<!-- component, template, transition , transitionGroup -->

<h4 id="多个组件切换动画"><a href="#多个组件切换动画" class="headerlink" title="多个组件切换动画"></a>多个组件切换动画</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.v-enter</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.v-leave-to</span> &#123;</span></span><br><span class="line">    opacity: 0;</span><br><span class="line">    transform: translateX(80px);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.v-enter-active</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-class">.v-leave-active</span> &#123;</span></span><br><span class="line">    transition: all 2s;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;comName=&#x27;login&#x27;&quot;</span>&gt;</span>登陆<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;comName=&#x27;register&#x27;&quot;</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--通过 mode 属性，设置组件切换时候的 模式--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition</span> <span class="attr">mode</span>=<span class="string">&quot;out-in&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;comName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190408/Th9ksgrvutDI.gif" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BB%84%E4%BB%B6/" rel="tag">组件</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BF%87%E6%B8%A1%E6%95%88%E6%9E%9C/" rel="tag">过渡效果</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-VueLearn02"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/03/28/VueLearn02/"
    >过滤器、按键修饰符、指令、生命周期</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/03/28/VueLearn02/" class="article-date">
  <time datetime="2019-03-28T14:30:45.000Z" itemprop="datePublished">2019-03-28</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/Vue/">Vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Vue-第二天"><a href="#Vue-第二天" class="headerlink" title="Vue 第二天"></a>Vue 第二天</h1><blockquote>
<p>以做案例逐渐深入学习</p>
<p>打好基础很重要！</p>
<p><em>believe in yourself</em></p>
</blockquote>
<h2 id="品牌列表案例"><a href="#品牌列表案例" class="headerlink" title="品牌列表案例"></a>品牌列表案例</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel panel-primary&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-heading&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-title&quot;</span>&gt;</span>添加品牌<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-body form-inline&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;id&quot;</span>&gt;</span>id: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;id&quot;</span> <span class="attr">id</span>=<span class="string">&quot;id&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>name: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn  btn-primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;table table-bordered table-hover table-striped&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>id<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>name<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>ctime<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Operation<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;item in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.id&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.ctime&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;del(item.id)&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      id: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="javascript">      name: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line">      list: [</span><br><span class="line">        &#123;</span><br><span class="line">          id: 1,</span><br><span class="line"><span class="javascript">          name: <span class="string">&quot;奔驰&quot;</span>,</span></span><br><span class="line"><span class="javascript">          ctime: <span class="keyword">new</span> <span class="built_in">Date</span>(),</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: 2,</span><br><span class="line"><span class="javascript">          name: <span class="string">&quot;宝马&quot;</span>,</span></span><br><span class="line"><span class="javascript">          ctime: <span class="keyword">new</span> <span class="built_in">Date</span>(),</span></span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      add() &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> car = &#123; <span class="attr">id</span>: <span class="built_in">this</span>.id, <span class="attr">name</span>: <span class="built_in">this</span>.name, <span class="attr">ctime</span>: <span class="keyword">new</span> <span class="built_in">Date</span>() &#125;;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.list.push(car);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.name = <span class="built_in">this</span>.id = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      del(id) &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> index = <span class="built_in">this</span>.list.findIndex(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span></span><br><span class="line">          if (item.id == id) &#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.list.splice(index, <span class="number">1</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190328/IdnBfABbITPK.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blogimage/20190328/62jdzeY5BOrT.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blogimage/20190328/bSDUCjvTlY6Y.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blogimage/20190328/qNRshJrorrew.png?imageslim" alt="mark"></p>
<h3 id="增加搜索功能"><a href="#增加搜索功能" class="headerlink" title="增加搜索功能"></a>增加搜索功能</h3><h4 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;item in search(keywords)&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.id&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.ctime&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;del(item.id)&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">  methods: &#123;</span><br><span class="line"><span class="javascript">      search(keywords)&#123;<span class="comment">//根据关键字进行数据的搜索</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">let</span> newList=[]</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.list.forEach(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span></span><br><span class="line">              if(item.name.indexOf(keywords)!= -1)&#123;</span><br><span class="line">                  newList.push(item)</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;)</span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> newList</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="方法二-使用-filter"><a href="#方法二-使用-filter" class="headerlink" title="方法二 (使用 filter)"></a>方法二 (使用 filter)</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">  methods: &#123;</span><br><span class="line"><span class="javascript">      search(keywords)&#123;<span class="comment">//根据关键字进行数据的搜索</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">let</span> newList = []</span></span><br><span class="line"><span class="javascript">              <span class="comment">//注意 ：foreach some filter findIndex 这些都属于数组的新方法</span></span></span><br><span class="line"><span class="javascript">              <span class="comment">//都会对数组中的每一项，进行遍历，执行相关的操作</span></span></span><br><span class="line"><span class="javascript">              <span class="comment">//注意：Es6中，为字符串提供了一个新方法 ，叫做String.prototype.includes(&#x27;要包含的字符串，如果包含返回true&#x27;)</span></span></span><br><span class="line"><span class="javascript">          newList = <span class="built_in">this</span>.list.filter(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">              <span class="comment">// if(item.name.indexOf(keywords)!= -1)</span></span></span><br><span class="line">              if (item.name.includes(keywords)) &#123;</span><br><span class="line"><span class="javascript">                  <span class="keyword">return</span> item</span></span><br><span class="line">              &#125;</span><br><span class="line">          &#125;)</span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> newList</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190328/mtKxnpNYuRqG.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blogimage/20190328/m5EeSUQtLPF8.png?imageslim" alt="mark"></p>
<h2 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h2><h3 id="全局过滤器"><a href="#全局过滤器" class="headerlink" title="全局过滤器"></a>全局过滤器</h3><p><strong>过滤器的定义语法</strong>：<u>Vue.filter(‘过滤器的名称’,function(){})</u></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//过滤器中的function，第一个参数，已经被规定死了，永远都是 过滤器 管道符前面 传递过来的数据</span></span><br><span class="line">Vue.filter(<span class="string">&quot;过滤器的名称&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> data + <span class="string">&quot;123&quot;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>写一个例子</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span>&#123;&#123; msg | msgFormat&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//定义一个Vue 全局的过滤器 名字叫做 msgFormat</span></span></span><br><span class="line"><span class="javascript">  Vue.filter(<span class="string">&quot;msgFormat&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//字符串 replace方法，第一个参数，除了可以写一个 字符串之外，还可以定义一个正则表达式</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// return msg.replace(&#x27;拼尽全力&#x27;,&#x27;开心快乐&#x27;)</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> msg.replace(<span class="regexp">/拼尽全力/g</span>, <span class="string">&quot;开心快乐&quot;</span>);</span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;人活着就要拼尽全力！拼尽全力，拼尽全力，拼尽全力！&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190328/E2cejpC39vcl.png?imageslim" alt="mark"></p>
<h4 id="使用过滤器时（传参数）"><a href="#使用过滤器时（传参数）" class="headerlink" title="使用过滤器时（传参数）"></a>使用过滤器时（传参数）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span>&#123;&#123; msg | msgFormat(&#x27;开心快乐&#x27;)&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//定义一个Vue 全局的过滤器 名字叫做 msgFormat</span></span></span><br><span class="line"><span class="javascript">  Vue.filter(<span class="string">&quot;msgFormat&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">msg, arg</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//字符串 replace方法，第一个参数，除了可以写一个 字符串之外，还可以定义一个正则</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// return msg.replace(&#x27;拼尽全力&#x27;,&#x27;开心快乐&#x27;)</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> msg.replace(<span class="regexp">/拼尽全力/g</span>, arg);</span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;人活着就要拼尽全力！拼尽全力，拼尽全力，拼尽全力！&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="使用过滤器时（传多个参数）"><a href="#使用过滤器时（传多个参数）" class="headerlink" title="使用过滤器时（传多个参数）"></a>使用过滤器时（传多个参数）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span>&#123;&#123; msg | msgFormat(&#x27;开心快乐&#x27;,&#x27;123&#x27;)&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//定义一个Vue 全局的过滤器 名字叫做 msgFormat</span></span></span><br><span class="line"><span class="javascript">  Vue.filter(<span class="string">&quot;msgFormat&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">msg, arg, arg2</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//字符串 replace方法，第一个参数，除了可以写一个 字符串之外，还可以定义一个正则</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// return msg.replace(&#x27;拼尽全力&#x27;,&#x27;开心快乐&#x27;)</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> msg.replace(<span class="regexp">/拼尽全力/g</span>, arg + arg2);</span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;人活着就要拼尽全力！拼尽全力，拼尽全力，拼尽全力！&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190328/fhuGqD3vbBl5.png?imageslim" alt="mark"></p>
<h4 id="使用过滤器时（多次调用）"><a href="#使用过滤器时（多次调用）" class="headerlink" title="使用过滤器时（多次调用）"></a>使用过滤器时（多次调用）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span>&#123;&#123; msg | msgFormat(&#x27;开心快乐&#x27;,&#x27;123&#x27;) | test&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//定义一个Vue 全局的过滤器 名字叫做 msgFormat</span></span></span><br><span class="line"><span class="javascript">  Vue.filter(<span class="string">&quot;msgFormat&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">msg, arg, arg2</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//字符串 replace方法，第一个参数，除了可以写一个 字符串之外，还可以定义一个正则</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// return msg.replace(&#x27;拼尽全力&#x27;,&#x27;开心快乐&#x27;)</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> msg.replace(<span class="regexp">/拼尽全力/g</span>, arg + arg2);</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  Vue.filter(<span class="string">&quot;test&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> msg + <span class="string">&quot;test&quot;</span>;</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;人活着就要拼尽全力！拼尽全力，拼尽全力，拼尽全力！&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190328/1l2JyRlfFVKL.png?imageslim" alt="mark"></p>
<h2 id="修改品牌列表案例，进行时间的格式化"><a href="#修改品牌列表案例，进行时间的格式化" class="headerlink" title="修改品牌列表案例，进行时间的格式化"></a>修改品牌列表案例，进行时间的格式化</h2><h3 id="关键代码："><a href="#关键代码：" class="headerlink" title="关键代码："></a>关键代码：</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.ctime | dataFormat&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//全局的过滤器,进行时间的格式化</span></span></span><br><span class="line"><span class="javascript">  Vue.filter(<span class="string">&quot;dataFormat&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//根据给定的时间字符串,得到特定的时间</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>(data);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> y = dt.getFullYear();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> m = dt.getMonth() + <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> d = dt.getDate();</span></span><br><span class="line"><span class="javascript">    <span class="comment">// return y + &#x27;-&#x27; + m + &#x27;-&#x27; + d</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;y&#125;</span>-<span class="subst">$&#123;m&#125;</span>-<span class="subst">$&#123;d&#125;</span>`</span>;</span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190328/or9QSA0r1Adn.png?imageslim" alt="mark"></p>
<h4 id="功能改进"><a href="#功能改进" class="headerlink" title="功能改进"></a>功能改进</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.ctime | dataFormat(&#x27;&#x27;)&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//全局的过滤器,进行时间的格式化</span></span></span><br><span class="line"><span class="javascript">  Vue.filter(<span class="string">&quot;dataFormat&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data, pattern</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//根据给定的时间字符串,得到特定的时间</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>(data);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> y = dt.getFullYear();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> m = dt.getMonth() + <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> d = dt.getDate();</span></span><br><span class="line"><span class="javascript">    <span class="comment">// return y + &#x27;-&#x27; + m + &#x27;-&#x27; + d</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (pattern &amp;&amp; pattern.toLowerCase() === <span class="string">&quot;yyyy-mm-dd&quot;</span>) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;y&#125;</span>-<span class="subst">$&#123;m&#125;</span>-<span class="subst">$&#123;d&#125;</span>`</span>;</span></span><br><span class="line"><span class="javascript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> hh = dt.getHours();</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> mm = dt.getMinutes();</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> ss = dt.getSeconds();</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;y&#125;</span>-<span class="subst">$&#123;m&#125;</span>-<span class="subst">$&#123;d&#125;</span> <span class="subst">$&#123;hh&#125;</span>:<span class="subst">$&#123;mm&#125;</span>:<span class="subst">$&#123;ss&#125;</span>`</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190328/ow9K3Omz64dG.png?imageslim" alt="mark"></p>
<h3 id="局部过滤器"><a href="#局部过滤器" class="headerlink" title="局部过滤器"></a>局部过滤器</h3><blockquote>
<!--定义一个私有的过滤器（局部）-->
</blockquote>
<p>过滤器调用的时候，采用的是<strong>就近原则</strong>，<u>如果私有过滤器和全局过滤器名称一致了</u>，这时候<strong>优先调用私有过滤器</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app1&quot;</span>&gt;</span>&#123;&#123;msg | dataFormat&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app2&quot;</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm1 = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app1&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="keyword">new</span> <span class="built_in">Date</span>(),</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">    filters: &#123;</span><br><span class="line"><span class="javascript">      dataFormat: <span class="function"><span class="keyword">function</span> (<span class="params">data, pattern</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>(data);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> y = dt.getFullYear();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> m = dt.getMonth() + <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> d = dt.getDate();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (pattern &amp;&amp; pattern.toLowerCase() === <span class="string">&quot;yyyy-mm-dd&quot;</span>) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;y&#125;</span>-<span class="subst">$&#123;m&#125;</span>-<span class="subst">$&#123;d&#125;</span>`</span>;</span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">let</span> hh = dt.getHours();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">let</span> mm = dt.getMinutes();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">let</span> ss = dt.getSeconds();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;y&#125;</span>-<span class="subst">$&#123;m&#125;</span>-<span class="subst">$&#123;d&#125;</span> <span class="subst">$&#123;hh&#125;</span>:<span class="subst">$&#123;mm&#125;</span>:<span class="subst">$&#123;ss&#125;</span>`</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm2 = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app2&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="keyword">new</span> <span class="built_in">Date</span>(),</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190328/AfDdXTwFOveq.png?imageslim" alt="mark"></p>
<h3 id="时间补-0-的情况（如：2019-03-29-21-48-20）"><a href="#时间补-0-的情况（如：2019-03-29-21-48-20）" class="headerlink" title="时间补 0 的情况（如：2019-03-29 21:48:20）"></a>时间补 0 的情况（如：2019-03-29 21:48:20）</h3><h4 id="padStart-的运用"><a href="#padStart-的运用" class="headerlink" title="padStart()的运用"></a>padStart()的运用</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> m = (dt.getMonth() + <span class="number">1</span>).toString().padStart(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> d = dt.getDate().toString().padStart(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="按键修饰符"><a href="#按键修饰符" class="headerlink" title="按键修饰符"></a>按键修饰符</h2><h4 id="按回车键添加数据（不用按添加按钮）"><a href="#按回车键添加数据（不用按添加按钮）" class="headerlink" title="按回车键添加数据（不用按添加按钮）"></a>按回车键添加数据（不用按添加按钮）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">&quot;name&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">keyup.enter</span>=<span class="string">&quot;add&quot;</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn  btn-primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="自定义全局按键修饰符"><a href="#自定义全局按键修饰符" class="headerlink" title="自定义全局按键修饰符"></a>自定义全局按键修饰符</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">&quot;name&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">keyup.f2</span>=<span class="string">&quot;add&quot;</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">//自定义全局按键修饰符</span></span></span><br><span class="line">  Vue.config.keyCodes.f2 = 113;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190329/2DmzaiYUgToA.gif" alt="mark"></p>
<h2 id="自定义全局（私有）的指令"><a href="#自定义全局（私有）的指令" class="headerlink" title="自定义全局（私有）的指令"></a>自定义全局（私有）的指令</h2><h3 id="自定义全局指令"><a href="#自定义全局指令" class="headerlink" title="自定义全局指令"></a>自定义全局指令</h3><h4 id="自定义一个自动获取焦点的指令（v-focus）"><a href="#自定义一个自动获取焦点的指令（v-focus）" class="headerlink" title="自定义一个自动获取焦点的指令（v-focus）"></a>自定义一个自动获取焦点的指令（v-focus）</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参数一：指令的名称，在定义的时候，指令的名称前面，不需要加 v- 前缀，</span></span><br><span class="line"><span class="comment">//在调用的时候，必须 在指令名称前 加上 v- 前缀来调用</span></span><br><span class="line"><span class="comment">//参数二：是一个对象，在这个对象身上，有一些指令相关的函数，这些函数可以在特定的阶段执行相关的操作</span></span><br><span class="line">Vue.directive(<span class="string">&quot;focus&quot;</span>, &#123;</span><br><span class="line">  bind: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//每当指令绑定到元素上的时候，会立即执行这个 bind 函数，只执行一次</span></span><br><span class="line">    <span class="comment">//注意：在每个函数中，第一个参数永远是el，表示被绑定了指令的那个元素，这个el 参数，是一个元素的JS对象</span></span><br><span class="line">    <span class="comment">//在元素 刚绑定指令的时候，还没有插入到 DOM 中去，这时候，调用 focus 方法没有作用</span></span><br><span class="line">    <span class="comment">//因为，一个元素，只有插入 DOM 之后，才能获取焦点</span></span><br><span class="line">    <span class="comment">// el.focus()</span></span><br><span class="line">  &#125;,</span><br><span class="line">  inserted: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//inserted 表示元素 插入到DOM中的时候，会执行 inserted 函数                                  【触发一次】</span></span><br><span class="line">    el.focus();</span><br><span class="line">    <span class="comment">//和JS行为有关的操作，最好在 inserted 中去执行，防止 JS 行为不生效</span></span><br><span class="line">  &#125;,</span><br><span class="line">  updated: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//当vNode更新的时候，会执行 updated，可能会触发多次</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>一个指令定义对象可以提供如下几个钩子函数 (均为可选)：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/ftxc/p/8086008.html">参考文档</a></p>
<ul>
<li><p>bind：只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置。</p>
</li>
<li><p>inserted：被绑定元素插入父节点时调用 (仅保证父节点存在，但不一定已被插入文档中)。</p>
</li>
<li><p>update：所在组件的 VNode 更新时调用，但是可能发生在其子 VNode 更新之前。指令的值可能发生了改变，也可能没有。但是你可以通过比较更新前后的值来忽略不必要的模板更新 (详细的钩子函数参数见下)。</p>
</li>
<li><p>componentUpdated：指令所在组件的 VNode 及其子 VNode 全部更新后调用。</p>
</li>
<li><p>unbind：只调用一次，指令与元素解绑时调用。</p>
</li>
<li><p>指令钩子函数会被传入以下参数：</p>
<ul>
<li>el：指令所绑定的元素，可以用来直接操作 DOM 。</li>
<li>binding：一个对象，包含以下属性：<br>name：指令名，不包括 v- 前缀。<br>value：指令的绑定值，例如：v-my-directive=”1 + 1” 中，绑定值为 2。<br>oldValue：指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用。无论值是否改变都可用。<br>expression：字符串形式的指令表达式。例如 v-my-directive=”1 + 1” 中，表达式为 “1 + 1”。<br>arg：传给指令的参数，可选。例如 v-my-directive:foo 中，参数为 “foo”。<br>modifiers：一个包含修饰符的对象。例如：v-my-directive.foo.bar 中，修饰符对象为 { foo: true, bar: true }。<br>vnode：Vue 编译生成的虚拟节点。移步 VNode API 来了解更多详情。<br>oldVnode：上一个虚拟节点，仅在 update 和 componentUpdated 钩子中可用。</li>
</ul>
</li>
</ul>
<p><img src="http://static.zxinc520.com/blogimage/20190329/QfOUnkjKHsEA.png?imageslim" alt="mark"></p>
<h4 id="自定义一个-设置字体颜色的-指令（v-color）"><a href="#自定义一个-设置字体颜色的-指令（v-color）" class="headerlink" title="自定义一个 设置字体颜色的 指令（v-color）"></a>自定义一个 设置字体颜色的 指令（v-color）</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//样式，只要通过指令绑定了元素，不管这个元素有没有被插入到页面中去，这个元素肯定有了一个内联的样式</span></span><br><span class="line"><span class="comment">//将来元素肯定会显示到页面中去，这时候，浏览器的渲染引擎必然会解析样式，应用给这个元素</span></span><br><span class="line">bind: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</span><br><span class="line">    el.style.color = <span class="string">&#x27;red&#x27;</span></span><br><span class="line">    <span class="comment">//和样式相关的操作，一般都可以在 bind 执行</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="自定义一个-设置字体颜色的-指令-传参数"><a href="#自定义一个-设置字体颜色的-指令-传参数" class="headerlink" title="自定义一个 设置字体颜色的 指令 ( 传参数 )"></a>自定义一个 设置字体颜色的 指令 ( 传参数 )</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">&quot;search&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;keywords&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-color</span>=<span class="string">&quot;&#x27;blue&#x27;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-focus</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  Vue.directive(<span class="string">&quot;color&quot;</span>, &#123;</span></span><br><span class="line"><span class="javascript">    bind: <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123;</span></span><br><span class="line">      el.style.color = binding.value;</span><br><span class="line"><span class="javascript">      <span class="comment">//对比 value 和 expression</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(binding.value);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(binding.expression);</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190329/mnJeqSiyTLNO.png?imageslim" alt="mark"></p>
<h3 id="自定义私有指令"><a href="#自定义私有指令" class="headerlink" title="自定义私有指令"></a>自定义私有指令</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vm1 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&quot;#app1&quot;</span>,</span><br><span class="line">  data: &#123;&#125;,</span><br><span class="line">  methods: &#123;&#125;,</span><br><span class="line">  directives: &#123;</span><br><span class="line">    <span class="comment">//自定义私有指令</span></span><br><span class="line">    fontweight: &#123;</span><br><span class="line">      bind: <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123;</span><br><span class="line">        el.style.fontWeight = binding.value;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="函数简写"><a href="#函数简写" class="headerlink" title="函数简写"></a>函数简写</h4><p>大多数情况下，我们可能想在 <code>bind</code> 和 <code>update</code> 钩子上做重复动作，并且不想关心其它的钩子函数。可以这样写:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.directive(<span class="string">&quot;color-swatch&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123;</span><br><span class="line">  el.style.backgroundColor = binding.value;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>例如：自定义一个字体大小的指令</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">directives: &#123; <span class="comment">//自定义私有指令</span></span><br><span class="line">        <span class="string">&#x27;fontsize&#x27;</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123; <span class="comment">//这个 function 等同于 把代码写到 bind 和 	update 中去</span></span><br><span class="line">            el.style.fontSize = <span class="built_in">parseInt</span>(binding.value)+ <span class="string">&#x27;px&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Vue-实例的生命周期"><a href="#Vue-实例的生命周期" class="headerlink" title="Vue 实例的生命周期"></a>Vue 实例的生命周期</h2><ol>
<li>生命周期钩子 = 生命周期函数 = 生命周期事件</li>
<li>举例说明：</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;msg=&#x27;no&#x27;&quot;</span>&gt;</span>修改msg<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span> <span class="attr">id</span>=<span class="string">&quot;h3&quot;</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;ok&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      show() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;执行了show方法&quot;</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//这是我们遇到的第一个生命周期函数，表示实例完全被创建出来之前，会执行它</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(this.msg) //undefined</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// this.show()           //TypeError: this.show is not a function</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// 注意：在beforeCreate 生命周期函数执行的时候，data和methods 中的数据未被初始化</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//这是我们遇到的第二个生命周期函数</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(this.msg) //ok</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// this.show()  //执行了show方法</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//在 created中，data 和 methods 都已经被初始化好了！</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//如果要调用 methods 中的方法，或者操作 data中的数据，最早，只能在 created 中操作</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    beforeMount() &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//这是我们遇到的第三个生命周期函数，表示模板已经在内存中编辑完成了，但是尚未把 模板渲染到 页面中</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementById(<span class="string">&quot;h3&quot;</span>).innerText); <span class="comment">// &#123;&#123;msg&#125;&#125;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//在 beforeMount 执行的时候，页面中的元素，还没有被真正替换过来，只是之前写的一些模板字符串</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//这是我们遇到的第四个生命周期函数，表示内存中的模板，已经真实的挂载到页面中去，用户可以看到渲染好的页面</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementById(<span class="string">&quot;h3&quot;</span>).innerText); <span class="comment">// ok</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//注意：mounted 是 实例创建期间的最后一个生命周期函数，当执行完 mounted 就表示,实例已经被完全创建好了，</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// 此时，如果没有其它操作，这个实例，就静静的 躺在内存中，一动不动。</span></span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">//接下来是运行中的两个事件</span></span></span><br><span class="line">    beforeUpdate() &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">//这时候表示，我们的界面还没有被更新 【数据被更新了吗？数据肯定被更新了】</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(document.getElementById(&#x27;h3&#x27;).innerText) //没有输出任何东西</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(</span></span><br><span class="line"><span class="javascript">        <span class="string">&quot;界面上元素的内容：&quot;</span> + <span class="built_in">document</span>.getElementById(<span class="string">&quot;h3&quot;</span>).innerText</span></span><br><span class="line"><span class="javascript">      ); <span class="comment">//界面上元素的内容：ok</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;data中 msg 数据是：&quot;</span> + <span class="built_in">this</span>.msg); <span class="comment">//data中 msg 数据是：no</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//得出结论：当执行 beforeUpdate 的时候，页面中显示的数据还是旧的，此时 data 数据是最新的，页面尚未和最新的数据 保持同步</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    updated() &#123;</span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(</span></span><br><span class="line"><span class="javascript">        <span class="string">&quot;界面上元素的内容：&quot;</span> + <span class="built_in">document</span>.getElementById(<span class="string">&quot;h3&quot;</span>).innerText</span></span><br><span class="line"><span class="javascript">      ); <span class="comment">//界面上元素的内容：no</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;data中 msg 数据是：&quot;</span> + <span class="built_in">this</span>.msg); <span class="comment">//data中 msg 数据是：no</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// updated 事件执行的时候，页面和 data 数据已经保持同步了，都是最新的</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190330/4A8AYanLcI7i.png?imageslim" alt="mark"></p>
<h2 id="Vue-resource-实现-get，post，jsonp-请求"><a href="#Vue-resource-实现-get，post，jsonp-请求" class="headerlink" title="Vue-resource 实现 get，post，jsonp 请求"></a>Vue-resource 实现 get，post，jsonp 请求</h2><!--除了Vue-resource之外，还可以使用 `axios` 的第三方包实现数据的请求-->

<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/both-eyes/p/10122243.html"> Vue-resource 和 axios 的区别</a></p>
<p><strong>Vue-resource 的基本使用</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../../vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../../vue-resource-1.3.4.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;getInfo&quot;</span>&gt;</span>get请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;这是一句话！&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      getInfo() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$http.get(<span class="string">&quot;../../data.json&quot;</span>).then(<span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(result);</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190330/sND0YtQhlkeL.png?imageslim" alt="mark"></p>
<ul>
<li>get，post，jsonp 请求</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;getInfo&quot;</span>&gt;</span>get请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;postInfo&quot;</span>&gt;</span>post请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;jsonpInfo&quot;</span>&gt;</span>jsonp请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;这是一句话！&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      getInfo() &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">//发起 get 请求</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$http.get(<span class="string">&quot;../../data.json&quot;</span>).then(<span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">//通过 result.body 拿到服务器返回的成功的数据</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(result.body);</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">      postInfo() &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">//发起 post  请求</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$http.post(<span class="string">&quot;../../data.json&quot;</span>, &#123;&#125;, &#123;&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">//通过 result.body 拿到服务器返回的成功的数据</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(result.body);</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">      jsonpInfo() &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">//发起 jsonp 请求</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$http.jsonp(<span class="string">&quot;../../data.json&quot;</span>).then(<span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">//通过 result.body 拿到服务器返回的成功的数据</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(result.body);</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8C%87%E4%BB%A4/" rel="tag">指令</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6/" rel="tag">按键修饰符</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" rel="tag">生命周期</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BF%87%E6%BB%A4%E5%99%A8/" rel="tag">过滤器</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-VueLearn01"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/03/23/VueLearn01/"
    >创建实例、基础指令、跑马灯、修饰符、样式、key, v-model</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/03/23/VueLearn01/" class="article-date">
  <time datetime="2019-03-23T10:11:25.000Z" itemprop="datePublished">2019-03-23</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/Vue/">Vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Vue-第一天"><a href="#Vue-第一天" class="headerlink" title="Vue 第一天"></a>Vue 第一天</h1><blockquote>
<p>这是我第 5 遍学习 Vue 了（可能是因为感觉自己达不到游刃有余的感觉吧，也可能是以前学的不系统，要学就得学扎实了。）</p>
</blockquote>
<h2 id="创建一个实例"><a href="#创建一个实例" class="headerlink" title="创建一个实例"></a>创建一个实例</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../../vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; title &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      title: <span class="string">&quot;欢迎学习Vue！&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><h4 id="v-cloak-（-能够解决-插值表达式闪烁问题-）"><a href="#v-cloak-（-能够解决-插值表达式闪烁问题-）" class="headerlink" title="v-cloak （ 能够解决 插值表达式闪烁问题 ）"></a>v-cloak （ 能够解决 插值表达式闪烁问题 ）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-attr">[v-cloak]</span> &#123;</span></span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-cloak</span>&gt;</span>&#123;&#123; title &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="v-text-功能与插值表达式相同，优点：没有闪烁问题-，缺点：会覆盖元素中原本的内容"><a href="#v-text-功能与插值表达式相同，优点：没有闪烁问题-，缺点：会覆盖元素中原本的内容" class="headerlink" title="v-text ( 功能与插值表达式相同，优点：没有闪烁问题 ，缺点：会覆盖元素中原本的内容)"></a>v-text ( 功能与插值表达式相同，优点：没有闪烁问题 ，缺点：会覆盖元素中原本的内容)</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-text</span>=<span class="string">&quot;“title”&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="v-html-能够解析文本里面的-HTML-标签"><a href="#v-html-能够解析文本里面的-HTML-标签" class="headerlink" title="v-html (能够解析文本里面的 HTML 标签)"></a>v-html (能够解析文本里面的 HTML 标签)</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-html</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="v-bind（-用于绑定属性的指令-）-简写形式"><a href="#v-bind（-用于绑定属性的指令-）-简写形式" class="headerlink" title="v-bind（ 用于绑定属性的指令 ）(简写形式 : )"></a>v-bind（ 用于绑定属性的指令 ）(简写形式 : )</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;按钮&quot;</span> <span class="attr">v-bind:title</span>=<span class="string">&quot;mytitle&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;按钮&quot;</span> <span class="attr">:title</span>=<span class="string">&quot;mytitle&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="v-on-绑定事件-（简写形式-）"><a href="#v-on-绑定事件-（简写形式-）" class="headerlink" title="v-on ( 绑定事件 ) （简写形式 @ ）"></a>v-on ( 绑定事件 ) （简写形式 @ ）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;按钮&quot;</span> <span class="attr">v-on:click</span>=<span class="string">&quot;alert(&#x27;hello&#x27;)&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;按钮&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;alert(&#x27;hello&#x27;)&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><h4 id="跑马灯"><a href="#跑马灯" class="headerlink" title="跑马灯"></a>跑马灯</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;开始&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;start&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;停止&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;stop&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      msg: <span class="string">&quot;猥琐发育，别浪~~~~&quot;</span>,</span></span><br><span class="line"><span class="javascript">      timer: <span class="literal">null</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      start() &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">this</span>.timer != <span class="literal">null</span>) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">let</span> start = <span class="built_in">this</span>.msg.substring(<span class="number">0</span>, <span class="number">1</span>);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">let</span> end = <span class="built_in">this</span>.msg.substring(<span class="number">1</span>);</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>.msg = end + start;</span></span><br><span class="line">        &#125;, 200);</span><br><span class="line">      &#125;,</span><br><span class="line">      stop() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">clearInterval</span>(<span class="built_in">this</span>.timer);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.timer = <span class="literal">null</span>;</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190322/KCTsr3d2g1EG.png?imageslim" alt="mark"></p>
<h2 id="事件修饰符"><a href="#事件修饰符" class="headerlink" title="事件修饰符"></a>事件修饰符</h2><h4 id="stop-阻止冒泡"><a href="#stop-阻止冒泡" class="headerlink" title="stop ( 阻止冒泡 )"></a>stop ( 阻止冒泡 )</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;DivClick&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;点击&quot;</span> @<span class="attr">click.stop</span>=<span class="string">&quot;BtnClick&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      DivClick() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;触发了inner点击事件&quot;</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line">      BtnClick() &#123;</span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;触发了按钮点击事件&quot;</span>);</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190322/NjmXomRJ4g4P.png?imageslim" alt="mark"></p>
<h4 id="prevent-阻止默认行为"><a href="#prevent-阻止默认行为" class="headerlink" title="prevent ( 阻止默认行为 )"></a>prevent ( 阻止默认行为 )</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;linkClick&quot;</span>&gt;</span>去百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190322/DPTRjEbdvTuS.png?imageslim" alt="mark"></p>
<h4 id="capture-（捕获触发事件机制）（从外向里-）"><a href="#capture-（捕获触发事件机制）（从外向里-）" class="headerlink" title="capture （捕获触发事件机制）（从外向里 ）"></a>capture （捕获触发事件机制）（从外向里 ）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span> @<span class="attr">click.capture</span>=<span class="string">&quot;DivClick&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;点击&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;BtnClick&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190322/SmpSkg4nCGn0.png?imageslim" alt="mark"></p>
<h4 id="self-只有点击当前元素才能触发事件"><a href="#self-只有点击当前元素才能触发事件" class="headerlink" title="self ( 只有点击当前元素才能触发事件)"></a>self ( 只有点击当前元素才能触发事件)</h4><!--.self 只会阻止自己身上冒泡行为的触发，并不会真正阻止 冒泡行为-->

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span> @<span class="attr">click.self</span>=<span class="string">&quot;DivClick&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;点击&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;BtnClick&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190322/3pybyy00aAn9.png?imageslim" alt="mark"></p>
<h4 id="once-（只触发一次事件）"><a href="#once-（只触发一次事件）" class="headerlink" title="once （只触发一次事件）"></a>once （只触发一次事件）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span> @<span class="attr">click.prevent.once</span>=<span class="string">&quot;linkClick&quot;</span>&gt;</span>去百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h2><!-- v-bind 只能实现单向绑定，从 M 自动绑定到 V ，无法实现数据的双向绑定-->

<!--使用 ：v-model 可以实现 表单元素 和 Model 中数据的双向数据绑定-->

<!--注意 ：v-model 只能运用到 表单元素中-->

<!--input(radio,text,address,email...) select checkbox textarea-->

<h3 id="案例（计算器）"><a href="#案例（计算器）" class="headerlink" title="案例（计算器）"></a>案例（计算器）</h3><h6 id="代码："><a href="#代码：" class="headerlink" title="代码："></a><strong>代码：</strong></h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;n1&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;opt&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;+&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;-&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;*&quot;</span>&gt;</span>*<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;/&quot;</span>&gt;</span>/<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;n2&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;=&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;result&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      n1: 0,</span><br><span class="line">      n2: 0,</span><br><span class="line">      result: 0,</span><br><span class="line"><span class="javascript">      opt: <span class="string">&quot;+&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      btnClick() &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">switch</span> (<span class="built_in">this</span>.opt) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="string">&quot;+&quot;</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.result = <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n1) + <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n2);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="string">&quot;-&quot;</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.result = <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n1) - <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n2);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="string">&quot;*&quot;</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.result = <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n1) * <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n2);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="string">&quot;/&quot;</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.result = <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n1) / <span class="built_in">parseInt</span>(<span class="built_in">this</span>.n2);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="代码优化（投机取巧，正式开发中尽量少用）"><a href="#代码优化（投机取巧，正式开发中尽量少用）" class="headerlink" title="代码优化（投机取巧，正式开发中尽量少用）"></a>代码优化（投机取巧，正式开发中尽量少用）</h4><blockquote>
<p>（使用 eval，eval() 函数可计算某个字符串，并执行其中的的 JavaScript 代码）</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      n1: 0,</span><br><span class="line">      n2: 0,</span><br><span class="line">      result: 0,</span><br><span class="line"><span class="javascript">      opt: <span class="string">&quot;+&quot;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      btnClick() &#123;</span><br><span class="line"><span class="javascript">        <span class="comment">// switch (this.opt) &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     case &#x27;+&#x27;:</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         this.result = parseInt(this.n1) + parseInt(this.n2)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         break</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     case &#x27;-&#x27;:</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         this.result = parseInt(this.n1) - parseInt(this.n2)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         break</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     case &#x27;*&#x27;:</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         this.result = parseInt(this.n1) * parseInt(this.n2)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         break</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     case &#x27;/&#x27;:</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         this.result = parseInt(this.n1) / parseInt(this.n2)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         break</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> codeStr = <span class="string">&quot;parseInt(this.n1)&quot;</span> + <span class="built_in">this</span>.opt + <span class="string">&quot;parseInt(this.n2)&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.result = <span class="built_in">eval</span>(codeStr);</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190323/xYFJRqe4Ivuf.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blogimage/20190323/ju1GHCX1FzMc.png?imageslim" alt="mark"></p>
<h2 id="Vue-中使用样式"><a href="#Vue-中使用样式" class="headerlink" title="Vue 中使用样式"></a>Vue 中使用样式</h2><h3 id="使用-class-样式"><a href="#使用-class-样式" class="headerlink" title="使用 class 样式"></a>使用 class 样式</h3><h4 id="第一种方式：直接传递一个数组"><a href="#第一种方式：直接传递一个数组" class="headerlink" title="第一种方式：直接传递一个数组"></a>第一种方式：直接传递一个数组</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.red</span> &#123;</span></span><br><span class="line">    color: red;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.thin</span> &#123;</span></span><br><span class="line">    font-weight: 200;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.italic</span> &#123;</span></span><br><span class="line">    font-style: italic;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">:class</span>=<span class="string">&quot;[&#x27;red&#x27;,&#x27;thin&#x27;,&#x27;italic&#x27;]&quot;</span>&gt;</span>这是h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="在数组中使用三元表达式"><a href="#在数组中使用三元表达式" class="headerlink" title="在数组中使用三元表达式"></a>在数组中使用三元表达式</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">:class</span>=<span class="string">&quot;[&#x27;red&#x27;,&#x27;thin&#x27;,flag?&#x27;italic&#x27;:&#x27;&#x27;]&quot;</span>&gt;</span>这是h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      flag: <span class="literal">true</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>或者：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">:class</span>=<span class="string">&quot;[&#x27;red&#x27;,&#x27;thin&#x27;,&#123;&#x27;italic&#x27;:flag&#125;]&quot;</span>&gt;</span>这是h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>直接使用对象（true 和 false 可用变量来代替）</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;red:true,thin:true,italic:false&#125;&quot;</span>&gt;</span>这是h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>data 里面定义</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">:class</span>=<span class="string">&quot;classObj&quot;</span>&gt;</span>这是h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      classObj: &#123; <span class="attr">red</span>: <span class="literal">true</span>, <span class="attr">thin</span>: <span class="literal">true</span>, <span class="attr">italic</span>: <span class="literal">true</span> &#125;,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="使用内联样式"><a href="#使用内联样式" class="headerlink" title="使用内联样式"></a>使用内联样式</h3><p>直接使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;color:&#x27;red&#x27;,&#x27;font-weight&#x27;:200&#125;&quot;</span>&gt;</span>这是h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>data 里面调用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">:style</span>=<span class="string">&quot;styleObj&quot;</span>&gt;</span>这是h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      styleObj: &#123; <span class="attr">color</span>: <span class="string">&quot;red&quot;</span>, <span class="string">&quot;font-weight&quot;</span>: <span class="number">200</span> &#125;,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>运用数组</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">:style</span>=<span class="string">&quot;[styleObj1,styleObj2]&quot;</span>&gt;</span>这是h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      styleObj1: &#123; <span class="attr">color</span>: <span class="string">&quot;red&quot;</span>, <span class="string">&quot;font-weight&quot;</span>: <span class="number">200</span> &#125;,</span></span><br><span class="line"><span class="javascript">      styleObj2: &#123; <span class="string">&quot;font-style&quot;</span>: <span class="string">&quot;italic&quot;</span> &#125;,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Vue-指令之-V-for-和-key-属性"><a href="#Vue-指令之-V-for-和-key-属性" class="headerlink" title="Vue 指令之 V-for 和 key 属性"></a>Vue 指令之 V-for 和 key 属性</h2><!--v-for使用的过程中一般要加上 key 属性，保证数据的唯一性-->

<h4 id="v-for-简单实用"><a href="#v-for-简单实用" class="headerlink" title="v-for 简单实用"></a>v-for 简单实用</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in list&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      list: [1, 2, 3, 4, 5, 6],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190323/CUbor8Fl39AJ.png?imageslim" alt="mark"></p>
<h4 id="索引值："><a href="#索引值：" class="headerlink" title="索引值："></a>索引值：</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in list&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;---&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190323/eChPoVycrqGB.png?imageslim" alt="mark"></p>
<h4 id="循环对象数组"><a href="#循环对象数组" class="headerlink" title="循环对象数组"></a>循环对象数组</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in list&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123;item.id&#125;&#125;---&#123;&#123;item.name&#125;&#125;---&#123;&#123;index&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      list: [</span><br><span class="line">        &#123;</span><br><span class="line">          id: 1,</span><br><span class="line"><span class="javascript">          name: <span class="string">&quot;张三&quot;</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: 2,</span><br><span class="line"><span class="javascript">          name: <span class="string">&quot;李四&quot;</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: 3,</span><br><span class="line"><span class="javascript">          name: <span class="string">&quot;王五&quot;</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: 4,</span><br><span class="line"><span class="javascript">          name: <span class="string">&quot;隔壁老王&quot;</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190323/UBp33b7hpd6L.png?imageslim" alt="mark"></p>
<h4 id="遍历对象"><a href="#遍历对象" class="headerlink" title="遍历对象"></a>遍历对象</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(val,key,index) in user&quot;</span>&gt;</span>&#123;&#123;key&#125;&#125;--&#123;&#123;val&#125;&#125;---&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      user: &#123;</span><br><span class="line">        id: 1,</span><br><span class="line"><span class="javascript">        name: <span class="string">&quot;张三&quot;</span>,</span></span><br><span class="line"><span class="javascript">        hobby: <span class="string">&quot;打篮球&quot;</span>,</span></span><br><span class="line"><span class="javascript">        sex: <span class="string">&quot;男&quot;</span>,</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190323/7z0KTgVSTrnT.png?imageslim" alt="mark"></p>
<h4 id="迭代数字"><a href="#迭代数字" class="headerlink" title="迭代数字"></a>迭代数字</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;count in 5&quot;</span>&gt;</span>这是第 &#123;&#123;count&#125;&#125; 次循环<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190323/pkTWMsrKq3K5.png?imageslim" alt="mark"></p>
<h2 id="Vue-指令之-v-if-和-v-show"><a href="#Vue-指令之-v-if-和-v-show" class="headerlink" title="Vue 指令之 v-if 和 v-show"></a>Vue 指令之 v-if 和 v-show</h2><p><strong>基本使用</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-if</span>=<span class="string">&quot;flag&quot;</span>&gt;</span>这是v-if控制的元素<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-show</span>=<span class="string">&quot;flag&quot;</span>&gt;</span>这是v-show控制的元素<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;flag=!flag&quot;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      flag: <span class="literal">true</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blogimage/20190323/RvJkAeqmP7pU.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blogimage/20190323/Pt5eFpvu4dpd.png?imageslim" alt="mark"></p>
<!-- v-if 有较高的切换性能消耗-->

<!-- v-show 有较高的初始渲染消耗-->

<!-- 如果元素涉及频繁的切换，最好不要使用 v-if-->

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42329594/article/details/81380665">MVC 和 MVVM 的区别</a></p>
</li>
<li><p>学习了 Vue 中最基本的代码结构</p>
</li>
<li><p>基本指令</p>
</li>
<li><p>事件修饰符</p>
</li>
<li><p>v-for 要会使用 key 属性</p>
</li>
<li><p>v-model 只能应用于表单元素</p>
</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%B7%91%E9%A9%AC%E7%81%AF/" rel="tag">跑马灯</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-AdaptiveSkill"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/03/19/AdaptiveSkill/"
    >适配技巧和组件化思想</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/03/19/AdaptiveSkill/" class="article-date">
  <time datetime="2019-03-19T03:11:20.000Z" itemprop="datePublished">2019-03-19</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%80%82%E9%85%8D%E6%8A%80%E5%B7%A7/">适配技巧</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="你一定要会的适配技巧和组件化思想"><a href="#你一定要会的适配技巧和组件化思想" class="headerlink" title="你一定要会的适配技巧和组件化思想"></a>你一定要会的适配技巧和组件化思想</h2><blockquote>
<p>rem：利用它能实现强大的屏幕适配布局</p>
<p>less：Less 是一门 CSS 预处理语言，它扩展了 CSS 语言，增加了变量、Mixin、函数等特性，使 CSS 更易维护和扩展。(代表的有 less，Sass，stylus)</p>
<p>模板引擎：art-template（实现组件化，代码不复用，提高开发效率）(当然还有很多其它好用的模板引擎，但原理上基本一样。)</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><ul>
<li>本文将介绍以 rem（结合流式布局）+less（为代表）的适配方式</li>
<li>模板引擎上以将以 art-template 举例说明。（模板引擎 ==&gt; 这里特指用于 Web 开发的模板引擎,是为了使<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2">用户界面</a>与业务数据（内容）分离而产生的，它可以生成特定格式的文档，用于网站的模板引擎就会生成一个标准的<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/HTML">HTML</a>文档。）</li>
</ul>
<h2 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h2><p>为什么 <strong>rem+less</strong> 会产生？</p>
<ul>
<li><p><strong>rem</strong> ：<u>rem 是相对长度单位，相对于根元素 font-size 计算值的倍数（通俗来讲，相对于 html 字体大小）</u></p>
<p>这种需求主要产生在移动端，因为随着科学水平的发展，手机产业发展非常迅速，作为一个前端工作者，大量的手机页面需要我们去书写，而现在市面上的手机大小不一（分辨率各不相同），一种适配所有手机的页面开发模式需求应由而生。（px 为一种固定的像素单位，不太适合需求），之后<strong>流式布局，响应式布局</strong>等随之产生，rem 的作用也逐渐凸显出来。</p>
</li>
</ul>
<h4 id="如何使用-rem-less-呢？"><a href="#如何使用-rem-less-呢？" class="headerlink" title="如何使用 rem+less 呢？"></a>如何使用 rem+less 呢？</h4><p>===&gt;新建个 less 目录，在里面做如下操作：</p>
<p>1.新建 variable.less（名字随便都可以，反正这是一个表示变量的 less 文件）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@charset <span class="string">&quot;utf-8&quot;</span>;</span><br><span class="line"><span class="comment">//适配主流设备</span></span><br><span class="line">@adapterDeviceList:<span class="number">750</span>px,<span class="number">720</span>px,<span class="number">640</span>px,<span class="number">540</span>px,<span class="number">529</span>px,<span class="number">480</span>px,<span class="number">434</span>px,<span class="number">414</span>px,<span class="number">400</span>px,<span class="number">384</span>px,<span class="number">375</span>px,<span class="number">360</span>px,<span class="number">320</span>px;</span><br><span class="line"><span class="comment">//设计稿尺寸</span></span><br><span class="line">@psdwidth:<span class="number">529</span>px;  <span class="comment">//就是你参考的设计稿的尺寸</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    预设基准值</span></span><br><span class="line"><span class="comment">    我习惯设100px，这样感觉用起来比较方便。比如：32px可以写作32rem/@baseFontSize</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">@baseFontSize:<span class="number">100</span>px;</span><br><span class="line"></span><br><span class="line"><span class="comment">//设备种类数量</span></span><br><span class="line">@len:length(@adapterDeviceList);</span><br></pre></td></tr></table></figure>

<p>2.新建 mixins.less（这是一个表示函数的 less 文件）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  这类似一个循环（定义一个函数），只是less没有跟js差不多的for循环啥滴，所以只能通过这种方式来实现一个循环。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">.adapterMixin(@index) when (@index &gt; <span class="number">0</span>)&#123;</span><br><span class="line">  @media (min-width: extract(@adapterDeviceList,@index))&#123;</span><br><span class="line">    html&#123;</span><br><span class="line">      font-size: @baseFontSize/@psdwidth* extract(@adapterDeviceList,@index);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  .adapterMixin(@index - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.新建 adapter.less（调用函数）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.adapterMixin(@len);</span><br></pre></td></tr></table></figure>

<p>4.新建 index.less (主入口)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@charset <span class="string">&quot;utf-8&quot;</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">&#x27;variable&#x27;</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">&quot;mixins&quot;</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">&quot;adapter&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>5.在网页中引用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/less&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/less/index.less&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//cdnjs.cloudflare.com/ajax/libs/less.js/3.9.0/less.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="http://lesscss.org/">less 官网</a></p>
<p>说明：在网页中直接引用 less 文件是不行的，一定要加一个 less.min.js 来解析 less 文件，这样浏览器才能认识。</p>
<p>在完成上述操作后，你已基本完成 <strong>rem+less</strong>的适配方式。接下来在 less 文件中 （像素单位 px 将可以用 rem/@baseFontSize 来代替），你的页面将适配所有大小的容器。</p>
<h2 id="组件化思想"><a href="#组件化思想" class="headerlink" title="组件化思想"></a>组件化思想</h2><h4 id="需求分析："><a href="#需求分析：" class="headerlink" title="需求分析："></a>需求分析：</h4><blockquote>
<p>随着要写大量的页面，页面的重复，冗杂等问题相应而出。为了解决这种重复的问题，组件化思想出来了。</p>
</blockquote>
<h4 id="什么是组件化"><a href="#什么是组件化" class="headerlink" title="什么是组件化"></a>什么是组件化</h4><p>组件化并不是前端所特有的，一些其他的语言或者桌面程序等，都具有组件化的先例。确切的说，只要有 UI 层的展示，就必定有可以组件化的地方。简单来说，组件就是将一段 UI 样式和其对应的功能作为独立的整体去看待，无论这个整体放在哪里去使用，它都具有一样的功能和样式，从而实现复用，这种整体化的细想就是组件化。不难看出，组件化设计就是为了增加复用性，灵活性，提高系统设计，从而提高开发效率。</p>
<ul>
<li>css 实现代码分离（组件化思想）：可以用 less，Sass，stylus。<a target="_blank" rel="noopener" href="http://lesscss.org/">less 官网</a></li>
<li>html 实现代码分离（组件化思想）：可以用模板引擎—-如 <a target="_blank" rel="noopener" href="https://aui.github.io/art-template/docs/">art-template</a> 等…</li>
</ul>
<blockquote>
<p>art-template 是一个简约、超快的模板引擎。它采用作用域预声明的技术来优化模板渲染速度，从而获得接近 JavaScript 极限的运行性能，并且同时支持 NodeJS 和浏览器。</p>
<ol>
<li>拥有接近 JavaScript 渲染极限的的性能</li>
<li>调试友好：语法、运行时错误日志精确到模板所在行；支持在模板文件上打断点（Webpack Loader）</li>
<li>支持 Express、Koa、Webpack</li>
<li>支持模板继承与子模板</li>
<li>浏览器版本仅 6KB 大小</li>
</ol>
</blockquote>
<p>详情介绍： <a target="_blank" rel="noopener" href="https://aui.github.io/art-template/zh-cn/docs/index.html">art-template 官网</a></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>1.适配技巧和组件化思想是你必不可少的技能</li>
<li>2.组件化思想将是未来主流方向（React、Vue、Angular 三大前端主流框架）</li>
<li>3.多做项目===&gt;体会这种组件化开发思想和适配方案。</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/art-template/" rel="tag">art-template</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/less/" rel="tag">less</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rem/" rel="tag">rem</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-resolveUTCtime"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/03/18/resolveUTCtime/"
    >解决 mongodb 取出时是 UTC 时间问题</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/03/18/resolveUTCtime/" class="article-date">
  <time datetime="2019-03-18T09:52:20.000Z" itemprop="datePublished">2019-03-18</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/node/">node</a> / <a class="article-category-link" href="/categories/node/UTC/">UTC</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="解决-mongodb-取出时是-UTC-时间问题。"><a href="#解决-mongodb-取出时是-UTC-时间问题。" class="headerlink" title="解决 mongodb 取出时是 UTC 时间问题。"></a>解决 mongodb 取出时是 UTC 时间问题。</h1><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><h4 id="问题：将一个时间类型数据保存到-mongodb-数据库中，在数据库中时间还是正常的时间，如："><a href="#问题：将一个时间类型数据保存到-mongodb-数据库中，在数据库中时间还是正常的时间，如：" class="headerlink" title="问题：将一个时间类型数据保存到 mongodb 数据库中，在数据库中时间还是正常的时间，如："></a>问题：将一个时间类型数据保存到 mongodb 数据库中，在数据库中时间还是正常的时间，如：</h4><p><img src="http://static.zxinc520.com/blogimage/20190318/n3ekfX3CcF0P.png?imageslim" alt="mark"></p>
<p><strong>但是后台拿出来的时候却是这样的（node.js）</strong></p>
<p><img src="http://static.zxinc520.com/blogimage/20190318/3KOdujSN2DnV.png?imageslim" alt="mark"></p>
<p><em>解决方案：</em></p>
<p>网上查阅了很多资料，可我没找到一个解决方案（可能我比较傻吧），我只有自己想解决方案。</p>
<h1 id="我的解决步骤："><a href="#我的解决步骤：" class="headerlink" title="我的解决步骤："></a>我的解决步骤：</h1><h4 id="1-将-UTC-时间转换为-data-类型时间"><a href="#1-将-UTC-时间转换为-data-类型时间" class="headerlink" title="1.将 UTC 时间转换为 data 类型时间"></a>1.将 UTC 时间转换为 data 类型时间</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*publish在这里是一个数组，数组里面的每一项都是一个对象。 </span></span><br><span class="line"><span class="comment">  比如：publish[0].publishDate = 2019-03-15T08:44:07.842Z</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*遍历publish数组*/</span></span><br><span class="line">publish.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Date</span>(e.publishDate).toLocaleString());</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>结果：</strong></p>
<p><img src="http://static.zxinc520.com/blogimage/20190318/okqlTlNhFEPQ.png?imageslim" alt="mark"></p>
<p>瞬间特别开心，以为解决了，谁知？（哎！）</p>
<h4 id="2-我开始将转变后的时间赋给原对象："><a href="#2-我开始将转变后的时间赋给原对象：" class="headerlink" title="2.我开始将转变后的时间赋给原对象："></a>2.我开始将转变后的时间赋给原对象：</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*遍历publish数组*/</span></span><br><span class="line">publish.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  e.publishDate = <span class="keyword">new</span> <span class="built_in">Date</span>(e.publishDate).toLocaleString();</span><br><span class="line">  <span class="built_in">console</span>.log(e.publishDate);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>结果：</strong></p>
<p><img src="http://static.zxinc520.com/blogimage/20190318/woBo6Xdm0nCl.png?imageslim" alt="mark"></p>
<p>我百思不得其解，我也不知道为什么会这样，我想不可能啊！</p>
<p>于是：我想方设法查明其中的原有，最终我发现了一个问题：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> publish[<span class="number">0</span>].publishDate); <span class="comment">//object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Date</span>(publish[<span class="number">0</span>].publishDate).toLocaleString()); <span class="comment">//string</span></span><br></pre></td></tr></table></figure>

<p>原来是<strong>类型不一样</strong>，怪不得不能直接赋值，<u>我何不把它们转换成一样的类型，然后进行赋值呢，于是，我有进行了下面的操作：</u></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">publish.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  e.publishDate = <span class="built_in">JSON</span>.parse(<span class="keyword">new</span> <span class="built_in">Date</span>(e.publishDate).toLocaleString());</span><br><span class="line">  <span class="built_in">console</span>.log(e.publishDate);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>但结果报错了：</p>
<p><img src="http://static.zxinc520.com/blogimage/20190318/RQVh7hC91D61.png?imageslim" alt="mark"></p>
<h2 id="3-在我无限困惑的时候：我终于想到了一种可行的解决方案-gt"><a href="#3-在我无限困惑的时候：我终于想到了一种可行的解决方案-gt" class="headerlink" title="3.在我无限困惑的时候：我终于想到了一种可行的解决方案===&gt;"></a>3.在我无限困惑的时候：我终于想到了一种可行的解决方案===&gt;</h2><h4 id="我给-publish-新加了一个属性值："><a href="#我给-publish-新加了一个属性值：" class="headerlink" title="我给 publish 新加了一个属性值："></a>我给 publish 新加了一个属性值：</h4><p><img src="http://static.zxinc520.com/blogimage/20190318/F7Dap7RvsP1D.png?imageslim" alt="mark"></p>
<p><strong>然后在代码中</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">publish.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  e.UTCtodata = <span class="keyword">new</span> <span class="built_in">Date</span>(e.publishDate).toLocaleString();</span><br><span class="line">  <span class="built_in">console</span>.log(e.UTCtodata);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<p><img src="http://static.zxinc520.com/blogimage/20190318/OetS9laujbDI.png?imageslim" alt="mark"></p>
<h4 id="渲染到页面："><a href="#渲染到页面：" class="headerlink" title="渲染到页面："></a>渲染到页面：</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;list_time_submit&quot;</span>&gt;</span>&#123;&#123;publish[i].UTCtodata&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>页面效果：</strong></p>
<p><img src="http://static.zxinc520.com/blogimage/20190318/4vr3aw5u3e55.png?imageslim" alt="mark"></p>
<p>这就是我解决 mongodb 取出时间是 UTC 时间的解决办法，如果你们有特别好，特别简单的处理办法，可一定要告诉我哦！</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UTC%E6%97%B6%E9%97%B4%E9%97%AE%E9%A2%98/" rel="tag">UTC时间问题</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-AboutMyBlog"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/03/18/AboutMyBlog/"
    >关于我的博客</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/03/18/AboutMyBlog/" class="article-date">
  <time datetime="2019-03-18T08:45:21.000Z" itemprop="datePublished">2019-03-18</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/blog/">blog</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="关于我的博客"><a href="#关于我的博客" class="headerlink" title="关于我的博客"></a>关于我的博客</h2><blockquote>
<p>我在写的过程中遇到的问题以及相应的解决办法：</p>
</blockquote>
<h3 id="1-侧边栏固定问题"><a href="#1-侧边栏固定问题" class="headerlink" title="1.侧边栏固定问题"></a>1.侧边栏固定问题</h3><p>​ 问题：因为我做的博客主要适配移动端，不是 pc 端，pc 端的侧边栏固定应该是很简单的，如下代码就行：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">position: fixed; top: 0; left: 0;</span><br></pre></td></tr></table></figure>

<p>因为 position: fixed 属性总是<em>相对于</em>浏览器窗口来对元素进行定位。 而我想随着浏览器窗口的缩小，让我移动端的侧边栏总是固定有效视口的左上角，说说我的解决方案，我是用 js 控制的(一觉醒来突然想通了，想想我为什么不用 js 解决呢)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sideBar_Position = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> Width = <span class="built_in">window</span>.innerWidth;</span><br><span class="line">  <span class="keyword">if</span> (Width &gt; <span class="number">900</span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;.sidebar&quot;</span>).css(&#123; <span class="attr">left</span>: (Width - <span class="number">750</span>) / <span class="number">2</span> - <span class="number">10</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">&quot;resize&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> innerWidth = <span class="built_in">window</span>.innerWidth;</span><br><span class="line">    <span class="keyword">if</span> (innerWidth &lt;= <span class="number">772</span>) &#123;</span><br><span class="line">      $(<span class="string">&quot;.sidebar&quot;</span>).css(&#123; <span class="attr">left</span>: <span class="number">0</span> &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      $(<span class="string">&quot;.sidebar&quot;</span>).css(&#123; <span class="attr">left</span>: (innerWidth - <span class="number">750</span>) / <span class="number">2</span> - <span class="number">10</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>效果：![侧边栏位置固定]</p>
<p><img src="http://static.zxinc520.com/blog/20190525/hModlCjlfsUO.png?imageslim" alt="mark"></p>
<h3 id="2-侧边栏消失问题"><a href="#2-侧边栏消失问题" class="headerlink" title="2.侧边栏消失问题"></a>2.侧边栏消失问题</h3><p>我想我的侧边栏应该有 2 种消失方案：1. 点击消失</p>
<p>​ 2.滑动消失</p>
<p>解决方案：</p>
<ol>
<li>点击消失 ==&gt; 准备就用 jquery 的 show(),和 hide() , 就弄简单点。</li>
<li>滑动消失 ==&gt;</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;.sidebar&quot;</span>).on(<span class="string">&quot;touchstart&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  startX = e.touches[<span class="number">0</span>].clientX;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;.sidebar&quot;</span>).on(<span class="string">&quot;touchmove&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  moveX = e.touches[<span class="number">0</span>].clientX;</span><br><span class="line">  distanceX = startX - moveX;</span><br><span class="line">  <span class="keyword">if</span> (distanceX &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    settanslateX(-distanceX);</span><br><span class="line">    isMove = <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    distanceX = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;.sidebar&quot;</span>).on(<span class="string">&quot;touchend&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (isMove) &#123;</span><br><span class="line">    <span class="keyword">if</span> (distanceX &lt; ($(<span class="string">&quot;.sidebar&gt;.sidebar-main&quot;</span>).width() * <span class="number">2</span>) / <span class="number">3</span>) &#123;</span><br><span class="line">      addTranslation();</span><br><span class="line">      settanslateX(<span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      settanslateX(-$(<span class="string">&quot;.sidebar&quot;</span>).width());</span><br><span class="line">      addTranslation();</span><br><span class="line">      $(<span class="string">&quot;.sidebar&quot;</span>).css(&#123;</span><br><span class="line">        display: <span class="string">&quot;none&quot;</span>,</span><br><span class="line">        transition: <span class="string">&quot;width 2s,left 2s&quot;</span>,</span><br><span class="line">        transform: <span class="string">&quot;none&quot;</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>问题：可是写完之后发现了一个问题，当用滑动消失侧边栏后，再一次打开侧边栏，点击事件失效了（我一直没还搞懂，求懂滴大神指点指点）。</p>
<h6 id="3-列表动态跳转问题，列表跳转和分类列表跳转冲突问题（node-js）"><a href="#3-列表动态跳转问题，列表跳转和分类列表跳转冲突问题（node-js）" class="headerlink" title="3.列表动态跳转问题，列表跳转和分类列表跳转冲突问题（node.js）,"></a>3.列表动态跳转问题，列表跳转和分类列表跳转冲突问题（node.js）,</h6><p>–解决方案：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">router.get(<span class="string">&quot;/:docName&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> docId = req.params.docName.replace(<span class="regexp">/&quot;/g</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">  <span class="keyword">let</span> p = <span class="regexp">/[0-9]/</span>;</span><br><span class="line">  <span class="keyword">let</span> b = p.test(docId); <span class="comment">//true,说明有数字</span></span><br><span class="line">  <span class="keyword">if</span> (b) &#123;</span><br><span class="line">    publish.findById(docId, <span class="function"><span class="keyword">function</span> (<span class="params">err, publish</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> next(err);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (publish.wholepublishIdentifying == <span class="string">&quot;代码&quot;</span>) &#123;</span><br><span class="line">        fs.readFile(</span><br><span class="line">          __dirname + src + publish.publishMainBodyUrl + <span class="string">&quot;.md&quot;</span>,</span><br><span class="line">          <span class="string">&quot;utf-8&quot;</span>,</span><br><span class="line">          <span class="function"><span class="keyword">function</span> (<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (err) &#123;</span><br><span class="line">              <span class="built_in">console</span>.log(err);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              htmlStr = marked(data.toString());</span><br><span class="line">              res.type(<span class="string">&quot;html&quot;</span>);</span><br><span class="line">              message.find(</span><br><span class="line">                &#123;</span><br><span class="line">                  message_type: publish.publishMainBodyUrl,</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="function"><span class="keyword">function</span> (<span class="params">err, message</span>) </span>&#123;</span><br><span class="line">                  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                    <span class="keyword">return</span> next(err);</span><br><span class="line">                  &#125;</span><br><span class="line">                  message.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                    e.UTCtodata = <span class="keyword">new</span> <span class="built_in">Date</span>(e.message_time).toLocaleString();</span><br><span class="line">                  &#125;);</span><br><span class="line">                  res.render(<span class="string">&quot;MainBody.html&quot;</span>, &#123;</span><br><span class="line">                    doc: htmlStr,</span><br><span class="line">                    publish: publish,</span><br><span class="line">                    message: message,</span><br><span class="line">                  &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">              );</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (publish.wholepublishIdentifying == <span class="string">&quot;心得体会&quot;</span>) &#123;</span><br><span class="line">        fs.readFile(</span><br><span class="line">          __dirname + src + publish.publishMainBodyUrl + <span class="string">&quot;.md&quot;</span>,</span><br><span class="line">          <span class="string">&quot;utf-8&quot;</span>,</span><br><span class="line">          <span class="function"><span class="keyword">function</span> (<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (err) &#123;</span><br><span class="line">              <span class="built_in">console</span>.log(err);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              htmlStr = marked(data.toString());</span><br><span class="line">              res.type(<span class="string">&quot;html&quot;</span>);</span><br><span class="line">              message.find(</span><br><span class="line">                &#123;</span><br><span class="line">                  message_type: publish.publishMainBodyUrl,</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="function"><span class="keyword">function</span> (<span class="params">err, message</span>) </span>&#123;</span><br><span class="line">                  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                    <span class="keyword">return</span> next(err);</span><br><span class="line">                  &#125;</span><br><span class="line">                  message.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                    e.UTCtodata = <span class="keyword">new</span> <span class="built_in">Date</span>(e.message_time).toLocaleString();</span><br><span class="line">                  &#125;);</span><br><span class="line">                  res.render(<span class="string">&quot;MainBody.html&quot;</span>, &#123;</span><br><span class="line">                    doc: htmlStr,</span><br><span class="line">                    publish: publish,</span><br><span class="line">                    message: message,</span><br><span class="line">                  &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">              );</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    publish.find(</span><br><span class="line">      &#123;</span><br><span class="line">        publishIdentifying: req.params.docName,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function"><span class="keyword">function</span> (<span class="params">err, publish</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">          <span class="keyword">return</span> next(err);</span><br><span class="line">        &#125;</span><br><span class="line">        res.render(<span class="string">&quot;sortlayout.html&quot;</span>, &#123;</span><br><span class="line">          publish: publish,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="4-UTC-时间问题"><a href="#4-UTC-时间问题" class="headerlink" title="4:UTC 时间问题"></a>4:UTC 时间问题</h3><p>问题：将时间类型数据保存到 mongodb 数据库中，拿出来时发现时间变成 类似于：2019-03-15T08:44:07.842Z — 这种 UTC 时间，这是 mongodb 数据库本身就存在的问题，自己遇到这个问题的时候，百度了很多文档，参考了很多人的解决办法，但还是不知道怎么解决，</p>
<p>最终好不容易想到了一种解决方案：</p>
<h6 id=""><a href="#" class="headerlink" title=""></a><img src="http://static.zxinc520.com/blogimage/20190318/YiqUFRbvNCQv.png?imageslim" alt="mark"></h6><p><img src="http://static.zxinc520.com/blogimage/20190318/SSDuionkzdwv.png?imageslim" alt="mark"></p>
<p>有人会说为什么不把转变好的时间赋给原来的 UTC 时间属性，我一开始就这样写的，可是就是赋值不上去，</p>
<p>最终终于发现原因：因为一个是字符串，一个是对象，根本无法相互赋值。我随后也想过把对象转变为字符串然后进行赋值，可最终还是不行。无奈之下，我只好转换了思路，用了我一开始的方案，把问题解决了。</p>
<ol start="5">
<li><h3 id="分页效果（我参考了网上的做法—–这里是全部加载完成后做的假分页）"><a href="#分页效果（我参考了网上的做法—–这里是全部加载完成后做的假分页）" class="headerlink" title="分页效果（我参考了网上的做法—–这里是全部加载完成后做的假分页）"></a>分页效果（我参考了网上的做法—–这里是全部加载完成后做的假分页）</h3><p>解决方案：</p>
<p>html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;pageBox&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;prev&quot;</span>&gt;</span>上一页<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;pageNav&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;next&quot;</span>&gt;</span>下一页<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>css：那你自己写把。加油！</p>
<p>js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  tabPage(&#123;</span><br><span class="line">    pageMain: <span class="string">&quot;#pageMain&quot;</span>,</span><br><span class="line">    pageNav: <span class="string">&quot;#pageNav&quot;</span>,</span><br><span class="line">    pagePrev: <span class="string">&quot;#prev&quot;</span>,</span><br><span class="line">    pageNext: <span class="string">&quot;#next&quot;</span>,</span><br><span class="line">    curNum: <span class="number">4</span> <span class="comment">/*每页显示的条数*/</span>,</span><br><span class="line">    activeClass: <span class="string">&quot;active&quot;</span> <span class="comment">/*高亮显示的class*/</span>,</span><br><span class="line">    ini: <span class="number">0</span> <span class="comment">/*初始化显示的页面*/</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">tabPage</span>(<span class="params">tabPage</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pageMain = $(tabPage.pageMain);</span><br><span class="line">    <span class="comment">/*获取内容列表*/</span></span><br><span class="line">    <span class="keyword">var</span> pageNav = $(tabPage.pageNav);</span><br><span class="line">    <span class="comment">/*获取分页*/</span></span><br><span class="line">    <span class="keyword">var</span> pagePrev = $(tabPage.pagePrev);</span><br><span class="line">    <span class="comment">/*上一页*/</span></span><br><span class="line">    <span class="keyword">var</span> pageNext = $(tabPage.pageNext);</span><br><span class="line">    <span class="comment">/*下一页*/</span></span><br><span class="line">    <span class="keyword">var</span> curNum = tabPage.curNum;</span><br><span class="line">    <span class="comment">/*每页显示数*/</span></span><br><span class="line">    <span class="keyword">var</span> len = <span class="built_in">Math</span>.ceil(pageMain.find(<span class="string">&quot;li&quot;</span>).length / curNum);</span><br><span class="line">    <span class="comment">/*计算总页数*/</span></span><br><span class="line">    <span class="built_in">console</span>.log(len);</span><br><span class="line">    <span class="keyword">var</span> pageList = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="comment">/*生成页码*/</span></span><br><span class="line">    <span class="keyword">var</span> iNum = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/*当前的索引值*/</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">      pageList += <span class="string">&#x27;&lt;a href=&quot;javascript:;&quot;&gt;&#x27;</span> + (i + <span class="number">1</span>) + <span class="string">&quot;&lt;/a&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    pageNav.html(pageList);</span><br><span class="line">    <span class="comment">/*头一页加高亮显示*/</span></span><br><span class="line">    pageNav.find(<span class="string">&quot;a:first&quot;</span>).addClass(tabPage.activeClass);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*******标签页的点击事件*******/</span></span><br><span class="line">    pageNav.find(<span class="string">&quot;a&quot;</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      $(<span class="built_in">this</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        pageNav.find(<span class="string">&quot;a&quot;</span>).removeClass(tabPage.activeClass);</span><br><span class="line">        $(<span class="built_in">this</span>).addClass(tabPage.activeClass);</span><br><span class="line">        iNum = $(<span class="built_in">this</span>).index();</span><br><span class="line">        $(pageMain).find(<span class="string">&quot;li&quot;</span>).hide();</span><br><span class="line">        <span class="keyword">for</span> (</span><br><span class="line">          <span class="keyword">var</span> i = ($(<span class="built_in">this</span>).html() - <span class="number">1</span>) * curNum;</span><br><span class="line">          i &lt; $(<span class="built_in">this</span>).html() * curNum;</span><br><span class="line">          i++</span><br><span class="line">        ) &#123;</span><br><span class="line">          $(pageMain).find(<span class="string">&quot;li&quot;</span>).eq(i).show();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    $(pageMain).find(<span class="string">&quot;li&quot;</span>).hide();</span><br><span class="line">    <span class="comment">/************首页的显示*********/</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; curNum; i++) &#123;</span><br><span class="line">      $(pageMain).find(<span class="string">&quot;li&quot;</span>).eq(i).show();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*下一页*/</span></span><br><span class="line">    pageNext.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      $(pageMain).find(<span class="string">&quot;li&quot;</span>).hide();</span><br><span class="line">      <span class="keyword">if</span> (iNum == len - <span class="number">1</span>) &#123;</span><br><span class="line">        alert(<span class="string">&quot;已经是最后一页&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = (len - <span class="number">1</span>) * curNum; i &lt; len * curNum; i++) &#123;</span><br><span class="line">          $(pageMain).find(<span class="string">&quot;li&quot;</span>).eq(i).show();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        pageNav.find(<span class="string">&quot;a&quot;</span>).removeClass(tabPage.activeClass);</span><br><span class="line">        iNum++;</span><br><span class="line">        pageNav.find(<span class="string">&quot;a&quot;</span>).eq(iNum).addClass(tabPage.activeClass);</span><br><span class="line">        <span class="comment">//                    ini(iNum);</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = iNum * curNum; i &lt; (iNum + <span class="number">1</span>) * curNum; i++) &#123;</span><br><span class="line">        $(pageMain).find(<span class="string">&quot;li&quot;</span>).eq(i).show();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">/*上一页*/</span></span><br><span class="line">    pagePrev.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      $(pageMain).find(<span class="string">&quot;li&quot;</span>).hide();</span><br><span class="line">      <span class="keyword">if</span> (iNum == <span class="number">0</span>) &#123;</span><br><span class="line">        alert(<span class="string">&quot;当前是第一页&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; curNum; i++) &#123;</span><br><span class="line">          $(pageMain).find(<span class="string">&quot;li&quot;</span>).eq(i).show();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        pageNav.find(<span class="string">&quot;a&quot;</span>).removeClass(tabPage.activeClass);</span><br><span class="line">        iNum--;</span><br><span class="line">        pageNav.find(<span class="string">&quot;a&quot;</span>).eq(iNum).addClass(tabPage.activeClass);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = iNum * curNum; i &lt; (iNum + <span class="number">1</span>) * curNum; i++) &#123;</span><br><span class="line">        $(pageMain).find(<span class="string">&quot;li&quot;</span>).eq(i).show();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>效果：</p>
<p><img src="http://static.zxinc520.com/blogimage/20190318/3QianS1bAQ43.png?imageslim" alt="mark"></p>
</li>
</ol>
<p><u><strong>当然我还遇到很多别的问题，一时间都记不起来了（之后在慢慢加上去），所以写博客的重要性就在于此了。</strong></u></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blog/" rel="tag">blog</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" rel="tag">个人博客</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-MarkdownToHTML"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/03/15/MarkdownToHTML/"
    >MarkdownToHtml</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/03/15/MarkdownToHTML/" class="article-date">
  <time datetime="2019-03-15T08:44:07.000Z" itemprop="datePublished">2019-03-15</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a> / <a class="article-category-link" href="/categories/%E5%B7%A5%E5%85%B7/md%E8%BD%ACHTML/">md转HTML</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="MarkdownToHtml"><a href="#MarkdownToHtml" class="headerlink" title="MarkdownToHtml"></a>MarkdownToHtml</h1><blockquote>
<p>将 Markdown 文档转换为 HTML 显示</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>本应用是采用 node.js + Express 搭建的</p>
<p>运用的模板：art-template</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://aui.github.io/art-template/zh-cn/docs/index.html">art-template</a> 是一个简约、超快的模板引擎。</li>
</ul>
</blockquote>
<h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>我把 <em>MarkdownToHTML.md</em> 放在目录 <strong>public/doc</strong> 下（放在那里看你心情咯！）</p>
<h2 id="安装-marked"><a href="#安装-marked" class="headerlink" title="安装 marked"></a>安装 marked</h2><blockquote>
<p>npm install marked –save</p>
</blockquote>
<h1 id="关键步骤"><a href="#关键步骤" class="headerlink" title="关键步骤"></a>关键步骤</h1><p>路由部分关键代码：router.js （ 里面的部分代码是关键 ）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">&quot;/:docName&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    docId = req.params.docName.replace(<span class="regexp">/&quot;/g</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    publish.findById(docId, <span class="function"><span class="keyword">function</span> (<span class="params">err, publish</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">            <span class="keyword">return</span> next(err)</span><br><span class="line">        &#125;</span><br><span class="line">        fs.readFile(__dirname + src + publish.publishMainBodyUrl + <span class="string">&#x27;.md&#x27;</span>,           <span class="string">&#x27;utf-8&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(err);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                htmlStr = marked(data.toString());</span><br><span class="line">                res.type(<span class="string">&#x27;html&#x27;</span>)</span><br><span class="line">                message.find(&#123;</span><br><span class="line">                    message_type: publish.publishMainBodyUrl</span><br><span class="line">                &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, message</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                        <span class="keyword">return</span> next(err)</span><br><span class="line">                    &#125;</span><br><span class="line">                    message.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">                        e.UTCtodata = <span class="keyword">new</span> <span class="built_in">Date</span>(e.message_time).toLocaleString()</span><br><span class="line">                    &#125;)</span><br><span class="line">                    res.render(<span class="string">&#x27;MainBody.html&#x27;</span>, &#123;</span><br><span class="line">                        doc: htmlStr,</span><br><span class="line">                        publish: publish,</span><br><span class="line">                        message: message</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>##</p>
<p>MainBody.html: 用 art-template 模板渲染后台传来的数据</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">   &#123;&#123;@ doc &#125;&#125;或者  &lt;%- doc %&gt;</span></span><br><span class="line"><span class="comment"> （ @和- 很关键 ==&gt;原文输出语句不会对 HTML 内容进行转义处理，可能存在安全风险，请谨慎使用。这个坑害我多走了好多弯路。）</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;markfs&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123;@ doc &#125;&#125; <span class="comment">&lt;!-- 或者  &lt;%- doc %&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><p><img src="http://static.zxinc520.com/blogimage/20190314/x6s26FzHS5go.png?imageslim" alt="g"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/art-template/" rel="tag">art-template</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/5/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2020
        <i class="ri-heart-fill heart_icon"></i> zhou chen
      </li>
    </ul>
    <ul>
      <li>
        
        
        
        Powered by <a href="https://hexo.io" target="_blank">Hexo</a>
        <span class="division">|</span>
        Theme - <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="琛"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="http://zxinc520.com">个人博客</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友情链接</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="http://static.zxinc520.com/blog/20190512/p4IWzLUrorWK.jpg?imageslim">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="http://static.zxinc520.com/blog/20190512/pGHOMdDF79sb.jpg?imageslim">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>


<!-- ClickBoom2 -->

<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


    
  </div>
</body>

</html>