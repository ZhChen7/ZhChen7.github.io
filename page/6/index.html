<!DOCTYPE html>


<html lang="en">


<head>
  <meta charset="utf-8" />
   
  <meta name="keywords" content="博客，学习网站，hexo，周琛，周琛的个人博客" />
   
  <meta name="description" content="周琛的博客" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     周琛的博客
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="/favicon.png" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
  
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

  
  

  

<link rel="alternate" href="/atom.xml" title="sunflower" type="application/atom+xml">
</head>

</html>

<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/ZhChen7"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover4.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">sunflower</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['我们', '我们要珍惜所有的感动,', '入目无他人 四下皆是你！'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-Promise"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/13/Promise/"
    >Promise</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/05/13/Promise/" class="article-date">
  <time datetime="2019-05-13T04:52:54.000Z" itemprop="datePublished">2019-05-13</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/JS/">JS</a> / <a class="article-category-link" href="/categories/JS/%E5%BC%82%E6%AD%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">异步解决方案</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="promise"><a class="markdownIt-Anchor" href="#promise">#</a> Promise</h2>
<blockquote>
<p>前言: Promise 是 <strong>异步编程</strong> 的一种解决方案，相比传统的解决方案 —&gt; 回调函数和事件更加强大。由社区最早提出和实现，ES6 将其写进了语言标准，统一了用法，原生提供了 Promise 对象.</p>
<p>没有 Promise 之前，解决异步都是依赖回调，但执行多个具备前后顺序的异步操作时代码就会非常乱并且出现问题难调试.</p>
<p>Promise 的 <strong>本质</strong> 是要干什么的：就是单纯的为了解决 <strong>回调地狱问题</strong>，但是并不能帮我们减少代码量。</p>
</blockquote>
<h3 id="回调地狱是什么"><a class="markdownIt-Anchor" href="#回调地狱是什么">#</a> &quot;回调地狱&quot; 是什么</h3>
<p>” 回调地狱 “也叫” 回调金字塔 “，我们平时写代码的时候 js 如果异步 回调是不可避免的<br>
例如 ajax 不断的进行异步请求数据 回调方法里还要对数据进行处理，继续回调… 形成回调地狱<br>
这会使得我们的代码可读性变差，出现问题 不好调试 也会导致性能下降</p>
<p>而 nodejs 是一种单线程的事件驱动而且是非阻塞的 I/O 模型，而 I/O 模型，是异步的，这样 nodejs 在处理结果的时候 就需要在回调函数中执行，这样也就形成了回调地狱。</p>
<p><img src="http://static.zxinc520.com/blog/20190420/4iquo6cVxxSQ.jpg?imageslim" alt="mark"></p>
<h3 id="promise-介绍"><a class="markdownIt-Anchor" href="#promise-介绍">#</a> Promise 介绍</h3>
<p>Promise 就是实现异步编程的一种解决方案，核心就是 Promise 对象。Promise 对象就像一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。它可以将异步操作以同步操作的流程表达出来，避免层层嵌套 (callback) 的毁掉函数。此外，Promise 对象提供统一的接口，使得控制异步操作更加容易。</p>
<p><strong>Promise 对象的两个特点</strong>：</p>
<ol>
<li>
<p>对象的状态不受外界影响。有三种状态：pending (进行中)、resolved (已成功)、rejected (已失败);</p>
</li>
<li>
<p>一旦状态改变，就不会再变，任何时候都可以得到这个结果。Promise 对象的状态改变，只有两种可能：从 pending 变为 resolved 和从 pending 变为 rejected。</p>
</li>
</ol>
<p><strong>Promise 缺点：</strong></p>
<ol>
<li>无法取消 Promise，一旦新建它就会立即执行，无法中途取消；</li>
<li>如果不设置回调函数，Promise 内部抛出的错误，不会反应到外部；</li>
<li>当处于 pending 状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）</li>
</ol>
<hr>
<h4 id="基本概念"><a class="markdownIt-Anchor" href="#基本概念">#</a> <strong>基本概念：</strong></h4>
<ol>
<li>
<p>Promise 是一个构造函数，既然是构造函数，那么，我们就可以 new Promise () 得到一个 Promise 的实例</p>
</li>
<li>
<p>在 Promise 上，有两个函数，分别叫做 <strong>resolve</strong>（成功之后的回调函数） 和 <strong>reject</strong>（失败之后的回调函数）</p>
</li>
<li>
<p>在 Promise 构造函数的 Prototype 属性上，有一个 <strong>.then()</strong> 方法，也就说，只要是 Promise 构造函数创建的实例，都可以访问到 .then () 方法。</p>
</li>
<li>
<p>Promise 表示一个 异步操作，每当我们 new 一个 Promise 的实例，这个实例，就表示一个具体的异步操作</p>
</li>
<li>
<p>既然 Promise 创建的实例，是一个异步操作，那么，这个 异步操作的结果，只能有两种状态：</p>
</li>
</ol>
<p>​ 5.1 <strong>状态 1</strong>： 异步执行成功了，需要在内部调用成功的回调函数（<strong>resolve</strong>），把结果返回给调用者。</p>
<p>​ 5.2 <strong>状态 2</strong>： 异步执行失败了，需要在内部调用失败的回调函数（<strong>reject</strong>），把结果返回给调用者。</p>
<p>​ 5.3 由于 Promise 的实例，是一个异步操作，所以，内部拿到 操作结果后，无法使用 return 把操作的结果返回给调用者；这时候，只能使用回调函数的形式，来把 成功 或 失败的结果，返回给调用者。</p>
<ol start="6">
<li>我们可以在 new 出来的 Promise 实例上，调用 <strong>.then () 方法</strong>，【预先】为这个 Promise 异步操作指定 成功（<strong>resolve</strong>）和 失败（<strong>reject</strong>）回调函数</li>
</ol>
<h2 id="关于-promise-要解决回调地狱问题的说明"><a class="markdownIt-Anchor" href="#关于-promise-要解决回调地狱问题的说明">#</a> 关于 Promise 要解决回调地狱问题的说明</h2>
<p><strong>实验需求</strong>：你要封装一个方法，我给你一个要读取文件的路径，你这个方法帮我读取文件，并把内容返回给我。</p>
<p><em>代码实际演示：</em></p>
<p>目录结构：</p>
<p><img src="http://static.zxinc520.com/blog/20190420/djU0REH3KKbb.png?imageslim" alt="mark"></p>
<h3 id="第一步初步实现一个读取文件的功能"><a class="markdownIt-Anchor" href="#第一步初步实现一个读取文件的功能">#</a> 第一步：初步实现一个读取文件的功能：</h3>
<p><strong>封装读取文件的方法.js</strong>：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 需求：你要封装一个方法，我给你一个要读取文件的路径，你这个方法帮我读取文件，并把内容返回给我</span>

<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./files/1.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>运行结果：</p>
<p><img src="http://static.zxinc520.com/blog/20190420/TR4X4SXC6m2m.png?imageslim" alt="mark"></p>
<h3 id="第二步封装一个读取文件的方法"><a class="markdownIt-Anchor" href="#第二步封装一个读取文件的方法">#</a> 第二步：封装一个读取文件的方法</h3>
<p><strong>封装读取文件的方法.js</strong>：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//初衷 ：给定文件路径 ，返回读取到的内容</span>
<span class="token keyword">function</span> <span class="token function">getFileByPath</span><span class="token punctuation">(</span><span class="token parameter">fpath</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>fpath<span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> dataStr<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">getFileByPath</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./files/1.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果：</p>
<p><img src="http://static.zxinc520.com/blog/20190420/4LrSd5ascJjT.png?imageslim" alt="mark"></p>
<h2 id="解决方案使用回调函数"><a class="markdownIt-Anchor" href="#解决方案使用回调函数">#</a> 解决方案：使用回调函数</h2>
<p><strong>封装读取文件的方法.js</strong>：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//使用回调函数</span>
<span class="token keyword">function</span> <span class="token function">getFileByPath</span><span class="token punctuation">(</span><span class="token parameter">fpath<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>fpath<span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">getFileByPath</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./files/1.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>运行结果：</p>
<p><img src="http://static.zxinc520.com/blog/20190420/U5MDnc8QChTb.png?imageslim" alt="mark"></p>
<h2 id="封装读取文件的方法改进"><a class="markdownIt-Anchor" href="#封装读取文件的方法改进">#</a> 封装读取文件的方法–改进：</h2>
<h4 id="callback-中设置两个参数err-datastr"><a class="markdownIt-Anchor" href="#callback-中设置两个参数err-datastr">#</a> callback 中，设置两个参数（err, dataStr）</h4>
<p><strong>封装读取文件的方法.js</strong>：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//使用回调函数</span>
<span class="token comment">//我们可以规定一下，callback中，有两个参数，第一个参数是失败的结果，第二个参数是成功的结果</span>
<span class="token comment">//同时，我们规定了：如果成功后，返回的结果，应该位于callback 参数的第二个位置，此时，第一个位置由于没有出错，所以放一个null，如果失败了则第一个位置放置 Error对象，第二个位置放置一个 undefined</span>

<span class="token keyword">function</span> <span class="token function">getFileByPath</span><span class="token punctuation">(</span><span class="token parameter">fpath<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>fpath<span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">getFileByPath</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./files/1.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190420/Gi6Iffxxw1Jk.png?imageslim" alt="mark"></p>
<h2 id="封装读取文件的方法-提高版"><a class="markdownIt-Anchor" href="#封装读取文件的方法-提高版">#</a> 封装读取文件的方法 - 提高版</h2>
<h4 id="拆分成-两个-回调getfilebypath-fpath-succcb-errcb"><a class="markdownIt-Anchor" href="#拆分成-两个-回调getfilebypath-fpath-succcb-errcb">#</a> 拆分成 两个 回调（getFileByPath (fpath, succCb, errCb)）</h4>
<p><strong>封装读取文件的方法 - 提高版.js：</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//使用两个回调---便于理解</span>
<span class="token keyword">function</span> <span class="token function">getFileByPath</span><span class="token punctuation">(</span><span class="token parameter">fpath<span class="token punctuation">,</span> succCb<span class="token punctuation">,</span> errCb</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>fpath<span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token function">errCb</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">succCb</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">getFileByPath</span><span class="token punctuation">(</span>
  path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./files/1.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"成功的结果，使用成功的回调succCb: "</span> <span class="token operator">+</span> dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"失败的结果，使用失败的回调errCb: "</span> <span class="token operator">+</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>成功的结果：</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190420/OfeQfiHdiJVC.png?imageslim" alt="mark"></p>
<p><strong>失败的结果：</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190420/uVvrqObQxNtc.png?imageslim" alt="mark"></p>
<h2 id="回调嵌套"><a class="markdownIt-Anchor" href="#回调嵌套">#</a> 回调嵌套</h2>
<h3 id="需求先读取文件-1在读取文件-2最后读取文件-3"><a class="markdownIt-Anchor" href="#需求先读取文件-1在读取文件-2最后读取文件-3">#</a> 需求：先读取文件 1，在读取文件 2，最后读取文件 3</h3>
<h6 id="初步实现"><a class="markdownIt-Anchor" href="#初步实现">#</a> <strong><em>初步实现：</em></strong></h6>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//使用回调函数</span>
<span class="token keyword">function</span> <span class="token function">getFileByPath</span><span class="token punctuation">(</span><span class="token parameter">fpath<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>fpath<span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//回调地狱</span>
<span class="token function">getFileByPath</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./files/1.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">getFileByPath</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./files/2.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getFileByPath</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./files/3.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>运行结果：</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190420/lQlQH83IcW3B.png?imageslim" alt="mark"></p>
<h3 id="使用-promise"><a class="markdownIt-Anchor" href="#使用-promise">#</a> 使用 **Promise **:</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getFileByPath</span><span class="token punctuation">(</span><span class="token parameter">fpath</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> fpath<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> dataStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">getFileByPath</span><span class="token punctuation">(</span><span class="token string">"./files/1.txt"</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//读取文件2</span>
    <span class="token keyword">return</span> <span class="token function">getFileByPath</span><span class="token punctuation">(</span><span class="token string">"./files/2.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//读取文件3</span>
    <span class="token keyword">return</span> <span class="token function">getFileByPath</span><span class="token punctuation">(</span><span class="token string">"./files/3.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190420/G1arCfeFpYYK.png?imageslim" alt="mark"></p>
<h2 id="ajax-使用-then-方法高逼格请求数据"><a class="markdownIt-Anchor" href="#ajax-使用-then-方法高逼格请求数据">#</a> Ajax 使用 then 方法高逼格请求数据</h2>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./node_modules/jquery/dist/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#btn"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            url<span class="token operator">:</span> <span class="token string">"./data.json"</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span> <span class="token string">"get"</span><span class="token punctuation">,</span>
            dataType<span class="token operator">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>运行结果：</p>
<p><img src="http://static.zxinc520.com/blog/20190420/Raly4WtVEqEx.gif" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/promise/" rel="tag">promise</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1/" rel="tag">回调地狱</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BC%82%E6%AD%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" rel="tag">异步解决方案</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-ProcessScheduling"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/13/ProcessScheduling/"
    >操作系统进程调度作业</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/05/13/ProcessScheduling/" class="article-date">
  <time datetime="2019-05-13T04:52:54.000Z" itemprop="datePublished">2019-05-13</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/">课程设计</a> / <a class="article-category-link" href="/categories/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E4%BD%9C%E4%B8%9A/">操作系统进程调度作业</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="操作系统进程调度作业"><a class="markdownIt-Anchor" href="#操作系统进程调度作业">#</a> 操作系统进程调度作业</h1>
<blockquote>
<p>操作系统进程调度作业</p>
<p>锻炼下思维！</p>
</blockquote>
<h2 id="进程调度-1"><a class="markdownIt-Anchor" href="#进程调度-1">#</a> 进程调度 1</h2>
<p><strong>问题描述</strong>：</p>
<p>​ 要求输入 3 个进程，找出最先执行的那个进程的进程名。（如果遇到优先级一样，按照输入顺序执行。），本题中，优先数数值大的表示优先级比较高。</p>
<p><strong>输入格式</strong>：</p>
<p>​ 程序要求输入 3 行，以回车符号作为分隔，每行有 3 个数据，以空格作为分隔。首先输入一个字符串（长度小于等于 10），为进程名，第 2 个数据类型为整型，表示进程的优先数，第 3 个数据类型为整型，表示进程的运行时间。</p>
<p><strong>输出格式</strong>：</p>
<p>​ 输出一个字符串，为最先执行进程的进程名。</p>
<p><em>样例输入 1：</em></p>
<p>P1 1 1</p>
<p>P2 2 2</p>
<p>P3 3 3</p>
<p>样例输出 1：</p>
<p>P3</p>
<p><em>样例输入 2：</em></p>
<p>P1 130 10</p>
<p>P2 100 100</p>
<p>P3 100 100</p>
<p>样例输出 2：</p>
<p>P2</p>
<p><strong>链表实现：</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">></span>
#include <span class="token operator">&lt;</span>string<span class="token punctuation">.</span>h<span class="token operator">></span> <span class="token comment">//strcpy()</span>
#include <span class="token operator">&lt;</span>stdlib<span class="token punctuation">.</span>h<span class="token operator">></span><span class="token comment">//malloc()</span>
<span class="token keyword">void</span> <span class="token function">insertQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int Priority<span class="token punctuation">,</span>int Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">arithmetic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
typedef struct process
<span class="token punctuation">&#123;</span>
	char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	int Priority<span class="token punctuation">;</span>
	int Time<span class="token punctuation">;</span>
	struct process <span class="token operator">*</span>next<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>nodelist<span class="token punctuation">;</span>

nodelist <span class="token operator">*</span>pHead<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//存放调度的首节点地址</span>

int <span class="token function">main</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">void</span></span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token function">insertQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">arithmetic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//添加问题</span>
<span class="token keyword">void</span> <span class="token function">insertQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int Priority<span class="token punctuation">,</span>int Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
    char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	int Priority<span class="token punctuation">;</span>
	int Time<span class="token punctuation">;</span>
    int i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
	  <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
	  <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>Priority<span class="token punctuation">)</span><span class="token punctuation">;</span>
	  <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
	  <span class="token function">insertNode</span><span class="token punctuation">(</span>ProcessName<span class="token punctuation">,</span>Priority<span class="token punctuation">,</span>Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span>

<span class="token comment">//将数据插入链表</span>
<span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span><span class="token parameter">char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int Priority<span class="token punctuation">,</span>int Time</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token comment">//申请存储空间</span>
	nodelist <span class="token operator">*</span>pNew<span class="token operator">=</span><span class="token punctuation">(</span>nodelist <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token function">sizeof</span><span class="token punctuation">(</span>nodelist<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	nodelist <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token operator">*</span>q<span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>pNew<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">,</span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pNew<span class="token operator">-</span><span class="token operator">></span>Priority <span class="token operator">=</span> Priority<span class="token punctuation">;</span>
	pNew<span class="token operator">-</span><span class="token operator">></span>Time <span class="token operator">=</span> Time<span class="token punctuation">;</span>
	pNew<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token comment">// printf("5\n");</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>pHead<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token comment">//插入前链表为空，新插入的节点为头节点</span>
		<span class="token punctuation">&#123;</span>
			pHead<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
			<span class="token comment">//p1=pHead;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">&#123;</span>
			p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>
				<span class="token punctuation">&#123;</span>
				q<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
			    p<span class="token operator">=</span>q<span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
				pNew<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
			    p<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
				pNew<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>

		<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//显示链表中的数据</span>
<span class="token keyword">void</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token comment">/* 显示所有的结果 */</span>
	nodelist <span class="token operator">*</span>p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>pHead<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
			<span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s "</span><span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
				p<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">&#123;</span>
	  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"链表中啥都没有！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>


<span class="token keyword">void</span> <span class="token function">arithmetic</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token comment">//相关算法实现</span>
	nodelist <span class="token operator">*</span>p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
	int max<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">;</span>
	int flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	char firstName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	char ReturnProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>firstName<span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>pHead<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
			<span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span> max <span class="token operator">&lt;</span> <span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    max<span class="token operator">=</span> p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">;</span>
                    <span class="token function">strcpy</span><span class="token punctuation">(</span>ReturnProcessName<span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
					flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				p<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>ReturnProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190513/liF2w98LPKem.gif" alt="mark"></p>
<p>​ <img src="http://static.zxinc520.com/blog/20190513/XXOxTOQJ8P0H.gif" alt="mark"></p>
<h2 id="进程调度-2"><a class="markdownIt-Anchor" href="#进程调度-2">#</a> 进程调度 2</h2>
<p><strong>问题描述</strong>：</p>
<p>​ 要求输入 N 个进程（0&lt;N&lt;=100），找出最后执行的那个进程的进程名。（如果遇到优先级一样，按照输入顺序执行。），本题中，优先数数值较高的优先级也较高。</p>
<p><strong>输入格式</strong>：</p>
<p>​ 程序首先要求输入一个整型值 N，接下来输入为 N 行，以回车符号作为分隔，每行有 3 个数据，以空格作为分隔。首先输入一个字符串（长度小于等于 10），该字符串为进程名。第 2 个数据类型为整型，表示进程的优先数。第 3 个数据类型为整型，表示进程的运行时间。</p>
<p><strong>输出格式：</strong></p>
<p>​ 输出一个字符串，为最后执行进程的进程名。</p>
<p><em>样例输入 1：</em></p>
<p>3</p>
<p>P1 1 1</p>
<p>P2 2 2</p>
<p>P3 3 3</p>
<p>样例输出 1：</p>
<p>P3</p>
<p><em>样例输入 2：</em></p>
<p>2</p>
<p>P1 10 10</p>
<p>P2 100 100</p>
<p>样例输出 2：</p>
<p>P2</p>
<p><strong>源代码：</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">></span>
#include <span class="token operator">&lt;</span>string<span class="token punctuation">.</span>h<span class="token operator">></span> <span class="token comment">//strcpy()</span>
#include <span class="token operator">&lt;</span>stdlib<span class="token punctuation">.</span>h<span class="token operator">></span><span class="token comment">//malloc()</span>
<span class="token keyword">void</span> <span class="token function">insertQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int Priority<span class="token punctuation">,</span>int Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">arithmetic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
typedef struct process
<span class="token punctuation">&#123;</span>
	char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	int Priority<span class="token punctuation">;</span>
	int Time<span class="token punctuation">;</span>
	struct process <span class="token operator">*</span>next<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>nodelist<span class="token punctuation">;</span>

nodelist <span class="token operator">*</span>pHead<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//存放调度的首节点地址</span>

int <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token function">insertQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">arithmetic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// view();</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//添加问题</span>
<span class="token keyword">void</span> <span class="token function">insertQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int Priority<span class="token punctuation">,</span>int Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
    char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	int Priority<span class="token punctuation">;</span>
	int Time<span class="token punctuation">;</span>
    int i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int n<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
	  <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s %d %d"</span><span class="token punctuation">,</span>ProcessName<span class="token punctuation">,</span><span class="token operator">&amp;</span>Priority<span class="token punctuation">,</span><span class="token operator">&amp;</span>Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
	  <span class="token function">insertNode</span><span class="token punctuation">(</span>ProcessName<span class="token punctuation">,</span>Priority<span class="token punctuation">,</span>Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//将数据插入链表</span>
<span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span><span class="token parameter">char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int Priority<span class="token punctuation">,</span>int Time</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token comment">//申请存储空间</span>
	nodelist <span class="token operator">*</span>pNew<span class="token operator">=</span><span class="token punctuation">(</span>nodelist <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token function">sizeof</span><span class="token punctuation">(</span>nodelist<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	nodelist <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token operator">*</span>q<span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>pNew<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">,</span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pNew<span class="token operator">-</span><span class="token operator">></span>Priority <span class="token operator">=</span> Priority<span class="token punctuation">;</span>
	pNew<span class="token operator">-</span><span class="token operator">></span>Time <span class="token operator">=</span> Time<span class="token punctuation">;</span>
	pNew<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token comment">// printf("5\n");</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>pHead<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token comment">//插入前链表为空，新插入的节点为头节点</span>
		<span class="token punctuation">&#123;</span>
			pHead<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
			<span class="token comment">//p1=pHead;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">&#123;</span>
			<span class="token comment">//将地址为pNew的节点插入到首地址为pHead的链表的尾部</span>
			<span class="token comment">/*p1->next=pNew;
			p1=pNew;
			pNew->next=NULL;*/</span>
			p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
			<span class="token comment">//q=(nodelist *)malloc(sizeof(nodelist));</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>     <span class="token comment">//文件不为空，即pHead后面有数据</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>
				<span class="token punctuation">&#123;</span>
				q<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
			    p<span class="token operator">=</span>q<span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
				pNew<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">//只有头结点，即pHead后面无数据</span>
			<span class="token punctuation">&#123;</span>
				<span class="token comment">//将地址为pNew的节点插入到首地址为pHead的链表的尾部</span>
				p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
			    p<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
				pNew<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//显示链表中的数据</span>
<span class="token keyword">void</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token comment">/* 显示所有的结果 */</span>
	nodelist <span class="token operator">*</span>p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>pHead<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
			<span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s "</span><span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
				p<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">&#123;</span>
	  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"链表中啥都没有！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>


<span class="token keyword">void</span> <span class="token function">arithmetic</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token comment">//相关算法实现</span>
	nodelist <span class="token operator">*</span>p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
	nodelist <span class="token operator">*</span>q<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
	nodelist <span class="token operator">*</span>m<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
	int max<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">;</span>
	int flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	int i<span class="token punctuation">;</span>
	int sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	char firstName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	char ReturnProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	char FinallProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>ReturnProcessName<span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span><span class="token punctuation">(</span>pHead<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>

	<span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		sum<span class="token operator">+=</span>m<span class="token operator">-</span><span class="token operator">></span>Time<span class="token punctuation">;</span>
	    m<span class="token operator">=</span>m<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sum<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span> max <span class="token operator">&lt;</span> <span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>Time<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    max<span class="token operator">=</span> p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">;</span>
                    <span class="token function">strcpy</span><span class="token punctuation">(</span>ReturnProcessName<span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
					flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				p<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>

			<span class="token punctuation">&#125;</span>
				  	<span class="token keyword">while</span><span class="token punctuation">(</span>q<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
						<span class="token punctuation">&#123;</span>
							<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>q<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">,</span>ReturnProcessName<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                                <span class="token function">strcpy</span><span class="token punctuation">(</span>FinallProcessName<span class="token punctuation">,</span>q<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
								q<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token operator">--</span><span class="token punctuation">;</span>
								q<span class="token operator">-</span><span class="token operator">></span>Time<span class="token operator">--</span><span class="token punctuation">;</span>
							<span class="token punctuation">&#125;</span>
							q<span class="token operator">=</span>q<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
						<span class="token punctuation">&#125;</span>
					p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
					q<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
					max<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">;</span>
					<span class="token function">strcpy</span><span class="token punctuation">(</span>ReturnProcessName<span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token punctuation">&#125;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>FinallProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190513/HbsJqnfhPfHR.gif" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190513/Ge7alyBXmauM.gif" alt="mark"></p>
<h2 id="进程调度-3"><a class="markdownIt-Anchor" href="#进程调度-3">#</a> 进程调度 3</h2>
<p><strong>问题描述</strong>：</p>
<p>​ 要求输入 N 个进程（N 为正整型数，0&lt;N&lt;=25535），输出按照优先级从高到低执行的进程名字符串序列，直至结束。（如果遇到优先级一样，按照输入顺序先后执行。），本题中，优先数数值较高的进程，优先级也较高。</p>
<p><strong>输入格式</strong>：</p>
<p>​ 程序首先要求输入一个整型变量 N，接下来输入为 N 行，以回车符号作为分隔，每行有 3 个数据，以空格作为分隔。首先输入一个字符串（长度小于等于 10），该字符串为进程名。第 2 个数据类型为整型，表示进程的优先数。第 3 个数据类型为整型，表示进程的运行时间。</p>
<p><strong>输出格式</strong>：</p>
<p>​ 输出 1 行，M 个字符串，字符串之间用空格作为分隔。</p>
<p>样例输入 1：</p>
<p>3</p>
<p>P1 1 1</p>
<p>P2 2 2</p>
<p>P3 3 3</p>
<p>样例输出 1：</p>
<p>P3 P2 P3 P1 P2 P3</p>
<p>样例输入 2：</p>
<p>2</p>
<p>P1 3 3</p>
<p>P2 1 1</p>
<p>样例输出 2：</p>
<p>P1 P1 P1 P2</p>
<p>样例输入 3：</p>
<p>100</p>
<p>P0 0 1 P1 1 1 P2 2 1 P3 3 1 P4 4 1 P5 5 1 P6 6 1 P7 7 1 P8 8 1 P9 9 1 P10 10 1 P11 11 1 P12 12 1 P13 13 1 P14 14 1 P15 15 1 P16 16 1 P17 17 1 P18 18 1 P19 19 1 P20 20 1 P21 21 1 P22 22 1 P23 23 1 P24 24 1 P25 25 1 P26 26 1 P27 27 1 P28 28 1 P29 29 1 P30 30 1 P31 31 1 P32 32 1 P33 33 1 P34 34 1 P35 35 1 P36 36 1 P37 37 1 P38 38 1 P39 39 1 P40 40 1 P41 41 1 P42 42 1 P43 43 1 P44 44 1 P45 45 1 P46 46 1 P47 47 1 P48 48 1 P49 49 1 P50 50 1 P51 51 1 P52 52 1 P53 53 1 P54 54 1 P55 55 1 P56 56 1 P57 57 1 P58 58 1 P59 59 1 P60 60 1 P61 61 1 P62 62 1 P63 63 1 P64 64 1 P65 65 1 P66 66 1 P67 67 1 P68 68 1 P69 69 1 P70 70 1 P71 71 1 P72 72 1 P73 73 1 P74 74 1 P75 75 1 P76 76 1 P77 77 1 P78 78 1 P79 79 1 P80 80 1 P81 81 1 P82 82 1 P83 83 1 P84 84 1 P85 85 1 P86 86 1 P87 87 1 P88 88 1 P89 89 1 P90 90 1 P91 91 1 P92 92 1 P93 93 1 P94 94 1 P95 95 1 P96 96 1 P97 97 1 P98 98 1 P99 99 1</p>
<p>样例输出 3：</p>
<p>P100 P99 P98 P97 P96 P95 P94 P93 P92 P91 P90 P89 P88 P87 P86 P85 P84 P83 P82 P81 P80 P79 P78 P77 P76 P75 P74 P73 P72 P71 P70 P69 P68 P67 P66 P65 P64 P63 P62 P61 P60 P59 P58 P57 P56 P55 P54 P53 P52 P51 P50 P49 P48 P47 P46 P45 P44 P43 P42 P41 P40 P39 P38 P37 P36 P35 P34 P33 P32 P31 P30 P29 P28 P27 P26 P25 P24 P23 P22 P21 P20 P19 P18 P17 P16 P15 P14 P13 P12 P11 P10 P9 P8 P7 P6 P5 P4 P3 P2 P1</p>
<p><strong>源代码：</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">></span>
#include <span class="token operator">&lt;</span>string<span class="token punctuation">.</span>h<span class="token operator">></span> <span class="token comment">//strcpy()</span>
#include<span class="token operator">&lt;</span>stdlib<span class="token punctuation">.</span>h<span class="token operator">></span><span class="token comment">//malloc()</span>
<span class="token keyword">void</span> <span class="token function">insertQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int Priority<span class="token punctuation">,</span>int Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">arithmetic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
typedef struct process
<span class="token punctuation">&#123;</span>
	char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	int Priority<span class="token punctuation">;</span>
	int Time<span class="token punctuation">;</span>
	struct process <span class="token operator">*</span>next<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>nodelist<span class="token punctuation">;</span>

nodelist <span class="token operator">*</span>pHead<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//存放调度的首节点地址</span>

int <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token function">insertQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">arithmetic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// view();</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//添加问题</span>
<span class="token keyword">void</span> <span class="token function">insertQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int Priority<span class="token punctuation">,</span>int Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
    char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	int Priority<span class="token punctuation">;</span>
	int Time<span class="token punctuation">;</span>
    int i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int n<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
	  <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s %d %d"</span><span class="token punctuation">,</span>ProcessName<span class="token punctuation">,</span><span class="token operator">&amp;</span>Priority<span class="token punctuation">,</span><span class="token operator">&amp;</span>Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
	  <span class="token function">insertNode</span><span class="token punctuation">(</span>ProcessName<span class="token punctuation">,</span>Priority<span class="token punctuation">,</span>Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//将数据插入链表</span>
<span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span><span class="token parameter">char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int Priority<span class="token punctuation">,</span>int Time</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token comment">//申请存储空间</span>
	nodelist <span class="token operator">*</span>pNew<span class="token operator">=</span><span class="token punctuation">(</span>nodelist <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token function">sizeof</span><span class="token punctuation">(</span>nodelist<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	nodelist <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token operator">*</span>q<span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>pNew<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">,</span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pNew<span class="token operator">-</span><span class="token operator">></span>Priority <span class="token operator">=</span> Priority<span class="token punctuation">;</span>
	pNew<span class="token operator">-</span><span class="token operator">></span>Time <span class="token operator">=</span> Time<span class="token punctuation">;</span>
	pNew<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token comment">// printf("5\n");</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>pHead<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token comment">//插入前链表为空，新插入的节点为头节点</span>
		<span class="token punctuation">&#123;</span>
			pHead<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
			<span class="token comment">//p1=pHead;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">&#123;</span>
			<span class="token comment">//将地址为pNew的节点插入到首地址为pHead的链表的尾部</span>
			<span class="token comment">/*p1->next=pNew;
			p1=pNew;
			pNew->next=NULL;*/</span>
			p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
			<span class="token comment">//q=(nodelist *)malloc(sizeof(nodelist));</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>     <span class="token comment">//文件不为空，即pHead后面有数据</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>
				<span class="token punctuation">&#123;</span>
				q<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
			    p<span class="token operator">=</span>q<span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
				pNew<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">//只有头结点，即pHead后面无数据</span>
			<span class="token punctuation">&#123;</span>
				<span class="token comment">//将地址为pNew的节点插入到首地址为pHead的链表的尾部</span>
				p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
			    p<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
				pNew<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>

		<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//显示链表中的数据</span>
<span class="token keyword">void</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token comment">/* 显示所有的结果 */</span>
	nodelist <span class="token operator">*</span>p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>pHead<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>
			<span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s "</span><span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
				p<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">&#123;</span>
	  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"链表中啥都没有！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>


<span class="token keyword">void</span> <span class="token function">arithmetic</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token comment">//相关算法实现</span>
	nodelist <span class="token operator">*</span>p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
	nodelist <span class="token operator">*</span>q<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
	nodelist <span class="token operator">*</span>m<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
	int max<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">;</span>
	int flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	int i<span class="token punctuation">;</span>
	int sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	char firstName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	char ReturnProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>ReturnProcessName<span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span><span class="token punctuation">(</span>pHead<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#123;</span>

	<span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		sum<span class="token operator">+=</span>m<span class="token operator">-</span><span class="token operator">></span>Time<span class="token punctuation">;</span>
	    m<span class="token operator">=</span>m<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
    <span class="token comment">// printf("1\n");</span>
    <span class="token comment">// printf("%d\n",sum);</span>
    <span class="token comment">// printf("2\n");</span>


		<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sum<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		<span class="token punctuation">&#123;</span>
			<span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
			<span class="token punctuation">&#123;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span> max <span class="token operator">&lt;</span> <span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>Time<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    max<span class="token operator">=</span> p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">;</span>
                    <span class="token function">strcpy</span><span class="token punctuation">(</span>ReturnProcessName<span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
					flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
				p<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>

			<span class="token punctuation">&#125;</span>
					<span class="token comment">// printf("ReturnProcessName:%s\n", ReturnProcessName);</span>
                    <span class="token comment">//printf("q->ProcessName:%s\n",q->ProcessName);</span>
                    <span class="token comment">//printf("\n");</span>
				  	<span class="token keyword">while</span><span class="token punctuation">(</span>q<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
						<span class="token punctuation">&#123;</span>
							 <span class="token comment">// printf("ReturnProcessName:%s\n", ReturnProcessName);</span>
      						 <span class="token comment">// printf("q->ProcessName:%s\n",q->ProcessName);</span>
							<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>q<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">,</span>ReturnProcessName<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
								<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s "</span><span class="token punctuation">,</span>q<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
								q<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token operator">--</span><span class="token punctuation">;</span>
								q<span class="token operator">-</span><span class="token operator">></span>Time<span class="token operator">--</span><span class="token punctuation">;</span>
							<span class="token punctuation">&#125;</span>
							q<span class="token operator">=</span>q<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
						<span class="token punctuation">&#125;</span>
					p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
					q<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
					max<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>Priority<span class="token punctuation">;</span>
					<span class="token comment">// printf("\n");</span>
					<span class="token comment">// view();</span>
					<span class="token comment">// printf("\n");</span>

					<span class="token function">strcpy</span><span class="token punctuation">(</span>ReturnProcessName<span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190513/fWvr6o5WnCac.gif" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190513/UBx2BDfscUbD.gif" alt="mark"></p>
<h2 id="进程调度-4时间片轮转"><a class="markdownIt-Anchor" href="#进程调度-4时间片轮转">#</a> 进程调度 4：时间片轮转</h2>
<p><strong>问题描述</strong>：</p>
<p>​ 要求输入 N 个进程（0&lt;N&lt;=100），输入时间片 M（0&lt;M〈=5），按照进程输入的顺序以时间片轮转的方法输出指定的第 K 轮（K&gt;0）执行的那个进程的进程名。</p>
<p><strong>输入格式</strong>：</p>
<p>​ 程序首先输入一个正整数 M（0&lt;M〈=5）作为时间片，下一行输入一个正整数 N（0&lt;N&lt;=100），接下来输入为 N 行，以回车符号作为分隔，每行有 2 个数据，以空格作为分隔。第一个数据是字符串（长度小于等于 10），该字符串为进程名，第 2 个数据类型为整型，表示该进程需要的运行时间。最后输入一个正整数 K，作为时间片轮转的次数（次数从 1 开始计数）。</p>
<p><strong>输出格式</strong>：</p>
<p>​ 输出一个字符串，为最后执行进程的进程名；若无进程运行，则输出 “over”（不含双引号，所有字母皆为小写）。</p>
<p>样例输入 1：</p>
<p>1</p>
<p>3</p>
<p>P1 1</p>
<p>P2 2</p>
<p>P3 3</p>
<p>3</p>
<p>样例输出 1：P3</p>
<p>样例输入 2：</p>
<p>1</p>
<p>3</p>
<p>P1 1</p>
<p>P2 2</p>
<p>P3 3</p>
<p>10</p>
<p>样例输出 2：over</p>
<p>样例输入 3：</p>
<p>2</p>
<p>3</p>
<p>P1 1</p>
<p>P2 2</p>
<p>P3 3</p>
<p>4</p>
<p>样例输出 3：P3</p>
<p><em>代码展示：</em></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">></span>
#include <span class="token operator">&lt;</span>string<span class="token punctuation">.</span>h<span class="token operator">></span> <span class="token comment">//strcpy()</span>
#include<span class="token operator">&lt;</span>stdlib<span class="token punctuation">.</span>h<span class="token operator">></span><span class="token comment">//malloc()</span>
<span class="token keyword">void</span> <span class="token function">insertQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">arithmetic</span><span class="token punctuation">(</span>int <span class="token constant">M</span><span class="token punctuation">,</span>int n<span class="token punctuation">,</span>int count<span class="token punctuation">)</span><span class="token punctuation">;</span>
typedef struct process
<span class="token punctuation">&#123;</span>
    char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    int Priority<span class="token punctuation">;</span>
    int Time<span class="token punctuation">;</span>
    struct process <span class="token operator">*</span>next<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>nodelist<span class="token punctuation">;</span>

nodelist <span class="token operator">*</span>pHead<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//存放调度的首节点地址</span>

int <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token function">insertQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// view();</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//添加问题</span>
<span class="token keyword">void</span> <span class="token function">insertQuestion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">arithmetic</span><span class="token punctuation">(</span>int <span class="token constant">M</span><span class="token punctuation">,</span>int n<span class="token punctuation">,</span>int count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    int Priority<span class="token punctuation">;</span>
    int Time<span class="token punctuation">;</span>
    int i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int n<span class="token punctuation">;</span>
	int <span class="token constant">M</span><span class="token punctuation">;</span>
	int count<span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span><span class="token constant">M</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
      <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s %d"</span><span class="token punctuation">,</span>ProcessName<span class="token punctuation">,</span><span class="token operator">&amp;</span>Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">insertNode</span><span class="token punctuation">(</span>ProcessName<span class="token punctuation">,</span>Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">arithmetic</span><span class="token punctuation">(</span><span class="token constant">M</span><span class="token punctuation">,</span>n<span class="token punctuation">,</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//将数据插入链表</span>
<span class="token keyword">void</span> <span class="token function">insertNode</span><span class="token punctuation">(</span><span class="token parameter">char ProcessName<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int Time</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token comment">//申请存储空间</span>
    nodelist <span class="token operator">*</span>pNew<span class="token operator">=</span><span class="token punctuation">(</span>nodelist <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token function">sizeof</span><span class="token punctuation">(</span>nodelist<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    nodelist <span class="token operator">*</span>p<span class="token punctuation">,</span><span class="token operator">*</span>q<span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>pNew<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">,</span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pNew<span class="token operator">-</span><span class="token operator">></span>Time <span class="token operator">=</span> Time<span class="token punctuation">;</span>
    pNew<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token comment">// printf("5\n");</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pHead<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token comment">//插入前链表为空，新插入的节点为头节点</span>
        <span class="token punctuation">&#123;</span>
            pHead<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
            <span class="token comment">//p1=pHead;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">&#123;</span>
            <span class="token comment">//将地址为pNew的节点插入到首地址为pHead的链表的尾部</span>
            <span class="token comment">/*p1->next=pNew;
            p1=pNew;
            pNew->next=NULL;*/</span>
            p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
            <span class="token comment">//q=(nodelist *)malloc(sizeof(nodelist));</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>     <span class="token comment">//文件不为空，即pHead后面有数据</span>
            <span class="token punctuation">&#123;</span>
                <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#123;</span>
                q<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
                p<span class="token operator">=</span>q<span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
                pNew<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">//只有头结点，即pHead后面无数据</span>
            <span class="token punctuation">&#123;</span>
                <span class="token comment">//将地址为pNew的节点插入到首地址为pHead的链表的尾部</span>
                p<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
                p<span class="token operator">=</span>pNew<span class="token punctuation">;</span>
                pNew<span class="token operator">-</span><span class="token operator">></span>next<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>

        <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//显示链表中的数据</span>
<span class="token keyword">void</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token comment">/* 显示所有的结果 */</span>
    nodelist <span class="token operator">*</span>p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pHead<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#123;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s "</span><span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>Time<span class="token punctuation">)</span><span class="token punctuation">;</span>
                p<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">&#123;</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"链表中啥都没有！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>


<span class="token keyword">void</span> <span class="token function">arithmetic</span><span class="token punctuation">(</span><span class="token parameter">int <span class="token constant">M</span><span class="token punctuation">,</span>int n<span class="token punctuation">,</span>int count</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token comment">//相关算法实现</span>
    nodelist <span class="token operator">*</span>p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
    int index<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int forcount<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int Numcount<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int finallyNum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	 <span class="token comment">// printf("%d %d %d\n",M,n,count);</span>
     <span class="token comment">// printf("%d\n",count/n);</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">%</span>n<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        forcount<span class="token operator">=</span>count<span class="token operator">/</span>n<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
        forcount<span class="token operator">=</span>count<span class="token operator">/</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
     <span class="token comment">// printf("forcount:%d\n", forcount);</span>
     <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> forcount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
         <span class="token punctuation">&#123;</span>
                    <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#123;</span>

                        <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token operator">-</span><span class="token operator">></span>Time<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

                            p<span class="token operator">-</span><span class="token operator">></span>Time<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>Time <span class="token operator">-</span> <span class="token constant">M</span><span class="token punctuation">;</span>
                            <span class="token comment">// printf("%s\n",p->ProcessName);</span>
                            <span class="token comment">// view();</span>
                            <span class="token comment">// printf("\n");</span>
                            Numcount<span class="token operator">++</span><span class="token punctuation">;</span>
                            <span class="token comment">// printf("%d\n",Numcount);</span>
                            finallyNum<span class="token operator">=</span>Numcount<span class="token punctuation">;</span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>Numcount<span class="token operator">==</span>count<span class="token punctuation">)</span>
                            <span class="token punctuation">&#123;</span>
                              <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>p<span class="token operator">-</span><span class="token operator">></span>ProcessName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">&#125;</span>
                        <span class="token punctuation">&#125;</span>

                         p<span class="token operator">=</span>p<span class="token operator">-</span><span class="token operator">></span>next<span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                    p<span class="token operator">=</span>pHead<span class="token punctuation">;</span>
         <span class="token punctuation">&#125;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>finallyNum <span class="token operator">&lt;</span> count<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"over\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190522/EE00fbgzk6Ho.gif" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190522/FAQDVGbxoawJ.gif" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190522/ddwSvMe4TwsW.gif" alt="mark"></p>
<hr>
<h2 id="存储管理-1"><a class="markdownIt-Anchor" href="#存储管理-1">#</a> 存储管理 1</h2>
<p><strong>问题描述</strong>：</p>
<p>​ 现有一个 8*8 的存储器，要对其空间进行分配。（下标从 0 开始，最后一个内存块下标为 63）。现已有块号为 1、7、13、23、47、59 的几个内存块被占用。现操作系统要求申请 N 块内存空间（0&lt;N&lt;=64），当输入的块数 N 超出其剩余空闲块数的时候，输出为 “false”，当输入为合理范围的时候，就输出其以行主序分配的最后一个内存空间的下标。</p>
<p><strong>输入格式：</strong></p>
<p>​ 程序要求输入一个整型数 N，表示要申请分配空间的大小。</p>
<p><strong>输出格式</strong>：</p>
<p>​ 输出为一个整型数，表示最后一个被分配空间的下标。</p>
<p>样例输入 1：</p>
<p>3</p>
<p>样例输出 1：</p>
<p>3</p>
<p>样例输入 2：</p>
<p>100</p>
<p>样例输出 2：</p>
<p>false</p>
<p>样例输入 3：</p>
<p>50</p>
<p>样例输出 3：</p>
<p>54</p>
<p><em>源代码</em>：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">></span>
int <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    int arr<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    int i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int n<span class="token punctuation">;</span>
    int count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">47</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">59</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token operator">></span><span class="token number">58</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
    	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"false\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
    	 <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		    <span class="token punctuation">&#123;</span>
		    	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
		    	<span class="token punctuation">&#123;</span>
		    		count<span class="token operator">++</span><span class="token punctuation">;</span>
		   		<span class="token punctuation">&#125;</span>
		 	<span class="token punctuation">&#125;</span>
 	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> count<span class="token operator">+</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190522/fhJf38dsniWT.gif" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190522/G8b9fg3D0LVM.gif" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190522/cy8XL8vNxJrJ.gif" alt="mark"></p>
<h2 id="存储管理-2"><a class="markdownIt-Anchor" href="#存储管理-2">#</a> 存储管理 2</h2>
<p><strong>问题描述</strong>：</p>
<p>​ 现有一个 8*8 的存储器，要对其空间进行分配。（下标从 0 开始，最后一个内存块下标为 63）。现已有块号为 2、7、13、23、37、47、59、61 的几个内存块被占用。要求输入需分配的进程数 M（0&lt;M&lt;=56），接下来输入为 M 个整型数，每个数为各个进程需占用的内存块数。当分配到某进程时，其剩余空闲块数可以分配，就输出当前进程分配的最后一个内存空间的下标。当分配到某进程时，其进程块数超出剩余空闲块数无法分配，输出为 “false”（不含双引号，且为全小写）。输出的多个下标（或 &quot;false&quot;）之间用空格隔开。</p>
<p><strong>输入格式</strong>：</p>
<p>​ 程序输入分为两行，第一行要求输入一个整型数 M，表示要所需分配空间的进程数，接下来的第二行输入 M 个整型数，每个数之间用空格隔开，表示 M 个进程每个进程占用的内存空间大小。</p>
<p><strong>输出格式：</strong></p>
<p>​ 输出为 M 组整型数（或 &quot;false&quot;），每个整型数表示该进程最后一个被分配的内存空间的下标（或 &quot;false&quot;），下标（或 &quot;false&quot;）之间用空格隔开。</p>
<p>样例输入 1：</p>
<p>3</p>
<p>3 3 3</p>
<p>样例输出 1：</p>
<p>3 6 10</p>
<p>样例输入 2：</p>
<p>4</p>
<p>3 3 64 3</p>
<p>样例输出 2：</p>
<p>3 6 false 10</p>
<p><em>源代码：</em></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">></span>
#include <span class="token operator">&lt;</span>string<span class="token punctuation">.</span>h<span class="token operator">></span>
int <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
  <span class="token keyword">void</span> <span class="token function">funsave</span><span class="token punctuation">(</span>int n<span class="token punctuation">,</span>int arr<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int residue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    int arr<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    int num<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    int inputnum<span class="token punctuation">;</span>
    int i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int x<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    int sumsheng<span class="token operator">=</span><span class="token number">56</span><span class="token punctuation">;</span>
    char thirdName<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    char str<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    int getInTStr<span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">37</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">41</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">47</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">59</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">61</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>inputnum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> inputnum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>sumsheng<span class="token operator">></span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
           sumsheng<span class="token operator">=</span>sumsheng<span class="token operator">-</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
      x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>sumsheng<span class="token punctuation">;</span>

    <span class="token punctuation">&#125;</span>

     <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> inputnum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
     <span class="token punctuation">&#123;</span>
      <span class="token function">funsave</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>arr<span class="token punctuation">,</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">void</span> <span class="token function">funsave</span><span class="token punctuation">(</span><span class="token parameter">int n<span class="token punctuation">,</span>int arr<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int residue</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    int i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int indexI<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int arr1<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    int arr2<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    int finallyIndex<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int arrindex<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int arrindex2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token comment">// printf("start n:%d\n",n);</span>
    <span class="token comment">// printf("getInTStr:%d\n",getInTStr);</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token operator">></span>residue<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"false "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
       <span class="token punctuation">&#123;</span>
         <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
          <span class="token punctuation">&#123;</span>
            count<span class="token operator">++</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
       <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token operator">+</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
         <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#123;</span>
                arr2<span class="token punctuation">[</span>arrindex2<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>
                arrindex2<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
         <span class="token punctuation">&#125;</span>
         <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> n<span class="token operator">+</span>count<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">64</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
          <span class="token punctuation">&#123;</span>
            indexI<span class="token operator">=</span>i<span class="token punctuation">;</span>
            goto <span class="token constant">LOOP</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

       <span class="token constant">LOOP</span><span class="token operator">:</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span>indexI<span class="token punctuation">;</span>i<span class="token operator">&lt;</span>indexI<span class="token operator">+</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
          <span class="token punctuation">&#123;</span>
            count<span class="token operator">++</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> indexI<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> indexI<span class="token operator">+</span>count<span class="token operator">+</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
         <span class="token punctuation">&#123;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
          <span class="token punctuation">&#123;</span>
            finallyIndex<span class="token operator">=</span>i<span class="token punctuation">;</span>
            arr1<span class="token punctuation">[</span>arrindex<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>
          arrindex<span class="token operator">=</span>arrindex<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>

          <span class="token punctuation">&#125;</span>
            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
         <span class="token punctuation">&#125;</span>
         <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> finallyIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token punctuation">&#125;</span>


    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190523/iyJhP4Rqt9KS.gif" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190523/ri4eCOgCqxI1.gif" alt="mark"></p>
<h2 id="储存管理-3"><a class="markdownIt-Anchor" href="#储存管理-3">#</a> 储存管理 3</h2>
<p><strong>问题描述：</strong></p>
<p>​ 现有一个 8*8 的存储器，要对其已分配的空间进行分配及回收。（下标从 0 开始，最后一个内存块下标为 63）。现已有块号为 2、7、13、23、37、41、47、59、61 的几个内存块被占用。要求输入需分配的进程数 M（0&lt;M&lt;=55），接下来输入为 M 个整型数，每个数为各个进程需占用的内存块数。当分配到某进程时，其剩余空闲块数可以分配，就输出当前进程分配的最后一个内存空间的下标。当分配到某进程时，其进程块数超出剩余空闲块数无法分配，输出为 “false”（不含双引号，且为全小写）。输出的多个下标（或 &quot;false&quot;）之间用空格隔开。以上进程不管是否分配成功，按照输入顺序依次命名为 p1、p2、p3………pM。回收的时候输入进程名 pN，则返回进程名为 pN 的所有占用内存块号下标，如果该进程名不存在或输入的数值为不合理范围，则返回 “false”。</p>
<p><strong>输入格式：</strong></p>
<p>​ 程序输入分为三行，第一行是一个整型数 M，表示要所需分配空间的进程数，第二行为 M 个整型数，每个数之间用空格隔开，表示 M 个进程每个进程占用的内存空间大小。第三行为需要回收的进程名 pN，p 为小写字母，N 为正整型数。</p>
<p><strong>输出格式：</strong></p>
<p>​ 输出为两行，第一行为一组整型数，每个整型数表示该进程最后一个被分配的内存空间的下标，下标之间用空格隔开。第二行为一组整型数，表示被回收的进程的内存块下标，多个下标之间用空格隔开。</p>
<p>样例输入 1：</p>
<p>3</p>
<p>3 3 3</p>
<p>p3</p>
<p>样例输出 1：</p>
<p>3 6 10</p>
<p>8 9 10</p>
<p>样例输入 2：</p>
<p>4</p>
<p>3 3 64 3</p>
<p>p3</p>
<p>样例输出 2：</p>
<p>3 6 false 10</p>
<p>false</p>
<p><em>源代码：</em></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">></span>
#include <span class="token operator">&lt;</span>string<span class="token punctuation">.</span>h<span class="token operator">></span>
int <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	int <span class="token operator">*</span><span class="token function">funsave</span><span class="token punctuation">(</span>int n<span class="token punctuation">,</span>int arr<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int residue<span class="token punctuation">,</span>int getInTStr<span class="token punctuation">,</span>int indexflag<span class="token punctuation">,</span>int num<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    int arr<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    int num<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    int inputnum<span class="token punctuation">;</span>
    int i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int x<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    int sumsheng<span class="token operator">=</span><span class="token number">56</span><span class="token punctuation">;</span>
    char thirdName<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    char str<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    int getInTStr<span class="token punctuation">;</span>
     int <span class="token operator">*</span>p<span class="token punctuation">;</span>
     int indexflag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">37</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">41</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">47</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">59</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">61</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>inputnum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> inputnum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>sumsheng<span class="token operator">></span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#123;</span>
        	 sumsheng<span class="token operator">=</span>sumsheng<span class="token operator">-</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
 			x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>sumsheng<span class="token punctuation">;</span>

    <span class="token punctuation">&#125;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>thirdName<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">strncpy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> thirdName<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	getInTStr<span class="token operator">=</span><span class="token function">atoi</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> inputnum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
     <span class="token punctuation">&#123;</span>
     	p<span class="token operator">=</span><span class="token function">funsave</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>arr<span class="token punctuation">,</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>getInTStr<span class="token punctuation">,</span>indexflag<span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>

     		indexflag<span class="token operator">=</span>indexflag<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
     <span class="token punctuation">&#125;</span>
     <span class="token comment">// printf("sumsheng:%d\n", sumsheng);</span>
     <span class="token comment">// for(i=0;i&lt;inputnum;i++)&#123;</span>
     <span class="token comment">//       printf("%d ",num[i]);</span>
     <span class="token comment">//   &#125;</span>
       <span class="token comment">// printf("\n");</span>
       <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>inputnum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
           <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">></span>sumsheng<span class="token operator">&amp;&amp;</span>getInTStr<span class="token operator">==</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
           		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"false\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span>
       <span class="token punctuation">&#125;</span>
       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>getInTStr<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
       <span class="token punctuation">&#123;</span>
	       <span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span>
		   <span class="token punctuation">&#123;</span>
		       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		   <span class="token punctuation">&#125;</span>
       <span class="token punctuation">&#125;</span>



	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

int <span class="token operator">*</span><span class="token function">funsave</span><span class="token punctuation">(</span><span class="token parameter">int n<span class="token punctuation">,</span>int arr<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">,</span>int residue<span class="token punctuation">,</span>int getInTStr<span class="token punctuation">,</span>int indexflag<span class="token punctuation">,</span>int num<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    int i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int indexI<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span>  int arr1<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span>  int arr2<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    int finallyIndex<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int arrindex<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    int arrindex2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token comment">// printf("start n:%d\n",n);</span>
    <span class="token comment">// printf("getInTStr:%d\n",getInTStr);</span>
    <span class="token comment">//</span>
    <span class="token comment">// for(i=0;i&lt;10;i++)&#123;</span>
    <span class="token comment">// 	printf("%d ", num[i]);</span>
    <span class="token comment">// &#125;</span>
    <span class="token comment">// printf("\n");</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token operator">></span>residue<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
    	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"false "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
    	 <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
    	 <span class="token punctuation">&#123;</span>
    	 	 <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		    <span class="token punctuation">&#123;</span>
		    	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
		    	<span class="token punctuation">&#123;</span>
		    		count<span class="token operator">++</span><span class="token punctuation">;</span>
		   		<span class="token punctuation">&#125;</span>
		 	<span class="token punctuation">&#125;</span>
		 	 <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token operator">+</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
			   <span class="token punctuation">&#123;</span>
			   	  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
			   	  <span class="token punctuation">&#123;</span>
			   	      arr2<span class="token punctuation">[</span>arrindex2<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>
			   	      arrindex2<span class="token operator">++</span><span class="token punctuation">;</span>
			   	  <span class="token punctuation">&#125;</span>
			   	  arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			   <span class="token punctuation">&#125;</span>
			   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> n<span class="token operator">+</span>count<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    	 <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
    	 	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">64</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    	 	<span class="token punctuation">&#123;</span>
    	 		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
    	 		<span class="token punctuation">&#123;</span>
    	 			indexI<span class="token operator">=</span>i<span class="token punctuation">;</span>
    	 			goto <span class="token constant">LOOP</span><span class="token punctuation">;</span>
    	 		<span class="token punctuation">&#125;</span>
    	 	<span class="token punctuation">&#125;</span>

    	 <span class="token constant">LOOP</span><span class="token operator">:</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span>indexI<span class="token punctuation">;</span>i<span class="token operator">&lt;</span>indexI<span class="token operator">+</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    	 		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
		    	<span class="token punctuation">&#123;</span>
		    		count<span class="token operator">++</span><span class="token punctuation">;</span>
		   		<span class="token punctuation">&#125;</span>
    	 	<span class="token punctuation">&#125;</span>
    	 	<span class="token comment">// printf("indexflag:%d\n", indexflag);</span>
    	 	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> indexI<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> indexI<span class="token operator">+</span>count<span class="token operator">+</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
			   <span class="token punctuation">&#123;</span>
			   	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
			   	<span class="token punctuation">&#123;</span>
			   		finallyIndex<span class="token operator">=</span>i<span class="token punctuation">;</span>
			   		arr1<span class="token punctuation">[</span>indexflag<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>arrindex<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>
					arrindex<span class="token operator">=</span>arrindex<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
			   	<span class="token punctuation">&#125;</span>
			   	  arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			   <span class="token punctuation">&#125;</span>
			    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> finallyIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    			<span class="token punctuation">&#125;</span>
    	 <span class="token punctuation">&#125;</span>



    	 <span class="token keyword">if</span> <span class="token punctuation">(</span>getInTStr<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
    	 <span class="token punctuation">&#123;</span>
    	 	<span class="token keyword">return</span> arr2<span class="token punctuation">;</span>
    	 <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>

    	 	<span class="token comment">// printf("getInTStr:%d\n", getInTStr);</span>
       <span class="token comment">//       printf("n:%d\n",n );</span>
       <span class="token comment">//       printf("indexflag:%d\n",indexflag );</span>
    	 	<span class="token comment">// for(i=0;i&lt;10;i++)</span>
			    <span class="token comment">// &#123;</span>
			    <span class="token comment">//     for(j=0;j&lt; 10;j++)</span>
			    <span class="token comment">//     &#123;</span>
			    <span class="token comment">//         printf("%d\t",arr1[i][j]);//访问i行j列的二维数组元素</span>
			    <span class="token comment">//     &#125;</span>
			    <span class="token comment">//     printf("\n");</span>
			    <span class="token comment">// &#125;</span>

             <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token operator">&lt;=</span>residue<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>


             	 <span class="token keyword">if</span> <span class="token punctuation">(</span>indexflag<span class="token operator">+</span><span class="token number">1</span><span class="token operator">>=</span>n<span class="token punctuation">)</span>
				 <span class="token punctuation">&#123;</span>
				 		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>num<span class="token punctuation">[</span>getInTStr<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
				        <span class="token punctuation">&#123;</span>
				        	<span class="token keyword">if</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>getInTStr<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
 									<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>arr1<span class="token punctuation">[</span>getInTStr<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//访问i行j列的二维数组元素</span>
				        	<span class="token punctuation">&#125;</span>

				        <span class="token punctuation">&#125;</span>
				 <span class="token punctuation">&#125;</span>

			<span class="token punctuation">&#125;</span>



    	 <span class="token punctuation">&#125;</span>

   <span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190602/famTkQ0URtAP.gif" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190602/u7GSImrnET42.gif" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190602/upFLuGwWxBsR.gif" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190602/KXkISHw5iD2s.gif" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0%E5%AE%9E%E8%AE%AD/" rel="tag">学习实训</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6/" rel="tag">进程调度</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-ReactLearn03"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/12/ReactLearn03/"
    >React 学习第三天</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/05/12/ReactLearn03/" class="article-date">
  <time datetime="2019-05-12T05:10:24.000Z" itemprop="datePublished">2019-05-12</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/React/">React</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="react-第三天学习"><a class="markdownIt-Anchor" href="#react-第三天学习">#</a> React 第三天学习</h2>
<blockquote>
<p>在 react 项目中 添加样式</p>
<p>加载外部 css 样式文件</p>
<p>css 样式作用域的问题（modules，localIdentName， local 和 global）</p>
<p>在 React 项目中 使用 bootsrtap（ 使用 sass ）</p>
<p>React 中 绑定事件</p>
<p>React 中双向绑定事件（e.target.value 和 this.refs.txt.value）</p>
<p>React 组件的生命周期</p>
<p>Dream what you want to dream; go where you want to go; be what you want to be, because you have only one life and one chance to do all the things you want to do！</p>
<p>做你想做的梦吧，去你想去的地方吧，成为你想成为的人吧，因为你只有一次生命，一个机会去做所有那些你想做的事。</p>
</blockquote>
<h2 id="在-react-项目中-添加样式"><a class="markdownIt-Anchor" href="#在-react-项目中-添加样式">#</a> 在 react 项目中 添加样式</h2>
<h3 id="第一种方式"><a class="markdownIt-Anchor" href="#第一种方式">#</a> 第一种方式：</h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>h1 style<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> color<span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span> fontSize<span class="token operator">:</span> <span class="token string">"50px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token operator">></span>这是评论列表组件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="第一层封装"><a class="markdownIt-Anchor" href="#第一层封装">#</a> 第一层封装：</h4>
<p><strong>将样式对象抽离出来</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> cmtStyle<span class="token operator">=</span><span class="token punctuation">&#123;</span>color<span class="token operator">:</span><span class="token string">'red'</span><span class="token punctuation">,</span>fontSize<span class="token operator">:</span><span class="token string">'30px'</span><span class="token punctuation">&#125;</span>

<span class="token operator">&lt;</span>h1 style<span class="token operator">=</span><span class="token punctuation">&#123;</span>cmtStyle<span class="token punctuation">&#125;</span><span class="token operator">></span>这是评论列表组件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="第二层封装"><a class="markdownIt-Anchor" href="#第二层封装">#</a> 第二层封装：</h4>
<p><strong>合并成一个大的样式对象</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> styles <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  Item<span class="token operator">:</span> <span class="token punctuation">&#123;</span> border<span class="token operator">:</span> <span class="token string">"1px dashed #ccc"</span><span class="token punctuation">,</span> margin<span class="token operator">:</span> <span class="token string">"10px 10px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  user<span class="token operator">:</span> <span class="token punctuation">&#123;</span> color<span class="token operator">:</span> <span class="token string">"#333"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  content<span class="token operator">:</span> <span class="token punctuation">&#123;</span> color<span class="token operator">:</span> <span class="token string">"green"</span><span class="token punctuation">,</span> fontSize<span class="token operator">:</span> <span class="token string">"22px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">CmtItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">&#123;</span>styles<span class="token punctuation">.</span>Item<span class="token punctuation">&#125;</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>h3 style<span class="token operator">=</span><span class="token punctuation">&#123;</span>styles<span class="token punctuation">.</span>user<span class="token punctuation">&#125;</span><span class="token operator">></span>评论人：<span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>user<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>
      <span class="token operator">&lt;</span>p style<span class="token operator">=</span><span class="token punctuation">&#123;</span>styles<span class="token punctuation">.</span>content<span class="token punctuation">&#125;</span><span class="token operator">></span>评论内容：<span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>content<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190508/ivSmbt2swrg3.png?imageslim" alt="mark"></p>
<h4 id="第三层封装"><a class="markdownIt-Anchor" href="#第三层封装">#</a> 第三层封装</h4>
<p><strong>抽离为单独的 样式表模块</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190508/Gg6ricXHCgO0.png?imageslim" alt="mark"></p>
<p><em>CmtItem.jsx</em>：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> 'react
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'@/components/styles'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">CmtItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">&#123;</span>styles<span class="token punctuation">.</span>Item<span class="token punctuation">&#125;</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>h3 style<span class="token operator">=</span><span class="token punctuation">&#123;</span>styles<span class="token punctuation">.</span>user<span class="token punctuation">&#125;</span><span class="token operator">></span>评论人：<span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>user<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>
        <span class="token operator">&lt;</span>p style<span class="token operator">=</span><span class="token punctuation">&#123;</span>styles<span class="token punctuation">.</span>content<span class="token punctuation">&#125;</span><span class="token operator">></span>评论内容：<span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>content<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>styles.js</em>:</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  Item<span class="token operator">:</span> <span class="token punctuation">&#123;</span> border<span class="token operator">:</span> <span class="token string">"1px dashed #ccc"</span><span class="token punctuation">,</span> margin<span class="token operator">:</span> <span class="token string">"10px 10px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  user<span class="token operator">:</span> <span class="token punctuation">&#123;</span> color<span class="token operator">:</span> <span class="token string">"#333"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  content<span class="token operator">:</span> <span class="token punctuation">&#123;</span> color<span class="token operator">:</span> <span class="token string">"green"</span><span class="token punctuation">,</span> fontSize<span class="token operator">:</span> <span class="token string">"22px"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="加载外部-css-样式文件"><a class="markdownIt-Anchor" href="#加载外部-css-样式文件">#</a> 加载外部 css 样式文件</h2>
<p><em>index.js</em>:</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span> <span class="token comment">//创建组件，虚拟DOM元素，生命周期</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span> <span class="token comment">//把创建好的 组件 和 虚拟DOM 放到页面上展示的</span>

<span class="token keyword">import</span> CmtList <span class="token keyword">from</span> <span class="token string">"@/components/CmtList"</span><span class="token punctuation">;</span>

<span class="token comment">//使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>CmtList<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>CmtList<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>CmtList.jsx</em>：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> CmtItem <span class="token keyword">from</span> <span class="token string">'@/components/CmtItem'</span>

<span class="token keyword">const</span> cmtStyle <span class="token operator">=</span> <span class="token punctuation">&#123;</span>color<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> fontSize<span class="token operator">:</span> <span class="token string">'30px'</span><span class="token punctuation">,</span> textAlign<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">&#125;</span>
<span class="token keyword">import</span> cssobj <span class="token keyword">from</span> cmtList<span class="token punctuation">.</span>scss


<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">CmtList</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
            CommentList<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'哈哈哈哈哈'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'打游戏'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">'王五'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'唱歌，喝酒'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">'王麦子'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'到处happy'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">'周琛'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'帅的不要不要了！'</span><span class="token punctuation">&#125;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>
            <span class="token operator">&lt;</span>h1<span class="token operator">></span>这是评论列表组件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
            <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>CommentList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span>
                <span class="token operator">&lt;</span>CmtItem <span class="token punctuation">&#123;</span><span class="token operator">...</span>item<span class="token punctuation">&#125;</span> key<span class="token operator">=</span><span class="token punctuation">&#123;</span>item<span class="token punctuation">.</span>id<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>CmtItem<span class="token operator">></span>
            <span class="token punctuation">)</span><span class="token punctuation">&#125;</span>

        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>CmtItem.jsx</em>：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">"@/components/styles"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">CmtItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">&#123;</span>styles<span class="token punctuation">.</span>Item<span class="token punctuation">&#125;</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>h1 style<span class="token operator">=</span><span class="token punctuation">&#123;</span>styles<span class="token punctuation">.</span>user<span class="token punctuation">&#125;</span><span class="token operator">></span>评论人：<span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>user<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token operator">&lt;</span>p<span class="token operator">></span>评论内容：<span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>content<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><em>webpack.config.js</em>:</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"html-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> htmlplugin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  template<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src/index.html"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  filename<span class="token operator">:</span> <span class="token string">"index.html"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  mode<span class="token operator">:</span> <span class="token string">"production"</span><span class="token punctuation">,</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    port<span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
    contentBase<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>htmlplugin<span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">&#123;</span>
        test<span class="token operator">:</span> <span class="token regex">/\.m?js|jsx$/</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex">/(node_modules|bower_components)/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
          loader<span class="token operator">:</span> <span class="token string">"babel-loader"</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token string">"@babel/preset-env"</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span>
                <span class="token string">"@babel/preset-react"</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>
                  pragmaFrag<span class="token operator">:</span> <span class="token string">"DomFrag"</span><span class="token punctuation">,</span> <span class="token comment">// default is React.Fragment</span>
                  throwIfNamespace<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// defaults to true</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@babel/plugin-proposal-class-properties"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#123;</span> test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span> use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"style-loader,css-loader"</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".js"</span><span class="token punctuation">,</span> <span class="token string">".jsx"</span><span class="token punctuation">,</span> <span class="token string">".json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token string">"@"</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./src"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//这样，@ 就表示 项目根目录中 的src 这一层路径</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="配置好相应的文件后但是却意外的发生了错误"><a class="markdownIt-Anchor" href="#配置好相应的文件后但是却意外的发生了错误">#</a> 配置好相应的文件后，但是却意外的发生了错误！</h4>
<p><img src="http://static.zxinc520.com/blog/20190511/GMbDLo9GrxeD.png?imageslim" alt="mark"></p>
<p>查阅资料：参考 [<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/35171288/error-cannot-resolve-module-style-loader">Error: Cannot resolve module ‘style-loader’</a>](<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/35171288/error-cannot-resolve-module-style-loader">https://stackoverflow.com/questions/35171288/error-cannot-resolve-module-style-loader</a>)</p>
<p>但是不知咋地，我瞎弄了一下，突然就好了！~</p>
<p><em>结果</em>：</p>
<p><img src="http://static.zxinc520.com/blog/20190509/o8CRGPxVP3S2.png?imageslim" alt="mark"></p>
<h1 id="引出-css-样式作用域的问题"><a class="markdownIt-Anchor" href="#引出-css-样式作用域的问题">#</a> 引出 css 样式作用域的问题</h1>
<h4 id="给普通样式表加模块化"><a class="markdownIt-Anchor" href="#给普通样式表加模块化">#</a> 给普通样式表加模块化</h4>
<blockquote>
<p>CSS MODULE 是一种 css in javascript 的方式，当我们把一个 css 文件 import 到一个 js 模块时，这个 css 文件会暴露一个对象，这个对象映射所有的本地和全局 css 类名</p>
</blockquote>
<p>​ <a target="_blank" rel="noopener" href="https://juejin.im/entry/5826e755c4c9710054313d6e">你真的知道 css-loader 怎么用吗？</a></p>
<h2 id="modules"><a class="markdownIt-Anchor" href="#modules">#</a> modules</h2>
<p><strong>操作</strong>：</p>
<ul>
<li>配置 <strong><em>webpack.config.js</em></strong>: 追加参数 <em>modules</em>：表示为 普通的 css 样式表，启用模块化。</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">&#123;</span>test<span class="token operator">:</span><span class="token regex">/\.css$/</span><span class="token punctuation">,</span>use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader?modules'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>注意</strong>：</p>
<ul>
<li>css 模块化，只针对 <strong>类选择器</strong> 和 <strong>Id 选择器</strong>生效。</li>
<li>css 模块化，不会将 <strong>标签选择器</strong> 模块化。</li>
</ul>
<p><strong>使用</strong>：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> cssobj <span class="token keyword">from</span> cmtList<span class="token punctuation">.</span>scss

<span class="token operator">&lt;</span>h1 className<span class="token operator">=</span><span class="token punctuation">&#123;</span>cssobj<span class="token punctuation">.</span>title<span class="token punctuation">&#125;</span><span class="token operator">></span>这是评论列表组件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190509/uBEiMLCl4Po1.png?imageslim" alt="mark"></p>
<h2 id="localidentname"><a class="markdownIt-Anchor" href="#localidentname">#</a> localIdentName</h2>
<blockquote>
<p>通常 modules 参数还要通过 localIdentName 的配合来设置 css 的类名。在上文中我们看到没有设置 localIdentName 的 css 编译后是一串随机字符串，可读性很差，因此我们还需要对它的类名进行处理，这就用到了 localIdentName。</p>
</blockquote>
<p><img src="http://static.zxinc520.com/blog/20190509/LmY7Up6tjWsL.png?imageslim" alt="mark"></p>
<p>使用 localIdentName 设置 css-modules 模式下 local 类名的命名。</p>
<p><em>例如</em>：</p>
<p>【path】：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">&#123;</span>test<span class="token operator">:</span><span class="token regex">/\.css$/</span><span class="token punctuation">,</span>use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader?modules&amp;localIdentName=[path]'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190511/6kzRvdhhMCya.png?imageslim" alt="mark"></p>
<p>【path】【name】：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">&#123;</span>test<span class="token operator">:</span><span class="token regex">/\.css$/</span><span class="token punctuation">,</span>use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader?modules&amp;localIdentName=[path][name]'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190511/1fSFPLQWlGcr.png?imageslim" alt="mark"></p>
<p>【path】【name】【local】：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">&#123;</span>test<span class="token operator">:</span><span class="token regex">/\.css$/</span><span class="token punctuation">,</span>use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader?modules&amp;localIdentName=[path][name]-[local]'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190509/mnElXq2M49y5.png?imageslim" alt="mark"></p>
<p>【path】【name】【local】【hash】：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">&#123;</span>test<span class="token operator">:</span><span class="token regex">/\.css$/</span><span class="token punctuation">,</span>use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader?modules&amp;localIdentName=[path][name]-[local]-[hash]'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190511/f0mCgGRosdOV.png?imageslim" alt="mark"></p>
<h2 id="通过-local-和-global-设置类名是否被模块化"><a class="markdownIt-Anchor" href="#通过-local-和-global-设置类名是否被模块化">#</a> 通过 local 和 global 设置类名是否被模块化</h2>
<blockquote>
<p>被 <strong>:local()</strong> 包裹起来的类名，会被模块化，默认情况下，所有的类名和 ID 都被模块化了。</p>
<p>被 :global () 包裹起来的类名，不会被模块化，而会全局生效。</p>
</blockquote>
<p><strong>需求</strong>：</p>
<p><img src="http://static.zxinc520.com/blog/20190511/1nDtTim2qWpX.png?imageslim" alt="mark"></p>
<p>解决方案： <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/23843710">可以参考</a></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">:global(.test)</span> <span class="token punctuation">&#123;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 10px 10px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>结果</strong> ：</p>
<ul>
<li>test 类名 <em>未被模块化</em> ，而是 <em>全局生效</em>：</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190509/mxSgHjcOQL7t.png?imageslim" alt="mark"></p>
<h2 id="在-react-项目中-使用-bootsrtap"><a class="markdownIt-Anchor" href="#在-react-项目中-使用-bootsrtap">#</a> 在 React 项目中 使用 bootsrtap</h2>
<ol>
<li>安装 bootstrap 我一般使用 3.3.7 版本</li>
</ol>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">npm i bootstrap@3.3.7 -S<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="2">
<li>安装 相关 路径 图标 加载依赖</li>
</ol>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">npm i url-loader file-loader -D<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="3">
<li>配置 webpack-config-js 文件</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">&#123;</span>test<span class="token operator">:</span><span class="token regex">/\.ttf|woff|woff2|eot|svg$/</span><span class="token punctuation">,</span>use<span class="token operator">:</span><span class="token string">'url-loader'</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="4">
<li>导入 <strong>bootstrap 包</strong> 并且 使用 <em>bootstrap 类</em></li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> bootcss <span class="token keyword">from</span> <span class="token string">"bootstrap/dist/css/bootstrap.min.css"</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span>bootcss<span class="token punctuation">.</span>btn<span class="token punctuation">,</span> bootcss<span class="token punctuation">[</span><span class="token string">"btn-primary"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token operator">></span>
  点我
<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190509/AIA3b6TmGWOP.png?imageslim" alt="mark"></p>
<h3 id="升级"><a class="markdownIt-Anchor" href="#升级">#</a> 升级：</h3>
<p>问题：className={[bootcss.btn,bootcss [‘btn-primary’]].join (’ ')} <strong>这样调用太麻烦了</strong></p>
<blockquote>
<p><em>自己规定</em>：</p>
<p><strong>第三方的 样式表</strong>：(例如: bootsrtap 等) 都是以 .css 结尾，这样，我们不要为普通的 .css 启用模块化。</p>
<p><strong>自己定义样式表</strong>：都要以 .scss 或 .less 结尾，只为 .scss 或 .less 结尾的启用模块化。</p>
</blockquote>
<h3 id="使用-sass"><a class="markdownIt-Anchor" href="#使用-sass">#</a> 使用 sass</h3>
<blockquote>
<p>​ <a target="_blank" rel="noopener" href="https://www.cnblogs.com/wangpenghui522/p/5467560.html">Sass/Scss、Less 是什么？</a></p>
</blockquote>
<ol>
<li>安装：</li>
</ol>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">npm i sass-loader node-sass -D<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="2">
<li>配置 <em>webpack.comfig.js</em> :</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">&#123;</span>test<span class="token operator">:</span><span class="token regex">/\.css$/</span><span class="token punctuation">,</span>use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

<span class="token punctuation">&#123;</span>test<span class="token operator">:</span><span class="token regex">/\.scss/</span><span class="token punctuation">,</span>use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader?modules&amp;localIdentName=[path][name]-[local]-[hash:5]'</span><span class="token punctuation">,</span><span class="token string">'sass-loader'</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li>导入 <strong>bootstrap 包</strong> 并且 使用 <em>bootstrap 类</em> （ <em>只用导入第三方路径即可</em> ）</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token string">"bootstrap/dist/css/bootstrap.min.css"</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">"btn btn-danger"</span><span class="token operator">></span>点我<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190511/nsjoVX1si22z.png?imageslim" alt="mark"></p>
<h2 id="react-中-绑定事件"><a class="markdownIt-Anchor" href="#react-中-绑定事件">#</a> React 中 绑定事件</h2>
<h4 id="基本使用"><a class="markdownIt-Anchor" href="#基本使用">#</a> 基本使用</h4>
<p><em>BindEvent.jsx</em>:</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">BindEvent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        BindEvent组件
        <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>button
          onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ok"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
        <span class="token operator">></span>
          按钮
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190511/QvadnFjsB97L.gif" alt="mark"></p>
<p><em>分离</em>：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">BindEvent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>h1<span class="token operator">></span>BindEvent组件！<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
        <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>button
          onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myClickHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
        <span class="token operator">></span>
          你敢点我吗？
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function-variable function">myClickHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"这是myClickHandler方法！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190511/9kb9Av4PcP9d.gif" alt="mark"></p>
<p><em>传递参数</em>：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">BindEvent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>h1<span class="token operator">></span>BindEvent组件！<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
        <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>button
          onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myClickHandler</span><span class="token punctuation">(</span><span class="token string">"哈哈哈哈哈哈！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
        <span class="token operator">></span>
          你敢点我吗？
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function-variable function">myClickHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arg1</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"这是myClickHandler方法！"</span> <span class="token operator">+</span> arg1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190511/x9zF0YsaynFo.gif" alt="mark"></p>
<h3 id="需求点击按钮改变-thisstate-里面的值"><a class="markdownIt-Anchor" href="#需求点击按钮改变-thisstate-里面的值">#</a> 需求：点击按钮，改变 <strong>this.state</strong> 里面的值</h3>
<blockquote>
<p>this.setState 方法的使用</p>
<p><strong>注意</strong>：this.setState 方法的执行是 <strong>异步</strong> 的</p>
</blockquote>
<p><img src="http://static.zxinc520.com/blog/20190511/1TfoRzRHPm3H.png?imageslim" alt="mark"></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">BindEvent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> <span class="token string">"周琛！"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>h1<span class="token operator">></span>BindEvent组件！<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
        <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>button
          onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myClickHandler</span><span class="token punctuation">(</span><span class="token string">"哈哈哈哈哈哈！"</span><span class="token punctuation">,</span> <span class="token string">"大傻瓜！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
        <span class="token operator">></span>
          你敢点我吗？
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
        <span class="token operator">&lt;</span>h3<span class="token operator">></span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>msg<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function-variable function">myClickHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// alert('这是myClickHandler方法！'+arg1+arg2)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190511/AVQprOBiH0De.gif" alt="mark"></p>
<p><strong>注意</strong>：在执行 this.setState 后，又想立即拿到最新的 state 值，需要使用 this.setState ({},callback)</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function-variable function">myClickHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// alert('这是myClickHandler方法！'+arg1+arg2)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>
    <span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> <span class="token string">"张三"</span> <span class="token operator">+</span> arg1 <span class="token operator">+</span> arg2<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="react-中绑定文本框与-state-中的值"><a class="markdownIt-Anchor" href="#react-中绑定文本框与-state-中的值">#</a> React 中绑定文本框与 State 中的值</h2>
<blockquote>
<p>类似于 Vue 的双向绑定</p>
</blockquote>
<h4 id="第一种双向绑定实现方式"><a class="markdownIt-Anchor" href="#第一种双向绑定实现方式">#</a> 第一种双向绑定实现方式</h4>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>input
  type<span class="token operator">=</span><span class="token string">"text"</span>
  style<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> width<span class="token operator">:</span> <span class="token string">"100%"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
  value<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>msg<span class="token punctuation">&#125;</span>
  onChange<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">txtChanged</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token function-variable function">txtChanged</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    msg<span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190511/k4Pz5wOdvDMe.gif" alt="mark"></p>
<h3 id="使用-ref-获取-dom-元素引用"><a class="markdownIt-Anchor" href="#使用-ref-获取-dom-元素引用">#</a> 使用 ref 获取 DOM 元素引用</h3>
<blockquote>
<p>Vue 中，Vue 为页面上的元素提供了 ref 的属性，获取元素引用，则需要使用 <strong>this.$refs</strong> 引用名称</p>
<p>React 中 获取元素的引用 ：<strong>this.refs</strong></p>
</blockquote>
<p>第二种双向绑定实现方式</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>input
  type<span class="token operator">=</span><span class="token string">"text"</span>
  style<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> width<span class="token operator">:</span> <span class="token string">"100%"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
  value<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>msg<span class="token punctuation">&#125;</span>
  onChange<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">txtChanged</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
  ref<span class="token operator">=</span><span class="token string">"txt"</span>
<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>

<span class="token function-variable function">txtChanged</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    msg<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>txt<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="react-组件的生命周期"><a class="markdownIt-Anchor" href="#react-组件的生命周期">#</a> React 组件的生命周期</h2>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/5a062fb551882535cd4a4ce3">可以参考</a></p>
<p><img src="http://static.zxinc520.com/blog/20190512/WR2qsCelssvf.webp" alt="mark"></p>
<blockquote>
<p>如图，React 生命周期主要包括三个阶段：初始化阶段、运行中阶段和销毁阶段，在 React 不同的生命周期里，会依次触发不同的钩子函数，下面我们就来详细介绍一下 React 的生命周期函数</p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/" rel="tag">React</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-ReactLearn02"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/06/ReactLearn02/"
    >React 学习第二天</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/05/06/ReactLearn02/" class="article-date">
  <time datetime="2019-05-06T13:37:26.000Z" itemprop="datePublished">2019-05-06</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/React/">React</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="react-学习第二天"><a class="markdownIt-Anchor" href="#react-学习第二天">#</a> React 学习第二天</h1>
<blockquote>
<p>React 学习第二天</p>
<p>创建组件的方式（ function 和 class）</p>
<p>ES6 扩展运算符使用</p>
<p>抽离 jsx 组件</p>
<p>如何省略 <strong><u>jsx</u></strong> 后缀名？</p>
<p>使用 @别名表示路径</p>
<p>两种创建组件方式的对比</p>
<p>评论列表案例</p>
<p>没有收拾残局的能力，就别放纵善变的情绪！！！</p>
</blockquote>
<h2 id="创建组件"><a class="markdownIt-Anchor" href="#创建组件">#</a> 创建组件</h2>
<h3 id="第一种创建组件的方式"><a class="markdownIt-Anchor" href="#第一种创建组件的方式">#</a> 第一种创建组件的方式</h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//第一步：导入包</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span> <span class="token comment">//创建组件，虚拟DOM元素，生命周期</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span> <span class="token comment">//把创建好的 组件 和 虚拟DOM 放到页面上展示的</span>

<span class="token keyword">function</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>这是一个组件<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//第三步：使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>Hello<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Hello<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190506/tppNOX2JwhMa.png?imageslim" alt="mark"></p>
<h4 id="接受外部传值"><a class="markdownIt-Anchor" href="#接受外部传值">#</a> 接受外部传值</h4>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      这是一个组件<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span><span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>age<span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">"大黄"</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">"18"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">//第三步：使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>Hello name<span class="token operator">=</span><span class="token punctuation">&#123;</span>dog<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span> age<span class="token operator">=</span><span class="token punctuation">&#123;</span>dog<span class="token punctuation">.</span>age<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Hello<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190506/Ebp8WSqvYzTi.png?imageslim" alt="mark"></p>
<!--注意：不论是 Vue 还是 React，组件中的props永远都是只读的，不能被赋值！-->
<!--组件 首字母 必须为大写！-->
<h4 id="改进使用-es6-扩展运算符"><a class="markdownIt-Anchor" href="#改进使用-es6-扩展运算符">#</a> 改进：使用 ES6 扩展运算符</h4>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      这是一个组件<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span><span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>age<span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">"大黄"</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">"18"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">//第三步：使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>Hello <span class="token punctuation">&#123;</span><span class="token operator">...</span>dog<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Hello<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="抽离-jsx-组件"><a class="markdownIt-Anchor" href="#抽离-jsx-组件">#</a> 抽离 jsx 组件</h4>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//第一步：导入包</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span> <span class="token comment">//创建组件，虚拟DOM元素，生命周期</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span> <span class="token comment">//把创建好的 组件 和 虚拟DOM 放到页面上展示的</span>

<span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">"./components/Hello.jsx"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">"大黄"</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">"18"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">//第三步：使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>Hello <span class="token punctuation">&#123;</span><span class="token operator">...</span>dog<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Hello<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190506/oiuJeOYjfvf4.png?imageslim" alt="mark"></p>
<p><strong>Hello.jsx:</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token comment">//创建并导出</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      这是一个组件<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span><span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>age<span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="如何省略-ujsxu-后缀名"><a class="markdownIt-Anchor" href="#如何省略-ujsxu-后缀名">#</a> 如何省略 <strong><u>jsx</u></strong> 后缀名？</h4>
<p><img src="http://static.zxinc520.com/blog/20190506/Vt3JwXFKXg8w.png?imageslim" alt="mark"></p>
<p><strong>配置 webpack.config.js 文件：</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">resolve<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".js"</span><span class="token punctuation">,</span> <span class="token string">".jsx"</span><span class="token punctuation">,</span> <span class="token string">".json"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="使用别名表示路径"><a class="markdownIt-Anchor" href="#使用别名表示路径">#</a> 使用 @别名表示路径</h4>
<p><img src="http://static.zxinc520.com/blog/20190506/1o1dm0J9gRPc.png?imageslim" alt="mark"></p>
<p><strong>配置 webpack.config.js 文件：</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">resolve<span class="token operator">:</span><span class="token punctuation">&#123;</span>
    extensions<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span><span class="token string">'.jsx'</span><span class="token punctuation">,</span><span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        alias<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token string">'@'</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'./src'</span><span class="token punctuation">)</span> <span class="token comment">//这样，@ 就表示 项目根目录中的src 这一层路径</span>
        <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="第二种创建组件的方式"><a class="markdownIt-Anchor" href="#第二种创建组件的方式">#</a> 第二种创建组件的方式</h3>
<blockquote>
<p>使用 class 关键字来创建自建</p>
<p>ES6 中 class 关键字，是实现面向对象编程的新形式（语法糖）</p>
</blockquote>
<h4 id="了解-class"><a class="markdownIt-Anchor" href="#了解-class">#</a> 了解 class</h4>
<ol>
<li>创建一个类并提供参数</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Animate</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animate</span><span class="token punctuation">(</span><span class="token string">"大黄"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190506/S8PirbufxcXt.png?imageslim" alt="mark"></p>
<h4 id="挂载原型对象的实例方法-function-和-class-方法对比"><a class="markdownIt-Anchor" href="#挂载原型对象的实例方法-function-和-class-方法对比">#</a> 挂载原型对象的实例方法（ function 和 class 方法对比）</h4>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

f<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"这是实例方法！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">f</span><span class="token punctuation">(</span><span class="token string">"大黄"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"--------------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Animate</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"这是实例方法！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animate</span><span class="token punctuation">(</span><span class="token string">"大黄"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190506/CfW0S1Lz9HP8.png?imageslim" alt="mark"></p>
<h4 id="静态方法"><a class="markdownIt-Anchor" href="#静态方法">#</a> 静态方法</h4>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//使用 function创建对象</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token comment">//静态方法</span>
f<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"这是function创建的 f 的静态 show 方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
f<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"--------------分割线------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//使用class 创建对象</span>
<span class="token keyword">class</span> <span class="token class-name">Animate</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//静态方法</span>
  <span class="token keyword">static</span> info <span class="token operator">=</span> <span class="token string">"这是class方法创建的静态方法！"</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Animate<span class="token punctuation">.</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190506/JdrMb039jWqx.png?imageslim" alt="mark"></p>
<h4 id="extends-继承"><a class="markdownIt-Anchor" href="#extends-继承">#</a> extends 继承</h4>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//这是父类</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">American</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">American</span><span class="token punctuation">(</span><span class="token string">"Jack"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Chinese</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> c1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Chinese</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190506/9iKF2u3HOaF1.png?imageslim" alt="mark"></p>
<h4 id="super-调用父类-constructor-可以参考"><a class="markdownIt-Anchor" href="#super-调用父类-constructor-可以参考">#</a> super 调用父类 constructor <a target="_blank" rel="noopener" href="https://juejin.im/post/5b3f23066fb9a04fe820cdbe">可以参考</a></h4>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//这是父类</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"大家好！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">American</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">American</span><span class="token punctuation">(</span><span class="token string">"Jack"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Chinese</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> IDNumber</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>IDNumber <span class="token operator">=</span> IDNumber<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> c1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Chinese</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token string">"1213123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190506/dokRjyuJrlg5.png?imageslim" alt="mark"></p>
<h4 id="子类没有定义-constructor会默认添加"><a class="markdownIt-Anchor" href="#子类没有定义-constructor会默认添加">#</a> 子类没有定义 constructor，会默认添加</h4>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Chinese</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token comment">// 等同于</span>
<span class="token keyword">class</span> <span class="token class-name">Chinese</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="使用-class-关键字创建组件"><a class="markdownIt-Anchor" href="#使用-class-关键字创建组件">#</a> 使用 class 关键字创建组件</h3>
<h4 id="基本结构"><a class="markdownIt-Anchor" href="#基本结构">#</a> 基本结构</h4>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span> <span class="token comment">//创建组件，虚拟DOM元素，生命周期</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span> <span class="token comment">//把创建好的 组件 和 虚拟DOM 放到页面上展示的</span>

<span class="token comment">//如果使用class 定义组件，必须让自己的组件，继承自 React.Component</span>
<span class="token keyword">class</span> <span class="token class-name">Movie</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//在组件内部，必须有 render 函数，作用：渲染当前组件对应的 虚拟DOM 结构</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//render 函数中，必须 返回合法的 JSX 虚拟DOM 结构</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>这是<span class="token keyword">class</span>创建组件的方式<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>Movie<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Movie<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190506/pUNFRBHpnlsL.png?imageslim" alt="mark"></p>
<h4 id="传递参数"><a class="markdownIt-Anchor" href="#传递参数">#</a> 传递参数</h4>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span> <span class="token comment">//创建组件，虚拟DOM元素，生命周期</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span> <span class="token comment">//把创建好的 组件 和 虚拟DOM 放到页面上展示的</span>

<span class="token keyword">class</span> <span class="token class-name">Movie</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//使用class关键字创建的组件中，如果想使用外界传递过来的 props 参数，不需接受，直接通过 this.props.*** 来访问！</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        这是<span class="token keyword">class</span>创建组件的方式<span class="token operator">--</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span><span class="token operator">--</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>age<span class="token punctuation">&#125;</span><span class="token operator">--</span><span class="token operator">-</span>
        <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>hobby<span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">"小黄"</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">"18"</span><span class="token punctuation">,</span>
  hobby<span class="token operator">:</span> <span class="token string">"play games"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">//第三步：使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>Movie <span class="token punctuation">&#123;</span><span class="token operator">...</span>dog<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Movie<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190506/3McvjLR2OU4B.png?imageslim" alt="mark"></p>
<h2 id="这两种创建组件方式的对比"><a class="markdownIt-Anchor" href="#这两种创建组件方式的对比">#</a> 这两种创建组件方式的对比</h2>
<blockquote>
<p>注意：使用 <strong>function</strong> 创建的组件只有 props，没有自己的私有数据 和生命周期 函数</p>
<p>注意：使用 **class 关键字 ** 创建的组件，有自己的私有数据；</p>
</blockquote>
<ol>
<li>用 <strong>构造函数</strong> 创建出来的组件：叫做 “ <u>无状态组件</u> ”</li>
<li>用 <strong>class 关键字</strong> 创建出来的组件：叫做 “ <u>有状态组件</u> ”</li>
</ol>
<blockquote>
<p><strong>有状态组件</strong>和 <strong>无状态组件</strong> 之间的本质区别就是：有无 <strong>state 属性</strong></p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/wonyun/p/5930333.html">可以参考</a></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span> <span class="token comment">//创建组件，虚拟DOM元素，生命周期</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span> <span class="token comment">//把创建好的 组件 和 虚拟DOM 放到页面上展示的</span>

<span class="token keyword">class</span> <span class="token class-name">Movie</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> <span class="token string">"大家好啊！我是class私有数据！"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">//相当于 Vue 里面的 data()&#123; return &#123;&#125;&#125;函数</span>
  <span class="token punctuation">&#125;</span>

  <span class="token comment">//使用class关键字创建的组件中，如果想使用外界传递过来的 props 参数，不需接受，直接通过 this.props.*** 来访问！</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        这是<span class="token keyword">class</span>创建组件的方式<span class="token operator">--</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>msg<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">"小黄"</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">"18"</span><span class="token punctuation">,</span>
  hobby<span class="token operator">:</span> <span class="token string">"play games"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token comment">//第三步：使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>Movie <span class="token punctuation">&#123;</span><span class="token operator">...</span>dog<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Movie<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​ <img src="http://static.zxinc520.com/blog/20190506/6hl8wJm5c3p4.png?imageslim" alt="mark"></p>
<h2 id="评论列表案例"><a class="markdownIt-Anchor" href="#评论列表案例">#</a> 评论列表案例</h2>
<h5 id="初步实现"><a class="markdownIt-Anchor" href="#初步实现">#</a> 初步实现：</h5>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span> <span class="token comment">//创建组件，虚拟DOM元素，生命周期</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span> <span class="token comment">//把创建好的 组件 和 虚拟DOM 放到页面上展示的</span>

<span class="token comment">//使用 function 定义 普通的无状态组件</span>
<span class="token keyword">function</span> <span class="token function">CmtItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h3<span class="token operator">></span>评论人：<span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>user<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>
      <span class="token operator">&lt;</span>p<span class="token operator">></span>评论内容：<span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>content<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">CmtList</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      CommentList<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"哈哈哈哈哈"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">"李四"</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"打游戏"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">"王五"</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"唱歌，喝酒"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">"王麦子"</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"到处happy"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">"周琛"</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"帅的不要不要了！"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>h1<span class="token operator">></span>这是评论列表组件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
        <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>CommentList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>CmtItem <span class="token punctuation">&#123;</span><span class="token operator">...</span>item<span class="token punctuation">&#125;</span> key<span class="token operator">=</span><span class="token punctuation">&#123;</span>item<span class="token punctuation">.</span>id<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>CmtItem<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//第三步：使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>CmtList<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>CmtList<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190506/1Ql2PHx2l6B3.png?imageslim" alt="mark"></p>
<h4 id="抽离各模块"><a class="markdownIt-Anchor" href="#抽离各模块">#</a> 抽离各模块</h4>
<blockquote>
<p>便于减少一个文件的代码量，并且符合一种模块化思想</p>
</blockquote>
<p><img src="http://static.zxinc520.com/blog/20190506/57OxaxsjtBwa.png?imageslim" alt="mark"></p>
<p>index.js</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span> <span class="token comment">//创建组件，虚拟DOM元素，生命周期</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span> <span class="token comment">//把创建好的 组件 和 虚拟DOM 放到页面上展示的</span>
·
<span class="token keyword">import</span> CmtList <span class="token keyword">from</span> <span class="token string">'@/components/CmtList'</span>

<span class="token comment">//第三步：使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>CmtList<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>CmtList<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>CmtList.jsx:</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> CmtItem <span class="token keyword">from</span> <span class="token string">"@/components/CmtItem"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">CmtList</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      CommentList<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"哈哈哈哈哈"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">"李四"</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"打游戏"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">"王五"</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"唱歌，喝酒"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">"王麦子"</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"到处happy"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">"周琛"</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">"帅的不要不要了！"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>h1<span class="token operator">></span>这是评论列表组件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
        <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>CommentList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>CmtItem <span class="token punctuation">&#123;</span><span class="token operator">...</span>item<span class="token punctuation">&#125;</span> key<span class="token operator">=</span><span class="token punctuation">&#123;</span>item<span class="token punctuation">.</span>id<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>CmtItem<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>CmtItem.jsx：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token comment">//使用 function 定义 普通的无状态组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">CmtItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h3<span class="token operator">></span>评论人：<span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>user<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>
      <span class="token operator">&lt;</span>p<span class="token operator">></span>评论内容：<span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>content<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190506/pSXgFJCzlL44.png?imageslim" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/" rel="tag">React</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-ReactLearn01"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/04/27/ReactLearn01/"
    >React 学习第一天</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/04/27/ReactLearn01/" class="article-date">
  <time datetime="2019-04-27T14:15:41.000Z" itemprop="datePublished">2019-04-27</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/React/">React</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="react-学习第一天"><a class="markdownIt-Anchor" href="#react-学习第一天">#</a> React 学习第一天</h1>
<blockquote>
<p>ReactJS 简介</p>
<p>ReactJS 的背景和原理</p>
<p>三大主流前端框架 React、Vue、Angular</p>
<p>Vue 与 React 两个框架的区别和优势对比</p>
<p>React（虚拟 DOM，DIff 算法）</p>
<p>创建基本的 webpack4.x 项目（ 并且解决了之前的一个 bug ）</p>
<p>在项目中使用 react</p>
<p>把圈子变小 把语言变干净 把成绩往上提 把故事往心里收 现在想要的三年后都会有 ！o (<em>￣ ▽ ￣</em>) ブ</p>
</blockquote>
<h2 id="1-reactjs-简介"><a class="markdownIt-Anchor" href="#1-reactjs-简介">#</a> 1、ReactJS 简介</h2>
<p>React 起源于 Facebook 的内部项目，因为该公司对市场上所有 JavaScript MVC 框架，都不满意，就决定自己写一套，用来架设 Instagram 的网站。做出来以后，发现这套东西很好用，就在 2013 年 5 月开源了。由于 React 的设计思想极其独特，属于革命性创新，性能出众，代码逻辑却非常简单。所以，越来越多的人开始关注和使用，认为它可能是将来 Web 开发的主流工具。</p>
<h2 id="2-reactjs-的背景和原理"><a class="markdownIt-Anchor" href="#2-reactjs-的背景和原理">#</a> 2、ReactJS 的背景和原理</h2>
<p>在 Web 开发中，我们总需要将变化的数据实时反应到 UI 上，这时就需要对 DOM 进行操作。而复杂或频繁的 DOM 操作通常是性能瓶颈产生的原因（如何进行高性能的复杂 DOM 操作通常是衡量一个前端开发人员技能的重要指标）。</p>
<p>React 为此引入了虚拟 DOM（Virtual DOM）的机制：在浏览器端用 Javascript 实现了一套 DOM API。基于 React 进行开发时所有的 DOM 构造都是通过虚拟 DOM 进行，每当数据变化时，React 都会重新构建整个 DOM 树，然后 React 将当前整个 DOM 树和上一次的 DOM 树进行对比，得到 DOM 结构的区别，然后仅仅将需要变化的部分进行实际的浏览器 DOM 更新。而且 React 能够批处理虚拟 DOM 的刷新，在一个事件循环（Event Loop）内的两次数据变化会被合并，例如你连续的先将节点内容从 A 变成 B，然后又从 B 变成 A，React 会认为 UI 不发生任何变化，而如果通过手动控制，这种逻辑通常是极其复杂的。尽管每一次都需要构造完整的虚拟 DOM 树，但是因为虚拟 DOM 是内存数据，性能是极高的，而对实际 DOM 进行操作的仅仅是 Diff 部分，因而能达到提高性能的目的。这样，在保证性能的同时，开发者将不再需要关注某个数据的变化如何更新到一个或多个具体的 DOM 元素，而只需要关心在任意一个数据状态下，整个界面是如何 Render 的。</p>
<p>如果你像在 90 年代那样写过服务器端 Render 的纯 Web 页面那么应该知道，服务器端所要做的就是根据数据 Render 出 HTML 送到浏览器端。如果这时因为用户的一个点击需要改变某个状态文字，那么也是通过刷新整个页面来完成的。服务器端并不需要知道是哪一小段 HTML 发生了变化，而只需要根据数据刷新整个页面。换句话说，任何 UI 的变化都是通过整体刷新来完成的。而 React 将这种开发模式以高性能的方式带到了前端，每做一点界面的更新，你都可以认为刷新了整个页面。至于如何进行局部更新以保证性能，则是 React 框架要完成的事情。</p>
<p>借用 Facebook 介绍 React 的视频中聊天应用的例子，当一条新的消息过来时，你的开发过程需要知道哪条数据过来了，如何将新的 DOM 结点添加到当前 DOM 树上；而基于 React 的开发思路，你永远只需要关心数据整体，两次数据之间的 UI 如何变化，则完全交给框架去做。可以看到，使用 React 大大降低了逻辑复杂性，意味着开发难度降低，可能产生 Bug 的机会也更少。</p>
<hr>
<h4 id="清楚理解两个概念"><a class="markdownIt-Anchor" href="#清楚理解两个概念">#</a> 清楚理解两个概念：</h4>
<ol>
<li>
<p><strong>ibrary (库)</strong>：小而巧的库，只提供特定的 API；优点就是 船小好调头。可以很方便的从一个库切换到另外的库；但是代码几乎不会改变。</p>
</li>
<li>
<p><strong>Framework (框架)</strong>：大而全的是框架；框架提供了一整套的解决方案；所以，如果在项目中间，想切换到另外的框架，是比较困难的。</p>
</li>
</ol>
<h1 id="三大主流前端框架-react-vue-angular"><a class="markdownIt-Anchor" href="#三大主流前端框架-react-vue-angular">#</a> 三大主流前端框架 React、Vue、Angular</h1>
<p><img src="http://static.zxinc520.com/blog/20190423/Q4Mrbn6pFhYJ.jpg?imageslim" alt="mark"></p>
<p>React（ <strong>最流行</strong> ）起源于 Facebook 的内部项目，用来架设 Instagram 的网站， 并于 2013 年 5 月开源。React 拥有较高的性能，代码逻辑非常简单，越来越多的人已开始关注和使用它。它有以下的<strong>特性</strong>：</p>
<ol>
<li>
<p>声明式设计：React 采用声明范式，可以轻松描述应用。</p>
</li>
<li>
<p>高效：React 通过对 DOM 的模拟，最大限度地减少与 DOM 的交互。</p>
</li>
<li>
<p>灵活：React 可以与已知的库或框架很好地配合。</p>
</li>
</ol>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">1. 速度快：在UI渲染过程中，React通过在虚拟DOM中的微操作来实现对实际DOM的局部更新。
2. 跨浏览器兼容：虚拟DOM帮助我们解决了跨浏览器问题，它为我们提供了标准化的API，甚至在IE8中都是没问题的。
3. 模块化：为你程序编写独立的模块化UI组件，这样当某个或某些组件出现问题是，可以方便地进行隔离。
4. 单向数据流：Flux是一个用于在JavaScript应用中创建单向数据层的架构，它随着React视图库的开发而被Facebook概念化。
5. 同构、纯粹的javascript：因为搜索引擎的爬虫程序依赖的是服务端响应而不是JavaScript的执行，预渲染你的应用有助于搜索引擎优化。
6.兼容性好：比如使用RequireJS来加载和打包，而Browserify和Webpack适用于构建大型应用。它们使得那些艰难的任务不再让人望而生畏。
缺点：
React本身只是一个V而已，并不是一个完整的框架，所以如果是大型项目想要一套完整的框架的话，基本都需要加上ReactRouter和Flux才能写大型应用。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190423/7hBjb1epQFoH.webp" alt="mark"></p>
<p>Vue ( <strong>目前市场上的主流</strong> ) 是尤雨溪编写的一个构建数据驱动的 Web 界面的库，准确来说不是一个框架，它聚焦在 V（view）视图层。</p>
<p><em>它有以下的特性</em>：</p>
<ol>
<li>
<p>轻量级的框架</p>
</li>
<li>
<p>双向数据绑定</p>
</li>
<li>
<p>指令</p>
</li>
<li>
<p>插件化</p>
</li>
</ol>
<pre class="line-numbers language-none"><code class="language-none">优点：
1. 简单：官方文档很清晰，比 Angular 简单易学。
2. 快速：异步批处理方式更新 DOM。
3. 组合：用解耦的、可复用的组件组合你的应用程序。
4. 紧凑：~18kb min+gzip，且无依赖。
5. 强大：表达式 无需声明依赖的可推导属性 (computed properties)。
6. 对模块友好：可以通过 NPM、Bower 或 Duo 安装，不强迫你所有的代码都遵循 Angular 的各种规定，使用场景更加灵活。
缺点：
1. 新生儿：Vue.js是一个新的项目，没有angular那么成熟。
2. 影响度不是很大：google了一下，有关于Vue.js多样性或者说丰富性少于其他一些有名的库。
3. 不支持IE8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190423/bu0preO1hhfc.webp" alt="mark"></p>
<p>Angular（ <strong>最早</strong> ）是一款优秀的前端 JS 框架，已经被用于 Google 的多款产品当中。</p>
<p><em>它有以下的特性</em>：</p>
<ol>
<li>
<p>良好的应用程序结构</p>
</li>
<li>
<p>双向数据绑定</p>
</li>
<li>
<p>指令</p>
</li>
<li>
<p>HTML 模板</p>
</li>
<li>
<p>可嵌入、注入和测试</p>
</li>
</ol>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">优点：
1. 模板功能强大丰富，自带了极其丰富的angular指令。
2. 是一个比较完善的前端框架，包含服务，模板，数据双向绑定，模块化，路由，过滤器，依赖注入等所有功能；
3. 自定义指令，自定义指令后可以在项目中多次使用。
4. ng模块化比较大胆的引入了Java的一些东西（依赖注入），能够很容易的写出可复用的代码，对于敏捷开发的团队来说非常有帮助。
5. angularjs是互联网巨人谷歌开发，这也意味着他有一个坚实的基础和社区支持。
缺点：
1. angular 入门很容易 但深入后概念很多, 学习中较难理解.
2. 文档例子非常少, 官方的文档基本只写了api, 一个例子都没有, 很多时候具体怎么用都是google来的, 或直接问misko,angular的作者.
3. 对IE6&#x2F;7 兼容不算特别好, 就是可以用jQuery自己手写代码解决一些.
4. 指令的应用的最佳实践教程少, angular其实很灵活, 如果不看一些作者的使用原则,很容易写出 四不像的代码, 例如js中还是像jQuery的思想有很多dom操作.
5. DI 依赖注入 如果代码压缩需要显示声明.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="vue-与-react-两个框架的区别和优势对比"><a class="markdownIt-Anchor" href="#vue-与-react-两个框架的区别和优势对比">#</a> <a target="_blank" rel="noopener" href="http://caibaojian.com/vue-vs-react.html">Vue 与 React 两个框架的区别和优势对比</a></h1>
<blockquote>
<p>Vue 与 React 的区别： <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/174e8028eabd">可以参考</a></p>
</blockquote>
<p><a href="">如果你喜欢用模板搭建应用（或者有这个想法），请选择 Vue</a></p>
<p>Vue 应用的默认选项是把 markup 放在 HTML 文件中。数据绑定表达式采用的是和 Angular 相似的 mustache 语法，而指令（特殊的 HTML 属性）用来向模板添加功能。</p>
<p>相比之下，React 应用不使用模板，它要求开发者借助 JSX 在 JavaScript 中创建 DOM。</p>
<p>对于来自标准 Web 开发方式的新开发者，模板更容易理解。但是一些资深开发者也喜欢模板，因为模板可以更好的把布局和功能分割开来，还可以使用 Pug 之类的模板引擎。</p>
<p>但是使用模板的代价是不得不学习所有的 HTML 扩展语法，而渲染函数只需要会标准的 HTML 和 JavaScript。而且比起模板，渲染函数更加容易调试和<a target="_blank" rel="noopener" href="https://link.jianshu.com?t=http://lib.csdn.net/base/softwaretest">测试</a>。当然你不应该因为这方面的原因错过 Vue，因为在 Vue2.0 中提供了使用模板或者渲染函数的选项。</p>
<p><a href="">如果你喜欢简单和 “能用就行” 的东西，请选择 Vue</a></p>
<p>一个简单的 Vue 项目可以不需要转译直接运行在浏览器中，所以使用 Vue 可以像使用<a target="_blank" rel="noopener" href="https://link.jianshu.com?t=http://lib.csdn.net/base/jquery"> jQuery</a> 一样简单。当然这对于 React 来说在技术上也是可行的，但是典型的 React 代码是重度依赖于 JSX 和诸如 class 之类的 ES6 特性的。</p>
<p>Vue 的简单在程序设计的时候体现更深，让我们来比较一下两个框架是怎样处理应用数据的（也就是 state）。</p>
<p>React 中是通过比较当前 state 和前一个 state 来决定何时在 DOM 中进行重渲染以及渲染的内容，因此需要不可变（immutable）的 state。</p>
<p>Vue 中的数据是可变（mutated）的，所以同样的操作看起来更加简洁。</p>
<p>让我们来看看 Vue 中是如何进行状态管理的。当向 state 添加一个新对象的时候，Vue 将遍历其中的所有属性并且转换为 getter，setter 方法，现在 Vue 的响应系统开始保持对 state 的跟踪了，当 state 中的内容发生变化的时候就会自动重新渲染 DOM。令人称道的是，Vue 中改变 state 的状态的操作不仅更加简洁，而且它的重新渲染系统也比 React 的更快更有效率。</p>
<p>Vue 的响应系统还有有些坑的，例如：它不能检测属性的添加和删除和某些数组更改。这时候就要用到 Vue API 中的类似于 React 的 set 方法来解决。</p>
<p><a href="">如果你想要你的应用尽可能的小和快，请选择 Vue</a></p>
<p>当应用程序的状态改变时，React 和 Vue 都将构建一个虚拟 DOM 并同步到真实 DOM 中。 两者都有各自的方法优化这个过程。</p>
<p>Vue 核心开发者提供了一个 benchmark 测试，可以看出 Vue 的渲染系统比 React 的更快。测试方法是 10000 个项目的列表渲染 100 次，结果如下图。从实用的观点来看，这种 benchmark 只和边缘情况有关，大部分应用程序中不会经常进行这种操作，所以这不应该被视为一个重要的比较点。但是，页面大小是与所有项目有关的，这方面 Vue 再次领先，它目前的版本压缩后只有 25.6KB。React 要实现同样的功能，你需要 React DOM（37.4KB）和 React with Addon 库（11.4KB），共计 44.8KB，几乎是 Vue 的两倍大。双倍的体积并不能带来双倍的功能。</p>
<p><a href="">如果你打算构建一个大型应用程序，请选择 React</a></p>
<p>像文章开头那种同时用 Vue 和 React 实现的简单应用程序，可能会让一个开发者潜意识中更加倾向于 Vue。这是因为基于模板的应用程序第一眼看上去更加好理解，而且能很快跑起来。但是这些好处引入的技术债会阻碍应用扩展到更大的规模。模板容易出现很难注意到的运行时错误，同时也很难去测试，重构和分解。</p>
<p>相比之下，Javascript 模板可以组织成具有很好的分解性和干（DRY）代码的组件，干代码的可重用性和可测试性更好。Vue 也有组件系统和渲染函数，但是 React 的渲染系统可配置性更强，还有诸如浅（shallow）渲染的特性，和 React 的测试工具结合起来使用，使代码的可测试性和可维护性更好。</p>
<p>与此同时，React 的 immutable 应用状态可能写起来不够简洁，但它在大型应用中意义非凡，因为透明度和可测试性在大型项目中变得至关重要。</p>
<p><a href="">如果你想要一个同时适用于 Web 端和原生 APP 的框架，请选择 React</a></p>
<p><a target="_blank" rel="noopener" href="https://link.jianshu.com?t=http://lib.csdn.net/base/reactnative">React Native</a> 是一个使用 Javascript 构建移动端原生应用程序（<a target="_blank" rel="noopener" href="https://link.jianshu.com?t=http://lib.csdn.net/base/ios">iOS</a>，<a target="_blank" rel="noopener" href="https://link.jianshu.com?t=http://lib.csdn.net/base/android">Android</a>）的库。 它与 React.js 相同，只是不使用 Web 组件，而是使用原生组件。 如果你学过 React.js，很快就能上手 React Native，反之亦然。</p>
<p>它的意义在于，开发者只需要一套知识和工具就能开发 Web 应用和移动端原生应用。如果你想同时做 Web 端开发和移动端开发，React 为你准备了一份大礼。</p>
<p>阿里的 Weex 也是一个跨平台 UI 项目，目前它以 Vue 为灵感，使用了许多相同的语法，同时计划在未来完全集成 Vue，然而集成的时间和细节还不清楚。因为 Vue 将 HTML 模板作为它设计的核心部分，并且现有特性不支持自定义渲染，因此很难看出目前的 Vue.js 的跨平台能力能像 React 和 React Native 一样强大。</p>
<p><a href="">如果你想要最大的生态系统，请选择 React</a></p>
<p>毫无疑问，React 是目前最受欢迎的前端框架。它在 NPM 上每个月的下载量超过了 250 万次，相比之下，Vue 是 22.5 万次。人气不仅仅是一个肤浅的数字，这意味着更多的文章，教程和更多 Stack Overflow 的解答，还意味有着更多的工具和插件可以在项目中使用，让开发者不再孤立无援。</p>
<p>这两个框架都是开源的，但是 React 诞生于 Facebook，有 Facebook 背书，它的开发者和 Facebook 都承诺会持续维护 React。相比之下，Vue 是独立开发者尤雨溪的作品。尤雨溪目前在全职维护 Vue，也有一些公司资助 Vue，但是规模和 Facebook 和 Google 没得比。不过请对 Vue 的团队放心，它的小规模和独立性并没有成为劣势，Vue 有着固定的发布周期，甚至更令人称道的是，Github 上 Vue 只有 54 个 open issue，3456 个 closed issue，作为对比，React 有多达 530 个 open issue，3447 个 closed issue。</p>
<h4 id="总结一下我们发现的vue-的优势是"><a class="markdownIt-Anchor" href="#总结一下我们发现的vue-的优势是">#</a> 总结一下，我们发现的，Vue 的优势是：</h4>
<p>模板和渲染函数的弹性选择</p>
<p>简单的语法和项目配置</p>
<p>更快的渲染速度和更小的体积</p>
<h4 id="react-的优势是"><a class="markdownIt-Anchor" href="#react-的优势是">#</a> React 的优势是：</h4>
<p>更适合大型应用和更好的可测试性</p>
<p>Web 端和移动端原生 APP 通吃</p>
<p>更大的生态系统，更多的支持和好用的工具</p>
<p>然而，React 和 Vue 都是很优秀的框架，它们之间的相似之处多过不同之处，并且大部分的优秀功能是相通的：</p>
<p>用虚拟 DOM 实现快速渲染</p>
<p>轻量级</p>
<p>响应式组件</p>
<p>服务端渲染</p>
<p>集成路由工具，打包工具，状态管理工具的难度低</p>
<p>优秀的支持和社区</p>
<h2 id="react"><a class="markdownIt-Anchor" href="#react">#</a> React</h2>
<h3 id="1-虚拟-domvirtual-document-object-model"><a class="markdownIt-Anchor" href="#1-虚拟-domvirtual-document-object-model">#</a> 1. 虚拟 DOM（Virtual Document Object Model）</h3>
<ul>
<li>DOM 的本质什么：浏览器中的概念，用 JS 对象来表示 页面上的 元素，并提供了操作 DOM 对象的 API。</li>
<li>什么是 React 中的虚拟 DOM：是框架中的概念，是 程序员 用 JS 对象来模拟 页面上的 DOM 和 DOM 嵌套。</li>
</ul>
<h2 id="dom"><a class="markdownIt-Anchor" href="#dom">#</a> DOM</h2>
<p>先直接说一下，DOM 意思是<strong>文档对象模型（Dcoument Object Model）</strong>，它是一个结构化文本的抽象。对于 Web 开发者，这个文本是一段 HTML 代码，DOM 也就被叫做 HTML DOM。HTML 的元素在 DOM 中变成了节点。</p>
<p>所以，HTML 是一段文本，DOM 就是这段文本在内存中的表示。</p>
<blockquote>
<p>可以对比一个程序的一个进程实例。对于一个程序，可以存在多个进程，就像一段同样的 HTML 可以有多个 DOM 一样。（例：同一个页面被多个 tab 加载）。</p>
</blockquote>
<p>在 HTML DOM 中提供了遍历和修改节点的接口（API）。像<em> getElementById</em> 或者<em> removeChild</em> 这样的方法。我们一般使用 JavaScript 来操作 DOM，这是因为…… 好吧，天知道为什么。😃</p>
<p>所以，只要我们想要动态修改网页的内容的时候，我们就修改 DOM。</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> item <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"myLI"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
item<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>所谓<em> document</em> 就是根节点的抽象，而<em> getElementById</em>，<em>parentNode</em> 和<em> emoveChild</em> 则是 HTML DOM API 中的方法。</p>
<h2 id="虚拟-dom"><a class="markdownIt-Anchor" href="#虚拟-dom">#</a> 虚拟 DOM</h2>
<p>首先 - 虚拟 DOM 不是 React 发明的，但是 React 用了它且免费提供。</p>
<p>虚拟 DOM 是 HTML DOM 的抽象。它是轻量的，是从浏览器特定（Browser-specific，这里意指特定的浏览器需要特定的实现）实现细节中提取出来的。由于 DOM 本身就已经是一个抽象了，所以虚拟 DOM，实际上，是一个抽象的抽象。</p>
<p>也许把虚拟 DOM 当做 React 的本地和简化版的 HTML DOM 更好。它允许 React 跳过既慢又限于特定浏览器的真实 DOM 操作，以在这个抽象世界中做自己的计算。</p>
<p>常规 DOM 和虚拟 DOM 二者并没有什么大的不同。这也是为什么 React 代码的 JSX 部分可以看起来几乎跟纯 HTML 很像的原因。</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> CommentBox <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"commentBox"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>div<span class="token operator">></span>Hello<span class="token punctuation">,</span> world<span class="token operator">!</span> <span class="token constant">I</span> am a CommentBox<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在大多数情况下，当你有一段 HTML 代码且想要将其写成一个 React 组件时，你只需要做这个。</p>
<ol>
<li>在 render 方法中返回 HTML 代码；</li>
<li>将 class 属性替换成 className 属性，因为 class 在 JavaScript 中是一个保留关键字。</li>
</ol>
<p>二者之间还有一些，相当细微的区别。</p>
<ul>
<li>虚拟 DOM 的这些属性不在真实的 DOM 中出现 ——key，ref 和 dangerouslySetInnerHTML。<a target="_blank" rel="noopener" href="https://facebook.github.io/react/docs/special-non-dom-attributes.html">查看更多</a></li>
<li>React 范的 DOM 引入了<a target="_blank" rel="noopener" href="https://facebook.github.io/react/docs/dom-differences.html">一些限制</a></li>
</ul>
<h2 id="为什么需要虚拟-dom"><a class="markdownIt-Anchor" href="#为什么需要虚拟-dom">#</a> 为什么需要虚拟 DOM？</h2>
<p>先介绍浏览器加载一个 HTML 文件需要做哪些事，帮助我们理解为什么我们需要虚拟 DOM。webkit 引擎的处理流程，一图胜千言：</p>
<p><img src="http://static.zxinc520.com/blog/20190425/tKU23C1t4RLN.webp" alt="mark"></p>
<p>所有浏览器的引擎工作流程都差不多，如上图大致分 5 步：创建 DOM tree –&gt; 创建 Style Rules -&gt; 构建 Render tree -&gt; 布局 Layout –&gt; 绘制 Painting</p>
<ul>
<li>
<p>第一步，用 HTML 分析器，分析 HTML 元素，构建一颗 DOM 树。</p>
</li>
<li>
<p>第二步：用 CSS 分析器，分析 CSS 文件和元素上的 inline 样式，生成页面的样式表。</p>
</li>
<li>
<p>第三步：将上面的 DOM 树和样式表，关联起来，构建一颗 Render 树。这一过程又称为 Attachment。每个 DOM 节点都有 attach 方法，接受样式信息，返回一个 render 对象（又名 renderer）。这些 render 对象最终会被构建成一颗 Render 树。</p>
</li>
<li>
<p>第四步：有了 Render 树后，浏览器开始布局，会为每个 Render 树上的节点确定一个在显示屏上出现的精确坐标值。</p>
</li>
<li>
<p>第五步：Render 数有了，节点显示的位置坐标也有了，最后就是调用每个节点的 paint 方法，让它们显示出来。</p>
</li>
</ul>
<p>当你用传统的源生 api 或 jQuery 去操作 DOM 时，浏览器会从构建 DOM 树开始从头到尾执行一遍流程。比如当你在一次操作时，需要更新 10 个 DOM 节点，理想状态是一次性构建完 DOM 树，再执行后续操作。但浏览器没这么智能，收到第一个更新 DOM 请求后，并不知道后续还有 9 次更新操作，因此会马上执行流程，最终执行 10 次流程。显然例如计算 DOM 节点的坐标值等都是白白浪费性能，可能这次计算完，紧接着的下一个 DOM 更新请求，这个节点的坐标值就变了，前面的一次计算是无用功。</p>
<p>即使计算机硬件一直在更新迭代，操作 DOM 的代价仍旧是昂贵的，频繁操作还是会出现页面卡顿，影响用户的体验。真实的 DOM 节点，哪怕一个最简单的 div 也包含着很多属性，可以打印出来直观感受一下：</p>
<p>虚拟 DOM 就是为了解决这个浏览器性能问题而被设计出来的。例如前面的例子，假如一次操作中有 10 次更新 DOM 的动作，虚拟 DOM 不会立即操作 DOM，而是将这 10 次更新的 diff 内容保存到本地的一个 js 对象中，最终将这个 js 对象一次性 attach 到 DOM 树上，通知浏览器去执行绘制工作，这样可以避免大量的无谓的计算量。</p>
<h2 id="virtual-dom-算法"><a class="markdownIt-Anchor" href="#virtual-dom-算法">#</a> Virtual DOM 算法</h2>
<p>可以用新渲染的对象树去和旧的树进行对比，记录这两棵树差异。记录下来的不同就是我们需要对页面真正的 DOM 操作，然后把它们应用在真正的 DOM 树上，页面就变更了。这样就可以做到：视图的结构确实是整个全新渲染了，但是最后操作 DOM 的时候确实只变更有不同的地方。</p>
<p>这就是所谓的 Virtual DOM 算法。包括几个步骤：</p>
<ol>
<li>用 JavaScript 对象结构表示 DOM 树的结构；然后用这个树构建一个真正的 DOM 树，插到文档当中</li>
<li>当状态变更的时候，重新构造一棵新的对象树。然后用新的树和旧的树进行比较，记录两棵树差异</li>
<li>把 2 所记录的差异应用到步骤 1 所构建的真正的 DOM 树上，视图就更新了</li>
</ol>
<p>Virtual DOM 本质上就是在 JS 和 DOM 之间做了一个缓存。可以类比 CPU 和硬盘，既然硬盘这么慢，我们就在它们之间加个缓存：既然 DOM 这么慢，我们就在它们 JS 和 DOM 之间加个缓存。CPU（JS）只操作内存（Virtual DOM），最后的时候再把变更写入硬盘（DOM）。</p>
<h2 id="diff-算法"><a class="markdownIt-Anchor" href="#diff-算法">#</a> DIff 算法</h2>
<p>比较两棵 DOM 树的差异是 Virtual DOM 算法最核心的部分。简单的说就是新旧虚拟 dom 的比较，如果有差异就以新的为准，然后再插入的真实的 dom 中，重新渲染。、 借网络一张图片说明:</p>
<p><img src="http://static.zxinc520.com/blog/20190427/TBHlLkPiRjat.webp" alt="mark"></p>
<p><strong>比较只会在同层级进行，不会跨层级比较。</strong><br>
比较后会出现四种情况：<br>
1、此节点是否被移除 -&gt; 添加新的节点<br>
 2、属性是否被改变 -&gt; 旧属性改为新属性<br>
 3、文本内容被改变 -&gt; 旧内容改为新内容<br>
 4、节点要被整个替换 -&gt; 结构完全不相同 移除整个替换</p>
<h2 id="创建基本的-webpack4x-项目"><a class="markdownIt-Anchor" href="#创建基本的-webpack4x-项目">#</a> 创建基本的 webpack4.x 项目</h2>
<ol>
<li>运行  <code>npm init -y</code>  快速初始化下项目</li>
<li>在项目根目录创建 <strong>src</strong> 源代码目录 和 <strong>dist</strong> 产品目录</li>
<li>在 src 目录下创建 index.html</li>
<li>使用 npm 安装 webpack，运行  <code>npm i webpack webpack-cli -D</code></li>
<li>注意：webpack4.x 提供了 约定大于配置的概念；目的是为了尽量减少 配置文件的体积。
<ul>
<li>默认约定了
<ul>
<li>打包的入口是  <code>src</code>  -&gt; <code> index.js</code></li>
<li>打包的输出文件是  <code>dist</code>  -&gt;  <code>main.js</code></li>
<li>4.x 中新增的 mode 项：<u>development</u> 和 <u>production</u></li>
</ul>
</li>
</ul>
</li>
</ol>
<p><img src="http://static.zxinc520.com/blog/20190427/N7Qiefkt9Fwn.png?imageslim" alt="mark"></p>
<p><a target="_blank" rel="noopener" href="https://www.webpackjs.com/concepts/mode/">mode 介绍</a></p>
<p>​ <strong>mode</strong> 参数：（<u>development</u> 和 <u>production</u> ）：决定了 配置代码 （压缩代码体积）是否被压缩。</p>
<p><img src="http://static.zxinc520.com/blog/20190427/3EKcIY3d4kos.png?imageslim" alt="mark"></p>
<h3 id="配置-webpack-dev-server-自动打包"><a class="markdownIt-Anchor" href="#配置-webpack-dev-server-自动打包">#</a> 配置 webpack-dev-server (自动打包)</h3>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> 能够用于快速开发应用程序</p>
</blockquote>
<ol>
<li>安装：运行： <code>npm i webpack-dev-server -D</code></li>
<li>配置 <u>package.json</u></li>
</ol>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span><span class="token punctuation">,</span>
    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"webpack-dev-server"</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>可以在<u><em>webpack.config.js</em></u> 配置相应的 devServer（自动打开窗口，配置端口号，首页路径展示情况）</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190427/oznoq3LcPA3S.png?imageslim" alt="mark"></p>
<h3 id="配置-html-webpack-plugin"><a class="markdownIt-Anchor" href="#配置-html-webpack-plugin">#</a> 配置 html-webpack-plugin</h3>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/jantimon/html-webpack-plugin"> <code>HtmlWebpackPlugin</code> </a> 简化了 HTML 文件的创建，以便为你的 webpack 包提供服务。这对于在文件名中包含每次会随着编译而发生变化哈希的 webpack bundle 尤其有用。 你可以让插件为你生成一个 HTML 文件，使用<a target="_blank" rel="noopener" href="https://lodash.com/docs#template"> lodash 模板</a>提供你自己的模板，或使用你自己的<a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders"> loader</a>。</p>
</blockquote>
<ol>
<li>安装：运行： <code>npm i html-webpack-plugin -D</code></li>
<li>配置 <u>package.json</u></li>
</ol>
<p><img src="http://static.zxinc520.com/blog/20190427/uzkbRIjYKMqF.png?imageslim" alt="mark"></p>
<h3 id="配置-babel"><a class="markdownIt-Anchor" href="#配置-babel">#</a> 配置 Babel</h3>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://babeljs.io/">Babel</a> 是一个广泛使用的转码器，可以将 ES6 代码转为 ES5 代码</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders/babel-loader/#%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3"> webpack 中使用 Babel 官方文档 </a></p>
<ol>
<li>
<p>安装  <code>npm install -D babel-loader @babel/core @babel/preset-env webpack</code></p>
</li>
<li>
<p><u>在 webpack 配置对象中，需要将 babel-loader 添加到 module 列表中，就像下面这样</u></p>
</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  rules<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      test<span class="token operator">:</span> <span class="token regex">/\.m?js$/</span><span class="token punctuation">,</span>
      exclude<span class="token operator">:</span> <span class="token regex">/(node_modules|bower_components)/</span><span class="token punctuation">,</span>
      use<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        loader<span class="token operator">:</span> <span class="token string">"babel-loader"</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
          presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@babel/preset-env"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h3 id="解决之前遇到的一个-bug"><a class="markdownIt-Anchor" href="#解决之前遇到的一个-bug">#</a> 解决之前遇到的一个 BUG</h3>
<p><img src="http://static.zxinc520.com/blog/20190427/FnivOIm1VIRg.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190416/vh340CYSUk0d.png?imageslim" alt="1556355771552"></p>
<p><strong>解决方案</strong>：</p>
<ol>
<li>安装： <code>npm i @babel/plugin-proposal-class-properties -D</code></li>
<li>配置  <code>webpack.config.js</code></li>
</ol>
<p><img src="http://static.zxinc520.com/blog/20190427/OWlsS3uCQONs.png?imageslim" alt="mark"></p>
<p><strong>运行结果</strong>：</p>
<p><img src="http://static.zxinc520.com/blog/20190427/gHK6mpqXfQca.png?imageslim" alt="mark"></p>
<h2 id="在项目中使用-react"><a class="markdownIt-Anchor" href="#在项目中使用-react">#</a> 在项目中使用 react</h2>
<ol>
<li>运行  <code>npm i react react-dom -s</code>  安装包
<ul>
<li>react：专门用于创建组件和虚拟 DOM 的，同时组件的生命周期都在这个包中</li>
<li>react-dom：专门进行 DOM 操作的，最主要的应用场景，就是 ReactDOM.render ()</li>
</ul>
</li>
</ol>
<p><u>尝试写一个 react 项目</u>：</p>
<p><strong>index.js</strong>:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//第一步：导入包</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span> <span class="token comment">//创建组件，虚拟DOM元素，生命周期</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span> <span class="token comment">//把创建好的 组件 和 虚拟DOM 放到页面上展示的</span>

<span class="token comment">//第二步：创建虚拟DOM元素</span>
<span class="token comment">//参数1：创建的元素的类型，字符串，表示元素的名称</span>
<span class="token comment">//参数2：是一个对象或 null，表示 当前这个DOM 元素的属性</span>
<span class="token comment">//参数3：子节点（包括 其它 虚拟DOM 获取 文本子节点）</span>
<span class="token comment">//参数n：其它子节点</span>
<span class="token keyword">const</span> myh1 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
  <span class="token string">"h1"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token string">"myh1"</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">"this id h1"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token string">"这是一个大大H1！"</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//第三步：使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
<span class="token comment">//参数一：要渲染的那个虚拟DOM元素</span>
<span class="token comment">//参数二：指定页面上的DOM元素，当作容器</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>myh1<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>index.html</strong>:</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190427/AHtHc973OThy.png?imageslim" alt="mark"></p>
<h2 id="创建-dom-结构"><a class="markdownIt-Anchor" href="#创建-dom-结构">#</a> 创建 DOM 结构</h2>
<h3 id="方式一~基本不用"><a class="markdownIt-Anchor" href="#方式一~基本不用">#</a> 方式一：（~ 基本不用）</h3>
<p><strong>index.js</strong>:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//第一步：导入包</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span> <span class="token comment">//创建组件，虚拟DOM元素，生命周期</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span> <span class="token comment">//把创建好的 组件 和 虚拟DOM 放到页面上展示的</span>

<span class="token comment">//第二步：创建虚拟DOM元素</span>
<span class="token keyword">const</span> myh1 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
  <span class="token string">"h1"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token string">"myh1"</span><span class="token punctuation">,</span> title<span class="token operator">:</span> <span class="token string">"this id h1"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token string">"这是一个大大H1！"</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> mydiv <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"这是一个div元素"</span><span class="token punctuation">,</span> myh1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//第三步：使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>mydiv<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="方式二jsx-语法-~-important"><a class="markdownIt-Anchor" href="#方式二jsx-语法-~-important">#</a> 方式二：JSX 语法 （~ important）</h3>
<blockquote>
<p>JSX 语法：看起来可能有些奇怪的标签语法既不是字符串也不是 HTML。</p>
<p>JSX 语法的本质，还是在运行的时候，被转换成了 <u><strong>React.createElement 形式</strong></u>来执行的</p>
</blockquote>
<p>使用 <strong>babel</strong> 将 JSX 语法转换为 <u>React.createElement 形式</u> <a target="_blank" rel="noopener" href="https://react.docschina.org/docs/introducing-jsx.html">JSX 官方详细介绍</a></p>
<p>关键包：运行  <code>npm install --save-dev @babel/preset-react</code>  <a target="_blank" rel="noopener" href="https://babeljs.io/docs/en/babel-preset-react">可以参考 babel 官方文档</a></p>
<p><img src="http://static.zxinc520.com/blog/20190427/NHy4KwgF4SNN.png?imageslim" alt="mark"></p>
<p>原因：<u>少写了中括号。（粗心大意了）</u>不该！！~~~</p>
<p><strong>配置 <u>webpack.config.js</u></strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//配置 @babel/preset-react</span>
module<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  rules<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      test<span class="token operator">:</span> <span class="token regex">/\.m?js$/</span><span class="token punctuation">,</span>
      exclude<span class="token operator">:</span> <span class="token regex">/(node_modules|bower_components)/</span><span class="token punctuation">,</span>
      use<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        loader<span class="token operator">:</span> <span class="token string">"babel-loader"</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
          presets<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">"@babel/preset-env"</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span>
              <span class="token string">"@babel/preset-react"</span><span class="token punctuation">,</span>
              <span class="token punctuation">&#123;</span>
                pragmaFrag<span class="token operator">:</span> <span class="token string">"DomFrag"</span><span class="token punctuation">,</span> <span class="token comment">// default is React.Fragment</span>
                throwIfNamespace<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// defaults to true</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@babel/plugin-proposal-class-properties"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h5 id="在-jsx-中使用表达式-jsx-中使用表达式"><a class="markdownIt-Anchor" href="#在-jsx-中使用表达式-jsx-中使用表达式">#</a> <strong>在 JSX 中使用表达式</strong>：<a target="_blank" rel="noopener" href="https://react.docschina.org/docs/introducing-jsx.html"> JSX 中使用表达式</a></h5>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//第一步：导入包</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span> <span class="token comment">//创建组件，虚拟DOM元素，生命周期</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span> <span class="token comment">//把创建好的 组件 和 虚拟DOM 放到页面上展示的</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"zc"</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>h1<span class="token operator">></span>这是h1<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>h2<span class="token operator">></span>这是h2<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"周琛"</span><span class="token punctuation">,</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token string">"王五"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//第三步：使用 ReactDOM 把虚拟 DOM 渲染到页面上</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div title<span class="token operator">=</span><span class="token punctuation">&#123;</span>str<span class="token punctuation">&#125;</span><span class="token operator">></span>
    <span class="token punctuation">&#123;</span>a <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">></span>
    <span class="token punctuation">&#123;</span>arr<span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">></span>
    <span class="token punctuation">&#123;</span>arr1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>h3<span class="token operator">></span><span class="token punctuation">&#123;</span>item<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190427/EfbH8hDEnVn0.png?imageslim" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/" rel="tag">React</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-VueLearn07"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/04/18/VueLearn07/"
    >Mint-UI、MUI</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/04/18/VueLearn07/" class="article-date">
  <time datetime="2019-04-18T10:18:48.000Z" itemprop="datePublished">2019-04-18</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/Vue/">Vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="vue-第七天学习"><a class="markdownIt-Anchor" href="#vue-第七天学习">#</a> Vue 第七天学习</h1>
<blockquote>
<p>Mint-UI 学习</p>
<p>MUI</p>
</blockquote>
<h2 id="mint-ui"><a class="markdownIt-Anchor" href="#mint-ui">#</a> Mint-UI</h2>
<h3 id="基于-vuejs-的移动端组件库"><a class="markdownIt-Anchor" href="#基于-vuejs-的移动端组件库">#</a> 基于 Vue.js 的移动端组件库</h3>
<p><strong>特性介绍：</strong><a target="_blank" rel="noopener" href="http://mint-ui.github.io/#!/zh-cn">Mint-UI 官网</a></p>
<ol>
<li>Mint UI 包含丰富的 CSS 和 JS 组件，能够满足日常的移动端开发需要。通过它，可以快速构建出风格统一的页面，提升开发效率。</li>
<li>真正意义上的按需加载组件。可以只加载声明过的组件及其样式文件，无需再纠结文件体积过大。</li>
<li>考虑到移动端的性能门槛，Mint UI 采用 CSS3 处理各种动效，避免浏览器进行不必要的重绘和重排，从而使用户获得流畅顺滑的体验。</li>
<li>依托 Vue.js 高效的组件化方案，Mint UI 做到了轻量化。即使全部引入，压缩后的文件体积也仅有～30kb (JS + CSS) gzip。</li>
</ol>
<p><strong>安装：</strong></p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">&#x2F;&#x2F; 安装
# Vue 1.x
npm install mint-ui@1 -S
# Vue 2.0
npm install mint-ui -S<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>来自官网</strong>：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 引入全部组件</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Mint <span class="token keyword">from</span> <span class="token string">"mint-ui"</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Mint<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 按需引入部分组件</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Cell<span class="token punctuation">,</span> Checklist <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"minu-ui"</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>Cell<span class="token punctuation">.</span>name<span class="token punctuation">,</span> Cell<span class="token punctuation">)</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>Checklist<span class="token punctuation">.</span>name<span class="token punctuation">,</span> Checklist<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="项目演示"><a class="markdownIt-Anchor" href="#项目演示">#</a> <strong>项目演示：</strong></h3>
<p>项目目录：</p>
<p><img src="http://static.zxinc520.com/blog/20190418/udiBT1HHpIk4.png?imageslim" alt="mark"></p>
<p><strong>main.js:</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//导入所以的 MintUI 组件</span>
<span class="token comment">//导入 mint-ui</span>
<span class="token keyword">import</span> MintUI <span class="token keyword">from</span> <span class="token string">"mint-ui"</span><span class="token punctuation">;</span> <span class="token comment">//把所有的组件都导入进来</span>
<span class="token comment">//这里可以 省略 node_modules 目录</span>
<span class="token keyword">import</span> <span class="token string">"mint-ui/lib/style.css"</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>MintUI<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//把所有的组件，注册为全局的组件</span>

<span class="token comment">//导入app组件</span>
<span class="token keyword">import</span> app <span class="token keyword">from</span> <span class="token string">"./App.vue"</span><span class="token punctuation">;</span>
<span class="token comment">//导入 自定义路由模块</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">"./router.js"</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    msg<span class="token operator">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">c</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>App.vue:</strong></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;这是app组件&lt;&#x2F;h1&gt;
    &lt;mt-button type&#x3D;&quot;primary&quot; size&#x3D;&quot;large&quot;&gt;default&lt;&#x2F;mt-button&gt;
    &lt;router-link to&#x3D;&quot;&#x2F;account&quot;&gt;account&lt;&#x2F;router-link&gt;
    &lt;router-link to&#x3D;&quot;&#x2F;goodslist&quot;&gt;goodslist&lt;&#x2F;router-link&gt;
    &lt;router-view&gt;&lt;&#x2F;router-view&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;&lt;&#x2F;script&gt;

&lt;style&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190418/L8Aec7UwlBhj.png?imageslim" alt="mark"></p>
<h2 id="js-components-使用"><a class="markdownIt-Anchor" href="#js-components-使用">#</a> JS components 使用</h2>
<h4 id="例如使用-toast-组件"><a class="markdownIt-Anchor" href="#例如使用-toast-组件">#</a> 例如：使用 <strong>Toast 组件</strong></h4>
<p>App.vue:</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;这是app组件&lt;&#x2F;h1&gt;
    &lt;mt-button type&#x3D;&quot;primary&quot; size&#x3D;&quot;large&quot; @click&#x3D;&quot;show&quot;&gt;default&lt;&#x2F;mt-button&gt;
    &lt;router-link to&#x3D;&quot;&#x2F;account&quot;&gt;account&lt;&#x2F;router-link&gt;
    &lt;router-link to&#x3D;&quot;&#x2F;goodslist&quot;&gt;goodslist&lt;&#x2F;router-link&gt;
    &lt;router-view&gt;&lt;&#x2F;router-view&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; Toast &#125; from &quot;mint-ui&quot;;

export default &#123;
  data() &#123;
    return &#123;&#125;;
  &#125;,
  methods: &#123;
    show() &#123;
      Toast(&#123;
        message: &quot;Upload Complete&quot;,
        position: &quot;middle&quot;,
        duration: 5000,
      &#125;);
    &#125;,
  &#125;,
&#125;;
&lt;&#x2F;script&gt;

&lt;style&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190418/4i9Jbv1iwEGP.gif" alt="mark"></p>
<h2 id="使用-bootstrap-图标-配合-toast-组件-使用"><a class="markdownIt-Anchor" href="#使用-bootstrap-图标-配合-toast-组件-使用">#</a> 使用 <strong>bootstrap 图标</strong> 配合 **Toast 组件 ** 使用</h2>
<ol>
<li>安装 bootstrap 包</li>
</ol>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">npm i bootstrap@3.3.7 -S<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="2">
<li>在 main.js 文件</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">"bootstrap/dist/css/bootstrap.min.css"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="3">
<li>在 App.vue 文件里</li>
</ol>
<p><img src="http://static.zxinc520.com/blog/20190418/07pVWBGzLVEB.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190418/9NNEMXf71zIY.gif" alt="mark"></p>
<h4 id="自定义图标颜色"><a class="markdownIt-Anchor" href="#自定义图标颜色">#</a> 自定义图标颜色</h4>
<p><img src="http://static.zxinc520.com/blog/20190418/7x5iyU8lwDzL.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190418/IX8tRWh9aU8d.gif" alt="mark"></p>
<h2 id="模拟-完成接收数据-toast-组件消失需求"><a class="markdownIt-Anchor" href="#模拟-完成接收数据-toast-组件消失需求">#</a> 模拟 完成接收数据 Toast 组件消失需求</h2>
<h3 id="需求-1s-后-toast-组件消失需求"><a class="markdownIt-Anchor" href="#需求-1s-后-toast-组件消失需求">#</a> 需求： 1s 后 Toast 组件消失需求</h3>
<p><strong>App.vue:</strong></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;这是app组件&lt;&#x2F;h1&gt;
    &lt;mt-button type&#x3D;&quot;primary&quot; size&#x3D;&quot;large&quot; @click&#x3D;&quot;show&quot;&gt;default&lt;&#x2F;mt-button&gt;
    &lt;router-link to&#x3D;&quot;&#x2F;account&quot;&gt;account&lt;&#x2F;router-link&gt;
    &lt;router-link to&#x3D;&quot;&#x2F;goodslist&quot;&gt;goodslist&lt;&#x2F;router-link&gt;
    &lt;router-view&gt;&lt;&#x2F;router-view&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
import &#123; Toast &#125; from &quot;mint-ui&quot;;

export default &#123;
  data() &#123;
    return &#123;
      instance: null,
    &#125;;
  &#125;,
  created() &#123;
    this.getList();
  &#125;,
  methods: &#123;
    getList() &#123;
      this.show();
      setTimeout(() &#x3D;&gt; &#123;
        this.instance.close();
      &#125;, 1000);
    &#125;,
    show() &#123;
      this.instance &#x3D; Toast(&#123;
        message: &quot;Upload Complete&quot;,
        duration: -1,
        position: &quot;middle&quot;,
        duration: 5000,
        iconClass: &quot;glyphicon glyphicon-heart&quot;,
        className: &quot;mytoast&quot;,
      &#125;);
    &#125;,
  &#125;,
&#125;;
&lt;&#x2F;script&gt;

&lt;style&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190418/qPQ3yPDUEMHo.gif" alt="mark"></p>
<h2 id="babel-plugin-component-插件"><a class="markdownIt-Anchor" href="#babel-plugin-component-插件">#</a> babel-plugin-component 插件</h2>
<p><strong>作用</strong>：为了项目整体内容不过于庞大，按需加载是许多第三方的库和插件必不可少的，于是使用了官方提供的按需加载插件<a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FElementUI%2Fbabel-plugin-component"> babel-plugin-component</a></p>
<h3 id="按需导入"><a class="markdownIt-Anchor" href="#按需导入">#</a> 按需导入：</h3>
<ol>
<li>1. 安装：</li>
</ol>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">npm install babel-plugin-component -D<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="2">
<li>2. 修改 <strong>.babelrc</strong> 里面的 <strong>plugins</strong> ：</li>
</ol>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"env"</span><span class="token punctuation">,</span> <span class="token string">"stage-0"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"transform-runtime"</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
      <span class="token string">"component"</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
          <span class="token property">"libraryName"</span><span class="token operator">:</span> <span class="token string">"mint-ui"</span><span class="token punctuation">,</span>
          <span class="token property">"style"</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="项目改造"><a class="markdownIt-Anchor" href="#项目改造">#</a> 项目改造</h2>
<h4 id="按需导入-2"><a class="markdownIt-Anchor" href="#按需导入-2">#</a> 按需导入</h4>
<p><strong>mian.js:</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">"mint-ui/lib/style.css"</span><span class="token punctuation">;</span>

<span class="token comment">//按需导入</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Button <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"mint-ui"</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">"mybtn"</span><span class="token punctuation">,</span> Button<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//导入自定义的 mybtn 按钮组件</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>App.vue:</strong></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
    &lt;div&gt;
        &lt;h1&gt;这是app组件&lt;&#x2F;h1&gt;
        &lt;mybtn type&#x3D;&quot;primary&quot;&gt;mybtn&lt;&#x2F;mybtn&gt;
        &lt;router-link to&#x3D;&quot;&#x2F;account&quot;&gt;account&lt;&#x2F;router-link&gt;
        &lt;router-link to&#x3D;&quot;&#x2F;goodslist&quot;&gt;goodslist&lt;&#x2F;router-link&gt;
        &lt;router-view&gt;&lt;&#x2F;router-view&gt;
    &lt;&#x2F;div&gt;
&lt;&#x2F;templat<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190418/Kh82KQyT57d4.png?imageslim" alt="mark"></p>
<h2 id="mui"><a class="markdownIt-Anchor" href="#mui">#</a> MUI</h2>
<blockquote>
<p>注意： MUI 不同于 Mint-UI，MUI 只是开发出来的一套好用的代码片段，里面提供了配套的样式、配套的 HTML 代码段，类似于 Bootstrap； 而 Mint-UI，是真正的组件库，是使用 Vue 技术封装出来的 成套的组件，可以无缝的和 VUE 项目进行集成开发；<br>
因此，从体验上来说， Mint-UI 体验更好，因为这是别人帮我们开发好的现成的 Vue 组件；<br>
从体验上来说， MUI 和 Bootstrap 类似；<br>
理论上，任何项目都可以使用 MUI 或 Bootstrap，但是，MInt-UI 只适用于 Vue 项目；</p>
</blockquote>
<p>**mui 框架：** 性能和体验的差距，一直是 mobile app 开发者放弃 HTML5 的首要原因。 浏览器天生的切页白屏、不忍直视的转页动画、浮动元素的抖动、无法流畅下拉刷新等问题，这些都让 HTML5 开发者倍感挫败，尤其拿到 Android 低端机运行，摔手机的心都有； 另一方面，浏览器默认控件样式又少又丑，制作一个漂亮的控件非常麻烦，也有一些制作简单的 ui 框架但性能低下。</p>
<p>mui 框架有效的解决了这些问题，这是一个可以方便开发出高性能 App 的框架，也是目前最接近原生 App 效果的框架。</p>
<p><strong>注意：</strong> MUI 并不能使用 npm 去下载，需要自己手动从 github 上，下载现成的包，自己解压出来，然后手动拷贝到项目中使用；</p>
<ol>
<li>下载 MUI 包 从 github 上</li>
</ol>
<h3 id="使用"><a class="markdownIt-Anchor" href="#使用">#</a> 使用：</h3>
<p><strong>在 main.js 导入 MUI 包:</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">"./lib/dist/css/mui.min.css"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>在 App.vue 中使用（例如一个 按钮）：</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mui-btn mui-btn-royal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  Badge button <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mui-badge mui-badge-royal<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>999<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190418/TxVONoruT7Xq.png?imageslim" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MUI/" rel="tag">MUI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mint-UI/" rel="tag">Mint-UI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-VueLearn06"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/04/17/VueLearn06/"
    >webpack、webpack 后续问题</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/04/17/VueLearn06/" class="article-date">
  <time datetime="2019-04-17T13:28:36.000Z" itemprop="datePublished">2019-04-17</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/Vue/">Vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="vue-第六天学习"><a class="markdownIt-Anchor" href="#vue-第六天学习">#</a> Vue 第六天学习</h1>
<blockquote>
<p>file-loader（解决 webpack 打包图片路径问题，字体路径问题）</p>
<p>webpack 中 babel 的配置（处理高级的 es6 语法或者 es7 语法）</p>
<p>Vue 中的 render 函数</p>
<p>在 webpack 构建的项目中，使用 Vue 进行开发</p>
<p>export default 和 export 的使用方式</p>
<p>结合 webpack 使用 vue-router</p>
<p>组件中 style 标签 lang 属性和 scoped 属性的介绍</p>
<p>抽离路由模块</p>
<p>一个人如果不想输，就要不断学好眼前的东西，它们将来都会大有用处…</p>
</blockquote>
<h2 id="webpack-后续问题"><a class="markdownIt-Anchor" href="#webpack-后续问题">#</a> webpack 后续问题</h2>
<h5 id="问题webpack-打包图片路径问题"><a class="markdownIt-Anchor" href="#问题webpack-打包图片路径问题">#</a> 问题：Webpack 打包图片路径问题</h5>
<p><img src="http://static.zxinc520.com/blog/20190415/EHGtOouC7m7W.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190415/67j7Iq3tsM4q.png?imageslim" alt="mark"></p>
<h4 id="在页面中引入图片有两种方式"><a class="markdownIt-Anchor" href="#在页面中引入图片有两种方式">#</a> 在页面中引入图片有两种方式</h4>
<ul>
<li>img 标签引入</li>
<li>css 引入</li>
</ul>
<h2 id="解决方案webpack-使用-file-loader-处理图片"><a class="markdownIt-Anchor" href="#解决方案webpack-使用-file-loader-处理图片">#</a> 解决方案：Webpack 使用 file-loader 处理图片</h2>
<h3 id="安装file-loader-包"><a class="markdownIt-Anchor" href="#安装file-loader-包">#</a> 安装：<strong>file-loader</strong> 包</h3>
<ol>
<li>运行  <code>npm i url-loader file-loader -D</code>  来安装 <strong>file-loader</strong> 包</li>
</ol>
<p><img src="http://static.zxinc520.com/blog/20190415/tFYCSVQRUkQu.png?imageslim" alt="mark"></p>
<p>​</p>
<ol start="2">
<li>配置 webpack.config.js 文件</li>
</ol>
<p><img src="http://static.zxinc520.com/blog/20190415/cELvBLsveIEX.png?imageslim" alt="mark"></p>
<ol start="3">
<li>运行 <code> npm run dev</code></li>
</ol>
<p><img src="http://static.zxinc520.com/blog/20190415/VVGGMT2828JL.gif" alt="mark"></p>
<h3 id="file-loader-参数"><a class="markdownIt-Anchor" href="#file-loader-参数">#</a> file-loader 参数</h3>
<ul>
<li>
<p><code>limit</code>  给定的值，是图片的大小，单位是 byte，如果我们引用的 图片，<strong>大于 <strong>给定的值，则会被转为</strong> base64 格式</strong> 的字符串，如果，图片 ** 小于或等于 ** 给定的 limit 值，则不会被转为 base64 的 字符串<br>
<img src="http://static.zxinc520.com/blog/20190416/XiEHyP6vdL8s.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190416/T1MukN0guNf5.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190416/FPE7T3OUKGxd.png?imageslim" alt="mark"></p>
</li>
<li>
<p><code>name</code>  属性 使图片路径 url 不变</p>
</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190416/wX5GMiFDX3zF.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190416/9qKydj98tyeA.png?imageslim" alt="mark"></p>
<h2 id="处理字体文件-路径问题"><a class="markdownIt-Anchor" href="#处理字体文件-路径问题">#</a> 处理字体文件 路径问题</h2>
<blockquote>
<p>使用 <strong>file-loader</strong></p>
</blockquote>
<p>问题描述：引入 bootstrap 字体图标库，但报错！</p>
<p><img src="http://static.zxinc520.com/blog/20190416/1tjFUEn3NBee.png?imageslim" alt="mark"></p>
<p><strong>解决方案</strong>：</p>
<ol>
<li>配置 webpack.config.js</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>test<span class="token operator">:</span><span class="token regex">/\.(ttf|eot|svg|woff|woff2)$/</span><span class="token punctuation">,</span>use<span class="token operator">:</span><span class="token string">'url-loader'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token comment">//这是 处理 字体文件的 loader</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190417/K7a1le382DJs.png?imageslim" alt="mark"></p>
<ol start="2">
<li>运行  <code>npm run dev</code></li>
</ol>
<h1 id="webpack-中-babel-的配置"><a class="markdownIt-Anchor" href="#webpack-中-babel-的配置">#</a> webpack 中 babel 的配置</h1>
<p><a target="_blank" rel="noopener" href="https://www.babeljs.cn/docs/index.html">babel 介绍 </a></p>
<p><strong>问题描述</strong>：</p>
<ol>
<li>webpack 中默认只能处理一部分 es6 语法，一些更高级的 es6 语法或者 es7 语法 webpack 处理不了，这时候就需要借助第三方 loader 帮助 webpack 处理这些语法</li>
<li>class 是 es6 中提供的语法，是用来实现 es6 中面向对象编程的方式，class 和 static 与 Java 中类似</li>
</ol>
<p><img src="http://static.zxinc520.com/blog/20190416/4zFaWW0Qqco2.png?imageslim" alt="mark"></p>
<p><strong>解决方案</strong>：</p>
<ol>
<li>通过 <strong>babel</strong> 可以将高级语法转化为低级语法</li>
<li>安装，运行两个命令，安装两套包，去安装 babel 相关的功能</li>
</ol>
<ul>
<li><strong>第一套包</strong>： <code>npm i babel-core babel-loader babel-plugin-transform-runtime -D</code></li>
<li><strong>第二套包</strong>： <code>npm i babel-preset-env babel-preset-stage-0 -D</code></li>
</ul>
<ol start="3">
<li>打开 webpack 配置文件，在 module 节点写的 rules 数组中添加一个新的匹配规则</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>test<span class="token operator">:</span><span class="token regex">/\.js$/</span><span class="token punctuation">,</span>use<span class="token operator">:</span><span class="token string">'babel-loader'</span><span class="token punctuation">,</span>exclude<span class="token operator">:</span><span class="token regex">/node_modules/</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190416/T3zLwVwLDPgf.png?imageslim" alt="mark"></p>
<!--在配置babel的loader规则时必须把node_module目录通过exclude排除-->
<p><strong>排除 node_module 目录的原因:</strong></p>
<ul>
<li>如果排除 node_module，babel 会把 node_module 目录下的所有第三方 js 文件都打包编译，这会非常消耗 CPU，同时打包速度非常慢</li>
<li>babel 把 node_module 中的 js 文件转化完毕项目也无法正常运行</li>
</ul>
<ol start="4">
<li>在项目的根目录中新建一个叫做 <strong>.babelrc</strong> 的 babel 配置文件，这个配置文件属于 <strong>json 格式</strong></li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>
    <span class="token string">"presets"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"env"</span><span class="token punctuation">,</span><span class="token string">"stage-0"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"plugins"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"transform-runtime"</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190416/Mddz8O6ipjPl.png?imageslim" alt="mark"></p>
<p><strong>报错：</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190416/6PopTItC2OrO.png?imageslim" alt="mark"></p>
<p>** 解决方案：** 执行  <code>npm i babel-loader@7</code></p>
<p><img src="http://static.zxinc520.com/blog/20190416/HJupUdf1JIBA.png?imageslim" alt="mark"></p>
<p><strong>报错：</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190416/dYb1bw19ID0Y.png?imageslim" alt="mark"></p>
<p><strong>啊啊啊啊～～崩溃！！</strong></p>
<h2 id="修改之后还是跑不起来-醉了"><a class="markdownIt-Anchor" href="#修改之后还是跑不起来-醉了">#</a> 修改之后还是跑不起来 ---- 醉了！！</h2>
<p><img src="http://static.zxinc520.com/blog/20190416/dK1vXd5NuoO4.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190416/sEpb3GoWOHIM.png?imageslim" alt="mark"></p>
<p><strong>报错：</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190416/vh340CYSUk0d.png?imageslim" alt="mark"></p>
<h2 id="升级总结来自百度"><a class="markdownIt-Anchor" href="#升级总结来自百度">#</a> 升级总结（<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000016458913">来自百度</a>）</h2>
<h4 id="-babel-升级-7x-踩坑记录"><a class="markdownIt-Anchor" href="#-babel-升级-7x-踩坑记录">#</a> -babel 升级 7.X 踩坑记录</h4>
<ol>
<li>babel 包名改变，以前安装是  <code>npm i babel-*</code>  现在安装 babel 系列需要写成  <code>npm i @babel/*</code></li>
<li><code>.babelrc</code>  文件写法改变， <code>preset plugins</code>  等全部写成  <code>@babel/*</code>  的形式</li>
</ol>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">npm:
- babel-preset-env
+ @babel&#x2F;preset-env
- babel-preset-react
+ @babel&#x2F;preset-react
- babel-preset-stage-0

.babelrc:
- &quot;presets&quot;: [&quot;react&quot;, &quot;env&quot;, &quot;stage-0&quot;, &quot;mobx&quot;]
+ &quot;presets&quot;: [&quot;@babel&#x2F;preset-react&quot;, &quot;@babel&#x2F;preset-env&quot;, &quot;mobx&quot;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>除了上述的 <code>preset</code> ，我还用了 <code>babel-preset-mobx</code> <br>
 但是没找到  <code>@babel/preset-mobx</code> ，从<a target="_blank" rel="noopener" href="https://github.com/zwhitchcox/babel-preset-mobx/commits/master"> babel-preset-mobx git 提交日志</a>上看，作者已经支持了最新的 <code>babel</code> 。在之后的测试中，发现 <code>mobx</code>  的功能也能正常使用。<br>
另外，<a target="_blank" rel="noopener" href="https://babeljs.io/blog/2018/07/27/removing-babels-stage-presets">stage-* 已弃用</a></p>
<h2 id="使用-vue-实例的-render-方法"><a class="markdownIt-Anchor" href="#使用-vue-实例的-render-方法">#</a> 使用 Vue 实例的 render 方法</h2>
<blockquote>
<p>Vue 推荐使用在绝大多数情况下使用 template 来创建你的 HTML。然而在一些场景中，你真的需要 JavaScript 的完全编程的能力，这就是 <strong>render 函数</strong>，它比 template 更接近编译器。</p>
</blockquote>
<p>* 基本使用 **</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> login <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h1>login 组件&lt;/h1>"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">createElement</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token function">createElement</span><span class="token punctuation">(</span>login<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190417/El6GtYoXY4Wm.png?imageslim" alt="mark"></p>
<h2 id="在-webpack-构建的项目中使用-vue-进行开发"><a class="markdownIt-Anchor" href="#在-webpack-构建的项目中使用-vue-进行开发">#</a> 在 webpack 构建的项目中，使用 Vue 进行开发</h2>
<ul>
<li>在普通网页中如何使用 Vue
<ul>
<li>1. 使用 script 标签，引入 Vue 的包</li>
<li>2. 在 index 页面中，创建 一个 id 为 app div 容器</li>
<li>3. 通过 new Vue 得到一个 vm 的实例</li>
</ul>
</li>
</ul>
<h2 id="重点在-webpack-中-尝试-使用-vue"><a class="markdownIt-Anchor" href="#重点在-webpack-中-尝试-使用-vue">#</a> 重点：在 webpack 中 尝试 使用 Vue</h2>
<ol>
<li><strong>直接导入 Vue 包</strong>：</li>
</ol>
<p><img src="http://static.zxinc520.com/blog/20190417/fl74cG8ej4BE.png?imageslim" alt="mark"></p>
<p><strong>结果报错</strong>：</p>
<p><img src="http://static.zxinc520.com/blog/20190417/wte2gIV3SL5L.png?imageslim" alt="mark"></p>
<!--注意：在webpack 中 使用 `import Vue from 'vue'`导入的 Vue 构造函数，功能不完整，只提供了 **runtime-only** 的方式，并没有提供 像网页中-->
<p><img src="http://static.zxinc520.com/blog/20190417/FDsekOzOdqSz.png?imageslim" alt="mark"></p>
<h4 id="-回顾-包的-查找-规则"><a class="markdownIt-Anchor" href="#-回顾-包的-查找-规则">#</a> - 回顾 ：包的 <strong>查找</strong> 规则</h4>
<ol>
<li>找 项目根目录中有没有 node_modules 的文件夹</li>
<li>在 node_modules 中，根据包名，找对应的 vue 文件夹</li>
<li>在 vue 文件夹中，找 一个叫 package.json 的包配置文件</li>
<li>在 package.json 文件中，查找 一个 main 属性【mian 属性指定了这个包在被加载的时候的入口文件】</li>
</ol>
<p><strong>解决方案 1</strong>：</p>
<p><img src="http://static.zxinc520.com/blog/20190417/Q2FwTyktL3nF.png?imageslim" alt="mark"></p>
<p><strong>解决方案 2</strong>：</p>
<p><img src="http://static.zxinc520.com/blog/20190417/67SE8EyWVRmn.png?imageslim" alt="mark"></p>
<p><strong>解决方案 3（更优雅）：</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190417/Cfv9yq1PVXPl.png?imageslim" alt="mark"></p>
<h2 id="定义-文件形式-vue-组件-加载到页面上"><a class="markdownIt-Anchor" href="#定义-文件形式-vue-组件-加载到页面上">#</a> 定义 文件形式 vue 组件 加载到页面上</h2>
<p><strong>例如</strong>：</p>
<p><img src="http://static.zxinc520.com/blog/20190417/znhigwsi4kiE.png?imageslim" alt="mark"></p>
<p><strong>报错：</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190417/6ag81mxVMdjN.png?imageslim" alt="mark"></p>
<p><strong>原因：</strong></p>
<ul>
<li>默认，webpack 无法打包 .vue 文件，需要安装 *<em> 相关的 loader</em></li>
</ul>
<p><strong>解决方案：</strong></p>
<ol>
<li>
<p>安装：执行  <code>npm i vue-loader vue-template-compiler -D</code>  命令</p>
</li>
<li>
<p>配置 webpack.config.js 文件</p>
</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>test<span class="token operator">:</span><span class="token regex">/\.vue$/</span><span class="token punctuation">,</span>use<span class="token operator">:</span><span class="token string">'vue-loader'</span><span class="token punctuation">&#125;</span> 	<span class="token comment">//处理 .vue后缀名的 loader</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190417/8cY6BeLLmNt2.png?imageslim" alt="mark"></p>
<p>结果：还是报错</p>
<p><img src="http://static.zxinc520.com/blog/20190417/VgCmomodVkuA.png?imageslim" alt="mark"></p>
<h4 id="原因vue-loader-在-15之后的版本都是-vue-loader-的使用都是需要伴生-vueloaderplugin-的"><a class="markdownIt-Anchor" href="#原因vue-loader-在-15之后的版本都是-vue-loader-的使用都是需要伴生-vueloaderplugin-的">#</a> 原因：Vue-loader 在 15.* 之后的版本都是 vue-loader 的使用都是需要伴生 VueLoaderPlugin 的.</h4>
<p>解决：在 <strong>webpack.config.js</strong> 中加入</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"vue-loader/lib/plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  devtool<span class="token operator">:</span> <span class="token string">"sourcemap"</span><span class="token punctuation">,</span>
  entry<span class="token operator">:</span> <span class="token string">"./js/entry.js"</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    filename<span class="token operator">:</span> <span class="token string">"bundle.js"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190417/4zePeemdDl56.png?imageslim" alt="mark"></p>
<p><strong>使用 render 函数 ：</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190417/z60O8OR9qlLk.png?imageslim" alt="mark"><img src="http://static.zxinc520.com/blog/20190417/NG0rBbunP4N7.png?imageslim" alt="mark"></p>
<h2 id="总结梳理"><a class="markdownIt-Anchor" href="#总结梳理">#</a> 总结梳理：</h2>
<h4 id="总结梳理-webpack-中如何使用-vue"><a class="markdownIt-Anchor" href="#总结梳理-webpack-中如何使用-vue">#</a> 总结梳理： webpack 中如何使用 vue</h4>
<ol>
<li>
<p>安装 vue 的包： cnpm i vue -S</p>
</li>
<li>
<p>由于 在 webpack 中，推荐使用 .vue 这个组件模板文件定义组件，所以，需要安装 能解析这种文件的 loader ，执行命令：  <code>cnpm i vue-loader vue-template-complier -D</code></p>
</li>
<li>
<p>在 main.js 中，导入 vue 模块 import Vue from ‘vue’</p>
</li>
<li>
<p>定义一个 .vue 结尾的组件，其中，组件有三部分组成： template script style</p>
</li>
<li>
<p>使用 import login from ‘./login.vue’ 导入这个组件</p>
</li>
<li>
<p>创建 vm 的实例 var vm = new Vue ({el: ‘#app’, render: c =&gt; c (login) })</p>
</li>
<li>
<p>在页面中创建一个 id 为 app 的 div 元素，作为我们 vm 实例要控制的区域；</p>
</li>
</ol>
<h2 id="export-default-和-export-的使用方式"><a class="markdownIt-Anchor" href="#export-default-和-export-的使用方式">#</a> export default 和 export 的使用方式</h2>
<p><strong>基本使用：</strong></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h3&gt;这是登录组件，vue 文件定义出来的--&#123;&#123; msg &#125;&#125;&lt;&#x2F;h3&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  data() &#123;
    return &#123;
      msg: &quot;哈哈哈&quot;,
    &#125;;
  &#125;,
  methods: &#123;
    show() &#123;
      console.log(&quot;调用了 login.vue 中的show 方法！&quot;);
    &#125;,
  &#125;,
&#125;;
&lt;&#x2F;script&gt;

&lt;style&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190417/VJ8FVeRYb0oV.png?imageslim" alt="mark"></p>
<h2 id="exportimport-export-default-是什么"><a class="markdownIt-Anchor" href="#exportimport-export-default-是什么">#</a> export，import ，export default 是什么？</h2>
<p>ES6 模块主要有两个功能：export 和 import<br>
<strong>export</strong> 用于对外输出本模块（一个文件可以理解为一个模块）变量的接口<br>
<strong> import</strong> 用于在一个模块中加载另一个含有 export 接口的模块。<br>
也就是说使用 export 命令定义了模块的对外接口以后，其他 JS 文件就可以通过 import 命令加载这个模块（文件）。这几个都是 ES6 的语法。</p>
<ul>
<li>注意：export default 向外暴露的成员，可以使用任意的变量来接受</li>
<li>注意：在一个模块中，export default 只允许向外暴露一次</li>
<li>注意：在一个模块中，可以同时使用 export 和 export default 向外暴露成员</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">在 Node中，使用 <span class="token keyword">var</span> 名称<span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'模块标识符'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports和 exports 来暴露成员<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="export-与-export-default"><a class="markdownIt-Anchor" href="#export-与-export-default">#</a> export 与 export default</h2>
<p>上面讲的是 export 和 import，但是 <strong>export</strong> 跟 <strong>export default</strong> 有什么区别呢？如下：</p>
<ol>
<li>export 与 export default 均可用于导出常量、函数、文件、模块等</li>
<li>你可以在其它文件或模块中通过 import+(常量 | 函数 | 文件 | 模块) 名的方式，将其导入，以便能够对其进行使用</li>
<li>在一个文件或模块中，export、import 可以有多个，export default 仅有一个，<strong>export default</strong> 只能导出<strong>一个默认模块</strong>，这个模块<strong>可以匿名</strong>（ 引入的时候可以给这个模块取任意名字，例如 “obj”，且不需要用大括号括起来。）</li>
</ol>
<p><strong>export ：</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//demo1.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>对应的引入方式：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//demo2.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> str<span class="token punctuation">,</span> f <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"demo1"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>export default</strong>：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//demo1.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  a<span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token string">"world"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>对应的引入方式：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//demo2.js</span>
<span class="token keyword">import</span> obj <span class="token keyword">from</span> <span class="token string">"demo1"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol start="4">
<li>通过 export 方式导出，在导入时要<strong>加 { }</strong>，export default 则 <strong>不需要</strong></li>
</ol>
<p>这样来说其实很多时候 export 与 export default 可以实现同样的目的，只是用法有些区别。注意第四条，通过 export 方式导出，在导入时要加 { }，export default 则不需要。使用 export default 命令，为模块指定默认输出，这样就不需要知道所要加载模块的变量名。</p>
<p>例如：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">"李四"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> name <span class="token punctuation">&#125;</span>
<span class="token comment">//import &#123; name &#125; from "/.a.js"</span>
可以写成：
<span class="token keyword">var</span> name<span class="token operator">=</span><span class="token string">"李四"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> name
<span class="token comment">//import name from "/.a.js" 这里name不需要大括号</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="说明与比较new-vue-和-export-default"><a class="markdownIt-Anchor" href="#说明与比较new-vue-和-export-default">#</a> 说明与比较：new Vue () 和 export default {}？</h3>
<p>在生成、导出、导入、使用 Vue 组件的时候，像我这种新手就会常常被位于不同文件的  <code>new Vue()</code>  和  <code>export default&#123;&#125;</code>  搞得晕头转向。它们含义到底是什么，又有什么异同呢？</p>
<p>首先，Vue 是什么？ po 主的理解是 Vue 就是一个构造函数，生成的实例是一个巨大的对象，可以包含数据、模板、挂载元素、方法、生命周期钩子等选项。</p>
<p>所以渲染的时候，可以使用构造 Vue 实例的方式来渲染相应的 html 页面：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">'#app'</span>
    <span class="token operator">...</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>那么 export default {} 又是来干嘛的？</p>
<p>这是在复用组件的时候用到的。假设我们写了一个单页面组件 A 文件，而在另一个文件 B 里面需要用到它，那么就要用 <a target="_blank" rel="noopener" href="http://es6.ruanyifeng.com/?search=%E7%9C%81%E7%95%A5&amp;x=0&amp;y=0#docs/module">ES6 的 import/export 语法</a> ，在文件 A 中定义输出接口  <code>export **</code> ，在文件 B 中引入  <code>import **</code> ，然后再生成一个 Vue 实例  <code>new Vue (**)</code> ，把引入的组件用起来，这样就可以复用组件 A 去配合文件 B 生成 html 页面了。</p>
<h2 id="结合-webpack-使用-vue-router"><a class="markdownIt-Anchor" href="#结合-webpack-使用-vue-router">#</a> 结合 webpack 使用 vue-router</h2>
<ol>
<li>安装  <code>npm i vue-router -S </code></li>
</ol>
<p>例：</p>
<p>目录结构：</p>
<p><img src="http://static.zxinc520.com/blog/20190417/MFFstwRsuS8S.png?imageslim" alt="mark"></p>
<p><strong>main.js：</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//在 webpack 构建的项目中，使用Vue 进行开发</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"../node_modules/vue/dist/vue.js"</span><span class="token punctuation">;</span>
<span class="token comment">//1. 导入 vue-router 包</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span>

<span class="token comment">//2. 手动安装</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//导入app组件</span>
<span class="token keyword">import</span> app <span class="token keyword">from</span> <span class="token string">"./App.vue"</span><span class="token punctuation">;</span>
<span class="token comment">//导入 Account 组件</span>
<span class="token keyword">import</span> account <span class="token keyword">from</span> <span class="token string">"./main/Account.vue"</span><span class="token punctuation">;</span>
<span class="token comment">//导入 GoodsList 组件</span>
<span class="token keyword">import</span> goodslist <span class="token keyword">from</span> <span class="token string">"./main/GoodsList.vue"</span><span class="token punctuation">;</span>

<span class="token comment">//3. 创建路由对象</span>
<span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"/account"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> account <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"/goodslist"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> goodslist <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    msg<span class="token operator">:</span> <span class="token string">"12322"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">c</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//注意：App 这个组件，是通过 VM 实例的 render 函数，渲染出来的，render 函数如果要渲染 组件渲染出来的组件，只能是 el ：'#app' 所指定的 元素中</span>

<span class="token comment">//Account 和 GoodsList 组件，是通过 路由匹配监听到的，所以，这两个组件，只能展示到 属于 路由的 &lt;router-view>&lt;/router-view> 中去</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>App.vue:</strong></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;这是app组件&lt;&#x2F;h1&gt;
    &lt;router-link to&#x3D;&quot;&#x2F;account&quot;&gt;account&lt;&#x2F;router-link&gt;
    &lt;router-link to&#x3D;&quot;&#x2F;goodslist&quot;&gt;goodslist&lt;&#x2F;router-link&gt;
    &lt;router-view&gt;&lt;&#x2F;router-view&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;&lt;&#x2F;script&gt;
&lt;style&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190417/8RslBeQhHAvx.gif" alt="mark"></p>
<h2 id="webpack-路由嵌套"><a class="markdownIt-Anchor" href="#webpack-路由嵌套">#</a> webpack - 路由嵌套</h2>
<p>目录结构：</p>
<p><img src="http://static.zxinc520.com/blog/20190417/KpfhuMnyjazc.png?imageslim" alt="mark"></p>
<p><strong>main.js:</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//在 webpack 构建的项目中，使用Vue 进行开发</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"../node_modules/vue/dist/vue.js"</span><span class="token punctuation">;</span>
<span class="token comment">//1. 导入 vue-router 包</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span>

<span class="token comment">//2. 手动安装</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//导入app组件</span>
<span class="token keyword">import</span> app <span class="token keyword">from</span> <span class="token string">"./App.vue"</span><span class="token punctuation">;</span>
<span class="token comment">//导入 Account 组件</span>
<span class="token keyword">import</span> account <span class="token keyword">from</span> <span class="token string">"./main/Account.vue"</span><span class="token punctuation">;</span>
<span class="token comment">//导入 GoodsList 组件</span>
<span class="token keyword">import</span> goodslist <span class="token keyword">from</span> <span class="token string">"./main/GoodsList.vue"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> login <span class="token keyword">from</span> <span class="token string">"./son/login.vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> register <span class="token keyword">from</span> <span class="token string">"./son/register.vue"</span><span class="token punctuation">;</span>

<span class="token comment">//3. 创建路由对象</span>
<span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      path<span class="token operator">:</span> <span class="token string">"/account"</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> account<span class="token punctuation">,</span>
      children<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"login"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> login <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"register"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> register <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"/goodslist"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> goodslist <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    msg<span class="token operator">:</span> <span class="token string">"12322"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">c</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//注意：App 这个组件，是通过 VM 实例的 render 函数，渲染出来的，render 函数如果要渲染 组件渲染出来的组件，只能是 el ：'#app' 所指定的 元素中</span>

<span class="token comment">//Account 和 GoodsList 组件，是通过 路由匹配监听到的，所以，这两个组件，只能展示到 属于 路由的 &lt;router-view>&lt;/router-view> 中去</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>App.vue:</strong></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;这是app组件&lt;&#x2F;h1&gt;
    &lt;router-link to&#x3D;&quot;&#x2F;account&quot;&gt;account&lt;&#x2F;router-link&gt;
    &lt;router-link to&#x3D;&quot;&#x2F;goodslist&quot;&gt;goodslist&lt;&#x2F;router-link&gt;
    &lt;router-view&gt;&lt;&#x2F;router-view&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;&lt;&#x2F;script&gt;

&lt;style&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>Account:</strong></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;这是Account组件&lt;&#x2F;h1&gt;

    &lt;router-link to&#x3D;&quot;&#x2F;account&#x2F;login&quot;&gt;登录&lt;&#x2F;router-link&gt;
    &lt;router-link to&#x3D;&quot;&#x2F;account&#x2F;register&quot;&gt;注册&lt;&#x2F;router-link&gt;
    &lt;router-view&gt;&lt;&#x2F;router-view&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;&lt;&#x2F;script&gt;

&lt;style&gt;&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190417/tSeVisl10K0W.gif" alt="mark"></p>
<h2 id="组件中-style-标签-lang-属性和-scoped-属性的介绍"><a class="markdownIt-Anchor" href="#组件中-style-标签-lang-属性和-scoped-属性的介绍">#</a> 组件中 style 标签 lang 属性和 scoped 属性的介绍</h2>
<p>**scoped：** 在子组件中设置 style 属性，如果不加 scoped 属性，如果是单页面程序，样式就会作用到全局中去，加了 scoped 属性以后，表示限制了该样式作用域只在该组件中。</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;这是goods组件&lt;&#x2F;h1&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;&lt;&#x2F;script&gt;

&lt;style scoped&gt;
div &#123;
  color: red;
&#125;
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>**lang 属性：** 普通的 style 标签只支持普通的样式，如果想启用 scss 或 less, 需要为 style 设置 lang 属性</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;这是account组件&lt;&#x2F;h1&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;&lt;&#x2F;script&gt;

&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;
body &#123;
  div &#123;
    font-style: italic;
  &#125;
&#125;
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="抽离路由模块"><a class="markdownIt-Anchor" href="#抽离路由模块">#</a> 抽离路由模块</h2>
<p>目录结构：</p>
<p><img src="http://static.zxinc520.com/blog/20190417/imC2sybXMC8G.png?imageslim" alt="mark"></p>
<p><strong>main.js:</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//在 webpack 构建的项目中，使用Vue 进行开发</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"../node_modules/vue/dist/vue.js"</span><span class="token punctuation">;</span>
<span class="token comment">//1. 导入 vue-router 包</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span>

<span class="token comment">//2. 手动安装</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//导入app组件</span>
<span class="token keyword">import</span> app <span class="token keyword">from</span> <span class="token string">"./App.vue"</span><span class="token punctuation">;</span>
<span class="token comment">//导入 自定义路由模块</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">"./router.js"</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    msg<span class="token operator">:</span> <span class="token string">"12322"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">c</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//注意：App 这个组件，是通过 VM 实例的 render 函数，渲染出来的，render 函数如果要渲染 组件渲染出来的组件，只能是 el ：'#app' 所指定的 元素中</span>

<span class="token comment">//Account 和 GoodsList 组件，是通过 路由匹配监听到的，所以，这两个组件，只能展示到 属于 路由的 &lt;router-view>&lt;/router-view> 中去</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>router.js:</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span>

<span class="token comment">//导入 Account 组件</span>
<span class="token keyword">import</span> account <span class="token keyword">from</span> <span class="token string">"./main/Account.vue"</span><span class="token punctuation">;</span>
<span class="token comment">//导入 GoodsList 组件</span>
<span class="token keyword">import</span> goodslist <span class="token keyword">from</span> <span class="token string">"./main/GoodsList.vue"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> login <span class="token keyword">from</span> <span class="token string">"./son/login.vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> register <span class="token keyword">from</span> <span class="token string">"./son/register.vue"</span><span class="token punctuation">;</span>
<span class="token comment">//3. 创建路由对象</span>
<span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      path<span class="token operator">:</span> <span class="token string">"/account"</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> account<span class="token punctuation">,</span>
      children<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"login"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> login <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"register"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> register <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"/goodslist"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> goodslist <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack/" rel="tag">webpack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack-%E5%90%8E%E7%BB%AD%E9%97%AE%E9%A2%98/" rel="tag">webpack 后续问题</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-VueLearn05"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/04/13/VueLearn05/"
    >监听事件、nrm、webpack</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/04/13/VueLearn05/" class="article-date">
  <time datetime="2019-04-13T06:27:37.000Z" itemprop="datePublished">2019-04-13</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/Vue/">Vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="vue-第五天"><a class="markdownIt-Anchor" href="#vue-第五天">#</a> Vue 第五天</h1>
<blockquote>
<p>监听事件（keyup ，watch ，computed ）</p>
<p>nrm （简单介绍了下）</p>
<p>webpack （很重要！很关键！很实用！重点中的重点！知识点有点多，得慢慢品味！）</p>
</blockquote>
<h2 id="监听事件"><a class="markdownIt-Anchor" href="#监听事件">#</a> 监听事件</h2>
<h4 id="需求实现名称监听案例"><a class="markdownIt-Anchor" href="#需求实现名称监听案例">#</a> 需求：实现名称监听案例</h4>
<h4 id="1keyup-事件监听"><a class="markdownIt-Anchor" href="#1keyup-事件监听">#</a> 1.keyup 事件监听</h4>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstName<span class="token punctuation">"</span></span> <span class="token attr-name">@keyup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getFullName<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastName<span class="token punctuation">"</span></span> <span class="token attr-name">@keyup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getFullName<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fullName<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      firstName<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      lastName<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      fullName<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="2使用-watch-监听-更常用-用途更广"><a class="markdownIt-Anchor" href="#2使用-watch-监听-更常用-用途更广">#</a> 2. 使用 watch 监听 （ 更常用 – 用途更广 ）</h4>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstName<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastName<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fullName<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      firstName<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      lastName<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      fullName<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">//使用这个 属性，可以监视 data 中指定数据的变化，然后触发这个 watch 中对应的 function 处理函数</span>
    watch<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">firstName</span><span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// this.fullName = this.firstName + this.lastName</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> newVal <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token function">lastName</span><span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// this.fullName = this.firstName + this.lastName</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> newVal<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190412/4gxmjjUxK2At.gif" alt="mark"></p>
<ul>
<li>
<h5 id="watch-监听-路由-改变"><a class="markdownIt-Anchor" href="#watch-监听-路由-改变">#</a> watch 监听 路由 改变</h5>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/login<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>登录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/register<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>注册<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> login <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h3>这是登录子组件&lt;/h3>"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> register <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h3>这是注册子组件&lt;/h3>"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    routes<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">&#123;</span>
        path<span class="token operator">:</span> <span class="token string">"/login"</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> login<span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#123;</span>
        path<span class="token operator">:</span> <span class="token string">"/register"</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> register<span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    linkActiveClass<span class="token operator">:</span> <span class="token string">"myactive"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    router<span class="token punctuation">,</span>
    watch<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token string">"$route.path"</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">==</span> <span class="token string">"/login"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"欢迎来到登录页面"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">==</span> <span class="token string">"/register"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"欢迎来到注册页面"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190412/6V2XPG6gVhim.gif" alt="mark"></p>
<h4 id="3-computed-监听"><a class="markdownIt-Anchor" href="#3-computed-监听">#</a> 3. computed 监听</h4>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstName<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastName<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fullName<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      firstName<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      lastName<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">//计算属性：在引用的时候，一定不要加() 去调用，直接把它当作 普通属性去使用就好了</span>
    <span class="token comment">//只要 计算属性，这个方法内部，所用到的 任何 data 中的数据发生了变化，就会立即重新 计算 这个属性的值</span>
    <span class="token comment">//计算属性的求值结果，会被缓存起来，方便下次直接使用；如果 计算属性中的数据 都没有发生变化，则不会 重新对 计算属性求值</span>
    computed<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="methodswatchcomputed-的区别"><a class="markdownIt-Anchor" href="#methodswatchcomputed-的区别">#</a> <strong>methods,watch,computed 的区别</strong></h4>
<ol>
<li><code>computed</code>  属性的结果会被缓存，除非依赖的响应式属性变化才会重新计算。主要当作属性来使用；</li>
<li><code>methods</code>  方法表示一个具体的操作，主要书写业务逻辑；</li>
<li><code>watch</code>  一个对象，键是需要观察的表达式，值是对应回调函数。主要用来监听某些特定数据的变化，从而进行某些具体的业务逻辑操作；可以看作是 computed 和 methods 的结合体；</li>
</ol>
<h2 id="nrm"><a class="markdownIt-Anchor" href="#nrm">#</a> nrm</h2>
<ul>
<li>
<p>什么是 nrm?</p>
<p><strong>nrm</strong> 是一个  <code>npm</code>  源管理器，允许你快速地在  <code>npm</code>  源间切换</p>
</li>
<li>
<p>安装 nrm</p>
<p>在命令行执行命令， <code>npm install -g nrm</code> ，全局安装 nrm。</p>
</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190412/2eNadQOmpWKL.png?imageslim" alt="mark"></p>
<ul>
<li>
<p>切换</p>
<p>如果要切换到 <code>taobao</code>  源，执行命令 <code>nrm use taobao</code> 。</p>
</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190412/4BzzVOzz2ER5.png?imageslim" alt="mark"></p>
<h2 id="webpack"><a class="markdownIt-Anchor" href="#webpack">#</a> webpack</h2>
<h4 id="1在网页中会引用哪些常见的静态资源"><a class="markdownIt-Anchor" href="#1在网页中会引用哪些常见的静态资源">#</a> 1. 在网页中会引用哪些常见的静态资源？</h4>
<ul>
<li>JS
<ul>
<li>.js .jsx .coffee .ts（TypeScript 类 C# 语言）</li>
</ul>
</li>
<li>CSS
<ul>
<li>.css .less .sass .scss</li>
</ul>
</li>
<li>Images
<ul>
<li>.jpg .png .gif .bmp .svg</li>
</ul>
</li>
<li>字体文件（Fonts）
<ul>
<li>.svg .ttf .eot .woff .woff2</li>
</ul>
</li>
<li>模板文件
<ul>
<li>.ejs .jade .vue【这是在 webpack 中定义组件的方式，推荐这么用】</li>
</ul>
</li>
</ul>
<h4 id="2网页中引入的静态资源多了以后有什么问题"><a class="markdownIt-Anchor" href="#2网页中引入的静态资源多了以后有什么问题">#</a> 2. 网页中引入的静态资源多了以后有什么问题？？？</h4>
<ol>
<li>网页加载速度慢， 因为 我们要发起很多的二次请求；</li>
<li>要处理错综复杂的依赖关系</li>
</ol>
<h4 id="3如何解决上述两个问题"><a class="markdownIt-Anchor" href="#3如何解决上述两个问题">#</a> 3. 如何解决上述两个问题</h4>
<ol>
<li>合并、压缩、精灵图、图片的 Base64 编码</li>
<li>可以使用之前学过的 requireJS、也可以使用 webpack 可以解决各个包之间的复杂依赖关系；</li>
</ol>
<h4 id="4什么是-webpack"><a class="markdownIt-Anchor" href="#4什么是-webpack">#</a> 4. 什么是 webpack?</h4>
<p>webpack 是前端的一个项目构建工具，它是基于 Node.js 开发出来的一个前端工具；</p>
<h4 id="5如何完美实现上述的-2-种解决方案"><a class="markdownIt-Anchor" href="#5如何完美实现上述的-2-种解决方案">#</a> 5. 如何完美实现上述的 2 种解决方案</h4>
<ol>
<li>使用 <a target="_blank" rel="noopener" href="https://www.gulpjs.com.cn/">Gulp</a>， 是基于 task 任务的；</li>
<li>使用 <a target="_blank" rel="noopener" href="https://webpack.github.io/">Webpack</a>， 是基于整个项目进行构建的；
<ul>
<li>借助于 webpack 这个前端自动化构建工具，可以完美实现资源的合并、打包、压缩、混淆等诸多功能。</li>
<li>根据官网的图片介绍 webpack 打包的过程</li>
<li><a target="_blank" rel="noopener" href="http://webpack.github.io/">webpack 官网</a></li>
</ul>
</li>
</ol>
<h4 id="6webpack-安装的两种方式"><a class="markdownIt-Anchor" href="#6webpack-安装的两种方式">#</a> 6.webpack 安装的两种方式</h4>
<ol>
<li>运行 <code>npm i webpack -g </code>  全局安装 webpack，这样就能在全局使用 webpack 的命令</li>
<li>在项目根目录中运行 <code>npm i webpack --save-dev</code>  安装到项目依赖中</li>
</ol>
<h2 id="webpack-小案例"><a class="markdownIt-Anchor" href="#webpack-小案例">#</a> webpack 小案例</h2>
<p><strong>最终实现效果图：</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190413/Nhxhjre7JLIk.gif" alt="mark"></p>
<h2 id="第一阶段用-webpack-打包-mainjs-文件生成-bundlejs-文件"><a class="markdownIt-Anchor" href="#第一阶段用-webpack-打包-mainjs-文件生成-bundlejs-文件">#</a> 第一阶段：用 webpack 打包 main.js 文件生成 bundle.js 文件</h2>
<p><strong><em>目录结构</em></strong>：</p>
<p><img src="http://static.zxinc520.com/blog/20190412/lCOHlyRXWvxs.png?imageslim" alt="mark"></p>
<p><strong>index.html</strong>：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../dist/bundle.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第1个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第2个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第3个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第4个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第5个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第6个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第7个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第8个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第9个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第10个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>main.js:</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// main.js 是我们项目的JS的入口文件</span>

<span class="token comment">//1.导入 Jquery</span>
<span class="token comment">// import *** from *** 是 ES6 中导入模块的方式</span>
<span class="token comment">//由于 ES6 语法太高级了，浏览器解析不了，所以，执行会报错</span>
<span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">"jquery"</span><span class="token punctuation">;</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"li:odd"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    background<span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"li:even"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token function-variable function">background</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token string">"#"</span> <span class="token operator">+</span> <span class="token string">"D97634"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>1. 安装完相关包之后，在根目录下运行  <code>webpack .\src\main.js -o .\dist\bundle.js</code></p>
<p><img src="http://static.zxinc520.com/blog/20190412/VN1klW9vTlKk.png?imageslim" alt="mark"></p>
<p>运行结果：</p>
<p><img src="http://static.zxinc520.com/blog/20190412/cCQTanNAophR.png?imageslim" alt="mark"></p>
<h2 id="第二阶段配置-webpackconfigjs"><a class="markdownIt-Anchor" href="#第二阶段配置-webpackconfigjs">#</a> 第二阶段：配置 webpack.config.js</h2>
<blockquote>
<p>Webpack 在执行的时候，除了在 <strong>命令行传入参数</strong>，还可以通过指定的 <strong>配置文件</strong> 来执行。默认情况下，会搜索当前目录的  <code>webpack.config.js</code>  文件，这个文件是一个 node.js 模块，返回一个 json 格式的配置信息对象，或者通过  <code>--config</code>  选项来指定配置文件。</p>
</blockquote>
<h5 id="当我们在-控制台直接输入-webpack-命令执行的时候webpack-做了以下几步"><a class="markdownIt-Anchor" href="#当我们在-控制台直接输入-webpack-命令执行的时候webpack-做了以下几步">#</a> 当我们在 控制台，直接输入 <strong>webpack</strong> 命令执行的时候，webpack 做了以下几步：</h5>
<ol>
<li>首先，webpack 发现，我们并没有通过命令的形式，给它指定入口和出口</li>
<li>webpack 就会去 项目的 根目录中，查找一个叫做  <code>webpack.config.js</code>  的配置文件</li>
<li>当找到配置文件后，webpack 会去解析执行这个 配置文件，当解析执行完配置文件后，就得到了 配置文件中，导出的配置对象</li>
<li>当 webpack 拿到 配置对象后，就拿到了 配置对象中，指定的 入口 和 出口，然后进行打包构建；</li>
</ol>
<p><strong>webpack.config.js</strong>：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  entry<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./src/main.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 入口，表示，要使用 webpack 打包哪个文件</span>
  output<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 输出文件相关的配置</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 指定 打包好的文件，输出到哪个目录中去</span>
    filename<span class="token operator">:</span> <span class="token string">"bundle.js"</span><span class="token punctuation">,</span> <span class="token comment">// 这是指定 输出的文件的名称</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>然后再根目录下运行 webpack</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190412/Jtcry4FyA52b.png?imageslim" alt="mark"></p>
<h2 id="使用-webpack-dev-server-这个工具来实现自动打包编译的功能"><a class="markdownIt-Anchor" href="#使用-webpack-dev-server-这个工具来实现自动打包编译的功能">#</a> 使用 webpack-dev-server 这个工具，来实现自动打包编译的功能</h2>
<ol>
<li>运行  <code>npm i webpack-dev-server -D</code>  把这个工具安装到项目的本地开发依赖 <a target="_blank" rel="noopener" href="https://blog.csdn.net/wangguoyu1996/article/details/80443861">npm install --save 和 npm install -d 的区别</a></li>
<li>安装完毕后，这个 工具的用法， 和 webpack 命令的用法，完全一样</li>
<li>由于，我们是在项目中，本地安装的 webpack-dev-server ， 所以，无法把它当作 脚本命令，在 powershell 终端中直接运行；（只有那些 安装到 全局 -g 的工具，才能在 终端中正常执行）</li>
<li>注意： webpack-dev-server 这个工具，如果想要正常运行，要求，在本地项目中，必须安装 webpack</li>
<li>webpack-dev-server 帮我们打包生成的 bundle.js 文件，并没有存放到 实际的 物理磁盘上；而是，直接托管到了 电脑的内存中，所以，我们在 项目根目录中，根本找不到 这个打包好的 bundle.js;</li>
<li>我们可以认为， webpack-dev-server 把打包好的 文件，以一种虚拟的形式，托管到了 咱们项目的 根目录中，虽然我们看不到它，但是，可以认为， 和 dist src node_modules 平级，有一个看不见的文件，叫做 bundle.js</li>
</ol>
<ul>
<li>再 package.json 文件中 配置  <code>webpack-dev-server </code></li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190413/0mEiuATRmg4V.png?imageslim" alt="mark"></p>
<ul>
<li>在根目录下运行命令： <code>npm run dev</code></li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190413/01rkpce0a7ou.png?imageslim" alt="mark"></p>
<h4 id="自动编译保存代码即自动刷新浏览器"><a class="markdownIt-Anchor" href="#自动编译保存代码即自动刷新浏览器">#</a> 自动编译（保存代码即自动刷新浏览器）</h4>
<p><img src="http://static.zxinc520.com/blog/20190413/sEKMRkaMQOuX.png?imageslim" alt="mark"></p>
<h2 id="运行-npm-run-dev-后-自动-打开对应端口号的浏览器窗口-改端口号-显示内容"><a class="markdownIt-Anchor" href="#运行-npm-run-dev-后-自动-打开对应端口号的浏览器窗口-改端口号-显示内容">#</a> 运行 npm run dev 后 自动 <strong>打开对应端口号</strong>的浏览器窗口 改端口号 显示内容</h2>
<h3 id="方式一配置-packagejson-文件"><a class="markdownIt-Anchor" href="#方式一配置-packagejson-文件">#</a> 方式一：配置  <code>package.json</code>  文件</h3>
<p>优点：------- 推荐，简单，直接。在开发中更常用。</p>
<p><strong>package.json:</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190413/bhRisI6Rkma4.png?imageslim" alt="mark"></p>
<h3 id="方式二配置-webpackconfigjs-文件"><a class="markdownIt-Anchor" href="#方式二配置-webpackconfigjs-文件">#</a> 方式二：配置 webpack.config.js 文件</h3>
<ul>
<li>相比之下 麻烦一点</li>
</ul>
<p><strong>webpack.config.js：</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 启用热更新的 第2步</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"webpack"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  entry<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./src/main.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 入口，表示，要使用 webpack 打包哪个文件</span>
  output<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 输出文件相关的配置</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 指定 打包好的文件，输出到哪个目录中去</span>
    filename<span class="token operator">:</span> <span class="token string">"bundle.js"</span><span class="token punctuation">,</span> <span class="token comment">// 这是指定 输出的文件的名称</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//这是配置  dev-server 命令参数的第二种形式，相对来说，麻烦一点。</span>
    open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//自动打开浏览器</span>
    port<span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span> <span class="token comment">//设置启动时候的运行端口</span>
    contentBase<span class="token operator">:</span> <span class="token string">"src"</span><span class="token punctuation">,</span>
    hot<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//启用热更新 第1步</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">//配置插件的节点</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// new 一个热更新的 模块对象， 这是 启用热更新的第 3 步</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="使用-html-webpack-plugin-插件"><a class="markdownIt-Anchor" href="#使用-html-webpack-plugin-插件">#</a> 使用 html-webpack-plugin 插件</h2>
<blockquote>
<p>配合  <code>webpack-dev-server</code>  工具使用</p>
<p>作用：为 html 文件中引入的外部资源</p>
</blockquote>
<p><strong>这个插件的两个作用：</strong></p>
<ul>
<li>为 html 文件中引入的外部资源如 <code>script</code> 、 <code>link</code>  动态添加每次 compile 后的 hash，防止引用缓存的外部文件问题</li>
<li>可以生成创建 html 入口文件，比如单页面可以生成一个 html 文件入口，配置<strong> N</strong> 个 <code>html-webpack-plugin</code>  可以生成<strong> N</strong> 个页面入口</li>
</ul>
<p><strong>实例作用（简单来说）</strong>：</p>
<ol>
<li>
<p>自动在内存中根据指定页面生成一个内存的页面</p>
</li>
<li>
<p>自动，把打包好的 bundle.js 追加到页面中去</p>
<p><img src="http://static.zxinc520.com/blog/20190413/A77bGaRpNnBK.png?imageslim" alt="mark"></p>
</li>
</ol>
<h6 id="安装使用如下"><a class="markdownIt-Anchor" href="#安装使用如下">#</a> <strong>安装使用如下：</strong></h6>
<p>一、首先安装 html-webpack-plugin 插件</p>
<p>​ 在 cmd 中打开项目，输入  <code>npm i html-webpack-plugin -D</code></p>
<p>二、在 webpack-config.js 的 plugins 里面添加 信息，如下图</p>
<p><img src="http://static.zxinc520.com/blog/20190413/FtRgDnktWRwG.png?imageslim" alt="mark"></p>
<p>然后在 cmd 中输入  <code>npm run dev</code>  ，即可以在项目文件夹下自动生成 index.html。如果报错，则表示，未安装 html-webpack-plugin 插件。</p>
<p>注：不配置任何选项的 <code>html-webpack-plugin</code>  插件，他会默认将 webpack 中的 <code>entry</code>  配置所有入口 thunk 和 <code>extract-text-webpack-plugin</code>  抽取的 css 样式都插入到文件指定的位置</p>
<h2 id="webpack-处理第三方文件类型的过程"><a class="markdownIt-Anchor" href="#webpack-处理第三方文件类型的过程">#</a> webpack 处理第三方文件类型的过程</h2>
<h4 id="需求打包处理-css-文件"><a class="markdownIt-Anchor" href="#需求打包处理-css-文件">#</a> 需求：打包处理 css 文件</h4>
<p><strong>注意：</strong></p>
<ul>
<li>
<p>webpack, 默认只能打包处理 JS 类型的文件，无法处理 其它的非 JS 类型的文件； 如果要处理 非 JS 类型的文件，我们需要手动安装一些 合适 第三方 loader 加载器；</p>
</li>
<li>
<p>1. 如果想要打包处理 css 文件，需要安装  <code>npm i style-loader css-loader -D</code></p>
<p><img src="http://static.zxinc520.com/blog/20190413/oqXTmYRoKMoA.png?imageslim" alt="mark"></p>
</li>
<li>
<p>2. 打开 webpack.config.js 这个配置文件，在 里面，新增一个 配置节点，叫做 module, 它是一个对象；在 这个 module 对象身上，有个 rules 属性，这个 rules 属性是个 数组；这个数组中，存放了，所有第三方文件的 匹配和 处理规则；</p>
<p><img src="http://static.zxinc520.com/blog/20190413/Xu64lPnxIQLS.png?imageslim" alt="mark"></p>
</li>
</ul>
<p><strong>webpack 处理第三方文件类型的过程：</strong></p>
<ol>
<li>发现这个 要处理的文件不是 JS 文件，然后就去 配置文件中，查找有没有对应的第三方 loader 规则</li>
<li>如果能找到对应的规则， 就会调用 对应的 loader 处理 这种文件类型；</li>
<li>在调用 loader 的时候，是从后往前调用的；</li>
<li>当最后的一个 loader 调用完毕，会把 处理的结果，直接交给 webpack 进行 打包合并，最终输出到 bundle.js 中去</li>
</ol>
<h2 id="打包-less-文件"><a class="markdownIt-Anchor" href="#打包-less-文件">#</a> 打包 less 文件</h2>
<p><strong>第一步：安装包：</strong></p>
<ol>
<li>
<p>安装  <code>npm i less-loader -D</code></p>
<p><img src="http://static.zxinc520.com/blog/20190413/0bSMpt6TO1EJ.png?imageslim" alt="mark"></p>
</li>
<li>
<p>less-loader 内部依赖 less 包，所以安装  <code>npm i less -D</code></p>
</li>
</ol>
<p><img src="http://static.zxinc520.com/blog/20190413/5RJ7elAXllGf.png?imageslim" alt="mark"></p>
<p><strong>第二步：配置 webpack.config.js 文件</strong></p>
<p><img src="http://static.zxinc520.com/blog/20190413/qjRV20IM5XiU.png?imageslim" alt="mark"></p>
<p>第三步：根目录下 运行  <code>npm run dev</code></p>
<p><img src="http://static.zxinc520.com/blog/20190413/Nhxhjre7JLIk.gif" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nrm/" rel="tag">nrm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack/" rel="tag">webpack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%9B%91%E5%90%AC%E4%BA%8B%E4%BB%B6%EF%BC%88keyup-%EF%BC%8Cwatch-%EF%BC%8Ccomputed-%EF%BC%89/" rel="tag">监听事件（keyup ，watch ，computed ）</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-VueLearn04"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/04/10/VueLearn04/"
    >父子组件间通信、路由</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/04/10/VueLearn04/" class="article-date">
  <time datetime="2019-04-10T06:13:26.000Z" itemprop="datePublished">2019-04-10</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/Vue/">Vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="vue-第四天"><a class="markdownIt-Anchor" href="#vue-第四天">#</a> Vue 第四天</h2>
<blockquote>
<p>父子组件间通信</p>
<p>ref 获取 DOM 元素 和 组件</p>
<p>路由</p>
</blockquote>
<h3 id="父组件向子组件传值"><a class="markdownIt-Anchor" href="#父组件向子组件传值">#</a> 父组件向子组件传值</h3>
<h5 id="1子组件使用父组件中的数据"><a class="markdownIt-Anchor" href="#1子组件使用父组件中的数据">#</a> 1. 子组件使用父组件中的数据</h5>
<ul>
<li>初步尝试 —（错误分析）</li>
</ul>
<p><img src="http://static.zxinc520.com/blogimage/20190408/mHq7etHeHLPb.png?imageslim" alt="mark"></p>
<ul>
<li>正确使用方法</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--父组件,可以在引用子组件的时候，通过 属性绑定（v-bind：） 的形式，把需要 传递给子组件 的数据，以属性绑定的形式，传递到子组件内部，供子组件使用--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com1</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>parentmsg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>com1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> <span class="token string">"123 父组件中的数据"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      com1<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//props中的数据，都是只读的，无法重新赋值。</span>
        props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"parentmsg"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//把父组件传递过来的 parentmsg 属性，先在 props 数组中，先定义一下，这样才能使用这个数据</span>
        template<span class="token operator">:</span> <span class="token string">"&lt;h1>这是子组件---&#123;&#123;parentmsg&#125;&#125;&lt;/h1>"</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190408/mUupYQNPh2hG.png?imageslim" alt="mark"></p>
<h5 id="2子组件使用父组件中的方法"><a class="markdownIt-Anchor" href="#2子组件使用父组件中的方法">#</a> 2. 子组件使用父组件中的方法</h5>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com1</span> <span class="token attr-name">@func</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>show<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>com1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmp1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>这是子组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myclick<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>这是子组件的中的按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> com2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"#tmp1"</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">myclick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//  emit 英文原意：是触发，调用，发射的意思</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"func"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"调用父组件身上的show方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      com1<span class="token operator">:</span> com2<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190408/bmsCo9BvmEsC.gif" alt="mark"></p>
<h3 id="子组件向父组件传值"><a class="markdownIt-Anchor" href="#子组件向父组件传值">#</a> 子组件向父组件传值</h3>
<ul>
<li>设置参数（ 供子组件传递参数 ）</li>
</ul>
<p><img src="http://static.zxinc520.com/blogimage/20190408/nbHBhOYbCy7g.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blogimage/20190408/R3Te7QLYkM8o.png?imageslim" alt="mark"></p>
<ul>
<li>列举 list 数据对象 说明</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com1</span> <span class="token attr-name">@func</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>show<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>com1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmp1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>这是子组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myclick<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>这是子组件的中的按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> com2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"#tmp1"</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token string">"18"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">myclick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// emit 英文原意：是触发，调用，发射的意思</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"func"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      com1<span class="token operator">:</span> com2<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190408/PgXfzpoRW7u9.png?imageslim" alt="mark"></p>
<h2 id="组件案例-发表评论"><a class="markdownIt-Anchor" href="#组件案例-发表评论">#</a> 组件案例 - 发表评论</h2>
<blockquote>
<p>发表评论案例</p>
<p>所需知识点： 父子组件传值，localStorage 本地储存</p>
</blockquote>
<p>代码：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comment-box</span> <span class="token attr-name">@func</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loadlocalStorage<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comment-box</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!--评论组件调用--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list-group-item<span class="token punctuation">"</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>badge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;item.user&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
            &#123;&#123;item.content&#125;&#125;
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!--评论组件模板--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmp1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>exampleInputEmail1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>user：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> 	             		                        <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>exampleInputEmail1<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>exampleInputEmail2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>content：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>exampleInputEmail2<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span>                <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>发表留言<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">margin-bottom</span><span class="token punctuation">:</span> 15px</span><span class="token punctuation">"</span></span>                       <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Postcomment<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>发表
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">let</span> commentBox <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
            template<span class="token operator">:</span> <span class="token string">'#tmp1'</span><span class="token punctuation">,</span>
            <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
                    user<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
                    content<span class="token operator">:</span> <span class="token string">''</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token function">Postcomment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token comment">//分析：发表评论的业务逻辑</span>
                    <span class="token comment">//1.评论数据存到哪里去？ 存放到 localStorage 中 	 		            	                       localStorage.setItem('cmts','')</span>
                    <span class="token comment">//2.先组织出一个最新的评论数据对象</span>
                    <span class="token comment">//3.想办法，把 第二步中，得到的评论对象。保存到 localStorage 中</span>
                    <span class="token comment">//   3.1 localStorage 只支持存放字符串数据，要先调用 	  JSON.stringify</span>
                    <span class="token comment">//   3.2 在保存最新的 评论数据之前，要先从 localStorage 获取之前的评论数据  （string），转换为一个数组对象然后把最新的评论，push到这个数组</span>
                    <span class="token comment">//   3.3 如果获取到的localStorage中 的评论字符串，为空不存在，则 可以 返回一个'[]' ,让JSON.parse 去转换</span>
                    <span class="token comment">//   3.4 把 最新的 评论列表数组，再次调用 JSON.stringify 转换为 数组字符串，然后调用 localStorage.setItem()</span>

                    <span class="token keyword">let</span> comment <span class="token operator">=</span> <span class="token punctuation">&#123;</span>id<span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">&#125;</span>

                    <span class="token comment">//从 localStorage 获取所有的评论</span>
                    <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'cmts'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'[]'</span><span class="token punctuation">)</span>

                    list<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>comment<span class="token punctuation">)</span>
                    <span class="token comment">//重新保存 最新的评论数据</span>
                    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'cmts'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>user <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token string">''</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'func'</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>id<span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">'李白'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'天生我材必有用'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                       <span class="token punctuation">&#123;</span>id<span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'锄禾日当午'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                       <span class="token punctuation">&#123;</span>id<span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'白日依山尽'</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">//从本地的 localStorage 中加载评论列表</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'cmts'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'[]'</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token function">loadlocalStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'cmts'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'[]'</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                commentBox<span class="token operator">:</span> commentBox
            <span class="token punctuation">&#125;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190409/Xoa1oQoFqxaT.gif" alt="mark"></p>
<h2 id="ref-获取-dom-元素和组件"><a class="markdownIt-Anchor" href="#ref-获取-dom-元素和组件">#</a> ref 获取 DOM 元素和组件</h2>
<h4 id="ref-获取-dom-元素"><a class="markdownIt-Anchor" href="#ref-获取-dom-元素">#</a> ref 获取 DOM 元素</h4>
<ul>
<li>基本使用</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getElement<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>获取元素<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myh3<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myh3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>今天阳光明媚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">getElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// console.log(document.getElementById('myh3').innerText)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>myh3<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190409/yp3VYrRba9dD.gif" alt="mark"></p>
<h4 id="ref-获取组件"><a class="markdownIt-Anchor" href="#ref-获取组件">#</a> ref 获取组件</h4>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getElement<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>获取元素<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myh3<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myh3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>今天阳光明媚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>login</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mylogin<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>login</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> login <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h1>这是组件&lt;/h1>"</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        msg<span class="token operator">:</span> <span class="token string">"这是子组件的数据"</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"这是子组件的show方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">getElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// console.log(document.getElementById('myh3').innerText)</span>
        <span class="token comment">// console.log(this.$refs.myh3.innerText)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>mylogin<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      login<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190409/4uo8wLRXKSxg.gif" alt="mark"></p>
<h2 id="路由"><a class="markdownIt-Anchor" href="#路由">#</a> 路由</h2>
<h3 id="什么是路由"><a class="markdownIt-Anchor" href="#什么是路由">#</a> 什么是路由？</h3>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/deaidai/article/details/80351187">可以参考</a></p>
<blockquote>
<p>后端路由：对于普通的网站，所有的超链接都是 URL 地址，所有的 URL 地址都对应服务器上对应的资源；</p>
<p>前端路由：对于单页面应用程序来说，主要通过 URL 中的 hash (# 号) 来实现不同页面之间的切换，同时，hash 有一个特点：HTTP 请求中不会包含 hash 相关的内容；所以，单页面程序中的页面跳转主要用 hash 实现；</p>
<p>在单页面应用程序中，这种通过 hash 改变来切换页面的方式，称作前端路由（区别于后端路由）；URL 中的 hash（井号）</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://router.vuejs.org/installation.html#direct-download-cdn">Vue Router</a></p>
<p>​ <a target="_blank" rel="noopener" href="http://www.shouce.ren/api/view/a/11771">实用小文档</a></p>
<ul>
<li>路由的基本使用</li>
<li>登陆和注册路由切换小案例：</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../../vue.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--1.安装 vue-router 路由模块--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../vue-router.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--在后面 a标签 会被 router-link 所替代--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#/login<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>登陆<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#/register<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>注册<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--这是 vue-router 提供的元素，专门用来 当作占位符的，将来，路由规则，匹配到的组件，就会展示到这个 router-view 中去--></span>
  <span class="token comment">&lt;!--所以：我们可以把 router-view 认为是一个 占位符--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">//组件模板对象</span>
  <span class="token keyword">let</span> login <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h1>登陆组件&lt;/h1>"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> register <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h1>注册组件&lt;/h1>"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token comment">//2. 创建 一个路由对象，当 导入 vue-router 包之后，在window 全局对象中，就有了一个 路由的构造函数，叫做 VueRouter</span>
  <span class="token comment">// 在new 路由对象的时候，可以为 构造函数，传递一个配置对象</span>
  <span class="token keyword">let</span> routerobj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// routes :这个配置对象中的 route 表示 【路由匹配规则】 的意思</span>
    routes<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">//路由匹配规则</span>
      <span class="token comment">//每个路由规则，都是一个对象，这个规则对象身上，有两个必须的属性</span>
      <span class="token comment">//属性1 是 path ，表示哪个路由链接地址；</span>
      <span class="token comment">//属性2 是 component ，表示，如果 路由是前面匹配到的 path，则展示 component 属性对应的那个组件</span>
      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"/login"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> login <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"/register"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> register <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> <span class="token string">"sadsad"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    router<span class="token operator">:</span> routerobj<span class="token punctuation">,</span> <span class="token comment">//将路由规则对象，注册到 vm 实例上，用来监听 URL 地址的变化，然后展示对应的组件</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190409/4t7CscuJJf8F.gif" alt="mark"></p>
<ul>
<li>router-link 的使用（替代 a 标签）：</li>
</ul>
<p><img src="http://static.zxinc520.com/blogimage/20190409/xwcN5dtoch9i.png?imageslim" alt="mark"></p>
<ul>
<li>首页重定向（根路径重定向）</li>
</ul>
<p><img src="http://static.zxinc520.com/blogimage/20190409/HGW7GfOFp4CR.png?imageslim" alt="mark"></p>
<ul>
<li>路由高亮效果</li>
</ul>
<p><img src="http://static.zxinc520.com/blogimage/20190409/90MOyhi4OgDj.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blogimage/20190409/tksHtocLC0RB.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blogimage/20190409/CiOF0kzonIuk.gif" alt="mark"></p>
<ul>
<li>在路由中使用 动画</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190409/Boq0wxt3SD6W.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190409/x9en06UnaelG.gif" alt="mark"></p>
<h4 id="路由规则中定义参数"><a class="markdownIt-Anchor" href="#路由规则中定义参数">#</a> 路由规则中定义参数</h4>
<ul>
<li>传参方式一：</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/login?id=10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>登陆<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/register<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>注册<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">//组件模板对象</span>
  <span class="token keyword">let</span> login <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h1>登陆组件&lt;/h1>"</span><span class="token punctuation">,</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> register <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h1>注册组件&lt;/h1>"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> routerobj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    routes<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">//路由匹配规则</span>
      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span> redirect<span class="token operator">:</span> <span class="token string">"/login"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token comment">//这里的 redirect 和 Node 中 的redirect 完全是两回事</span>
      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"/login"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> login <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"/register"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> register <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> <span class="token string">"sadsad"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    router<span class="token operator">:</span> routerobj<span class="token punctuation">,</span> <span class="token comment">//将路由规则对象，注册到 vm 实例上，用来监听 URL 地址的变化，然后展示对应的组件</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190409/fPdxBv6111Wc.png?imageslim" alt="mark"></p>
<ul>
<li>拿到参数渲染到组件上</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190409/4nCicLNRvHdI.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190409/0ljG17fNlXkA.png?imageslim" alt="mark"></p>
<p>或者：==&gt; 更简洁，直观！</p>
<p><img src="http://static.zxinc520.com/blog/20190409/qBOfGm2x0N46.png?imageslim" alt="mark"></p>
<ul>
<li>传值方式二：</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190409/XX9MBioYl1Cu.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190409/crPnx2YQN3Hl.png?imageslim" alt="mark"></p>
<h4 id="路由的嵌套"><a class="markdownIt-Anchor" href="#路由的嵌套">#</a> 路由的嵌套</h4>
<ul>
<li>children 的使用</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/account<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>account<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmp1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>这是account组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/account/login<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>登录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/account/register<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>注册<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> account <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"#tmp1"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> login <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h3>login&lt;/h3>"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> register <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h3>register&lt;/h3>"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    routes<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">&#123;</span>
        path<span class="token operator">:</span> <span class="token string">"/account"</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> account<span class="token punctuation">,</span>
        <span class="token comment">/*使用 children 属性，实现子路由，同时，子路由的 path 前面，不要带 / ，
否则永远以根路径开始请求，这样不方便我们用户去理解URL地址*/</span>
        children<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"login"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> login <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
          <span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">"register"</span><span class="token punctuation">,</span> component<span class="token operator">:</span> register <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> <span class="token string">"哈哈"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    router<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190410/gPhEsa53qYkp.gif" alt="mark"></p>
<h2 id="路由-命名视图实现经典布局"><a class="markdownIt-Anchor" href="#路由-命名视图实现经典布局">#</a> 路由 - 命名视图实现经典布局</h2>
<ul>
<li>命名视图实现经典布局</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">*</span> <span class="token punctuation">&#123;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.header</span> <span class="token punctuation">&#123;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #2b542c<span class="token punctuation">;</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.main</span> <span class="token punctuation">&#123;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 8<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>main<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> header <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">'&lt;h1 class="header">Header头部区域&lt;/h1>'</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> leftBox <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">'&lt;h1 class="left">leftBox区域&lt;/h1>'</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> mainBox <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">'&lt;h1 class="main">mainBox区域&lt;/h1>'</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    routes<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// &#123;path:'/',component:header&#125;,</span>
      <span class="token comment">// &#123;path:'/left',component:leftBox&#125;,</span>
      <span class="token comment">// &#123;path:'/main',component:mainBox&#125;</span>
      <span class="token punctuation">&#123;</span>
        path<span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
        components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">default</span><span class="token operator">:</span> header<span class="token punctuation">,</span>
          left<span class="token operator">:</span> leftBox<span class="token punctuation">,</span>
          main<span class="token operator">:</span> mainBox<span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> <span class="token string">"哈啊哈"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    router<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blog/20190410/kLyVGLuGTNQU.png?imageslim" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1/" rel="tag">父子组件间通信</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%B7%AF%E7%94%B1/" rel="tag">路由</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-VueLearn03"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/04/02/VueLearn03/"
    >过渡效果、组件</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/04/02/VueLearn03/" class="article-date">
  <time datetime="2019-04-02T14:48:13.000Z" itemprop="datePublished">2019-04-02</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/Vue/">Vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="vue-第三天"><a class="markdownIt-Anchor" href="#vue-第三天">#</a> Vue 第三天</h1>
<blockquote>
<p>过渡效果</p>
<p>组件</p>
</blockquote>
<h1 id="过渡效果"><a class="markdownIt-Anchor" href="#过渡效果">#</a> 过渡效果</h1>
<h3 id="概述"><a class="markdownIt-Anchor" href="#概述">#</a> 概述</h3>
<p>Vue 在插入、更新或者移除 DOM 时，提供多种不同方式的应用过渡效果。<br>
包括以下工具：</p>
<ol>
<li>
<p>在 CSS 过渡和动画中自动应用 class</p>
</li>
<li>
<p>可以配合使用第三方 CSS 动画库，如 Animate.css</p>
</li>
<li>
<p>在过渡钩子函数中使用 JavaScript 直接操作 DOM</p>
</li>
<li>
<p>可以配合使用第三方 JavaScript 动画库，如 <a target="_blank" rel="noopener" href="https://github.com/shepherdwind/velocity.js">Velocity.js</a></p>
</li>
</ol>
<h2 id="1使用过度类名实现动画"><a class="markdownIt-Anchor" href="#1使用过度类名实现动画">#</a> 1. 使用过度类名实现动画</h2>
<p><strong>写个简单例子说明：</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--自定义两组样式，来控制 transition 内部的元素实现动画--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token comment">/* v-enter ：  【这是一个时间点】 是进入之前,元素的起始状态，此时还没有开始进入
       v-leave-to：【这是一个时间点】 是动画离开之后，离开的终止状态，此时， 元素动画已经结束
    */</span>
  <span class="token selector">.v-enter,
  .v-leave-to</span> <span class="token punctuation">&#123;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>80px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">/*
      v-enter-active: 入场动画的时间段
      v-leave-active：离场动画的时间段
    */</span>
  <span class="token selector">.v-enter-active,
  .v-leave-active</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all 2s<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag=!flag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--1. transition 元素，是Vue 官方提供的--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>这是一个h3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      flag<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190408/saPf7Rw6MKa5.gif" alt="mark"></p>
<p><strong>修改 v - 前缀 (自定义前缀)</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.my-enter,
  .my-leave-to</span> <span class="token punctuation">&#123;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>-80px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.my-enter-active,
  .my-leave-active</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all 2s<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag1=!flag1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--1. transition 元素，是Vue 官方提供的--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>这是一个h6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="2使用第三方类实现动画"><a class="markdownIt-Anchor" href="#2使用第三方类实现动画">#</a> 2. 使用第三方类实现动画</h2>
<p><a target="_blank" rel="noopener" href="https://daneden.github.io/animate.css/">animate.css 官网</a></p>
<p><a target="_blank" rel="noopener" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">在线 cdn</a></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../../animate.css<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag=!flag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--使用 transition 元素 包裹起来--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span>
    <span class="token attr-name">enter-active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bounceIn<span class="token punctuation">"</span></span>
    <span class="token attr-name">leave-active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bounceOut<span class="token punctuation">"</span></span>
    <span class="token attr-name">:duration</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;enter:200,leave:400&#125;<span class="token punctuation">"</span></span>
  <span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>这是一个h3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>直接使用在元素身上</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animated infinite bounce delay-2s<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>这是一个h3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="3javascript-钩子"><a class="markdownIt-Anchor" href="#3javascript-钩子">#</a> 3.JavaScript 钩子</h3>
<p><strong>html:</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>before-enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>beforeEnter<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>enter<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>after-enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>afterEnter<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>enter-cancelled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>enterCancelled<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>before-leave</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>beforeLeave<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>leave</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>leave<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>after-leave</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>afterLeave<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>leave-cancelled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>leaveCancelled<span class="token punctuation">"</span></span>
<span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- ... --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>js</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 进入中</span>
  <span class="token function-variable function">beforeEnter</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">// 此回调函数是可选项的设置</span>
  <span class="token comment">// 与 CSS 结合时使用</span>
  <span class="token function-variable function">enter</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">afterEnter</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">enterCancelled</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

  <span class="token comment">// 离开时</span>
  <span class="token function-variable function">beforeLeave</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">// 此回调函数是可选项的设置</span>
  <span class="token comment">// 与 CSS 结合时使用</span>
  <span class="token function-variable function">leave</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">afterLeave</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">// leaveCancelled 只用于 v-show 中</span>
  <span class="token function-variable function">leaveCancelled</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="案例小球动画"><a class="markdownIt-Anchor" href="#案例小球动画">#</a> 案例：小球动画</h5>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag = !flag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>加入购物车<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--使用 transition 元素把 小球包裹起来--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span>
    <span class="token attr-name"><span class="token namespace">v-on:</span>before-enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>beforeEnter<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">v-on:</span>enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>enter<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">v-on:</span>after-enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>afterEnter<span class="token punctuation">"</span></span>
  <span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ball<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      flag<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">//注意：动画钩子函数的第一个参数 el ，表示 要执行动画的那个 DOM 元素，是个原生的JS 对象</span>
      <span class="token function">beforeEnter</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//beforeEnter : 表示动画入场之前，此时，动画尚未开始，可以在 beforeEnter中，设置元素开始动画之前的起始样式</span>
        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">"translate(0,0)"</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token function">enter</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        el<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span>
        <span class="token comment">//这句话，没有实际的作用，但是，如果不写，出不来动画效果</span>
        <span class="token comment">//可以认为  el.offsetWidth 会强制动画刷新</span>
        <span class="token comment">// enter 表示动画 开始之后的样式，这里，可以设置小球完成动画之后的,结束状态</span>
        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">"translate(150px,150px)"</span><span class="token punctuation">;</span>
        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">"all 2s"</span><span class="token punctuation">;</span>

        <span class="token comment">//这里的done， 起始就是 afterEnter 这个函数。也就是说：done 是afterEnter函数的引用</span>
        <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token function">afterEnter</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//动画完成之后，会调用 afterEnter()</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>flag<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190408/KnduLdOBz0cI.gif" alt="mark"></p>
<h2 id="列表过渡"><a class="markdownIt-Anchor" href="#列表过渡">#</a> 列表过渡</h2>
<p><em>目前为止，关于过渡我们已经讲到</em>：</p>
<ul>
<li>单个节点</li>
<li>一次渲染多个节点</li>
</ul>
<p>那么怎么同时渲染整个列表，比如使用  <code>v-for</code>  ？在这种场景中，使用 <code>&lt;transition-group&gt;</code>  组件。在我们深入例子之前，先了解关于这个组件的几个特点：</p>
<ul>
<li>不同于  <code>&lt;transition&gt;</code> ， 它会以一个真实元素呈现：默认为一个  <code>&lt;span&gt;</code> 。你也可以通过  <code>tag</code>  特性更换为其他元素。</li>
<li>元素 <strong>一定需要</strong> 指定唯一的  <code>**key</code>  特性值 **</li>
</ul>
<p>举例说明：</p>
<h4 id="列表添加动画"><a class="markdownIt-Anchor" href="#列表添加动画">#</a> 列表添加动画</h4>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.v-enter,
  .v-leave-to</span> <span class="token punctuation">&#123;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>80px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token selector">.v-enter-active,
  .v-leave-active</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all 2s<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!--在实现列表过度的时候，如果需要过度的元素，是通过 v-for 循环渲染出来的，不能使用transition 包裹，需要使用transitionGroup--></span>
    <span class="token comment">&lt;!--如果要为 v-for 循环创建的元素设置动画，必须为每一个元素 设置 :key 属性--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition-group</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;item.id&#125;&#125;--- &#123;&#123;item.name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition-group</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>id:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>添加<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      list<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
          id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span>
          id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">"李四"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span>
          id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">"王五"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span>
          id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">"赵二"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span>
          id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">"王八"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      id<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> id<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190408/BniWO4XoExQy.gif" alt="mark"></p>
<h4 id="删除动画"><a class="markdownIt-Anchor" href="#删除动画">#</a> 删除动画</h4>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.v-enter,
  .v-leave-to</span> <span class="token punctuation">&#123;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>80px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.v-enter-active,
  .v-leave-active</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all 2s<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token comment">/*下面的 .v-move和 .v-leave-active 配合使用，能够实现列表后续的元素，渐渐飘上来的效果*/</span>
  <span class="token selector">.v-move</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all 3s ease<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.v-leave-active</span> <span class="token punctuation">&#123;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition-group</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,i) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.id<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del(i)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      &#123;&#123;item.id&#125;&#125;---&#123;&#123;item.name&#125;&#125;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition-group</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190408/vkbO2TDtKy2q.gif" alt="mark"></p>
<h4 id="实现入场时候的效果-appear-属性"><a class="markdownIt-Anchor" href="#实现入场时候的效果-appear-属性">#</a> 实现入场时候的效果（ appear 属性）</h4>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--给 transition-group 添加 appear 属性，实现入场时候的效果--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition-group</span> <span class="token attr-name">appear</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,i) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.id<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del(i)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      &#123;&#123;item.id&#125;&#125;---&#123;&#123;item.name&#125;&#125;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition-group</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190408/yEodBeN1cCdm.gif" alt="mark"></p>
<h4 id="解决-ul-标签下-span-包裹问题"><a class="markdownIt-Anchor" href="#解决-ul-标签下-span-包裹问题">#</a> 解决 ul 标签下 span 包裹问题</h4>
<p><img src="http://static.zxinc520.com/blogimage/20190402/vn2iYgGzCqCz.png?imageslim" alt="mark"></p>
<h3 id="解决方案"><a class="markdownIt-Anchor" href="#解决方案">#</a> 解决方案</h3>
<p><strong>去掉 ul 标签，并给 transition-group 标签加 tag=“ul” 。</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition-group</span> <span class="token attr-name">appear</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ul<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,i) in list<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.id<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del(i)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    &#123;&#123;item.id&#125;&#125;---&#123;&#123;item.name&#125;&#125;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition-group</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="组件"><a class="markdownIt-Anchor" href="#组件">#</a> 组件</h1>
<h3 id="什么是组件"><a class="markdownIt-Anchor" href="#什么是组件">#</a> 什么是组件？</h3>
<blockquote>
<p>组件（Component）是 Vue.js 最强大的功能之一。组件可以扩展 HTML 元素，封装可重用的代码。在较高层面上，组件是自定义元素， Vue.js 的编译器为它添加特殊功能。在有些情况下，组件也可以是原生 HTML 元素的形式，以 is 特性扩展。</p>
<p>组件的出现，就是为了拆分 Vue 实例的代码量的，能够让我们以不同的组件，来划分不同的功能模块，将来我们需要什么样的功能，就可以去调用对应的组件即可</p>
</blockquote>
<h2 id="组件化和模块化的不同"><a class="markdownIt-Anchor" href="#组件化和模块化的不同">#</a> 组件化和模块化的不同：</h2>
<h3 id="组件化"><a class="markdownIt-Anchor" href="#组件化">#</a> 组件化</h3>
<blockquote>
<p>​ 就是 **“基础库 &quot;<strong> 或者</strong> “基础组件”，** 意思是把代码重复的部分提炼出一个个组件供给功能使用。</p>
<p>​ 使用：Dialog，各种自定义的 UI 控件、能在项目或者不同项目重复应用的代码等等。</p>
<p>​ 目的：复用，解耦。</p>
<p>​ 依赖：组件之间低依赖，比较独立。</p>
<p>​ 架构定位：纵向分层（位于架构底层，被其他层所依赖）。</p>
</blockquote>
<h3 id="模块化"><a class="markdownIt-Anchor" href="#模块化">#</a> 模块化</h3>
<blockquote>
<p>​ 就是 **“业务框架 &quot;<strong> 或者</strong> “业务模块”**，也可以理解为 “框架”，意思是把功能进行划分，将同一类型的代码整合在一起，所以模块的功能相对复杂，但都同属于一个业务。</p>
<p>​ 使用：按照项目功能需求划分成不同类型的业务框架（例如：注册、登录、外卖、直播…）</p>
<p>​ 目的：隔离 / 封装 （高内聚）。</p>
<p>​ 依赖：模块之间有依赖的关系，可通过路由器进行模块之间的耦合问题。</p>
<p>​ 架构定位：横向分块（位于架构业务框架层）。</p>
</blockquote>
<h3 id="总结"><a class="markdownIt-Anchor" href="#总结">#</a> 总结</h3>
<p>​ 其实组件相当于<strong>库</strong>，把一些能在<strong>项目里或者不同类型项目中</strong>可复用的代码进行工具性的封装。</p>
<p>​ 而模块相应于<strong>业务逻辑模块</strong>，把<strong>同一类型项目里</strong>的功能逻辑进行进行需求性的封装。</p>
<h2 id="创建组件实例"><a class="markdownIt-Anchor" href="#创建组件实例">#</a> 创建组件实例：</h2>
<blockquote>
<p>注意：不论是哪种方式创建出来的组件，组件的 template 属性指向的模板内容必须有且只能有唯 一的一个根元素</p>
</blockquote>
<h3 id="全局组件"><a class="markdownIt-Anchor" href="#全局组件">#</a> 全局组件</h3>
<h4 id="创建组件的方式-1"><a class="markdownIt-Anchor" href="#创建组件的方式-1">#</a> 创建组件的方式 1</h4>
<p><strong>实例：</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-com1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-com1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">//1.1 使用 Vue.extend 来创建全局的Vue组件</span>
  <span class="token keyword">let</span> com1 <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h3>这是使用 Vue.extend 创建的组件&lt;/h3>"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//1.2 使用  Vue.component('组件的名称'，创建出来的组件模板对象)</span>
  <span class="token comment">//如果 使用  Vue.component定义全局组件的时候，组件名称使用了 驼峰命名，则在引用组件的时候，需要把大写的驼峰改为小写的字母，两个单词之间，使用 - 链接</span>
  <span class="token comment">//如果不使用驼峰，则直接拿名称来使用</span>
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">"myCom1"</span><span class="token punctuation">,</span> com1<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190402/AE4CTF8EzGix.png?imageslim" alt="mark"></p>
<h4 id="简化"><a class="markdownIt-Anchor" href="#简化">#</a> 简化：</h4>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>
  <span class="token string">"myCom1"</span><span class="token punctuation">,</span>
  Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h3>这是使用 Vue.extend 创建的组件&lt;/h3>"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="创建组件的方式-2"><a class="markdownIt-Anchor" href="#创建组件的方式-2">#</a> 创建组件的方式 2</h4>
<p><strong>实例</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-com2</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-com2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">"myCom2"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//注意：不论是哪种方式创建出来的组件，组件的 template 属性指向的模板内容必须有且只能有唯一的一个根元素</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h3>这是直接使用 Vue.component 创建出来的组件&lt;/h3>"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190402/EiTu5Mwl5jpJ.png?imageslim" alt="mark"></p>
<h4 id="创建组件的方式-3"><a class="markdownIt-Anchor" href="#创建组件的方式-3">#</a> 创建组件的方式 3</h4>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-com3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-com3</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--在 被控制的 #app 外面，使用 template 元素，定义组件的 HTML 模板结构--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmp1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>
      这是通过 template 元素，在外部定义的组件结构，这个方式，有代码的智能提示和
      高亮
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">></span></span>好用不错哦！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">"myCom3"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"#tmp1"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190402/V6vcm4TQjGh1.png?imageslim" alt="mark"></p>
<h3 id="私有组件"><a class="markdownIt-Anchor" href="#私有组件">#</a> 私有组件</h3>
<p><strong>自定义一个私有组件</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>login</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>login</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">//定义实例内部私有组件</span>
      login<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        template<span class="token operator">:</span> <span class="token string">"&lt;h2>这是定义实例内部私有组件&lt;/h2>"</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190402/oA5piSDptycq.png?imageslim" alt="mark"><strong> 同理而言：或者这样处理</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>login</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>login</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--在 被控制的 #app 外面，使用 template 元素，定义组件的 HTML 模板结构--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tmp2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>这是定义实例内部私有组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">//定义实例内部私有组件</span>
      login<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        template<span class="token operator">:</span> <span class="token string">"#tmp2"</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="组件中的-data-和-methods"><a class="markdownIt-Anchor" href="#组件中的-data-和-methods">#</a> 组件中的 data 和 methods</h2>
<blockquote>
<ol>
<li>
<p>组件可以有自己的 data 数据</p>
</li>
<li>
<p>组件的 data 和 实例的 data 有点不一样，实例中的 data 可以为一个对象，但组件的 data 必须为一个方法</p>
</li>
<li>
<p>组件中的 data 除了为一个方法之外，这个方法内部，还必须返回一个对象才行</p>
</li>
</ol>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">"myCom1"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  template<span class="token operator">:</span> <span class="token string">"&lt;h3>&#123;&#123;msg&#125;&#125;&lt;/h3>"</span><span class="token punctuation">,</span>
  <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> <span class="token string">"这是组件中定义的数据"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190402/IbE2L3d6S5x8.png?imageslim" alt="mark"></p>
<h2 id="组件切换"><a class="markdownIt-Anchor" href="#组件切换">#</a> 组件切换</h2>
<h4 id="v-if-和-v-else-2-个组件之间切换"><a class="markdownIt-Anchor" href="#v-if-和-v-else-2-个组件之间切换">#</a> v-if 和 v-else （ 2 个组件之间切换 ）</h4>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag=true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>登陆<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag=false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>注册<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>login</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>login</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>register</span> <span class="token attr-name">v-else</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>register</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190402/wjg1VesuOq1U.png?imageslim" alt="mark"></p>
<h4 id="component-is-实现多个组件之间的切换"><a class="markdownIt-Anchor" href="#component-is-实现多个组件之间的切换">#</a> component :is 实现多个组件之间的切换</h4>
<blockquote>
<!--Vue 提供了 component ，来展示对应名称的组件-->
<!--component 是一个占位符，:is 属性,可以用来指定展示的组件的名称-->
</blockquote>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comName=<span class="token punctuation">'</span>login<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>登陆<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comName=<span class="token punctuation">'</span>register<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>注册<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--Vue 提供了 component ，来展示对应名称的组件--></span>
  <span class="token comment">&lt;!--component 是一个占位符，:is 属性,可以用来指定展示的组件的名称--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">"login"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h3>&#123;&#123;msg&#125;&#125;&lt;/h3>"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        msg<span class="token operator">:</span> <span class="token string">"这是登陆"</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">"register"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token string">"&lt;h3>&#123;&#123;msg&#125;&#125;&lt;/h3>"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        msg<span class="token operator">:</span> <span class="token string">"这是注册"</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      comName<span class="token operator">:</span> <span class="token string">"login"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190402/lhRHsBxN0qN2.png?imageslim" alt="mark"></p>
<!--总结：当前学习了几个 Vue 提供的标签了-->
<!-- component, template, transition , transitionGroup -->
<h4 id="多个组件切换动画"><a class="markdownIt-Anchor" href="#多个组件切换动画">#</a> 多个组件切换动画</h4>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.v-enter,
  .v-leave-to</span> <span class="token punctuation">&#123;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>80px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token selector">.v-enter-active,
  .v-leave-active</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all 2s<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comName=<span class="token punctuation">'</span>login<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>登陆<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">@click.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comName=<span class="token punctuation">'</span>register<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>注册<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>

  <span class="token comment">&lt;!--通过 mode 属性，设置组件切换时候的 模式--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>out-in<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="http://static.zxinc520.com/blogimage/20190408/Th9ksgrvutDI.gif" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BB%84%E4%BB%B6/" rel="tag">组件</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BF%87%E6%B8%A1%E6%95%88%E6%9E%9C/" rel="tag">过渡效果</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/5/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2021
        <i class="ri-heart-fill heart_icon"></i> zhou chen
      </li>
    </ul>
    <ul>
      <li>
        
        
        
        Powered by <a href="https://hexo.io" target="_blank">Hexo</a>
        <span class="division">|</span>
        Theme - <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/logozc.jpg" alt="sunflower"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://vercel-demo-ten.vercel.app/#/">个人博客</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友情链接</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="http://static.zxinc520.com/blog/20190512/p4IWzLUrorWK.jpg?imageslim">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="http://static.zxinc520.com/blog/20190512/pGHOMdDF79sb.jpg?imageslim">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>


<!-- ClickBoom2 -->

<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


    
  </div>
</body>

</html>