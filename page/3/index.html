<!DOCTYPE html>


<html lang="en">


<head>
  <meta charset="utf-8" />
   
  <meta name="keywords" content="åšå®¢ï¼Œå­¦ä¹ ç½‘ç«™ï¼Œhexoï¼Œå‘¨ç›ï¼Œå‘¨ç›çš„ä¸ªäººåšå®¢" />
   
  <meta name="description" content="å‘¨ç›çš„åšå®¢" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     å‘¨ç›çš„åšå®¢
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="/favicon.png" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
  
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

  
  

  

<link rel="alternate" href="/atom.xml" title="ç›" type="application/atom+xml">
</head>

</html>

<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/ZhChen7"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">ç›</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['å­¦ä¹ ', 'å­¦ä¹ ä½¿æˆ‘å¿«ä¹', 'å¿«ä¹ï¼Œå¼€å¿ƒï½'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-muyiyang"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/09/20/muyiyang/"
    >æœ¨æ˜“æ¨æ¯æ—¥ä¸€é¢˜</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/09/20/muyiyang/" class="article-date">
  <time datetime="2019-09-20T06:45:02.000Z" itemprop="datePublished">2019-09-20</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%89%9B%E4%BA%BA%E9%9D%A2%E8%AF%95%E9%A2%98/">ç‰›äººé¢è¯•é¢˜</a> / <a class="article-category-link" href="/categories/%E7%89%9B%E4%BA%BA%E9%9D%A2%E8%AF%95%E9%A2%98/%E6%9C%A8%E6%98%93%E6%9D%A8%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/">æœ¨æ˜“æ¨æ¯æ—¥ä¸€é¢˜</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="æ¯æ—¥ä¸€é¢˜"><a href="#æ¯æ—¥ä¸€é¢˜" class="headerlink" title="æ¯æ—¥ä¸€é¢˜"></a>æ¯æ—¥ä¸€é¢˜</h2><blockquote>
<p>æ¯å¤©ä¸€é“å¤§å‚å‰ç«¯é¢è¯•é¢˜ï¼Œä¸€å¹´åå†å›å¤´ï¼Œä¼šæ„Ÿè°¢æ›¾ç»åŠªåŠ›çš„è‡ªå·±ï¼</p>
<p>å¾…æ›´æ–°çŠ¶æ€</p>
<p>ä»Šå¤© 2019/12/23 ~ ğŸ’ª</p>
</blockquote>
<h3 id="ç¬¬-1-é¢˜-ï¼ˆ2019-9-19ï¼‰"><a href="#ç¬¬-1-é¢˜-ï¼ˆ2019-9-19ï¼‰" class="headerlink" title="ç¬¬ 1 é¢˜ ï¼ˆ2019/9/19ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/blob/master/datum/summary.md#%E7%AC%AC-1-%E9%A2%98%E5%86%99-react--vue-%E9%A1%B9%E7%9B%AE%E6%97%B6%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%9C%A8%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6%E4%B8%AD%E5%86%99-key%E5%85%B6%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88">ç¬¬ 1 é¢˜</a> ï¼ˆ2019/9/19ï¼‰</h3><p><strong>é¢˜ç›®</strong>ï¼šå†™ React / Vue é¡¹ç›®æ—¶ä¸ºä»€ä¹ˆè¦åœ¨åˆ—è¡¨ç»„ä»¶ä¸­å†™ keyï¼Œå…¶ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><strong>å…¬å¸</strong>ï¼šæ»´æ»´ã€é¥¿äº†ä¹ˆ</p>
<p><strong>éœ€äº†è§£</strong> ï¼švue å’Œ react éƒ½æ˜¯é‡‡ç”¨ diff ç®—æ³•æ¥å¯¹æ¯”æ–°æ—§è™šæ‹ŸèŠ‚ç‚¹ï¼Œä»è€Œæ›´æ–°èŠ‚ç‚¹ã€‚åœ¨ vue çš„ diff å‡½æ•°ä¸­ã€‚å¯ä»¥å…ˆäº†è§£ä¸€ä¸‹ diff ç®—æ³•ã€‚<br>åœ¨äº¤å‰å¯¹æ¯”çš„æ—¶å€™ï¼Œå½“æ–°èŠ‚ç‚¹è·Ÿæ—§èŠ‚ç‚¹<code>å¤´å°¾äº¤å‰å¯¹æ¯”</code>æ²¡æœ‰ç»“æœçš„æ—¶å€™ï¼Œä¼šæ ¹æ®æ–°èŠ‚ç‚¹çš„ key å»å¯¹æ¯”æ—§èŠ‚ç‚¹æ•°ç»„ä¸­çš„ keyï¼Œä»è€Œæ‰¾åˆ°ç›¸åº”æ—§èŠ‚ç‚¹ï¼ˆè¿™é‡Œå¯¹åº”çš„æ˜¯ä¸€ä¸ª key =&gt; index çš„ map æ˜ å°„ï¼‰ã€‚å¦‚æœæ²¡æ‰¾åˆ°å°±è®¤ä¸ºæ˜¯ä¸€ä¸ªæ–°å¢èŠ‚ç‚¹ã€‚è€Œå¦‚æœæ²¡æœ‰ keyï¼Œé‚£ä¹ˆå°±ä¼šé‡‡ç”¨ä¸€ç§éå†æŸ¥æ‰¾çš„æ–¹å¼å»æ‰¾åˆ°å¯¹åº”çš„æ—§èŠ‚ç‚¹ã€‚ä¸€ç§ä¸€ä¸ª map æ˜ å°„ï¼Œå¦ä¸€ç§æ˜¯éå†æŸ¥æ‰¾ã€‚ç›¸æ¯”è€Œè¨€ã€‚map æ˜ å°„çš„é€Ÿåº¦æ›´å¿«ã€‚</p>
<p><strong>ç­”æ¡ˆ</strong>ï¼š</p>
<blockquote>
<p>key æ˜¯ç»™æ¯ä¸€ä¸ª vnode çš„å”¯ä¸€ id,å¯ä»¥<code>ä¾é key</code>,æ›´<code>å‡†ç¡®</code>, æ›´<code>å¿«</code>çš„æ‹¿åˆ° oldVnode ä¸­å¯¹åº”çš„ vnode èŠ‚ç‚¹ã€‚</p>
<p>key çš„ä½œç”¨æ˜¯ä¸ºäº†åœ¨ diff ç®—æ³•æ‰§è¡Œæ—¶æ›´å¿«çš„æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œæé«˜ diff é€Ÿåº¦ã€‚</p>
</blockquote>
<p>1ã€æ›´å‡†ç¡®</p>
<p>å› ä¸ºå¸¦ key å°±ä¸æ˜¯<code>å°±åœ°å¤ç”¨</code>äº†ï¼Œåœ¨ sameNode å‡½æ•° <code>a.key === b.key</code>å¯¹æ¯”ä¸­å¯ä»¥é¿å…å°±åœ°å¤ç”¨çš„æƒ…å†µã€‚æ‰€ä»¥ä¼šæ›´åŠ å‡†ç¡®ã€‚</p>
<p>2ã€æ›´å¿«</p>
<p>åˆ©ç”¨ key çš„å”¯ä¸€æ€§ç”Ÿæˆ map å¯¹è±¡æ¥è·å–å¯¹åº”èŠ‚ç‚¹ï¼Œæ¯”éå†æ–¹å¼æ›´å¿«ã€‚(è¿™ä¸ªè§‚ç‚¹ï¼Œå°±æ˜¯æˆ‘æœ€åˆçš„é‚£ä¸ªè§‚ç‚¹ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œmap ä¼šæ¯”éå†æ›´å¿«ã€‚)</p>
<h3 id="ç¬¬-2-é¢˜ï¼ˆ2019-9-20ï¼‰"><a href="#ç¬¬-2-é¢˜ï¼ˆ2019-9-20ï¼‰" class="headerlink" title="ç¬¬ 2 é¢˜ï¼ˆ2019/9/20ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/4">ç¬¬ 2 é¢˜</a>ï¼ˆ2019/9/20ï¼‰</h3><p><strong>é¢˜ç›®</strong>ï¼š<code>[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;].map(parseInt)</code> what &amp; why ?</p>
<p><strong>ç­”æ¡ˆ</strong> ï¼šç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªé¢˜ç›®çš„æ—¶å€™ï¼Œè„‘æµ·è·³å‡ºçš„ç­”æ¡ˆæ˜¯ [1, 2, 3]ï¼Œä½†æ˜¯ **çœŸæ­£çš„ç­”æ¡ˆæ˜¯[1, NaN, NaN]**ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&quot;12&quot;</span>)); <span class="comment">//12</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&quot;08&quot;</span>)); <span class="comment">//8</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&quot;0x16&quot;</span>)); <span class="comment">//22</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&quot;-12&quot;</span>)); <span class="comment">//-12</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&quot;   -12&quot;</span>)); <span class="comment">//-12</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&quot;   -  12&quot;</span>)); <span class="comment">///NAN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&quot;124ref&quot;</span>)); <span class="comment">//124</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&quot;ref&quot;</span>)); <span class="comment">//NAN</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå‡ ä¹å°±æ˜¯<code>parseInt</code>å‡½æ•°ä¸€ä¸ªå½¢å¼å‚æ•°æ—¶çš„æ‰€æœ‰æƒ…å†µ</p>
<p>radix å½¢å‚æ²¡æŒ‡å®šçš„æ—¶å€™æ˜¯<strong>10</strong>ï¼Œå…¶æ¬¡ä»–æ˜¯å…·æœ‰æœ‰æ•ˆèŒƒå›´æ»´ï¼š[2, 36]å’Œç‰¹æ®Šå€¼ 0<br>ä¸‹é¢æ˜¯è‹±è¯­æ¸£æ¸£çš„æˆ‘ç¿»è¯‘åï¼Œç®€åŒ–çš„<code>parseInt</code>æ‰§è¡Œæ­¥éª¤ï¼šï¼ˆECMAScript åŸè§£æ-&gt;<a target="_blank" rel="noopener" href="http://www.ecma-international.org/ecma-262/6.0/#sec-parseint-string-radix">ä¼ é€é—¨</a>ï¼‰</p>
<ol>
<li>å°†ç¬¬ä¸€ä¸ªå½¢å‚è½¬æ¢ä¸ºå­—ç¬¦ä¸²</li>
<li>è¯†åˆ« string è½¬æ¢æ˜¯å¦æœ‰<strong>code unit</strong>ï¼Œå¦‚æœæœ‰ -&gt; <code>-</code>æ ‡è®°ä¸ºè´Ÿæ•°ï¼Œ<code>0x</code>æˆ–<code>0X</code>åˆ™æŠŠ radix èµ‹å€¼ä¸º<strong>16</strong></li>
<li>radix å½¢å‚ï¼ˆint ç±»å‹ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™é‡æ–°èµ‹å€¼ï¼ˆä¼šå¯¹å®å‚è¿›è¡Œ Int32 è½¬åŒ–ï¼Œæ— æ³•è½¬æ¢æˆ int ç±»å‹åˆ™ä¸ä¼šé‡æ–°èµ‹å€¼ radixï¼‰</li>
<li>radix ä¸º 0ï¼Œåˆ™è®¾ç½® radix ä¸ºé»˜è®¤å€¼ 10</li>
<li>å¦‚æœ radix ä¸º 1ï¼Œæˆ–è€…å¤§äºç­‰äº 37ï¼ŒparseInt ç›´æ¥è¿”å›<strong>NaN</strong></li>
<li>å¦‚æœ radix ä¸º[2, 36]æ—¶åˆ™ä»£è¡¨ï¼Œstring å‚æ•°åˆ†åˆ«æ˜¯äºŒè¿›åˆ¶ï¼Œä¸‰è¿›åˆ¶ï¼ˆå¦‚æœæœ‰å¾—è¯~ï¼‰â€¦ä¸‰åå…­è¿›åˆ¶ç±»å‹</li>
<li>ç„¶åå¯¹ string è¿›è¡Œçš„ radix è¿›åˆ¶ -&gt; åè¿›åˆ¶è½¬æ¢</li>
</ol>
<p>ä»¥ä¸Šå°±æ˜¯<code>parseInt</code>è½¬æ¢æ—¶çš„æ­¥éª¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥å¼€å§‹è§£é‡Š<code>[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;].map(parseInt)</code><br><strong>at first, ç­”æ¡ˆæ˜¯[1, NaN, NaN]</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ret = [<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>].map(<span class="function">(<span class="params">value, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value, index);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseInt</span>(value, index);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">console</span>.log(ret);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯<code>[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;].map(parseInt)</code>å†…éƒ¨æ‰§è¡Œçš„å‰–æï¼Œ<code>value</code>å’Œ<code>index</code>ç›¸ä¿¡å¤§å®¶éƒ½æ‡‚ï¼Œä¸æ‡‚è¯·è‡ªè¡Œ<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/map">MDN</a>,æ‰§è¡Œæ­¥éª¤ä¸ºï¼š<br><code>value=&#39;1&#39;,index=0</code> -&gt; <code>parseInt(value, index)</code><br><code>value=&#39;2&#39;,index=1</code> -&gt; <code>parseInt(value, index)</code><br><code>value=&#39;3&#39;,index=2</code> -&gt; <code>parseInt(value, index)</code><br>æŠ½ç¦»å‡ºæ¥ï¼Œå…¶å®å°±æ˜¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;1&quot;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;2&quot;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;3&quot;</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<p><code>parseInt(&#39;3&#39;, 2)</code>è¿™æ˜¯æ ¹æ®äºŒè¿›åˆ¶å¯¹å­—ç¬¦ä¸²<code>3</code>è¿›è¡Œåè¿›åˆ¶è½¬æ¢å¯¹å§ï¼ï¼ï¼<br>exm???æœ‰æ¯›ç—…?æ²¡æ¯›ç—…ï¼Œè€é“ï¼Œå°±æ˜¯â€¦â€¦ä½ å®¶äºŒè¿›åˆ¶æœ‰<code>3</code>?äºŒè¿›åˆ¶ä¸å°±æ˜¯<code>0</code>å’Œ<code>1</code>å•Š</p>
<p>å› æ­¤è¿”å›<strong>NaN</strong>ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">returnInt</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">parseInt</span>(element, <span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>].map(returnInt); <span class="comment">// [1, 2, 3]</span></span><br><span class="line"><span class="comment">// Actual result is an array of numbers (as expected)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Same as above, but using the concise arrow function syntax</span></span><br><span class="line">[<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>].map(<span class="function">(<span class="params">str</span>) =&gt;</span> <span class="built_in">parseInt</span>(str));</span><br><span class="line"></span><br><span class="line"><span class="comment">// A simpler way to achieve the above, while avoiding the &quot;gotcha&quot;:</span></span><br><span class="line">[<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>].map(<span class="built_in">Number</span>); <span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// But unlike parseInt(), Number() will also return a float or (resolved) exponential notation:</span></span><br><span class="line">[<span class="string">&quot;1.1&quot;</span>, <span class="string">&quot;2.2e2&quot;</span>, <span class="string">&quot;3e300&quot;</span>].map(<span class="built_in">Number</span>); <span class="comment">// [1.1, 220, 3e+300]</span></span><br><span class="line"><span class="comment">// For comparison, if we use parseInt() on the array above:</span></span><br><span class="line">[<span class="string">&quot;1.1&quot;</span>, <span class="string">&quot;2.2e2&quot;</span>, <span class="string">&quot;3e300&quot;</span>].map(<span class="function">(<span class="params">str</span>) =&gt;</span> <span class="built_in">parseInt</span>(str)); <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-3-é¢˜ï¼ˆ2019-9-21ï¼‰"><a href="#ç¬¬-3-é¢˜ï¼ˆ2019-9-21ï¼‰" class="headerlink" title="ç¬¬ 3 é¢˜ï¼ˆ2019/9/21ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/5">ç¬¬ 3 é¢˜</a>ï¼ˆ2019/9/21ï¼‰</h3><p><strong>é¢˜ç›®</strong>ï¼šä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ</p>
<p><strong>å…¬å¸</strong> ï¼šæŒ–è´¢</p>
<p><strong>è§£æ</strong> ï¼š</p>
<p>1ã€<strong>é˜²æŠ–</strong></p>
<blockquote>
<p>è§¦å‘é«˜é¢‘äº‹ä»¶å n ç§’å†…å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœ n ç§’å†…é«˜é¢‘äº‹ä»¶å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´</p>
</blockquote>
<p>æ€è·¯ï¼š</p>
<blockquote>
<p>æ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶éƒ½å–æ¶ˆä¹‹å‰çš„å»¶æ—¶è°ƒç”¨æ–¹æ³•</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timeout = <span class="literal">null</span>; <span class="comment">// åˆ›å»ºä¸€ä¸ªæ ‡è®°ç”¨æ¥å­˜æ”¾å®šæ—¶å™¨çš„è¿”å›å€¼</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">clearTimeout</span>(timeout); <span class="comment">// æ¯å½“ç”¨æˆ·è¾“å…¥çš„æ—¶å€™æŠŠå‰ä¸€ä¸ª setTimeout clear æ‰</span></span><br><span class="line">    timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// ç„¶ååˆåˆ›å»ºä¸€ä¸ªæ–°çš„ setTimeout, è¿™æ ·å°±èƒ½ä¿è¯è¾“å…¥å­—ç¬¦åçš„ interval é—´éš”å†…å¦‚æœè¿˜æœ‰å­—ç¬¦è¾“å…¥çš„è¯ï¼Œå°±ä¸ä¼šæ‰§è¡Œ fn å‡½æ•°</span></span><br><span class="line">      fn.apply(<span class="built_in">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;é˜²æŠ–æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> inp = <span class="built_in">document</span>.getElementById(<span class="string">&quot;inp&quot;</span>);</span><br><span class="line">inp.addEventListener(<span class="string">&quot;input&quot;</span>, debounce(sayHi, <span class="number">500</span>)); <span class="comment">// é˜²æŠ–</span></span><br></pre></td></tr></table></figure>

<p>æå‡ºé—®é¢˜ï¼šè¯·é—®ï¼Œä¸ºä»€ä¹ˆè¦ fn.apply(this, arguments);è€Œä¸æ˜¯è¿™æ · fn()</p>
<p>è§£ç­”ï¼šåŠ ä¸Š apply ç¡®ä¿ åœ¨ sayHi å‡½æ•°é‡Œçš„ this æŒ‡å‘çš„æ˜¯ input å¯¹è±¡(ä¸ç„¶å°±æŒ‡å‘ window äº†ï¼Œä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„)ã€‚<br>è¿™é‡Œçš„ç®­å¤´å‡½æ•°ä¾æ—§æ˜¯æŒ‡å‘ input å¯¹è±¡ã€‚</p>
<p><img src="http://static.zxinc520.com/blog/20190921/g4jPyh09vVh7.gif" alt="mark"></p>
<p>é˜²æŠ–åº”ç”¨åœºæ™¯ï¼š</p>
<ol>
<li>æœç´¢æ¡†è¾“å…¥æŸ¥è¯¢ï¼Œå¦‚æœç”¨æˆ·ä¸€ç›´åœ¨è¾“å…¥ä¸­ï¼Œæ²¡æœ‰å¿…è¦ä¸åœåœ°è°ƒç”¨å»è¯·æ±‚æœåŠ¡ç«¯æ¥å£ï¼Œç­‰ç”¨æˆ·åœæ­¢è¾“å…¥çš„æ—¶å€™ï¼Œå†è°ƒç”¨ï¼Œè®¾ç½®ä¸€ä¸ªåˆé€‚çš„æ—¶é—´é—´éš”ï¼Œæœ‰æ•ˆå‡è½»æœåŠ¡ç«¯å‹åŠ›ã€‚</li>
<li>è¡¨å•éªŒè¯</li>
<li>æŒ‰é’®æäº¤äº‹ä»¶ã€‚</li>
<li>æµè§ˆå™¨çª—å£ç¼©æ”¾ï¼Œresize äº‹ä»¶ç­‰ã€‚</li>
</ol>
<p>2ã€<strong>èŠ‚æµ</strong></p>
<blockquote>
<p>é«˜é¢‘äº‹ä»¶è§¦å‘ï¼Œä½†åœ¨ n ç§’å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥èŠ‚æµä¼šç¨€é‡Šå‡½æ•°çš„æ‰§è¡Œé¢‘ç‡</p>
</blockquote>
<p>æ€è·¯ï¼š</p>
<blockquote>
<p>æ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶éƒ½åˆ¤æ–­å½“å‰æ˜¯å¦æœ‰ç­‰å¾…æ‰§è¡Œçš„å»¶æ—¶å‡½æ•°</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> canRun = <span class="literal">true</span>; <span class="comment">// é€šè¿‡é—­åŒ…ä¿å­˜ä¸€ä¸ªæ ‡è®°</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!canRun) <span class="keyword">return</span>; <span class="comment">// åœ¨å‡½æ•°å¼€å¤´åˆ¤æ–­æ ‡è®°æ˜¯å¦ä¸ºtrueï¼Œä¸ä¸ºtrueåˆ™return</span></span><br><span class="line">    canRun = <span class="literal">false</span>; <span class="comment">// ç«‹å³è®¾ç½®ä¸ºfalse</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å°†å¤–éƒ¨ä¼ å…¥çš„å‡½æ•°çš„æ‰§è¡Œæ”¾åœ¨setTimeoutä¸­</span></span><br><span class="line">      fn.apply(<span class="built_in">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">      <span class="comment">// æœ€ååœ¨setTimeoutæ‰§è¡Œå®Œæ¯•åå†æŠŠæ ‡è®°è®¾ç½®ä¸ºtrue(å…³é”®)è¡¨ç¤ºå¯ä»¥æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯äº†ã€‚å½“å®šæ—¶å™¨æ²¡æœ‰æ‰§è¡Œçš„æ—¶å€™æ ‡è®°æ°¸è¿œæ˜¯falseï¼Œåœ¨å¼€å¤´è¢«returnæ‰</span></span><br><span class="line">      canRun = <span class="literal">true</span>;</span><br><span class="line">    &#125;, <span class="number">500</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.target.innerWidth, e.target.innerHeight);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&quot;resize&quot;</span>, throttle(sayHi, <span class="number">500</span>));</span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190921/nJbaVeD1wpaz.gif" alt="mark"></p>
<h3 id="ç¬¬-4-é¢˜-2019-9-22"><a href="#ç¬¬-4-é¢˜-2019-9-22" class="headerlink" title="ç¬¬ 4 é¢˜ (2019/9/22)"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/blob/master/datum/summary.md#%E7%AC%AC-4-%E9%A2%98%E4%BB%8B%E7%BB%8D%E4%B8%8B-setmapweakset-%E5%92%8C-weakmap-%E7%9A%84%E5%8C%BA%E5%88%AB">ç¬¬ 4 é¢˜</a> (2019/9/22)</h3><p><strong>é¢˜ç›®</strong> ï¼šä»‹ç»ä¸‹ Setã€Mapã€WeakSet å’Œ WeakMap çš„åŒºåˆ«ï¼Ÿ</p>
<p><strong>è§£æï¼š</strong> <a target="_blank" rel="noopener" href="https://muyiy.cn/question/js/4.html">æœ¨æ˜“æ¨å‰ç«¯è¿›é˜¶</a></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Set</span><br><span class="line">    æˆå‘˜å”¯ä¸€ã€æ— åºä¸”ä¸é‡å¤</span><br><span class="line">    [value, value]ï¼Œé”®å€¼ä¸é”®åæ˜¯ä¸€è‡´çš„ï¼ˆæˆ–è€…è¯´åªæœ‰é”®å€¼ï¼Œæ²¡æœ‰é”®åï¼‰</span><br><span class="line">    å¯ä»¥éå†ï¼Œæ–¹æ³•æœ‰ï¼šaddã€deleteã€has</span><br><span class="line"></span><br><span class="line">WeakSet</span><br><span class="line">    æˆå‘˜éƒ½æ˜¯å¯¹è±¡</span><br><span class="line">    æˆå‘˜éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå¯ä»¥è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼Œå¯ä»¥ç”¨æ¥ä¿å­˜DOMèŠ‚ç‚¹ï¼Œä¸å®¹æ˜“é€ æˆå†…å­˜æ³„æ¼</span><br><span class="line">    ä¸èƒ½éå†ï¼Œæ–¹æ³•æœ‰addã€deleteã€has</span><br><span class="line"></span><br><span class="line">Map</span><br><span class="line">    æœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œç±»ä¼¼é›†åˆ</span><br><span class="line">    å¯ä»¥éå†ï¼Œæ–¹æ³•å¾ˆå¤šå¯ä»¥è·Ÿå„ç§æ•°æ®æ ¼å¼è½¬æ¢</span><br><span class="line"></span><br><span class="line">WeakMap</span><br><span class="line">    åªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆnullé™¤å¤–ï¼‰ï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºé”®å</span><br><span class="line">    é”®åæ˜¯å¼±å¼•ç”¨ï¼Œé”®å€¼å¯ä»¥æ˜¯ä»»æ„çš„ï¼Œé”®åæ‰€æŒ‡å‘çš„å¯¹è±¡å¯ä»¥è¢«åƒåœ¾å›æ”¶ï¼Œæ­¤æ—¶é”®åæ˜¯æ— æ•ˆçš„</span><br><span class="line">    ä¸èƒ½éå†ï¼Œæ–¹æ³•æœ‰getã€setã€hasã€delete</span><br><span class="line"></span><br><span class="line"> Setä¸WeakSetåŒºåˆ«:</span><br><span class="line">    1. WeakSetåªèƒ½å­˜æ”¾å¯¹è±¡</span><br><span class="line">    2. WeakSetä¸æ”¯æŒéå†, æ²¡æœ‰sizeç†Ÿæ‚‰</span><br><span class="line">    3. WeakSetå­˜æ”¾çš„å¯¹è±¡ä¸ä¼šè®¡å…¥åˆ°å¯¹è±¡çš„å¼•ç”¨æŠ€æœ¯, å› æ­¤ä¸ä¼šå½±å“GCçš„å›æ”¶</span><br><span class="line">    4. WeakSetå­˜åœ¨çš„å¯¹è±¡å¦‚æœåœ¨å¤–ç•Œæ¶ˆå¤±äº†, é‚£ä¹ˆåœ¨WeakSeté‡Œé¢ä¹Ÿä¼šä¸å­˜åœ¨</span><br><span class="line"></span><br><span class="line"> Mapä¸WeakMapåŒºåˆ«</span><br><span class="line"> 	1. WeakMapåªèƒ½æ¥å—å¯¹è±¡ä½œä¸ºé”®åå­—(nullé™¤å¤–)</span><br><span class="line">	2. WeakMapé”®åæŒ‡å‘å¯¹è±¡ä¸ä¼šè®¡å…¥å¯¹è±¡çš„å¼•ç”¨æ•°</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-5-é¢˜-2019-9-22"><a href="#ç¬¬-5-é¢˜-2019-9-22" class="headerlink" title="ç¬¬ 5 é¢˜ (2019/9/22)"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/9">ç¬¬ 5 é¢˜</a> (2019/9/22)</h3><p><strong>é¢˜ç›®ï¼š</strong> ä»‹ç»ä¸‹æ·±åº¦ä¼˜å…ˆéå†å’Œå¹¿åº¦ä¼˜å…ˆéå†ï¼Œå¦‚ä½•å®ç°ï¼Ÿ</p>
<p>è§£æï¼š æˆ‘å…ˆå­¦ä¹ ä¸€ä¸‹å•¥æ˜¯ æ·±åº¦ä¼˜å…ˆ å’Œ å¹¿åº¦ä¼˜å…ˆâ€¦ æƒ­æ„§ï¼ï¼ï¼</p>
<h3 id="ç¬¬-6-é¢˜-ï¼ˆ2019-9-23ï¼‰"><a href="#ç¬¬-6-é¢˜-ï¼ˆ2019-9-23ï¼‰" class="headerlink" title="ç¬¬ 6 é¢˜ ï¼ˆ2019/9/23ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/10">ç¬¬ 6 é¢˜</a> ï¼ˆ2019/9/23ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼šè¯·åˆ†åˆ«ç”¨æ·±åº¦ä¼˜å…ˆæ€æƒ³å’Œå¹¿åº¦ä¼˜å…ˆæ€æƒ³å®ç°ä¸€ä¸ªæ‹·è´å‡½æ•°ï¼Ÿ</p>
<blockquote>
<p>å¼„æ‡‚äº† ä¼˜å…ˆéå†å’Œå¹¿åº¦ä¼˜å…ˆéå† å†æ¥åš</p>
</blockquote>
<h3 id="ç¬¬-7-é¢˜-ï¼ˆ2019-9-23ï¼‰"><a href="#ç¬¬-7-é¢˜-ï¼ˆ2019-9-23ï¼‰" class="headerlink" title="ç¬¬ 7 é¢˜ ï¼ˆ2019/9/23ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/20">ç¬¬ 7 é¢˜</a> ï¼ˆ2019/9/23ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼šES5/ES6 çš„ç»§æ‰¿é™¤äº†å†™æ³•ä»¥å¤–è¿˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
<p><strong>è§£æ</strong> ï¼š <a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/20">æ›´å¤š</a></p>
<ol>
<li><code>class</code> å£°æ˜ä¼šæå‡ï¼Œä½†ä¸ä¼šåˆå§‹åŒ–èµ‹å€¼ã€‚<code>Foo</code> è¿›å…¥æš‚æ—¶æ€§æ­»åŒºï¼Œç±»ä¼¼äº <code>let</code>ã€<code>const</code> å£°æ˜å˜é‡ã€‚</li>
<li><code>class</code> å£°æ˜å†…éƒ¨ä¼šå¯ç”¨ä¸¥æ ¼æ¨¡å¼ã€‚</li>
<li><code>class</code> çš„æ‰€æœ‰æ–¹æ³•ï¼ˆåŒ…æ‹¬é™æ€æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ï¼‰éƒ½æ˜¯ä¸å¯æšä¸¾çš„ã€‚</li>
<li><code>class</code> çš„æ‰€æœ‰æ–¹æ³•ï¼ˆåŒ…æ‹¬é™æ€æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ï¼‰éƒ½æ²¡æœ‰åŸå‹å¯¹è±¡ prototypeï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰<code>[[construct]]</code>ï¼Œä¸èƒ½ä½¿ç”¨ <code>new</code> æ¥è°ƒç”¨ã€‚</li>
<li>å¿…é¡»ä½¿ç”¨ <code>new</code> è°ƒç”¨ <code>class</code>ã€‚</li>
<li><code>class</code> å†…éƒ¨æ— æ³•é‡å†™ç±»åã€‚</li>
</ol>
<h3 id="ç¬¬-8-é¢˜ï¼ˆ2019-9-24ï¼‰"><a href="#ç¬¬-8-é¢˜ï¼ˆ2019-9-24ï¼‰" class="headerlink" title="ç¬¬ 8 é¢˜ï¼ˆ2019/9/24ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/33">ç¬¬ 8 é¢˜</a>ï¼ˆ2019/9/24ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> setTimeoutã€Promiseã€Async/Await çš„åŒºåˆ« ï¼Ÿ</p>
<p><strong>çŸ¥è¯†ç‚¹</strong> ï¼šè¿™é‡Œæ¶‰åŠåˆ°<code>Microtasks</code>ã€<code>Macrotasks</code>ã€event loop ä»¥åŠ JS çš„å¼‚æ­¥è¿è¡Œæœºåˆ¶ã€‚<a target="_blank" rel="noopener" href="https://github.com/sisterAn/blog/issues/21">å¯å‚è€ƒ</a></p>
<p><strong>è§£æ</strong> ï¼š</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘è§‰å¾—è¿™é¢˜ä¸»è¦æ˜¯è€ƒå¯Ÿè¿™ä¸‰è€…åœ¨äº‹ä»¶å¾ªç¯ä¸­çš„åŒºåˆ«ï¼Œäº‹ä»¶å¾ªç¯ä¸­åˆ†ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚</span><br><span class="line">å…¶ä¸­ setTimeoutçš„å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—é‡Œï¼Œç­‰åˆ°æ‰§è¡Œæ ˆæ¸…ç©ºä»¥åæ‰§è¡Œï¼›</span><br><span class="line">promise.thené‡Œçš„å›è°ƒå‡½æ•°ä¼šæ”¾åˆ°ç›¸åº”å®ä»»åŠ¡çš„å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œï¼Œç­‰å®ä»»åŠ¡é‡Œé¢çš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œå†æ‰§è¡Œï¼›asyncå‡½æ•°è¡¨ç¤ºå‡½æ•°é‡Œé¢å¯èƒ½ä¼šæœ‰å¼‚æ­¥æ–¹æ³•ï¼Œawaitåé¢è·Ÿä¸€ä¸ªè¡¨è¾¾å¼ï¼Œasyncæ–¹æ³•æ‰§è¡Œæ—¶ï¼Œé‡åˆ°awaitä¼šç«‹å³æ‰§è¡Œè¡¨è¾¾å¼ï¼Œç„¶åæŠŠè¡¨è¾¾å¼åé¢çš„ä»£ç æ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œï¼Œè®©å‡ºæ‰§è¡Œæ ˆè®©åŒæ­¥ä»£ç å…ˆæ‰§è¡Œã€‚</span><br></pre></td></tr></table></figure>

<p><strong>1ã€setTimeout</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;script start&quot;</span>); <span class="comment">//1. æ‰“å° script start</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;settimeout&quot;</span>); <span class="comment">// 4. æ‰“å° settimeout</span></span><br><span class="line">&#125;); <span class="comment">// 2. è°ƒç”¨ setTimeout å‡½æ•°ï¼Œå¹¶å®šä¹‰å…¶å®Œæˆåæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;script end&quot;</span>); <span class="comment">//3. æ‰“å° script start</span></span><br><span class="line"><span class="comment">// è¾“å‡ºé¡ºåºï¼šscript start-&gt;script end-&gt;settimeout</span></span><br></pre></td></tr></table></figure>

<p><strong>2ã€ Promise</strong></p>
<p>Promise æœ¬èº«æ˜¯<strong>åŒæ­¥çš„ç«‹å³æ‰§è¡Œå‡½æ•°</strong>ï¼Œ å½“åœ¨ executor ä¸­æ‰§è¡Œ resolve æˆ–è€… reject çš„æ—¶å€™, æ­¤æ—¶æ˜¯å¼‚æ­¥æ“ä½œï¼Œ ä¼šå…ˆæ‰§è¡Œ then/catch ç­‰ï¼Œå½“ä¸»æ ˆå®Œæˆåï¼Œæ‰ä¼šå»è°ƒç”¨ resolve/reject ä¸­å­˜æ”¾çš„æ–¹æ³•æ‰§è¡Œï¼Œæ‰“å° p çš„æ—¶å€™ï¼Œæ˜¯æ‰“å°çš„è¿”å›ç»“æœï¼Œä¸€ä¸ª Promise å®ä¾‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;script start&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;promise1&quot;</span>);</span><br><span class="line">  resolve();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;promise1 end&quot;</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;promise2&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;settimeout&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;script end&quot;</span>);</span><br><span class="line"><span class="comment">// è¾“å‡ºé¡ºåº: script start-&gt;promise1-&gt;promise1 end-&gt;script end-&gt;promise2-&gt;settimeout</span></span><br></pre></td></tr></table></figure>

<p>å½“ JS ä¸»çº¿ç¨‹æ‰§è¡Œåˆ° Promise å¯¹è±¡æ—¶ï¼Œ</p>
<ul>
<li>promise1.then() çš„å›è°ƒå°±æ˜¯ä¸€ä¸ª task</li>
<li>promise1 æ˜¯ resolved æˆ– rejected: é‚£è¿™ä¸ª task å°±ä¼šæ”¾å…¥å½“å‰äº‹ä»¶å¾ªç¯å›åˆçš„ microtask queue</li>
<li>promise1 æ˜¯ pending: è¿™ä¸ª task å°±ä¼šæ”¾å…¥ äº‹ä»¶å¾ªç¯çš„æœªæ¥çš„æŸä¸ª(å¯èƒ½ä¸‹ä¸€ä¸ª)å›åˆçš„ microtask queue ä¸­</li>
<li>setTimeout çš„å›è°ƒä¹Ÿæ˜¯ä¸ª task ï¼Œå®ƒä¼šè¢«æ”¾å…¥ macrotask queue å³ä½¿æ˜¯ 0ms çš„æƒ…å†µ</li>
</ul>
<p><strong>3. async/await</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;async1 start&quot;</span>);</span><br><span class="line">  <span class="keyword">await</span> async2();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;async1 end&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;async2&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;script start&quot;</span>);</span><br><span class="line">async1();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;script end&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºé¡ºåºï¼šscript start-&gt;async1 start-&gt;async2-&gt;script end-&gt;async1 end</span></span><br></pre></td></tr></table></figure>

<p>async å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ° await å°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°è§¦å‘çš„å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚å¯ä»¥ç†è§£ä¸ºï¼Œæ˜¯è®©å‡ºäº†çº¿ç¨‹ï¼Œè·³å‡ºäº† async å‡½æ•°ä½“ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">func1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(func1());</span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190924/M0YN5oCKtEhr.png?imageslim" alt="mark"></p>
<p>å¾ˆæ˜¾ç„¶ï¼Œfunc1 çš„è¿è¡Œç»“æœå…¶å®å°±æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ then æ¥å¤„ç†åç»­é€»è¾‘ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">func1().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);  <span class="comment">// 30</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>await çš„å«ä¹‰ä¸ºç­‰å¾…ï¼Œä¹Ÿå°±æ˜¯ async å‡½æ•°éœ€è¦ç­‰å¾… await åçš„å‡½æ•°æ‰§è¡Œå®Œæˆå¹¶ä¸”æœ‰äº†è¿”å›ç»“æœï¼ˆPromise å¯¹è±¡ï¼‰ä¹‹åï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚await é€šè¿‡è¿”å›ä¸€ä¸ª Promise å¯¹è±¡æ¥å®ç°åŒæ­¥çš„æ•ˆæœã€‚</p>
<blockquote>
<p>æ›´å¤šå¯è§ <a target="_blank" rel="noopener" href="https://github.com/sisterAn/blog/issues/21">setTimeoutã€Promiseã€Async/Await</a></p>
</blockquote>
<h3 id="ç¬¬-9-é¢˜ï¼ˆ2019-9-25ï¼‰"><a href="#ç¬¬-9-é¢˜ï¼ˆ2019-9-25ï¼‰" class="headerlink" title="ç¬¬ 9 é¢˜ï¼ˆ2019/9/25ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/33">ç¬¬ 9 é¢˜</a>ï¼ˆ2019/9/25ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼š Async/Await å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥ï¼Ÿ</p>
<p><strong>å…¬å¸</strong> ï¼šå¤´æ¡ã€å¾®åŒ»</p>
<p><strong>è§£æ</strong> ï¼š [Async/Await å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥](Async/Await å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥)</p>
<p>é¦–å…ˆï¼Œ<code>async/await</code> æ˜¯ <code>Generator</code> çš„è¯­æ³•ç³–</p>
<p>å…ˆæ¥çœ‹ä¸€ä¸‹äºŒè€…çš„å¯¹æ¯”ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Generator</span></span><br><span class="line">run(<span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> res1 = <span class="keyword">yield</span> readFile(path.resolve(__dirname, <span class="string">&#x27;../data/a.json&#x27;</span>), &#123; <span class="attr">encoding</span>: <span class="string">&#x27;utf8&#x27;</span> &#125;);</span><br><span class="line">  <span class="built_in">console</span>.log(res1);</span><br><span class="line">  <span class="keyword">const</span> res2 = <span class="keyword">yield</span> readFile(path.resolve(__dirname, <span class="string">&#x27;../data/b.json&#x27;</span>), &#123; <span class="attr">encoding</span>: <span class="string">&#x27;utf8&#x27;</span> &#125;);</span><br><span class="line">  <span class="built_in">console</span>.log(res2);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// async/await</span></span><br><span class="line"><span class="keyword">const</span> readFile = <span class="keyword">async</span> ()=&gt;&#123;</span><br><span class="line">  <span class="keyword">const</span> res1 = <span class="keyword">await</span> readFile(path.resolve(__dirname, <span class="string">&#x27;../data/a.json&#x27;</span>), &#123; <span class="attr">encoding</span>: <span class="string">&#x27;utf8&#x27;</span> &#125;);</span><br><span class="line">  <span class="built_in">console</span>.log(res1);</span><br><span class="line">  <span class="keyword">const</span> res2 = <span class="keyword">await</span> readFile(path.resolve(__dirname, <span class="string">&#x27;../data/b.json&#x27;</span>), &#123; <span class="attr">encoding</span>: <span class="string">&#x27;utf8&#x27;</span> &#125;);</span><br><span class="line">  <span class="built_in">console</span>.log(res2);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;done&#x27;</span>ï¼›</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> res = readFile();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>async function</code> ä»£æ›¿äº† <code>function*</code>ï¼Œ<code>await</code> ä»£æ›¿äº† <code>yield</code>ï¼ŒåŒæ—¶ä¹Ÿæ— éœ€è‡ªå·±æ‰‹å†™ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œå™¨ <code>run</code> äº†</p>
<p>ç°åœ¨å†æ¥çœ‹çœ‹<code>async/await</code> çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å½“ <code>await</code> åé¢è·Ÿçš„æ˜¯ Promise å¯¹è±¡æ—¶ï¼Œæ‰ä¼šå¼‚æ­¥æ‰§è¡Œï¼Œå…¶å®ƒç±»å‹çš„æ•°æ®ä¼šåŒæ­¥æ‰§è¡Œ</li>
<li>æ‰§è¡Œ <code>const res = readFile();</code> è¿”å›çš„ä»ç„¶æ˜¯ä¸ª Promise å¯¹è±¡ï¼Œä¸Šé¢ä»£ç ä¸­çš„ <code>return &#39;done&#39;;</code> ä¼šç›´æ¥è¢«ä¸‹é¢ <code>then</code> å‡½æ•°æ¥æ”¶åˆ°</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">res.then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data); <span class="comment">// done</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-10-é¢˜ï¼ˆ2019-9-26ï¼‰"><a href="#ç¬¬-10-é¢˜ï¼ˆ2019-9-26ï¼‰" class="headerlink" title="ç¬¬ 10 é¢˜ï¼ˆ2019/9/26ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/7">ç¬¬ 10 é¢˜</a>ï¼ˆ2019/9/26ï¼‰</h3><p><strong>é¢˜ç›®ç±»å‹</strong> ï¼šå¼‚æ­¥ç¬”è¯•é¢˜</p>
<p><strong>å…¬å¸</strong> ï¼šå¤´æ¡</p>
<blockquote>
<p>è¯·å†™å‡ºä¸‹é¢ä»£ç çš„è¿è¡Œç»“æœ</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;async1 start&quot;</span>);</span><br><span class="line">  <span class="keyword">await</span> async2();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;async1 end&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;async2&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;script start&quot;</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;setTimeout&quot;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line">async1();</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;promise1&quot;</span>);</span><br><span class="line">  resolve();</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;promise2&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;script end&quot;</span>);</span><br><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment">    script start</span></span><br><span class="line"><span class="comment">    async1 start</span></span><br><span class="line"><span class="comment">    async2</span></span><br><span class="line"><span class="comment">    promise1</span></span><br><span class="line"><span class="comment">    script end</span></span><br><span class="line"><span class="comment">    async1 end</span></span><br><span class="line"><span class="comment">    promise2</span></span><br><span class="line"><span class="comment">    setTimeout</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-11-é¢˜-ï¼ˆ2019-9-26ï¼‰"><a href="#ç¬¬-11-é¢˜-ï¼ˆ2019-9-26ï¼‰" class="headerlink" title="ç¬¬ 11 é¢˜ ï¼ˆ2019/9/26ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/8">ç¬¬ 11 é¢˜</a> ï¼ˆ2019/9/26ï¼‰</h3><p><strong>å…¬å¸</strong> ï¼šæºç¨‹</p>
<blockquote>
<p>å·²çŸ¥å¦‚ä¸‹æ•°ç»„ï¼š</p>
<p>var arr = [ [1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14] ] ] ], 10];</p>
<p>ç¼–å†™ä¸€ä¸ªç¨‹åºå°†æ•°ç»„æ‰å¹³åŒ–å»å¹¶é™¤å…¶ä¸­é‡å¤éƒ¨åˆ†æ•°æ®ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå‡åºä¸”ä¸é‡å¤çš„æ•°ç»„</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr.flat(<span class="literal">Infinity</span>))).sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;); <span class="comment">//ä½¿ç”¨ flat</span></span><br><span class="line"><span class="comment">//æˆ–</span></span><br><span class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr.toString().split(<span class="string">&quot;,&quot;</span>)))</span><br><span class="line">  .sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">  &#125;)</span><br><span class="line">  .map(<span class="built_in">Number</span>); <span class="comment">//åˆ©ç”¨ toString()</span></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-12-é¢˜-ï¼ˆ2019-9-27ï¼‰"><a href="#ç¬¬-12-é¢˜-ï¼ˆ2019-9-27ï¼‰" class="headerlink" title="ç¬¬ 12 é¢˜ ï¼ˆ2019/9/27ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/11">ç¬¬ 12 é¢˜</a> ï¼ˆ2019/9/27ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> JS å¼‚æ­¥è§£å†³æ–¹æ¡ˆçš„å‘å±•å†ç¨‹ä»¥åŠä¼˜ç¼ºç‚¹ã€‚</p>
<p><strong>å…¬å¸</strong> ï¼šæ»´æ»´ã€æŒ–è´¢ã€å¾®åŒ»ã€æµ·åº·</p>
<p><strong>è§£æï¼š</strong></p>
<ol>
<li><strong>å›è°ƒå‡½æ•°ï¼ˆcallbackï¼‰</strong></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// callback å‡½æ•°ä½“</span></span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>

<p><strong>ç¼ºç‚¹</strong>ï¼šå›è°ƒåœ°ç‹±ï¼Œä¸èƒ½ç”¨ try catch æ•è·é”™è¯¯ï¼Œä¸èƒ½ return</p>
<p>å›è°ƒåœ°ç‹±çš„æ ¹æœ¬é—®é¢˜åœ¨äºï¼š</p>
<ul>
<li>ç¼ºä¹é¡ºåºæ€§ï¼š å›è°ƒåœ°ç‹±å¯¼è‡´çš„è°ƒè¯•å›°éš¾ï¼Œå’Œå¤§è„‘çš„æ€ç»´æ–¹å¼ä¸ç¬¦</li>
<li>åµŒå¥—å‡½æ•°å­˜åœ¨è€¦åˆæ€§ï¼Œä¸€æ—¦æœ‰æ‰€æ”¹åŠ¨ï¼Œå°±ä¼šç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ï¼Œå³ï¼ˆ<strong>æ§åˆ¶åè½¬</strong>ï¼‰</li>
<li>åµŒå¥—å‡½æ•°è¿‡å¤šçš„å¤šè¯ï¼Œå¾ˆéš¾å¤„ç†é”™è¯¯</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong> ï¼šè§£å†³äº†åŒæ­¥çš„é—®é¢˜ï¼ˆåªè¦æœ‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œåé¢çš„ä»»åŠ¡éƒ½å¿…é¡»æ’é˜Ÿç­‰ç€ï¼Œä¼šæ‹–å»¶æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œã€‚ï¼‰</p>
<ol start="2">
<li><strong>Promise</strong></li>
</ol>
<p>Promise å°±æ˜¯ä¸ºäº†è§£å†³ callback çš„é—®é¢˜è€Œäº§ç”Ÿçš„ã€‚</p>
<p>Promise å®ç°äº†é“¾å¼è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡ then åè¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªå…¨æ–° Promiseï¼Œå¦‚æœæˆ‘ä»¬åœ¨ then ä¸­ return ï¼Œreturn çš„ç»“æœä¼šè¢« Promise.resolve() åŒ…è£…</p>
<p><strong>ä¼˜ç‚¹</strong> ï¼šè§£å†³äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ajax(<span class="string">&quot;XXX1&quot;</span>)</span><br><span class="line">  .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ“ä½œé€»è¾‘</span></span><br><span class="line">    <span class="keyword">return</span> ajax(<span class="string">&quot;XXX2&quot;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ“ä½œé€»è¾‘</span></span><br><span class="line">    <span class="keyword">return</span> ajax(<span class="string">&quot;XXX3&quot;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ“ä½œé€»è¾‘</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p><strong>ç¼ºç‚¹</strong> ï¼šæ— æ³•å–æ¶ˆ Promise ï¼Œé”™è¯¯éœ€è¦é€šè¿‡å›è°ƒå‡½æ•°æ¥æ•è·</p>
<ol start="3">
<li><strong>Generato</strong></li>
</ol>
<p><strong>ç‰¹ç‚¹</strong> ï¼šå¯ä»¥æ§åˆ¶å‡½æ•°çš„æ‰§è¡Œï¼Œå¯ä»¥é…åˆ co å‡½æ•°åº“ä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fetch</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> ajax(<span class="string">&quot;XXX1&quot;</span>, <span class="function">() =&gt;</span> &#123;&#125;);</span><br><span class="line">  <span class="keyword">yield</span> ajax(<span class="string">&quot;XXX2&quot;</span>, <span class="function">() =&gt;</span> &#123;&#125;);</span><br><span class="line">  <span class="keyword">yield</span> ajax(<span class="string">&quot;XXX3&quot;</span>, <span class="function">() =&gt;</span> &#123;&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> it = fetch();</span><br><span class="line"><span class="keyword">let</span> result1 = it.next();</span><br><span class="line"><span class="keyword">let</span> result2 = it.next();</span><br><span class="line"><span class="keyword">let</span> result3 = it.next();</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>Async/await</strong></li>
</ol>
<p>asyncã€await æ˜¯å¼‚æ­¥çš„ç»ˆæè§£å†³æ–¹æ¡ˆ</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šä»£ç æ¸…æ™°ï¼Œä¸ç”¨åƒ Promise å†™ä¸€å¤§å † then é“¾ï¼Œå¤„ç†äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šawait å°†å¼‚æ­¥ä»£ç æ”¹é€ æˆåŒæ­¥ä»£ç ï¼Œå¦‚æœå¤šä¸ªå¼‚æ­¥æ“ä½œæ²¡æœ‰ä¾èµ–æ€§è€Œä½¿ç”¨ await ä¼šå¯¼è‡´æ€§èƒ½ä¸Šçš„é™ä½ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ä»¥ä¸‹ä»£ç æ²¡æœ‰ä¾èµ–æ€§çš„è¯ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨ Promise.all çš„æ–¹å¼</span></span><br><span class="line">  <span class="comment">// å¦‚æœæœ‰ä¾èµ–æ€§çš„è¯ï¼Œå…¶å®å°±æ˜¯è§£å†³å›è°ƒåœ°ç‹±çš„ä¾‹å­äº†</span></span><br><span class="line">  <span class="keyword">await</span> fetch(<span class="string">&quot;XXX1&quot;</span>);</span><br><span class="line">  <span class="keyword">await</span> fetch(<span class="string">&quot;XXX2&quot;</span>);</span><br><span class="line">  <span class="keyword">await</span> fetch(<span class="string">&quot;XXX3&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ¥çœ‹ä¸€ä¸ªä½¿ç”¨ <code>await</code> çš„ä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  a = a + (<span class="keyword">await</span> <span class="number">10</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;2&quot;</span>, a); <span class="comment">// -&gt; &#x27;2&#x27; 10</span></span><br><span class="line">&#125;;</span><br><span class="line">b();</span><br><span class="line">a++;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;1&quot;</span>, a); <span class="comment">// -&gt; &#x27;1&#x27; 1</span></span><br></pre></td></tr></table></figure>

<p>å¯¹äºä»¥ä¸Šä»£ç ä½ å¯èƒ½ä¼šæœ‰ç–‘æƒ‘ï¼Œè®©æˆ‘æ¥è§£é‡Šä¸‹åŸå› </p>
<ul>
<li>é¦–å…ˆå‡½æ•° <code>b</code> å…ˆæ‰§è¡Œï¼Œåœ¨æ‰§è¡Œåˆ° <code>await 10</code> ä¹‹å‰å˜é‡ <code>a</code> è¿˜æ˜¯ 0ï¼Œå› ä¸º <code>await</code> å†…éƒ¨å®ç°äº† <code>generator</code> ï¼Œ<strong>generator ä¼šä¿ç•™å †æ ˆä¸­ä¸œè¥¿ï¼Œæ‰€ä»¥è¿™æ—¶å€™ a = 0 è¢«ä¿å­˜äº†ä¸‹æ¥</strong></li>
<li>å› ä¸º <code>await</code> æ˜¯å¼‚æ­¥æ“ä½œï¼Œåæ¥çš„è¡¨è¾¾å¼ä¸è¿”å› <code>Promise</code> çš„è¯ï¼Œå°±ä¼šåŒ…è£…æˆ <code>Promise.reslove(è¿”å›å€¼)</code>ï¼Œç„¶åä¼šå»æ‰§è¡Œå‡½æ•°å¤–çš„åŒæ­¥ä»£ç </li>
<li>åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•åå¼€å§‹æ‰§è¡Œå¼‚æ­¥ä»£ç ï¼Œå°†ä¿å­˜ä¸‹æ¥çš„å€¼æ‹¿å‡ºæ¥ä½¿ç”¨ï¼Œè¿™æ—¶å€™ <code>a = 0 + 10</code></li>
</ul>
<p>ä¸Šè¿°è§£é‡Šä¸­æåˆ°äº† <code>await</code> å†…éƒ¨å®ç°äº† <code>generator</code>ï¼Œå…¶å® <code>await</code> å°±æ˜¯ <code>generator</code> åŠ ä¸Š <code>Promise</code>çš„è¯­æ³•ç³–ï¼Œä¸”å†…éƒ¨å®ç°äº†è‡ªåŠ¨æ‰§è¡Œ <code>generator</code>ã€‚å¦‚æœä½ ç†Ÿæ‚‰ co çš„è¯ï¼Œå…¶å®è‡ªå·±å°±å¯ä»¥å®ç°è¿™æ ·çš„è¯­æ³•ç³–ã€‚</p>
<h3 id="ç¬¬-13-é¢˜-ï¼ˆ2019-9-28ï¼‰"><a href="#ç¬¬-13-é¢˜-ï¼ˆ2019-9-28ï¼‰" class="headerlink" title="ç¬¬ 13 é¢˜ ï¼ˆ2019/9/28ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/19">ç¬¬ 13 é¢˜</a> ï¼ˆ2019/9/28ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼šPromise æ„é€ å‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œè¿˜æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œé‚£ä¹ˆ then æ–¹æ³•å‘¢ï¼Ÿ</p>
<p><strong>å…¬å¸</strong> ï¼šå¾®åŒ»</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">çœ‹è¿‡ Event Loop åŸºç¡€åŸç†çš„å°±æ˜ç™½ï¼ŒPromiseæ„é€ å‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œï¼Œè€Œ .then .catch .å•¥å•¥çš„æ˜¯å¼‚æ­¥ï¼ˆè¿˜æœ‰process.nextTickç­‰ç­‰ï¼Œå¤§å®¶å¯ä»¥æŸ¥ï¼‰ï¼Œ</span><br><span class="line">è€Œä¸”æ”¾åˆ°äº†å¾®é˜Ÿåˆ—ä¸­ï¼Œasync/await ä¸­ï¼Œawait å‰é¢çš„æ˜¯åŒæ­¥ï¼Œawait åé¢çš„æ˜¯å¼‚æ­¥ï¼Œå†™æ³•ä¸Šæ˜¯è¿™æ ·ï¼Œä½†æ˜¯å…¶å®æ˜¯ è¯­æ³•ç³–ï¼Œæœ€åè¿˜ä¼šè½¬ä¸º Promise.thençš„å½¢å¼</span><br><span class="line"></span><br><span class="line">.then()å½“ç„¶æ˜¯åŒæ­¥æ‰§è¡Œï¼Œåªä¸è¿‡æ˜¯.thençš„cbè¢«æ”¾å…¥äº†å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œäº§ç”Ÿäº†å¼‚æ­¥æ‰§è¡Œ</span><br><span class="line"></span><br><span class="line">promiseæ˜¯å¾®è§‚ä»»åŠ¡ï¼ŒsetTimeoutæ˜¯å®è§‚ä»»åŠ¡ï¼Œå…ˆæ‰§è¡Œå¾®è§‚ä»»åŠ¡ï¼Œåœ¨æ‰§è¡Œå®è§‚ä»»åŠ¡ï¼›å¾®è§‚ä»»åŠ¡é‡Œï¼Œå…ˆæ‰§è¡ŒåŒæ­¥å†æ‰§è¡Œå¼‚æ­¥</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-14-é¢˜-ï¼ˆ2019-9-29ï¼‰"><a href="#ç¬¬-14-é¢˜-ï¼ˆ2019-9-29ï¼‰" class="headerlink" title="ç¬¬ 14 é¢˜ ï¼ˆ2019/9/29ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/12">ç¬¬ 14 é¢˜</a> ï¼ˆ2019/9/29ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼šæƒ…äººèŠ‚ç¦åˆ©é¢˜ï¼Œå¦‚ä½•å®ç°ä¸€ä¸ª new ï¼Ÿ</p>
<p><strong>å…¬å¸</strong>ï¼šå…‘å§</p>
<p><strong>è§£æ</strong> ï¼š <a target="_blank" rel="noopener" href="https://alexzhong22c.github.io/2017/08/12/js-new-happen/#%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%BB%93%E6%9E%9C%E8%A7%A3%E6%9E%90">new åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹å‘ç”Ÿäº†ä»€ä¹ˆ</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new çš„ä½œç”¨</span></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡obj</span></span><br><span class="line"><span class="comment">// æŠŠobjçš„__proto__æŒ‡å‘Dog.prototype å®ç°ç»§æ‰¿</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œæ„é€ å‡½æ•°ï¼Œä¼ é€’å‚æ•°ï¼Œæ”¹å˜thisæŒ‡å‘ Dog.call(obj, ...args)</span></span><br><span class="line"><span class="comment">// æœ€åæŠŠobjèµ‹å€¼ç»™sanmao</span></span><br><span class="line"><span class="keyword">var</span> _new = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">constructor</span> = Array.prototype.shift.call(arguments);</span><br><span class="line">  let args = arguments;</span><br><span class="line">  const obj = new Object();</span><br><span class="line">  obj.__proto__ = <span class="keyword">constructor</span>.prototype;</span><br><span class="line">  <span class="keyword">constructor</span>.call(obj, ...args);</span><br><span class="line">  return obj;</span><br><span class="line">&#125;;</span><br><span class="line">var simao = _new(Dog, &quot;simao&quot;);</span><br><span class="line">simao.bark();</span><br><span class="line">simao.sayName();</span><br><span class="line">console.log(simao instanceof Dog); // true</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™æ ·å†™æ˜¯ä¸æ˜¯ç®€å•ç‚¹å•Š</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_new</span>(<span class="params">fn, ...arg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> obj = <span class="built_in">Object</span>.create(fn.prototype);</span><br><span class="line">  <span class="keyword">const</span> ret = fn.apply(obj, arg);</span><br><span class="line">  <span class="keyword">return</span> ret <span class="keyword">instanceof</span> <span class="built_in">Object</span> ? ret : obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-15-é¢˜-ï¼ˆ2019-9-30ï¼‰"><a href="#ç¬¬-15-é¢˜-ï¼ˆ2019-9-30ï¼‰" class="headerlink" title="ç¬¬ 15 é¢˜ ï¼ˆ2019/9/30ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/14">ç¬¬ 15 é¢˜</a> ï¼ˆ2019/9/30ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼šç®€å•è®²è§£ä¸€ä¸‹ http2 çš„å¤šè·¯å¤ç”¨</p>
<p><strong>å…¬å¸</strong>ï¼šç½‘æ˜“</p>
<p><strong>è§£æ</strong> ï¼š</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">åœ¨ HTTP/1 ä¸­ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½ä¼šå»ºç«‹ä¸€æ¬¡HTTPè¿æ¥ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„3æ¬¡æ¡æ‰‹4æ¬¡æŒ¥æ‰‹ï¼Œè¿™ä¸ªè¿‡ç¨‹åœ¨ä¸€æ¬¡è¯·æ±‚è¿‡ç¨‹ä¸­å ç”¨äº†ç›¸å½“é•¿çš„æ—¶é—´ï¼Œå³ä½¿å¼€å¯äº† Keep-Alive ï¼Œè§£å†³äº†å¤šæ¬¡è¿æ¥çš„é—®é¢˜ï¼Œä½†æ˜¯ä¾ç„¶æœ‰ä¸¤ä¸ªæ•ˆç‡ä¸Šçš„é—®é¢˜ï¼š</span><br><span class="line"></span><br><span class="line">    ç¬¬ä¸€ä¸ªï¼šä¸²è¡Œçš„æ–‡ä»¶ä¼ è¾“ã€‚å½“è¯·æ±‚aæ–‡ä»¶æ—¶ï¼Œbæ–‡ä»¶åªèƒ½ç­‰å¾…ï¼Œç­‰å¾…aè¿æ¥åˆ°æœåŠ¡å™¨ã€æœåŠ¡å™¨å¤„ç†æ–‡ä»¶ã€æœåŠ¡å™¨è¿”å›æ–‡ä»¶ï¼Œè¿™ä¸‰ä¸ªæ­¥éª¤ã€‚æˆ‘ä»¬å‡è®¾è¿™ä¸‰æ­¥ç”¨æ—¶éƒ½æ˜¯1ç§’ï¼Œé‚£ä¹ˆaæ–‡ä»¶ç”¨æ—¶ä¸º3ç§’ï¼Œbæ–‡ä»¶ä¼ è¾“å®Œæˆç”¨æ—¶ä¸º6ç§’ï¼Œä¾æ­¤ç±»æ¨ã€‚ï¼ˆæ³¨ï¼šæ­¤é¡¹è®¡ç®—æœ‰ä¸€ä¸ªå‰ææ¡ä»¶ï¼Œå°±æ˜¯æµè§ˆå™¨å’ŒæœåŠ¡å™¨æ˜¯å•é€šé“ä¼ è¾“ï¼‰</span><br><span class="line"></span><br><span class="line">    ç¬¬äºŒä¸ªï¼šè¿æ¥æ•°è¿‡å¤šã€‚æˆ‘ä»¬å‡è®¾Apacheè®¾ç½®äº†æœ€å¤§å¹¶å‘æ•°ä¸º300ï¼Œå› ä¸ºæµè§ˆå™¨é™åˆ¶ï¼Œæµè§ˆå™¨å‘èµ·çš„æœ€å¤§è¯·æ±‚æ•°ä¸º6ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡å™¨èƒ½æ‰¿è½½çš„æœ€é«˜å¹¶å‘ä¸º50ï¼Œå½“ç¬¬51ä¸ªäººè®¿é—®æ—¶ï¼Œå°±éœ€è¦ç­‰å¾…å‰é¢æŸä¸ªè¯·æ±‚å¤„ç†å®Œæˆã€‚</span><br><span class="line"></span><br><span class="line">HTTP/2çš„å¤šè·¯å¤ç”¨å°±æ˜¯ä¸ºäº†è§£å†³ä¸Šè¿°çš„ä¸¤ä¸ªæ€§èƒ½é—®é¢˜ã€‚</span><br><span class="line">åœ¨ HTTP/2 ä¸­ï¼Œæœ‰ä¸¤ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œåˆ†åˆ«æ˜¯å¸§ï¼ˆframeï¼‰å’Œæµï¼ˆstreamï¼‰ã€‚</span><br><span class="line">å¸§ä»£è¡¨ç€æœ€å°çš„æ•°æ®å•ä½ï¼Œæ¯ä¸ªå¸§ä¼šæ ‡è¯†å‡ºè¯¥å¸§å±äºå“ªä¸ªæµï¼Œæµä¹Ÿå°±æ˜¯å¤šä¸ªå¸§ç»„æˆçš„æ•°æ®æµã€‚</span><br><span class="line">å¤šè·¯å¤ç”¨ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ª TCP è¿æ¥ä¸­å¯ä»¥å­˜åœ¨å¤šæ¡æµã€‚æ¢å¥è¯è¯´ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥å‘é€å¤šä¸ªè¯·æ±‚ï¼Œå¯¹ç«¯å¯ä»¥é€šè¿‡å¸§ä¸­çš„æ ‡è¯†çŸ¥é“å±äºå“ªä¸ªè¯·æ±‚ã€‚é€šè¿‡è¿™ä¸ªæŠ€æœ¯ï¼Œå¯ä»¥é¿å… HTTP æ—§ç‰ˆæœ¬ä¸­çš„é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼Œæå¤§çš„æé«˜ä¼ è¾“æ€§èƒ½ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-16-é¢˜-ï¼ˆ2019-10-01ï¼‰"><a href="#ç¬¬-16-é¢˜-ï¼ˆ2019-10-01ï¼‰" class="headerlink" title="ç¬¬ 16 é¢˜ ï¼ˆ2019/10/01ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/15">ç¬¬ 16 é¢˜</a> ï¼ˆ2019/10/01ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼šè°ˆè°ˆä½ å¯¹ TCP ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹çš„ç†è§£</p>
<p><strong>è§£æ</strong> ï¼š<a target="_blank" rel="noopener" href="https://juejin.im/post/5ccd0dfc6fb9a0324a08bb73">å…³äºä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹é¢è¯•å®˜æƒ³è€ƒæˆ‘ä»¬ä»€ä¹ˆï¼Ÿâ€” ä¸çœ‹åæ‚”ç³»åˆ—</a></p>
<p>ä¸‰æ¬¡æ¡æ‰‹ï¼š</p>
<ol>
<li>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€ä¸€ä¸ª SYN æŠ¥æ–‡ã€‚</li>
<li>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ° SYN æŠ¥æ–‡ä¹‹åï¼Œä¼šåº”ç­”ä¸€ä¸ª SYN+ACK æŠ¥æ–‡ã€‚</li>
<li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ° SYN+ACK æŠ¥æ–‡ä¹‹åï¼Œä¼šå›åº”ä¸€ä¸ª ACK æŠ¥æ–‡ã€‚</li>
<li>æœåŠ¡å™¨æ”¶åˆ° ACK æŠ¥æ–‡ä¹‹åï¼Œä¸‰æ¬¡æ¡æ‰‹å»ºç«‹å®Œæˆã€‚</li>
</ol>
<blockquote>
<p><strong>è¿™é‡Œæˆ‘é¡ºä¾¿è§£é‡Šä¸€ä¸‹ä¸ºå•¥åªæœ‰ä¸‰æ¬¡æ¡æ‰‹æ‰èƒ½ç¡®è®¤åŒæ–¹çš„æ¥å—ä¸å‘é€èƒ½åŠ›æ˜¯å¦æ­£å¸¸ï¼Œè€Œä¸¤æ¬¡å´ä¸å¯ä»¥</strong>ï¼š<br>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘é€ç½‘ç»œåŒ…ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·æœåŠ¡ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šå®¢æˆ·ç«¯çš„å‘é€èƒ½åŠ›ã€æœåŠ¡ç«¯çš„æ¥æ”¶èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚<br>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡ç«¯å‘åŒ…ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·å®¢æˆ·ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šæœåŠ¡ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›ï¼Œå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚ä¸è¿‡æ­¤æ—¶æœåŠ¡å™¨å¹¶ä¸èƒ½ç¡®è®¤å®¢æˆ·ç«¯çš„æ¥æ”¶èƒ½åŠ›æ˜¯å¦æ­£å¸¸ã€‚<br>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘åŒ…ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·æœåŠ¡ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ­£å¸¸ï¼ŒæœåŠ¡å™¨è‡ªå·±çš„å‘é€ã€æ¥æ”¶èƒ½åŠ›ä¹Ÿæ­£å¸¸ã€‚</p>
</blockquote>
<p>å››æ¬¡æŒ¥æ‰‹:</p>
<ol>
<li>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šå®¢æˆ·ç«¯å‘é€ä¸€ä¸ª FIN æŠ¥æ–‡ï¼ŒæŠ¥æ–‡ä¸­ä¼šæŒ‡å®šä¸€ä¸ªåºåˆ—å·ã€‚æ­¤æ—¶å®¢æˆ·ç«¯å¤„äº<strong>FIN_WAIT1</strong>çŠ¶æ€ã€‚</li>
<li>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡ç«¯æ”¶åˆ° FIN ä¹‹åï¼Œä¼šå‘é€ ACK æŠ¥æ–‡ï¼Œä¸”æŠŠå®¢æˆ·ç«¯çš„åºåˆ—å·å€¼ + 1 ä½œä¸º ACK æŠ¥æ–‡çš„åºåˆ—å·å€¼ï¼Œè¡¨æ˜å·²ç»æ”¶åˆ°å®¢æˆ·ç«¯çš„æŠ¥æ–‡äº†ï¼Œæ­¤æ—¶æœåŠ¡ç«¯å¤„äº <strong>CLOSE_WAIT</strong>çŠ¶æ€ã€‚</li>
<li>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šå¦‚æœæœåŠ¡ç«¯ä¹Ÿæƒ³æ–­å¼€è¿æ¥äº†ï¼Œå’Œå®¢æˆ·ç«¯çš„ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ä¸€æ ·ï¼Œå‘ç»™ FIN æŠ¥æ–‡ï¼Œä¸”æŒ‡å®šä¸€ä¸ªåºåˆ—å·ã€‚æ­¤æ—¶æœåŠ¡ç«¯å¤„äº <strong>LAST_ACK</strong> çš„çŠ¶æ€ã€‚</li>
<li>ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ° FIN ä¹‹åï¼Œä¸€æ ·å‘é€ä¸€ä¸ª ACK æŠ¥æ–‡ä½œä¸ºåº”ç­”ï¼Œä¸”æŠŠæœåŠ¡ç«¯çš„åºåˆ—å·å€¼ + 1 ä½œä¸ºè‡ªå·± ACK æŠ¥æ–‡çš„åºåˆ—å·å€¼ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å¤„äº <strong>TIME_WAIT</strong> çŠ¶æ€ã€‚éœ€è¦è¿‡ä¸€é˜µå­ä»¥ç¡®ä¿æœåŠ¡ç«¯æ”¶åˆ°è‡ªå·±çš„ ACK æŠ¥æ–‡ä¹‹åæ‰ä¼šè¿›å…¥ CLOSED çŠ¶æ€</li>
<li>æœåŠ¡ç«¯æ”¶åˆ° ACK æŠ¥æ–‡ä¹‹åï¼Œå°±å¤„äºå…³é—­è¿æ¥äº†ï¼Œå¤„äº CLOSED çŠ¶æ€ã€‚</li>
</ol>
<p>è¿™é‡Œç‰¹åˆ«éœ€è¦ä¸»è¦çš„å°±æ˜¯<strong>TIME_WAIT</strong>è¿™ä¸ªçŠ¶æ€äº†ï¼Œè¿™ä¸ªæ˜¯é¢è¯•çš„é«˜é¢‘è€ƒç‚¹ï¼Œå°±æ˜¯è¦ç†è§£ï¼Œä¸ºä»€ä¹ˆå®¢æˆ·ç«¯å‘é€ ACK ä¹‹åä¸ç›´æ¥å…³é—­ï¼Œè€Œæ˜¯è¦ç­‰ä¸€é˜µå­æ‰å…³é—­ã€‚è¿™å…¶ä¸­çš„åŸå› å°±æ˜¯ï¼Œè¦ç¡®ä¿æœåŠ¡å™¨æ˜¯å¦å·²ç»æ”¶åˆ°äº†æˆ‘ä»¬çš„ ACK æŠ¥æ–‡ï¼Œå¦‚æœæ²¡æœ‰æ”¶åˆ°çš„è¯ï¼ŒæœåŠ¡å™¨ä¼šé‡æ–°å‘ FIN æŠ¥æ–‡ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å†æ¬¡æ”¶åˆ° ACK æŠ¥æ–‡ä¹‹åï¼Œå°±çŸ¥é“ä¹‹å‰çš„ ACK æŠ¥æ–‡ä¸¢å¤±äº†ï¼Œç„¶åå†æ¬¡å‘é€ ACK æŠ¥æ–‡ã€‚</p>
<p>è‡³äº TIME_WAIT æŒç»­çš„æ—¶é—´è‡³å°‘æ˜¯ä¸€ä¸ªæŠ¥æ–‡çš„æ¥å›æ—¶é—´ã€‚ä¸€èˆ¬ä¼šè®¾ç½®ä¸€ä¸ªè®¡æ—¶ï¼Œå¦‚æœè¿‡äº†è¿™ä¸ªè®¡æ—¶æ²¡æœ‰å†æ¬¡æ”¶åˆ° FIN æŠ¥æ–‡ï¼Œåˆ™ä»£è¡¨å¯¹æ–¹æˆåŠŸå°±æ˜¯ ACK æŠ¥æ–‡ï¼Œæ­¤æ—¶å¤„äº CLOSED çŠ¶æ€ã€‚</p>
<h3 id="ç¬¬-17-é¢˜-ï¼ˆ2019-10-08ï¼‰"><a href="#ç¬¬-17-é¢˜-ï¼ˆ2019-10-08ï¼‰" class="headerlink" title="ç¬¬ 17 é¢˜ ï¼ˆ2019/10/08ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/21">ç¬¬ 17 é¢˜</a> ï¼ˆ2019/10/08ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼š Aã€B æœºå™¨æ­£å¸¸è¿æ¥åï¼ŒB æœºå™¨çªç„¶é‡å¯ï¼Œé—® A æ­¤æ—¶å¤„äº TCP ä»€ä¹ˆçŠ¶æ€ ï¼Ÿ</p>
<blockquote>
<p>å¦‚æœ A ä¸ B å»ºç«‹äº†æ­£å¸¸è¿æ¥åï¼Œä»æœªç›¸äº’å‘è¿‡æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™ B çªç„¶æœºå™¨é‡å¯ï¼Œé—® A æ­¤æ—¶å¤„äº TCP ä»€ä¹ˆçŠ¶æ€ï¼Ÿå¦‚ä½•æ¶ˆé™¤æœåŠ¡å™¨ç¨‹åºä¸­çš„è¿™ä¸ªçŠ¶æ€ï¼Ÿï¼ˆè¶…çº²é¢˜ï¼Œäº†è§£å³å¯ï¼‰</p>
</blockquote>
<h3 id="ç¬¬-18-é¢˜-ï¼ˆ2019-10-08ï¼‰"><a href="#ç¬¬-18-é¢˜-ï¼ˆ2019-10-08ï¼‰" class="headerlink" title="ç¬¬ 18 é¢˜ ï¼ˆ2019/10/08ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/17">ç¬¬ 18 é¢˜</a> ï¼ˆ2019/10/08ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼šReact ä¸­ setState ä»€ä¹ˆæ—¶å€™æ˜¯åŒæ­¥çš„ï¼Œä»€ä¹ˆæ—¶å€™æ˜¯å¼‚æ­¥çš„ï¼Ÿ</p>
<p><strong>å…¬å¸</strong> ï¼šå¾®åŒ» <a target="_blank" rel="noopener" href="https://juejin.im/post/5ac1aaad6fb9a028d444bb87">React ä¸­ setState çœŸçš„æ˜¯å¼‚æ­¥çš„å—</a></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.åœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸä¸­æˆ–è€…reactäº‹ä»¶ç»‘å®šä¸­ï¼ŒsetStateæ˜¯é€šè¿‡å¼‚æ­¥æ›´æ–°çš„ã€‚</span><br><span class="line">2.åœ¨å»¶æ—¶çš„å›è°ƒæˆ–è€…åŸç”Ÿäº‹ä»¶ç»‘å®šçš„å›è°ƒä¸­è°ƒç”¨setStateä¸ä¸€å®šæ˜¯å¼‚æ­¥çš„ã€‚</span><br><span class="line">è¿™ä¸ªç»“æœå¹¶ä¸è¯´æ˜setStateå¼‚æ­¥æ‰§è¡Œçš„è¯´æ³•æ˜¯é”™è¯¯çš„ï¼Œæ›´åŠ å‡†ç¡®çš„è¯´æ³•åº”è¯¥æ˜¯setStateä¸èƒ½ä¿è¯åŒæ­¥æ‰§è¡Œã€‚</span><br><span class="line">Dan Abramovä¹Ÿå¤šæ¬¡æåˆ°ä»Šåä¼šå°†setStateå½»åº•æ”¹é€ ä¸ºå¼‚æ­¥çš„ï¼Œä»js confä¸­æåˆ°çš„suspendæ–°ç‰¹æ–°ä¹Ÿå°è¯äº†è¿™ä¸€ç‚¹ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¿™é‡Œæ‰€è¯´çš„åŒæ­¥å¼‚æ­¥ï¼Œå¹¶éçœŸæ­£çš„åŒæ­¥å¼‚æ­¥ï¼Œé€šå¸¸æ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚</span><br><span class="line">è¿™é‡Œçš„å¼‚æ­¥æŒ‡çš„æ˜¯å¤šä¸ªçŠ¶æ€ä¼šåˆæˆåˆ°ä¸€èµ·è¿›è¡Œæ‰¹é‡æ›´æ–°ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-19-é¢˜-ï¼ˆ2019-10-08ï¼‰"><a href="#ç¬¬-19-é¢˜-ï¼ˆ2019-10-08ï¼‰" class="headerlink" title="ç¬¬ 19 é¢˜  ï¼ˆ2019/10/08ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/18">ç¬¬ 19 é¢˜ </a> ï¼ˆ2019/10/08ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼šReact setState ç¬”è¯•é¢˜ï¼Œä¸‹é¢çš„ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      val: <span class="number">0</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123; <span class="attr">val</span>: <span class="built_in">this</span>.state.val + <span class="number">1</span> &#125;);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.val); <span class="comment">// ç¬¬ 1 æ¬¡ log</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.setState(&#123; <span class="attr">val</span>: <span class="built_in">this</span>.state.val + <span class="number">1</span> &#125;);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.val); <span class="comment">// ç¬¬ 2 æ¬¡ log</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.setState(&#123; <span class="attr">val</span>: <span class="built_in">this</span>.state.val + <span class="number">1</span> &#125;);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.val); <span class="comment">// ç¬¬ 3 æ¬¡ log</span></span><br><span class="line"></span><br><span class="line">      <span class="built_in">this</span>.setState(&#123; <span class="attr">val</span>: <span class="built_in">this</span>.state.val + <span class="number">1</span> &#125;);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.val); <span class="comment">// ç¬¬ 4 æ¬¡ log</span></span><br><span class="line">    &#125;, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>ã€ç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡éƒ½æ˜¯åœ¨ react è‡ªèº«ç”Ÿå‘½å‘¨æœŸå†…ï¼Œè§¦å‘æ—¶ isBatchingUpdates ä¸º <span class="literal">true</span>ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šç›´æ¥æ‰§è¡Œæ›´æ–° stateï¼Œè€Œæ˜¯åŠ å…¥äº† dirtyComponentsï¼Œæ‰€ä»¥æ‰“å°æ—¶è·å–çš„éƒ½æ˜¯æ›´æ–°å‰çš„çŠ¶æ€ <span class="number">0</span>ã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€ä¸¤æ¬¡ setState æ—¶ï¼Œè·å–åˆ° <span class="built_in">this</span>.state.val éƒ½æ˜¯ <span class="number">0</span>ï¼Œæ‰€ä»¥æ‰§è¡Œæ—¶éƒ½æ˜¯å°† <span class="number">0</span> è®¾ç½®æˆ <span class="number">1</span>ï¼Œåœ¨ react å†…éƒ¨ä¼šè¢«åˆå¹¶æ‰ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚è®¾ç½®å®Œæˆå state.val å€¼ä¸º <span class="number">1</span>ã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>ã€<span class="built_in">setTimeout</span> ä¸­çš„ä»£ç ï¼Œè§¦å‘æ—¶ isBatchingUpdates ä¸º <span class="literal">false</span>ï¼Œæ‰€ä»¥èƒ½å¤Ÿç›´æ¥è¿›è¡Œæ›´æ–°ï¼Œæ‰€ä»¥è¿ç€è¾“å‡º <span class="number">2</span>ï¼Œ<span class="number">3</span>ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼š 0 0 2 3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-20-é¢˜-ï¼ˆ2019-10-09ï¼‰"><a href="#ç¬¬-20-é¢˜-ï¼ˆ2019-10-09ï¼‰" class="headerlink" title="ç¬¬ 20 é¢˜  ï¼ˆ2019/10/09ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/22">ç¬¬ 20 é¢˜ </a> ï¼ˆ2019/10/09ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼šä»‹ç»ä¸‹ npm æ¨¡å—å®‰è£…æœºåˆ¶ï¼Œä¸ºä»€ä¹ˆè¾“å…¥ npm install å°±å¯ä»¥è‡ªåŠ¨å®‰è£…å¯¹åº”çš„æ¨¡å—ï¼Ÿ</p>
<p><strong>è§£æ</strong> ï¼š</p>
<p><strong>1ã€npm æ¨¡å—å®‰è£…æœºåˆ¶ï¼š</strong></p>
<ul>
<li>å‘å‡º<code>npm install</code>å‘½ä»¤</li>
<li>æŸ¥è¯¢ node_modules ç›®å½•ä¹‹ä¸­æ˜¯å¦å·²ç»å­˜åœ¨æŒ‡å®šæ¨¡å—<ul>
<li>è‹¥å­˜åœ¨ï¼Œä¸å†é‡æ–°å®‰è£…</li>
<li>è‹¥ä¸å­˜åœ¨<ul>
<li>npm å‘ registry æŸ¥è¯¢æ¨¡å—å‹ç¼©åŒ…çš„ç½‘å€</li>
<li>ä¸‹è½½å‹ç¼©åŒ…ï¼Œå­˜æ”¾åœ¨æ ¹ç›®å½•ä¸‹çš„<code>.npm</code>ç›®å½•é‡Œ</li>
<li>è§£å‹å‹ç¼©åŒ…åˆ°å½“å‰é¡¹ç›®çš„<code>node_modules</code>ç›®å½•</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>2ã€npm å®ç°åŸç†</strong></p>
<p>è¾“å…¥ npm install å‘½ä»¤å¹¶æ•²ä¸‹å›è½¦åï¼Œä¼šç»å†å¦‚ä¸‹å‡ ä¸ªé˜¶æ®µï¼ˆä»¥ npm 5.5.1 ä¸ºä¾‹ï¼‰ï¼š</p>
<ol>
<li><strong>æ‰§è¡Œå·¥ç¨‹è‡ªèº« preinstall</strong></li>
</ol>
<p>å½“å‰ npm å·¥ç¨‹å¦‚æœå®šä¹‰äº† preinstall é’©å­æ­¤æ—¶ä¼šè¢«æ‰§è¡Œã€‚</p>
<ol start="2">
<li><strong>ç¡®å®šé¦–å±‚ä¾èµ–æ¨¡å—</strong></li>
</ol>
<p>é¦–å…ˆéœ€è¦åšçš„æ˜¯ç¡®å®šå·¥ç¨‹ä¸­çš„é¦–å±‚ä¾èµ–ï¼Œä¹Ÿå°±æ˜¯ dependencies å’Œ devDependencies å±æ€§ä¸­ç›´æ¥æŒ‡å®šçš„æ¨¡å—ï¼ˆå‡è®¾æ­¤æ—¶æ²¡æœ‰æ·»åŠ  npm install å‚æ•°ï¼‰ã€‚</p>
<p>å·¥ç¨‹æœ¬èº«æ˜¯æ•´æ£µä¾èµ–æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œæ¯ä¸ªé¦–å±‚ä¾èµ–æ¨¡å—éƒ½æ˜¯æ ¹èŠ‚ç‚¹ä¸‹é¢çš„ä¸€æ£µå­æ ‘ï¼Œnpm ä¼šå¼€å¯å¤šè¿›ç¨‹ä»æ¯ä¸ªé¦–å±‚ä¾èµ–æ¨¡å—å¼€å§‹é€æ­¥å¯»æ‰¾æ›´æ·±å±‚çº§çš„èŠ‚ç‚¹ã€‚</p>
<ol start="3">
<li><strong>è·å–æ¨¡å—</strong></li>
</ol>
<p>è·å–æ¨¡å—æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š</p>
<ul>
<li>è·å–æ¨¡å—ä¿¡æ¯ã€‚åœ¨ä¸‹è½½ä¸€ä¸ªæ¨¡å—ä¹‹å‰ï¼Œé¦–å…ˆè¦ç¡®å®šå…¶ç‰ˆæœ¬ï¼Œè¿™æ˜¯å› ä¸º package.json ä¸­å¾€å¾€æ˜¯ semantic versionï¼ˆsemverï¼Œè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰ã€‚æ­¤æ—¶å¦‚æœç‰ˆæœ¬æè¿°æ–‡ä»¶ï¼ˆnpm-shrinkwrap.json æˆ– package-lock.jsonï¼‰ä¸­æœ‰è¯¥æ¨¡å—ä¿¡æ¯ç›´æ¥æ‹¿å³å¯ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä»ä»“åº“è·å–ã€‚å¦‚ packaeg.json ä¸­æŸä¸ªåŒ…çš„ç‰ˆæœ¬æ˜¯ ^1.1.0ï¼Œnpm å°±ä¼šå»ä»“åº“ä¸­è·å–ç¬¦åˆ 1.x.x å½¢å¼çš„æœ€æ–°ç‰ˆæœ¬ã€‚</li>
<li>è·å–æ¨¡å—å®ä½“ã€‚ä¸Šä¸€æ­¥ä¼šè·å–åˆ°æ¨¡å—çš„å‹ç¼©åŒ…åœ°å€ï¼ˆresolved å­—æ®µï¼‰ï¼Œnpm ä¼šç”¨æ­¤åœ°å€æ£€æŸ¥æœ¬åœ°ç¼“å­˜ï¼Œç¼“å­˜ä¸­æœ‰å°±ç›´æ¥æ‹¿ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä»ä»“åº“ä¸‹è½½ã€‚</li>
<li>æŸ¥æ‰¾è¯¥æ¨¡å—ä¾èµ–ï¼Œå¦‚æœæœ‰ä¾èµ–åˆ™å›åˆ°ç¬¬ 1 æ­¥ï¼Œå¦‚æœæ²¡æœ‰åˆ™åœæ­¢ã€‚</li>
</ul>
<ol start="4">
<li><strong>æ¨¡å—æ‰å¹³åŒ–ï¼ˆdedupeï¼‰</strong></li>
</ol>
<p>ä¸Šä¸€æ­¥è·å–åˆ°çš„æ˜¯ä¸€æ£µå®Œæ•´çš„ä¾èµ–æ ‘ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«å¤§é‡é‡å¤æ¨¡å—ã€‚æ¯”å¦‚ A æ¨¡å—ä¾èµ–äº loadshï¼ŒB æ¨¡å—åŒæ ·ä¾èµ–äº lodashã€‚åœ¨ npm3 ä»¥å‰ä¼šä¸¥æ ¼æŒ‰ç…§ä¾èµ–æ ‘çš„ç»“æ„è¿›è¡Œå®‰è£…ï¼Œå› æ­¤ä¼šé€ æˆæ¨¡å—å†—ä½™ã€‚</p>
<p>ä» npm3 å¼€å§‹é»˜è®¤åŠ å…¥äº†ä¸€ä¸ª dedupe çš„è¿‡ç¨‹ã€‚å®ƒä¼šéå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œé€ä¸ªå°†æ¨¡å—æ”¾åœ¨æ ¹èŠ‚ç‚¹ä¸‹é¢ï¼Œä¹Ÿå°±æ˜¯ node-modules çš„ç¬¬ä¸€å±‚ã€‚å½“å‘ç°æœ‰<strong>é‡å¤æ¨¡å—</strong>æ—¶ï¼Œåˆ™å°†å…¶ä¸¢å¼ƒã€‚</p>
<p>è¿™é‡Œéœ€è¦å¯¹<strong>é‡å¤æ¨¡å—</strong>è¿›è¡Œä¸€ä¸ªå®šä¹‰ï¼Œå®ƒæŒ‡çš„æ˜¯<strong>æ¨¡å—åç›¸åŒ</strong>ä¸” <strong>semver å…¼å®¹ã€‚æ¯ä¸ª semver éƒ½å¯¹åº”ä¸€æ®µç‰ˆæœ¬å…è®¸èŒƒå›´ï¼Œå¦‚æœä¸¤ä¸ªæ¨¡å—çš„ç‰ˆæœ¬å…è®¸èŒƒå›´å­˜åœ¨äº¤é›†ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå…¼å®¹</strong>ç‰ˆæœ¬ï¼Œè€Œä¸å¿…ç‰ˆæœ¬å·å®Œå…¨ä¸€è‡´ï¼Œè¿™å¯ä»¥ä½¿æ›´å¤šå†—ä½™æ¨¡å—åœ¨ dedupe è¿‡ç¨‹ä¸­è¢«å»æ‰ã€‚</p>
<p>æ¯”å¦‚ node-modules ä¸‹ foo æ¨¡å—ä¾èµ– lodash@^1.0.0ï¼Œbar æ¨¡å—ä¾èµ– lodash@^1.1.0ï¼Œåˆ™ <strong>^1.1.0</strong> ä¸ºå…¼å®¹ç‰ˆæœ¬ã€‚</p>
<p>è€Œå½“ foo ä¾èµ– lodash@^2.0.0ï¼Œbar ä¾èµ– lodash@^1.1.0ï¼Œåˆ™ä¾æ® semver çš„è§„åˆ™ï¼ŒäºŒè€…ä¸å­˜åœ¨å…¼å®¹ç‰ˆæœ¬ã€‚ä¼šå°†ä¸€ä¸ªç‰ˆæœ¬æ”¾åœ¨ node_modules ä¸­ï¼Œå¦ä¸€ä¸ªä»ä¿ç•™åœ¨ä¾èµ–æ ‘é‡Œã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ä¸€ä¸ªä¾èµ–æ ‘åŸæœ¬æ˜¯è¿™æ ·ï¼š</p>
<p>node_modules<br>â€“ foo<br>â€”- lodash@version1</p>
<p>â€“ bar<br>â€”- lodash@version2</p>
<p>å‡è®¾ version1 å’Œ version2 æ˜¯å…¼å®¹ç‰ˆæœ¬ï¼Œåˆ™ç»è¿‡ dedupe ä¼šæˆä¸ºä¸‹é¢çš„å½¢å¼ï¼š</p>
<p>node_modules<br>â€“ foo</p>
<p>â€“ bar</p>
<p>â€“ lodashï¼ˆä¿ç•™çš„ç‰ˆæœ¬ä¸ºå…¼å®¹ç‰ˆæœ¬ï¼‰</p>
<p>å‡è®¾ version1 å’Œ version2 ä¸ºéå…¼å®¹ç‰ˆæœ¬ï¼Œåˆ™åé¢çš„ç‰ˆæœ¬ä¿ç•™åœ¨ä¾èµ–æ ‘ä¸­ï¼š</p>
<p>node_modules<br>â€“ foo<br>â€“ lodash@version1</p>
<p>â€“ bar<br>â€”- lodash@version2</p>
<ol start="5">
<li><strong>å®‰è£…æ¨¡å—</strong></li>
</ol>
<p>è¿™ä¸€æ­¥å°†ä¼šæ›´æ–°å·¥ç¨‹ä¸­çš„ node_modulesï¼Œå¹¶æ‰§è¡Œæ¨¡å—ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ˆæŒ‰ç…§ preinstallã€installã€postinstall çš„é¡ºåºï¼‰ã€‚</p>
<ol start="6">
<li><strong>æ‰§è¡Œå·¥ç¨‹è‡ªèº«ç”Ÿå‘½å‘¨æœŸ</strong></li>
</ol>
<p>å½“å‰ npm å·¥ç¨‹å¦‚æœå®šä¹‰äº†é’©å­æ­¤æ—¶ä¼šè¢«æ‰§è¡Œï¼ˆæŒ‰ç…§ installã€postinstallã€prepublishã€prepare çš„é¡ºåºï¼‰ã€‚</p>
<p>æœ€åä¸€æ­¥æ˜¯ç”Ÿæˆæˆ–æ›´æ–°ç‰ˆæœ¬æè¿°æ–‡ä»¶ï¼Œnpm install è¿‡ç¨‹å®Œæˆã€‚</p>
<p>å‚è€ƒ <a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/01/npm-install.html">npm æ¨¡å—å®‰è£…æœºåˆ¶ç®€ä»‹</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bbsmax.com/A/qVdemmnEdP/">è¯¦è§£ npm çš„æ¨¡å—å®‰è£…æœºåˆ¶</a></p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/66629910">npm install çš„å®ç°åŸç†</a></p>
<h3 id="ç¬¬-21-é¢˜-ï¼ˆ2019-10-10ï¼‰"><a href="#ç¬¬-21-é¢˜-ï¼ˆ2019-10-10ï¼‰" class="headerlink" title="ç¬¬ 21 é¢˜ ï¼ˆ2019/10/10ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/23">ç¬¬ 21 é¢˜</a> ï¼ˆ2019/10/10ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> æœ‰ä»¥ä¸‹ 3 ä¸ªåˆ¤æ–­æ•°ç»„çš„æ–¹æ³•ï¼Œè¯·åˆ†åˆ«ä»‹ç»å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«å’Œä¼˜åŠ£</p>
<blockquote>
<p>Object.prototype.toString.call() ã€ instanceof ä»¥åŠ Array.isArray()</p>
</blockquote>
<p><strong>è§£æï¼š</strong></p>
<p><strong>1ã€Object.prototype.toString.call()</strong></p>
<p>æ¯ä¸€ä¸ªç»§æ‰¿ Object çš„å¯¹è±¡éƒ½æœ‰ <code>toString</code> æ–¹æ³•ï¼Œå¦‚æœ <code>toString</code> æ–¹æ³•æ²¡æœ‰é‡å†™çš„è¯ï¼Œä¼šè¿”å› <code>[Object type]</code>ï¼Œå…¶ä¸­ type ä¸ºå¯¹è±¡çš„ç±»å‹ã€‚ä½†å½“é™¤äº† Object ç±»å‹çš„å¯¹è±¡å¤–ï¼Œå…¶ä»–ç±»å‹ç›´æ¥ä½¿ç”¨ <code>toString</code> æ–¹æ³•æ—¶ï¼Œä¼šç›´æ¥è¿”å›éƒ½æ˜¯å†…å®¹çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ call æˆ–è€… apply æ–¹æ³•æ¥æ”¹å˜ toString æ–¹æ³•çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> an = [<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;An&quot;</span>];</span><br><span class="line">an.toString(); <span class="comment">// &quot;Hello,An&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(an); <span class="comment">// &quot;[object Array]&quot;</span></span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹æ³•å¯¹äºæ‰€æœ‰åŸºæœ¬çš„æ•°æ®ç±»å‹éƒ½èƒ½è¿›è¡Œåˆ¤æ–­ï¼Œå³ä½¿æ˜¯ null å’Œ undefined ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="string">&quot;An&quot;</span>); <span class="comment">// &quot;[object String]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="number">1</span>); <span class="comment">// &quot;[object Number]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">Symbol</span>(<span class="number">1</span>)); <span class="comment">// &quot;[object Symbol]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">null</span>); <span class="comment">// &quot;[object Null]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">undefined</span>); <span class="comment">// &quot;[object Undefined]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;); <span class="comment">// &quot;[object Function]&quot;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(&#123; <span class="attr">name</span>: <span class="string">&quot;An&quot;</span> &#125;); <span class="comment">// &quot;[object Object]&quot;</span></span><br></pre></td></tr></table></figure>

<p><code>Object.prototype.toString.call()</code> å¸¸ç”¨äºåˆ¤æ–­æµè§ˆå™¨å†…ç½®å¯¹è±¡æ—¶ã€‚</p>
<p>æ›´å¤šå®ç°å¯è§ <a target="_blank" rel="noopener" href="https://juejin.im/post/591647550ce4630069df1c4a">è°ˆè°ˆ Object.prototype.toString</a></p>
<p><strong>2ã€instanceof</strong></p>
<p><code>instanceof</code> çš„å†…éƒ¨æœºåˆ¶æ˜¯é€šè¿‡åˆ¤æ–­å¯¹è±¡çš„åŸå‹é“¾ä¸­æ˜¯ä¸æ˜¯èƒ½æ‰¾åˆ°ç±»å‹çš„ <code>prototype</code>ã€‚</p>
<p>ä½¿ç”¨ <code>instanceof</code>åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„ï¼Œ<code>instanceof</code> ä¼šåˆ¤æ–­è¿™ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šæ˜¯å¦ä¼šæ‰¾åˆ°å¯¹åº”çš„ <code>Array</code> çš„åŸå‹ï¼Œæ‰¾åˆ°è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[] <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>ä½† <code>instanceof</code> åªèƒ½ç”¨æ¥åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼ŒåŸå§‹ç±»å‹ä¸å¯ä»¥ã€‚å¹¶ä¸”æ‰€æœ‰å¯¹è±¡ç±»å‹ instanceof Object éƒ½æ˜¯ trueã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[] <span class="keyword">instanceof</span> <span class="built_in">Object</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p><strong>3ã€Array.isArray()</strong></p>
<ul>
<li><p>åŠŸèƒ½ï¼šç”¨æ¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„</p>
</li>
<li><p>instanceof ä¸ isArray</p>
<p>å½“æ£€æµ‹ Array å®ä¾‹æ—¶ï¼Œ<code>Array.isArray</code> ä¼˜äº <code>instanceof</code> ï¼Œå› ä¸º <code>Array.isArray</code> å¯ä»¥æ£€æµ‹å‡º <code>iframes</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iframe = <span class="built_in">document</span>.createElement(<span class="string">&quot;iframe&quot;</span>);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(iframe);</span><br><span class="line">xArray = <span class="built_in">window</span>.frames[<span class="built_in">window</span>.frames.length - <span class="number">1</span>].Array;</span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> xArray(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// [1,2,3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Correctly checking for Array</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(arr); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(arr); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// Considered harmful, because doesn&#x27;t work though iframes</span></span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.isArray()</code> ä¸ <code>Object.prototype.toString.call()</code></p>
<p><code>Array.isArray()</code>æ˜¯ ES5 æ–°å¢çš„æ–¹æ³•ï¼Œå½“ä¸å­˜åœ¨ <code>Array.isArray()</code> ï¼Œå¯ä»¥ç”¨ <code>Object.prototype.toString.call()</code> å®ç°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if (!Array.isArray) &#123;</span><br><span class="line">  Array.isArray &#x3D; function(arg) &#123;</span><br><span class="line">    return Object.prototype.toString.call(arg) &#x3D;&#x3D;&#x3D; &#39;[object Array]&#39;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="ç¬¬-22-é¢˜-ï¼ˆ2019-10-11ï¼‰"><a href="#ç¬¬-22-é¢˜-ï¼ˆ2019-10-11ï¼‰" class="headerlink" title="ç¬¬ 22 é¢˜ ï¼ˆ2019/10/11ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/24">ç¬¬ 22 é¢˜</a> ï¼ˆ2019/10/11ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä»‹ç»ä¸‹é‡ç»˜å’Œå›æµï¼ˆRepaint &amp; Reflowï¼‰ï¼Œä»¥åŠå¦‚ä½•è¿›è¡Œä¼˜åŒ–ï¼Ÿ</p>
<p><strong>è§£æï¼š</strong> <a target="_blank" rel="noopener" href="https://juejin.im/post/5a9923e9518825558251c96a">æµè§ˆå™¨çš„å›æµä¸é‡ç»˜ (Reflow &amp; Repaint)</a></p>
<p><strong>1ã€æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶</strong></p>
<ul>
<li>æµè§ˆå™¨é‡‡ç”¨æµå¼å¸ƒå±€æ¨¡å‹ï¼ˆ<code>Flow Based Layout</code>ï¼‰</li>
<li>æµè§ˆå™¨ä¼šæŠŠ<code>HTML</code>è§£ææˆ<code>DOM</code>ï¼ŒæŠŠ<code>CSS</code>è§£ææˆ<code>CSSOM</code>ï¼Œ<code>DOM</code>å’Œ<code>CSSOM</code>åˆå¹¶å°±äº§ç”Ÿäº†æ¸²æŸ“æ ‘ï¼ˆ<code>Render Tree</code>ï¼‰ã€‚</li>
<li>æœ‰äº†<code>RenderTree</code>ï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†æ‰€æœ‰èŠ‚ç‚¹çš„æ ·å¼ï¼Œç„¶åè®¡ç®—ä»–ä»¬åœ¨é¡µé¢ä¸Šçš„å¤§å°å’Œä½ç½®ï¼Œæœ€åæŠŠèŠ‚ç‚¹ç»˜åˆ¶åˆ°é¡µé¢ä¸Šã€‚</li>
<li>ç”±äºæµè§ˆå™¨ä½¿ç”¨æµå¼å¸ƒå±€ï¼Œå¯¹<code>Render Tree</code>çš„è®¡ç®—é€šå¸¸åªéœ€è¦éå†ä¸€æ¬¡å°±å¯ä»¥å®Œæˆï¼Œ<strong>ä½† table åŠå…¶å†…éƒ¨å…ƒç´ é™¤å¤–ï¼Œä»–ä»¬å¯èƒ½éœ€è¦å¤šæ¬¡è®¡ç®—ï¼Œé€šå¸¸è¦èŠ± 3 å€äºåŒç­‰å…ƒç´ çš„æ—¶é—´ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦é¿å…ä½¿ç”¨ table å¸ƒå±€çš„åŸå› ä¹‹ä¸€</strong>ã€‚</li>
</ul>
<p><strong>2ã€é‡ç»˜</strong></p>
<p>ç”±äºèŠ‚ç‚¹çš„å‡ ä½•å±æ€§å‘ç”Ÿæ”¹å˜æˆ–è€…ç”±äºæ ·å¼å‘ç”Ÿæ”¹å˜è€Œä¸ä¼šå½±å“å¸ƒå±€çš„ï¼Œç§°ä¸ºé‡ç»˜ï¼Œä¾‹å¦‚<code>outline</code>, <code>visibility</code>, <code>color</code>ã€<code>background-color</code>ç­‰ï¼Œé‡ç»˜çš„ä»£ä»·æ˜¯é«˜æ˜‚çš„ï¼Œå› ä¸ºæµè§ˆå™¨å¿…é¡»éªŒè¯ DOM æ ‘ä¸Šå…¶ä»–èŠ‚ç‚¹å…ƒç´ çš„å¯è§æ€§ã€‚</p>
<p><strong>3ã€å›æµ</strong></p>
<p>å›æµæ˜¯å¸ƒå±€æˆ–è€…å‡ ä½•å±æ€§éœ€è¦æ”¹å˜å°±ç§°ä¸ºå›æµã€‚å›æµæ˜¯å½±å“æµè§ˆå™¨æ€§èƒ½çš„å…³é”®å› ç´ ï¼Œå› ä¸ºå…¶å˜åŒ–æ¶‰åŠåˆ°éƒ¨åˆ†é¡µé¢ï¼ˆæˆ–æ˜¯æ•´ä¸ªé¡µé¢ï¼‰çš„å¸ƒå±€æ›´æ–°ã€‚ä¸€ä¸ªå…ƒç´ çš„å›æµå¯èƒ½ä¼šå¯¼è‡´äº†å…¶æ‰€æœ‰å­å…ƒç´ ä»¥åŠ DOM ä¸­ç´§éšå…¶åçš„èŠ‚ç‚¹ã€ç¥–å…ˆèŠ‚ç‚¹å…ƒç´ çš„éšåçš„å›æµã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;error&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>æˆ‘çš„ç»„ä»¶<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>é”™è¯¯ï¼š<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>é”™è¯¯çš„æè¿°â€¦<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h5</span>&gt;</span>é”™è¯¯çº æ­£<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬ä¸€æ­¥<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬äºŒæ­¥<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„ HTML ç‰‡æ®µä¸­ï¼Œå¯¹è¯¥æ®µè½(<code>&lt;p&gt;</code>æ ‡ç­¾)å›æµå°†ä¼šå¼•å‘å¼ºçƒˆçš„å›æµï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå­èŠ‚ç‚¹ã€‚è¿™ä¹Ÿå¯¼è‡´äº†ç¥–å…ˆçš„å›æµï¼ˆ<code>div.error</code>å’Œ<code>body</code> â€“ è§†æµè§ˆå™¨è€Œå®šï¼‰ã€‚æ­¤å¤–ï¼Œ<code>&lt;h5&gt;</code>å’Œ<code>&lt;ol&gt;</code>ä¹Ÿä¼šæœ‰ç®€å•çš„å›æµï¼Œå› ä¸ºå…¶åœ¨ DOM ä¸­åœ¨å›æµå…ƒç´ ä¹‹åã€‚<strong>å¤§éƒ¨åˆ†çš„å›æµå°†å¯¼è‡´é¡µé¢çš„é‡æ–°æ¸²æŸ“ã€‚</strong></p>
<p><strong>å›æµå¿…å®šä¼šå‘ç”Ÿé‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•å‘å›æµã€‚</strong></p>
<p><strong>4ã€æµè§ˆå™¨ä¼˜åŒ–</strong></p>
<p>ç°ä»£æµè§ˆå™¨å¤§å¤šéƒ½æ˜¯é€šè¿‡é˜Ÿåˆ—æœºåˆ¶æ¥æ‰¹é‡æ›´æ–°å¸ƒå±€ï¼Œæµè§ˆå™¨ä¼šæŠŠä¿®æ”¹æ“ä½œæ”¾åœ¨é˜Ÿåˆ—ä¸­ï¼Œè‡³å°‘ä¸€ä¸ªæµè§ˆå™¨åˆ·æ–°ï¼ˆå³ 16.6msï¼‰æ‰ä¼šæ¸…ç©ºé˜Ÿåˆ—ï¼Œä½†å½“ä½ <strong>è·å–å¸ƒå±€ä¿¡æ¯çš„æ—¶å€™ï¼Œé˜Ÿåˆ—ä¸­å¯èƒ½æœ‰ä¼šå½±å“è¿™äº›å±æ€§æˆ–æ–¹æ³•è¿”å›å€¼çš„æ“ä½œï¼Œå³ä½¿æ²¡æœ‰ï¼Œæµè§ˆå™¨ä¹Ÿä¼šå¼ºåˆ¶æ¸…ç©ºé˜Ÿåˆ—ï¼Œè§¦å‘å›æµä¸é‡ç»˜æ¥ç¡®ä¿è¿”å›æ­£ç¡®çš„å€¼</strong>ã€‚</p>
<p>ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å±æ€§æˆ–æ–¹æ³•ï¼š</p>
<ul>
<li><code>offsetTop</code>ã€<code>offsetLeft</code>ã€<code>offsetWidth</code>ã€<code>offsetHeight</code></li>
<li><code>scrollTop</code>ã€<code>scrollLeft</code>ã€<code>scrollWidth</code>ã€<code>scrollHeight</code></li>
<li><code>clientTop</code>ã€<code>clientLeft</code>ã€<code>clientWidth</code>ã€<code>clientHeight</code></li>
<li><code>width</code>ã€<code>height</code></li>
<li><code>getComputedStyle()</code></li>
<li><code>getBoundingClientRect()</code></li>
</ul>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥é¿å…é¢‘ç¹çš„ä½¿ç”¨ä¸Šè¿°çš„å±æ€§ï¼Œä»–ä»¬éƒ½ä¼šå¼ºåˆ¶æ¸²æŸ“åˆ·æ–°é˜Ÿåˆ—<strong>ã€‚</strong></p>
<p><strong>5ã€å‡å°‘é‡ç»˜ä¸å›æµ</strong></p>
<ol>
<li><p>CSS</p>
<ul>
<li><p><strong>ä½¿ç”¨ transform æ›¿ä»£ top</strong></p>
</li>
<li><p><strong>ä½¿ç”¨ visibility æ›¿æ¢ display: none</strong> ï¼Œå› ä¸ºå‰è€…åªä¼šå¼•èµ·é‡ç»˜ï¼Œåè€…ä¼šå¼•å‘å›æµï¼ˆæ”¹å˜äº†å¸ƒå±€</p>
</li>
<li><p><strong>é¿å…ä½¿ç”¨ table å¸ƒå±€</strong>ï¼Œå¯èƒ½å¾ˆå°çš„ä¸€ä¸ªå°æ”¹åŠ¨ä¼šé€ æˆæ•´ä¸ª <code>table</code> çš„é‡æ–°å¸ƒå±€ã€‚</p>
</li>
<li><p><strong>å°½å¯èƒ½åœ¨ DOM æ ‘çš„æœ€æœ«ç«¯æ”¹å˜ class</strong>ï¼Œå›æµæ˜¯ä¸å¯é¿å…çš„ï¼Œä½†å¯ä»¥å‡å°‘å…¶å½±å“ã€‚å°½å¯èƒ½åœ¨ DOM æ ‘çš„æœ€æœ«ç«¯æ”¹å˜ classï¼Œå¯ä»¥é™åˆ¶äº†å›æµçš„èŒƒå›´ï¼Œä½¿å…¶å½±å“å°½å¯èƒ½å°‘çš„èŠ‚ç‚¹ã€‚</p>
</li>
<li><p><strong>é¿å…è®¾ç½®å¤šå±‚å†…è”æ ·å¼</strong>ï¼ŒCSS é€‰æ‹©ç¬¦<strong>ä»å³å¾€å·¦</strong>åŒ¹é…æŸ¥æ‰¾ï¼Œé¿å…èŠ‚ç‚¹å±‚çº§è¿‡å¤šã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  span &#123;</span><br><span class="line">    color: red;</span><br><span class="line">  &#125;</span><br><span class="line">  div &gt; a &gt; span &#123;</span><br><span class="line">    color: red;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯¹äºç¬¬ä¸€ç§è®¾ç½®æ ·å¼çš„æ–¹å¼æ¥è¯´ï¼Œæµè§ˆå™¨åªéœ€è¦æ‰¾åˆ°é¡µé¢ä¸­æ‰€æœ‰çš„ <code>span</code> æ ‡ç­¾ç„¶åè®¾ç½®é¢œè‰²ï¼Œä½†æ˜¯å¯¹äºç¬¬äºŒç§è®¾ç½®æ ·å¼çš„æ–¹å¼æ¥è¯´ï¼Œæµè§ˆå™¨é¦–å…ˆéœ€è¦æ‰¾åˆ°æ‰€æœ‰çš„ <code>span</code> æ ‡ç­¾ï¼Œç„¶åæ‰¾åˆ° <code>span</code> æ ‡ç­¾ä¸Šçš„ <code>a</code> æ ‡ç­¾ï¼Œæœ€åå†å»æ‰¾åˆ° <code>div</code> æ ‡ç­¾ï¼Œç„¶åç»™ç¬¦åˆè¿™ç§æ¡ä»¶çš„ <code>span</code> æ ‡ç­¾è®¾ç½®é¢œè‰²ï¼Œè¿™æ ·çš„é€’å½’è¿‡ç¨‹å°±å¾ˆå¤æ‚ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥å°½å¯èƒ½çš„é¿å…å†™<strong>è¿‡äºå…·ä½“</strong>çš„ CSS é€‰æ‹©å™¨ï¼Œç„¶åå¯¹äº HTML æ¥è¯´ä¹Ÿå°½é‡å°‘çš„æ·»åŠ æ— æ„ä¹‰æ ‡ç­¾ï¼Œä¿è¯<strong>å±‚çº§æ‰å¹³</strong>ã€‚</p>
</li>
<li><p><strong>å°†åŠ¨ç”»æ•ˆæœåº”ç”¨åˆ° position å±æ€§ä¸º absolute æˆ– fixed çš„å…ƒç´ ä¸Š</strong>ï¼Œé¿å…å½±å“å…¶ä»–å…ƒç´ çš„å¸ƒå±€ï¼Œè¿™æ ·åªæ˜¯ä¸€ä¸ªé‡ç»˜ï¼Œè€Œä¸æ˜¯å›æµï¼ŒåŒæ—¶ï¼Œæ§åˆ¶åŠ¨ç”»é€Ÿåº¦å¯ä»¥é€‰æ‹© <code>requestAnimationFrame</code>ï¼Œè¯¦è§<a target="_blank" rel="noopener" href="https://github.com/LuNaHaiJiao/blog/issues/30">æ¢è®¨ requestAnimationFrame</a>ã€‚</p>
</li>
<li><p><strong>é¿å…ä½¿ç”¨ CSS è¡¨è¾¾å¼</strong>ï¼Œå¯èƒ½ä¼šå¼•å‘å›æµã€‚</p>
</li>
<li><p><strong>å°†é¢‘ç¹é‡ç»˜æˆ–è€…å›æµçš„èŠ‚ç‚¹è®¾ç½®ä¸ºå›¾å±‚</strong>ï¼Œå›¾å±‚èƒ½å¤Ÿé˜»æ­¢è¯¥èŠ‚ç‚¹çš„æ¸²æŸ“è¡Œä¸ºå½±å“åˆ«çš„èŠ‚ç‚¹ï¼Œä¾‹å¦‚<code>will-change</code>ã€<code>video</code>ã€<code>iframe</code>ç­‰æ ‡ç­¾ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°†è¯¥èŠ‚ç‚¹å˜ä¸ºå›¾å±‚ã€‚</p>
</li>
<li><p><strong>CSS3 ç¡¬ä»¶åŠ é€Ÿï¼ˆGPU åŠ é€Ÿï¼‰</strong>ï¼Œä½¿ç”¨ css3 ç¡¬ä»¶åŠ é€Ÿï¼Œå¯ä»¥è®©<code>transform</code>ã€<code>opacity</code>ã€<code>filters</code>è¿™äº›åŠ¨ç”»ä¸ä¼šå¼•èµ·å›æµé‡ç»˜ ã€‚ä½†æ˜¯å¯¹äºåŠ¨ç”»çš„å…¶å®ƒå±æ€§ï¼Œæ¯”å¦‚<code>background-color</code>è¿™äº›ï¼Œè¿˜æ˜¯ä¼šå¼•èµ·å›æµé‡ç»˜çš„ï¼Œä¸è¿‡å®ƒè¿˜æ˜¯å¯ä»¥æå‡è¿™äº›åŠ¨ç”»çš„æ€§èƒ½ã€‚</p>
</li>
</ul>
</li>
<li><p>JavaScript</p>
<ul>
<li><strong>é¿å…é¢‘ç¹æ“ä½œæ ·å¼</strong>ï¼Œæœ€å¥½ä¸€æ¬¡æ€§é‡å†™<code>style</code>å±æ€§ï¼Œæˆ–è€…å°†æ ·å¼åˆ—è¡¨å®šä¹‰ä¸º<code>class</code>å¹¶ä¸€æ¬¡æ€§æ›´æ”¹<code>class</code>å±æ€§ã€‚</li>
<li><strong>é¿å…é¢‘ç¹æ“ä½œ DOM</strong>ï¼Œåˆ›å»ºä¸€ä¸ª<code>documentFragment</code>ï¼Œåœ¨å®ƒä¸Šé¢åº”ç”¨æ‰€æœ‰<code>DOMæ“ä½œ</code>ï¼Œæœ€åå†æŠŠå®ƒæ·»åŠ åˆ°æ–‡æ¡£ä¸­ã€‚</li>
<li><strong>é¿å…é¢‘ç¹è¯»å–ä¼šå¼•å‘å›æµ/é‡ç»˜çš„å±æ€§</strong>ï¼Œå¦‚æœç¡®å®éœ€è¦å¤šæ¬¡ä½¿ç”¨ï¼Œå°±ç”¨ä¸€ä¸ªå˜é‡ç¼“å­˜èµ·æ¥ã€‚</li>
<li><strong>å¯¹å…·æœ‰å¤æ‚åŠ¨ç”»çš„å…ƒç´ ä½¿ç”¨ç»å¯¹å®šä½</strong>ï¼Œä½¿å®ƒè„±ç¦»æ–‡æ¡£æµï¼Œå¦åˆ™ä¼šå¼•èµ·çˆ¶å…ƒç´ åŠåç»­å…ƒç´ é¢‘ç¹å›æµã€‚</li>
</ul>
</li>
</ol>
<p>è¯¦è§<a target="_blank" rel="noopener" href="https://github.com/sisterAn/blog/issues/33">æµè§ˆå™¨çš„é‡ç»˜ä¸å›æµï¼ˆRepaintã€Reflowï¼‰</a></p>
<h3 id="ç¬¬-23-é¢˜-ï¼ˆ2019-10-12ï¼‰"><a href="#ç¬¬-23-é¢˜-ï¼ˆ2019-10-12ï¼‰" class="headerlink" title="ç¬¬ 23 é¢˜ ï¼ˆ2019/10/12ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/25">ç¬¬ 23 é¢˜ </a>ï¼ˆ2019/10/12ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä»‹ç»ä¸‹è§‚å¯Ÿè€…æ¨¡å¼å’Œè®¢é˜…-å‘å¸ƒæ¨¡å¼çš„åŒºåˆ«ï¼Œå„è‡ªé€‚ç”¨äºä»€ä¹ˆåœºæ™¯</p>
<p><strong>è§£æï¼š</strong></p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹è¿™ä¸¤ä¸ªæ¨¡å¼çš„å®ç°ç»“æ„ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20190329182209470.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2hmODcyOTE0MzM0,size_16,color_FFFFFF,t_70"></p>
<p>è§‚å¯Ÿè€…æ¨¡å¼ï¼š è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ç›´æ¥è®¢é˜…ï¼ˆSubscribeï¼‰ä¸»é¢˜ï¼ˆSubjectï¼‰ï¼Œè€Œå½“ä¸»é¢˜è¢«æ¿€æ´»çš„æ—¶å€™ï¼Œä¼šè§¦å‘ï¼ˆFire Eventï¼‰è§‚å¯Ÿè€…é‡Œçš„äº‹ä»¶ã€‚</p>
<p>å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼š è®¢é˜…è€…ï¼ˆSubscriberï¼‰æŠŠè‡ªå·±æƒ³è®¢é˜…çš„äº‹ä»¶æ³¨å†Œï¼ˆSubscribeï¼‰åˆ°è°ƒåº¦ä¸­å¿ƒï¼ˆTopicï¼‰ï¼Œå½“å‘å¸ƒè€…ï¼ˆPublisherï¼‰å‘å¸ƒè¯¥äº‹ä»¶ï¼ˆPublish topicï¼‰åˆ°è°ƒåº¦ä¸­å¿ƒï¼Œä¹Ÿå°±æ˜¯è¯¥äº‹ä»¶è§¦å‘æ—¶ï¼Œç”±è°ƒåº¦ä¸­å¿ƒç»Ÿä¸€è°ƒåº¦ï¼ˆFire Eventï¼‰è®¢é˜…è€…æ³¨å†Œåˆ°è°ƒåº¦ä¸­å¿ƒçš„å¤„ç†ä»£ç ã€‚</p>
<p><strong>åŒºåˆ«ï¼š</strong></p>
<p>è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼æœ€å¤§çš„åŒºåˆ«å°±æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼æœ‰ä¸ªäº‹ä»¶è°ƒåº¦ä¸­å¿ƒã€‚</p>
<p>è§‚å¯Ÿè€…æ¨¡å¼ç”±å…·ä½“ç›®æ ‡è°ƒåº¦ï¼Œæ¯ä¸ªè¢«è®¢é˜…çš„ç›®æ ‡é‡Œé¢éƒ½éœ€è¦æœ‰å¯¹è§‚å¯Ÿè€…çš„å¤„ç†ï¼Œè¿™ç§å¤„ç†æ–¹å¼æ¯”è¾ƒç›´æ¥ç²—æš´ï¼Œä½†æ˜¯ä¼šé€ æˆä»£ç çš„å†—ä½™ã€‚</p>
<p>è€Œå‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ç»Ÿä¸€ç”±è°ƒåº¦ä¸­å¿ƒè¿›è¡Œå¤„ç†ï¼Œè®¢é˜…è€…å’Œå‘å¸ƒè€…äº’ä¸å¹²æ‰°ï¼Œæ¶ˆé™¤äº†å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´çš„ä¾èµ–ã€‚è¿™æ ·ä¸€æ–¹é¢å®ç°äº†è§£è€¦ï¼Œè¿˜æœ‰å°±æ˜¯å¯ä»¥å®ç°æ›´ç»†ç²’åº¦çš„ä¸€äº›æ§åˆ¶ã€‚æ¯”å¦‚å‘å¸ƒè€…å‘å¸ƒäº†å¾ˆå¤šæ¶ˆæ¯ï¼Œä½†æ˜¯ä¸æƒ³æ‰€æœ‰çš„è®¢é˜…è€…éƒ½æ¥æ”¶åˆ°ï¼Œå°±å¯ä»¥åœ¨è°ƒåº¦ä¸­å¿ƒåšä¸€äº›å¤„ç†ï¼Œç±»ä¼¼äºæƒé™æ§åˆ¶ä¹‹ç±»çš„ã€‚è¿˜å¯ä»¥åšä¸€äº›èŠ‚æµæ“ä½œã€‚</p>
<p><strong>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼</strong></p>
<p>ç½‘ä¸Šå…³äºè¿™ä¸ªé—®é¢˜çš„å›ç­”ï¼Œå‡ºç°äº†ä¸¤æåˆ†åŒ–ï¼Œæœ‰è®¤ä¸ºå‘å¸ƒè®¢é˜…æ¨¡å¼å°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„ï¼Œä¹Ÿæœ‰è®¤ä¸ºè§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯çœŸä¸ä¸€æ ·çš„ã€‚</p>
<p>å…¶å®æˆ‘ä¸çŸ¥é“å‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯ä¸æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Œå°±åƒæˆ‘ä¸çŸ¥é“è¾¨åˆ«æ¨¡å¼çš„å…³é”®æ˜¯è®¾è®¡æ„å›¾è¿˜æ˜¯è®¾è®¡ç»“æ„ï¼ˆç†å¿µï¼‰ï¼Œè™½ç„¶ã€ŠJavaScript è®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µã€‹ä¸€ä¹¦ä¸­è¯´äº†åˆ†è¾¨æ¨¡å¼çš„å…³é”®æ˜¯æ„å›¾è€Œä¸æ˜¯ç»“æ„ã€‚</p>
<p>å¦‚æœä»¥ç»“æ„æ¥åˆ†è¾¨æ¨¡å¼ï¼Œå‘å¸ƒè®¢é˜…æ¨¡å¼ç›¸æ¯”è§‚å¯Ÿè€…æ¨¡å¼å¤šäº†ä¸€ä¸ªä¸­é—´ä»¶è®¢é˜…å™¨ï¼Œæ‰€ä»¥å‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯ä¸åŒäºè§‚å¯Ÿè€…æ¨¡å¼çš„ï¼›å¦‚æœä»¥æ„å›¾æ¥åˆ†è¾¨æ¨¡å¼ï¼Œä»–ä»¬éƒ½æ˜¯å®ç°äº†å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥ï¼Œå¹¶è‡ªåŠ¨æ›´æ–°ï¼Œé‚£ä¹ˆä»–ä»¬å°±æ˜¯åŒä¸€ç§æ¨¡å¼ï¼Œå‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯åœ¨è§‚å¯Ÿè€…æ¨¡å¼çš„åŸºç¡€ä¸Šåšçš„ä¼˜åŒ–å‡çº§ã€‚</p>
<p>ä¸è¿‡ï¼Œä¸ç®¡ä»–ä»¬æ˜¯ä¸æ˜¯åŒä¸€ä¸ªè®¾è®¡æ¨¡å¼ï¼Œä»–ä»¬çš„å®ç°æ–¹å¼ç¡®å®æœ‰å·®åˆ«ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™åº”è¯¥æ ¹æ®åœºæ™¯æ¥åˆ¤æ–­é€‰æ‹©å“ªä¸ªã€‚</p>
<h3 id="ç¬¬-24-é¢˜-ï¼ˆ2019-10-13ï¼‰"><a href="#ç¬¬-24-é¢˜-ï¼ˆ2019-10-13ï¼‰" class="headerlink" title="ç¬¬ 24 é¢˜ ï¼ˆ2019/10/13ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/45">ç¬¬ 24 é¢˜</a> ï¼ˆ2019/10/13ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> èŠèŠ Redux å’Œ Vuex çš„è®¾è®¡æ€æƒ³</p>
<p><strong>è§£æï¼š</strong> <a target="_blank" rel="noopener" href="https://juejin.im/post/5b6d75dce51d4533d20487b0">å…³äº Flux,Vuex,Redux çš„æ€è€ƒ</a> <a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/01/flux.html">Flux æ¶æ„å…¥é—¨æ•™ç¨‹</a></p>
<p>Flux æ˜¯ä¸€ç§å‰ç«¯çŠ¶æ€ç®¡ç†æ¶æ„æ€æƒ³ï¼Œä¸“é—¨è§£å†³è½¯ä»¶çš„ç»“æ„é—®é¢˜ã€‚<br>åŸºäº Flux çš„è®¾è®¡æ€æƒ³ï¼Œå‡ºç°äº†ä¸€æ‰¹å‰ç«¯çŠ¶æ€ç®¡ç†æ¡†æ¶ã€‚<br>ä»–ä»¬ç»™å‡ºäº†ä¸€äº›åº“ç”¨äºå®ç° Flux çš„æ€æƒ³ï¼Œå¹¶åœ¨ Flux çš„åŸºç¡€ä¸Šåšäº†ä¸€äº›æ”¹è¿›ã€‚<br>åœ¨è¿™äº›æ¡†æ¶é‡Œï¼Œå½“å‰æœ€çƒ­é—¨çš„è«è¿‡äº Redux å’Œ Vuex äº†</p>
<p><strong>Flux</strong></p>
<p>Flux æ•°æ®æµçš„é¡ºåºæ˜¯:</p>
<p>View å‘èµ· Action-&gt;Action ä¼ é€’åˆ° Dispatcher-&gt;Dispatcher å°†é€šçŸ¥ Store-&gt;Store çš„çŠ¶æ€æ”¹å˜é€šçŸ¥ View è¿›è¡Œæ”¹å˜</p>
<p><strong>Redux</strong></p>
<p>Redux ç›¸å¯¹äº Flux çš„æ”¹è¿›ï¼š</p>
<ul>
<li>æŠŠ store å’Œ Dispatcher åˆå¹¶,ç»“æ„æ›´åŠ ç®€å•æ¸…æ™°</li>
<li>æ–°å¢ state è§’è‰²ï¼Œä»£è¡¨æ¯ä¸ªæ—¶é—´ç‚¹ store å¯¹åº”çš„å€¼ï¼Œå¯¹çŠ¶æ€çš„ç®¡ç†æ›´åŠ æ˜ç¡®</li>
</ul>
<p>Redux æ•°æ®æµçš„é¡ºåºæ˜¯:</p>
<p>View è°ƒç”¨ store.dispatch å‘èµ· Action-&gt;store æ¥å— Action(action ä¼ å…¥ reducer å‡½æ•°,reducer å‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„ state)-&gt;é€šçŸ¥ store.subscribe è®¢é˜…çš„é‡æ–°æ¸²æŸ“å‡½æ•°</p>
<p>ps:<a href="https://link.juejin.im/?target=https://github.com/reactjs/redux/tree/master/examples/counter">é˜®ä¸€å³°è€å¸ˆçš„ Redux+React å° demo</a></p>
<p><strong>Vuex</strong></p>
<p>Vuex æ˜¯ä¸“é—¨ä¸º Vue è®¾è®¡çš„çŠ¶æ€ç®¡ç†æ¡†æ¶,<br>åŒæ ·åŸºäº Flux æ¶æ„ï¼Œå¹¶å¸æ”¶äº† Redux çš„ä¼˜ç‚¹</p>
<p>Vuex ç›¸å¯¹äº Redux çš„ä¸åŒç‚¹æœ‰:</p>
<ul>
<li>æ”¹è¿›äº† Redux ä¸­çš„ Action å’Œ Reducer å‡½æ•°ï¼Œä»¥ mutations å˜åŒ–å‡½æ•°å–ä»£ Reducerï¼Œ<br>æ— éœ€ switch,åªéœ€åœ¨å¯¹åº”çš„ mutation å‡½æ•°é‡Œæ”¹å˜ state å€¼å³å¯</li>
<li>ç”±äº Vue è‡ªåŠ¨é‡æ–°æ¸²æŸ“çš„ç‰¹æ€§ï¼Œæ— éœ€è®¢é˜…é‡æ–°æ¸²æŸ“å‡½æ•°ï¼Œåªè¦ç”Ÿæˆæ–°çš„ State å³å¯</li>
</ul>
<p>Vuex æ•°æ®æµçš„é¡ºåºæ˜¯:</p>
<p>View è°ƒç”¨ store.commit æäº¤å¯¹åº”çš„è¯·æ±‚åˆ° Store ä¸­å¯¹åº”çš„ mutation å‡½æ•°-&gt;store æ”¹å˜(vue æ£€æµ‹åˆ°æ•°æ®å˜åŒ–è‡ªåŠ¨æ¸²æŸ“)</p>
<h3 id="ç¬¬-25-é¢˜-ï¼ˆ2019-10-14ï¼‰"><a href="#ç¬¬-25-é¢˜-ï¼ˆ2019-10-14ï¼‰" class="headerlink" title="ç¬¬ 25 é¢˜ ï¼ˆ2019/10/14ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/26">ç¬¬ 25 é¢˜</a> ï¼ˆ2019/10/14ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> è¯´è¯´æµè§ˆå™¨å’Œ Node äº‹ä»¶å¾ªç¯çš„åŒºåˆ«</p>
<p><strong>è§£æï¼š</strong></p>
<p><strong>æµè§ˆå™¨</strong></p>
<p><strong>å…³äºå¾®ä»»åŠ¡å’Œå®ä»»åŠ¡åœ¨æµè§ˆå™¨çš„æ‰§è¡Œé¡ºåºæ˜¯è¿™æ ·çš„ï¼š</strong></p>
<ul>
<li>æ‰§è¡Œä¸€åª taskï¼ˆå®ä»»åŠ¡ï¼‰</li>
<li>æ‰§è¡Œå®Œ micro-task é˜Ÿåˆ— ï¼ˆå¾®ä»»åŠ¡ï¼‰</li>
</ul>
<p>å¦‚æ­¤å¾ªç¯å¾€å¤ä¸‹å»</p>
<blockquote>
<p>æµè§ˆå™¨çš„ taskï¼ˆå®ä»»åŠ¡ï¼‰æ‰§è¡Œé¡ºåºåœ¨ <a target="_blank" rel="noopener" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loops">html#event-loops</a> é‡Œé¢æœ‰è®²å°±ä¸ç¿»è¯‘äº†<br>å¸¸è§çš„ taskï¼ˆå®ä»»åŠ¡ï¼‰ æ¯”å¦‚ï¼šsetTimeoutã€setIntervalã€scriptï¼ˆæ•´ä½“ä»£ç ï¼‰ã€ I/O æ“ä½œã€UI æ¸²æŸ“ç­‰ã€‚<br>å¸¸è§çš„ micro-task æ¯”å¦‚: new Promise().then(å›è°ƒ)ã€MutationObserver(html5 æ–°ç‰¹æ€§) ç­‰ã€‚</p>
</blockquote>
<p><img src="https://user-gold-cdn.xitu.io/2019/1/10/1683863633586974?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>
<p><strong>Node</strong></p>
<p>Node çš„äº‹ä»¶å¾ªç¯æ˜¯ libuv å®ç°çš„ï¼Œå¼•ç”¨ä¸€å¼ å®˜ç½‘çš„å›¾ï¼š</p>
<p><img src="https://user-images.githubusercontent.com/20101525/53734427-eba9e880-3ebe-11e9-8511-eb4948e336ae.png"></p>
<p>å¤§ä½“çš„ taskï¼ˆå®ä»»åŠ¡ï¼‰æ‰§è¡Œé¡ºåºæ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li>timers å®šæ—¶å™¨ï¼šæœ¬é˜¶æ®µæ‰§è¡Œå·²ç»å®‰æ’çš„ setTimeout() å’Œ setInterval() çš„å›è°ƒå‡½æ•°ã€‚</li>
<li>pending callbacks å¾…å®šå›è°ƒï¼šæ‰§è¡Œå»¶è¿Ÿåˆ°ä¸‹ä¸€ä¸ªå¾ªç¯è¿­ä»£çš„ I/O å›è°ƒã€‚</li>
<li>idle, prepareï¼šä»…ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨ã€‚</li>
<li>poll è½®è¯¢ï¼šæ£€ç´¢æ–°çš„ I/O äº‹ä»¶;æ‰§è¡Œä¸ I/O ç›¸å…³çš„å›è°ƒï¼ˆå‡ ä¹æ‰€æœ‰æƒ…å†µä¸‹ï¼Œé™¤äº†å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå®ƒä»¬ç”±è®¡æ—¶å™¨å’Œ setImmediate() æ’å®šçš„ä¹‹å¤–ï¼‰ï¼Œå…¶ä½™æƒ…å†µ node å°†åœ¨æ­¤å¤„é˜»å¡ã€‚</li>
<li>check æ£€æµ‹ï¼šsetImmediate() å›è°ƒå‡½æ•°åœ¨è¿™é‡Œæ‰§è¡Œã€‚</li>
<li>close callbacks å…³é—­çš„å›è°ƒå‡½æ•°ï¼šä¸€äº›å‡†å¤‡å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå¦‚ï¼šsocket.on(â€˜closeâ€™, â€¦)ã€‚</li>
</ul>
<p><strong>å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡åœ¨ Node çš„æ‰§è¡Œé¡ºåº</strong></p>
<p>Node 10 ä»¥å‰ï¼š</p>
<ul>
<li>æ‰§è¡Œå®Œä¸€ä¸ªé˜¶æ®µçš„æ‰€æœ‰ä»»åŠ¡</li>
<li>æ‰§è¡Œå®Œ nextTick é˜Ÿåˆ—é‡Œé¢çš„å†…å®¹</li>
<li>ç„¶åæ‰§è¡Œå®Œå¾®ä»»åŠ¡é˜Ÿåˆ—çš„å†…å®¹</li>
</ul>
<p>Node 11 ä»¥åï¼š<br>å’Œæµè§ˆå™¨çš„è¡Œä¸ºç»Ÿä¸€äº†ï¼Œéƒ½æ˜¯æ¯æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡å°±æ‰§è¡Œå®Œå¾®ä»»åŠ¡é˜Ÿåˆ—</p>
<h3 id="ç¬¬-26-é¢˜-ï¼ˆ2019-10-16ï¼‰"><a href="#ç¬¬-26-é¢˜-ï¼ˆ2019-10-16ï¼‰" class="headerlink" title="ç¬¬ 26 é¢˜ ï¼ˆ2019/10/16ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/28">ç¬¬ 26 é¢˜</a> ï¼ˆ2019/10/16ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä»‹ç»æ¨¡å—åŒ–å‘å±•å†ç¨‹</p>
<blockquote>
<p>å¯ä» IIFEã€AMDã€CMDã€CommonJSã€UMDã€webpack(require.ensure)ã€ES Moduleã€<code>&lt;script type=&quot;module&quot;&gt;</code> è¿™å‡ ä¸ªè§’åº¦è€ƒè™‘ã€‚</p>
</blockquote>
<p><strong>è§£æï¼š</strong> <a target="_blank" rel="noopener" href="https://www.processon.com/view/link/5c8409bbe4b02b2ce492286a">es6,amd,smd,commonjs æ€ç»´å¯¼å›¾</a></p>
<p>æ¨¡å—åŒ–ä¸»è¦æ˜¯ç”¨æ¥æŠ½ç¦»å…¬å…±ä»£ç ï¼Œéš”ç¦»ä½œç”¨åŸŸï¼Œé¿å…å˜é‡å†²çªç­‰ã€‚</p>
<p><strong>IIFE</strong>ï¼š ä½¿ç”¨è‡ªæ‰§è¡Œå‡½æ•°æ¥ç¼–å†™æ¨¡å—åŒ–ï¼Œç‰¹ç‚¹ï¼š<strong>åœ¨ä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ä½œç”¨åŸŸä¸­æ‰§è¡Œä»£ç ï¼Œé¿å…å˜é‡å†²çª</strong>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    data: [],</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p><strong>AMD</strong>ï¼š ä½¿ç”¨ requireJS æ¥ç¼–å†™æ¨¡å—åŒ–ï¼Œç‰¹ç‚¹ï¼š<strong>ä¾èµ–å¿…é¡»æå‰å£°æ˜å¥½</strong>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="string">&quot;./index.js&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">code</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// code å°±æ˜¯index.js è¿”å›çš„å†…å®¹</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>CMD</strong>ï¼š ä½¿ç”¨ seaJS æ¥ç¼–å†™æ¨¡å—åŒ–ï¼Œç‰¹ç‚¹ï¼š<strong>æ”¯æŒåŠ¨æ€å¼•å…¥ä¾èµ–æ–‡ä»¶</strong>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params">require, exports, module</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> indexCode = <span class="built_in">require</span>(<span class="string">&quot;./index.js&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>CommonJS</strong>ï¼š nodejs ä¸­è‡ªå¸¦çš„æ¨¡å—åŒ–ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>UMD</strong>ï¼šå…¼å®¹ AMDï¼ŒCommonJS æ¨¡å—åŒ–è¯­æ³•ã€‚</p>
<p>**webpack(require.ensure)**ï¼šwebpack 2.x ç‰ˆæœ¬ä¸­çš„ä»£ç åˆ†å‰²ã€‚</p>
<p><strong>ES Modules</strong>ï¼š ES6 å¼•å…¥çš„æ¨¡å—åŒ–ï¼Œæ”¯æŒ import æ¥å¼•å…¥å¦ä¸€ä¸ª js ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> a <span class="keyword">from</span> <span class="string">&quot;a&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-27-é¢˜-ï¼ˆ2019-10-16ï¼‰"><a href="#ç¬¬-27-é¢˜-ï¼ˆ2019-10-16ï¼‰" class="headerlink" title="ç¬¬ 27 é¢˜ ï¼ˆ2019/10/16ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/30">ç¬¬ 27 é¢˜</a> ï¼ˆ2019/10/16ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œç”¨ const å’Œ let å£°æ˜çš„å˜é‡ä¸åœ¨ window ä¸Šï¼Œé‚£åˆ°åº•åœ¨å“ªé‡Œï¼Ÿå¦‚ä½•å»è·å–ï¼Ÿã€‚</p>
<p><strong>è§£æï¼š</strong></p>
<p>åœ¨ ES5 ä¸­ï¼Œé¡¶å±‚å¯¹è±¡çš„å±æ€§å’Œå…¨å±€å˜é‡æ˜¯ç­‰ä»·çš„ï¼Œvar å‘½ä»¤å’Œ function å‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œè‡ªç„¶ä¹Ÿæ˜¯é¡¶å±‚å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">12</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.a); <span class="comment">// 12</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.f); <span class="comment">// f()&#123;&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä½† ES6 è§„å®šï¼Œvar å‘½ä»¤å’Œ function å‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¾æ—§æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼Œä½† let å‘½ä»¤ã€const å‘½ä»¤ã€class å‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸å±äºé¡¶å±‚å¯¹è±¡çš„å±æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> aa = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> bb = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.aa); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.bb); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p><strong>åœ¨å‡½æ•°çš„å†…éƒ¨å±æ€§<code>[[Scopes]]</code>ä¸­æ‰¾åˆ°äº†</strong></p>
<p><img src="https://user-gold-cdn.xitu.io/2018/12/8/1678e8be5c831804?imageslim"></p>
<blockquote>
<p>å¦‚ä¸Šå›¾ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ç”¨<code>const</code>å£°æ˜çš„å˜é‡åœ¨å‡½æ•°<code>noop</code>ä¸­å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œæ²¡æœ‰é—®é¢˜ã€‚æˆ‘ç”¨<code>dir</code>æ–¹æ³•æ‰“å°å‡ºå‡½æ•°<code>noop</code>çš„å±æ€§ï¼Œæœ€ååœ¨<code>[[Scopes]]</code>å±æ€§å†…æ‰¾åˆ°äº†æ¶ˆå¤±çš„å…¨å±€å˜é‡<code>abcd</code>ã€‚</p>
</blockquote>
<h3 id="ç¬¬-28-é¢˜-ï¼ˆ2019-10-17ï¼‰"><a href="#ç¬¬-28-é¢˜-ï¼ˆ2019-10-17ï¼‰" class="headerlink" title="ç¬¬ 28 é¢˜ ï¼ˆ2019/10/17ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/31">ç¬¬ 28 é¢˜</a> ï¼ˆ2019/10/17ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> cookie å’Œ token éƒ½å­˜æ”¾åœ¨ header ä¸­ï¼Œä¸ºä»€ä¹ˆä¸ä¼šåŠ«æŒ tokenï¼Ÿ</p>
<p><strong>è§£æï¼š</strong></p>
<ol>
<li>é¦–å…ˆ token ä¸æ˜¯é˜²æ­¢ XSS çš„ï¼Œè€Œæ˜¯ä¸ºäº†é˜²æ­¢ CSRF çš„ï¼›</li>
<li>CSRF æ”»å‡»çš„åŸå› æ˜¯æµè§ˆå™¨ä¼šè‡ªåŠ¨å¸¦ä¸Š cookieï¼Œè€Œæµè§ˆå™¨ä¸ä¼šè‡ªåŠ¨å¸¦ä¸Š token</li>
</ol>
<hr>
<blockquote>
<p>cookieï¼šç™»é™†ååç«¯ç”Ÿæˆä¸€ä¸ª sessionid æ”¾åœ¨ cookie ä¸­è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”æœåŠ¡ç«¯ä¸€ç›´è®°å½•ç€è¿™ä¸ª sessionidï¼Œå®¢æˆ·ç«¯ä»¥åæ¯æ¬¡è¯·æ±‚éƒ½ä¼šå¸¦ä¸Šè¿™ä¸ª sessionidï¼ŒæœåŠ¡ç«¯é€šè¿‡è¿™ä¸ª sessionid æ¥éªŒè¯èº«ä»½ä¹‹ç±»çš„æ“ä½œã€‚æ‰€ä»¥åˆ«äººæ‹¿åˆ°äº† cookie æ‹¿åˆ°äº† sessionid åï¼Œå°±å¯ä»¥å®Œå…¨æ›¿ä»£ä½ ã€‚</p>
</blockquote>
<blockquote>
<p>tokenï¼šç™»é™†ååç«¯ä¸è¿”å›ä¸€ä¸ª token ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å°†è¿™ä¸ª token å­˜å‚¨èµ·æ¥ï¼Œç„¶åæ¯æ¬¡å®¢æˆ·ç«¯è¯·æ±‚éƒ½éœ€è¦å¼€å‘è€…æ‰‹åŠ¨å°† token æ”¾åœ¨ header ä¸­å¸¦è¿‡å»ï¼ŒæœåŠ¡ç«¯æ¯æ¬¡åªéœ€è¦å¯¹è¿™ä¸ª token è¿›è¡ŒéªŒè¯å°±èƒ½ä½¿ç”¨ token ä¸­çš„ä¿¡æ¯æ¥è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œäº†ã€‚</p>
</blockquote>
<blockquote>
<p>xssï¼šç”¨æˆ·é€šè¿‡å„ç§æ–¹å¼å°†æ¶æ„ä»£ç æ³¨å…¥åˆ°å…¶ä»–ç”¨æˆ·çš„é¡µé¢ä¸­ã€‚å°±å¯ä»¥é€šè¿‡è„šæœ¬è·å–ä¿¡æ¯ï¼Œå‘èµ·è¯·æ±‚ï¼Œä¹‹ç±»çš„æ“ä½œã€‚</p>
</blockquote>
<blockquote>
<p>csrfï¼šè·¨ç«™è¯·æ±‚æ”»å‡»ï¼Œç®€å•åœ°è¯´ï¼Œæ˜¯æ”»å‡»è€…é€šè¿‡ä¸€äº›æŠ€æœ¯æ‰‹æ®µæ¬ºéª—ç”¨æˆ·çš„æµè§ˆå™¨å»è®¿é—®ä¸€ä¸ªè‡ªå·±æ›¾ç»è®¤è¯è¿‡çš„ç½‘ç«™å¹¶è¿è¡Œä¸€äº›æ“ä½œï¼ˆå¦‚å‘é‚®ä»¶ï¼Œå‘æ¶ˆæ¯ï¼Œç”šè‡³è´¢äº§æ“ä½œå¦‚è½¬è´¦å’Œè´­ä¹°å•†å“ï¼‰ã€‚ç”±äºæµè§ˆå™¨æ›¾ç»è®¤è¯è¿‡ï¼Œæ‰€ä»¥è¢«è®¿é—®çš„ç½‘ç«™ä¼šè®¤ä¸ºæ˜¯çœŸæ­£çš„ç”¨æˆ·æ“ä½œè€Œå»è¿è¡Œã€‚è¿™åˆ©ç”¨äº† web ä¸­ç”¨æˆ·èº«ä»½éªŒè¯çš„ä¸€ä¸ªæ¼æ´ï¼š<strong>ç®€å•çš„èº«ä»½éªŒè¯åªèƒ½ä¿è¯è¯·æ±‚å‘è‡ªæŸä¸ªç”¨æˆ·çš„æµè§ˆå™¨ï¼Œå´ä¸èƒ½ä¿è¯è¯·æ±‚æœ¬èº«æ˜¯ç”¨æˆ·è‡ªæ„¿å‘å‡ºçš„</strong>ã€‚csrf å¹¶ä¸èƒ½å¤Ÿæ‹¿åˆ°ç”¨æˆ·çš„ä»»ä½•ä¿¡æ¯ï¼Œå®ƒåªæ˜¯æ¬ºéª—ç”¨æˆ·æµè§ˆå™¨ï¼Œè®©å…¶ä»¥ç”¨æˆ·çš„åä¹‰è¿›è¡Œæ“ä½œã€‚</p>
</blockquote>
<blockquote>
<p>csrf ä¾‹å­ï¼šå‡å¦‚ä¸€å®¶é“¶è¡Œç”¨ä»¥è¿è¡Œè½¬è´¦æ“ä½œçš„ URL åœ°å€å¦‚ä¸‹ï¼š <a target="_blank" rel="noopener" href="http://www.examplebank.com/withdraw?account=AccoutName&amp;amount=1000&amp;for=PayeeName">http://www.examplebank.com/withdraw?account=AccoutName&amp;amount=1000&amp;for=PayeeName</a><br>é‚£ä¹ˆï¼Œä¸€ä¸ªæ¶æ„æ”»å‡»è€…å¯ä»¥åœ¨å¦ä¸€ä¸ªç½‘ç«™ä¸Šæ”¾ç½®å¦‚ä¸‹ä»£ç ï¼š <code>&lt;img src=&quot;&lt;http://www.examplebank.com/withdraw?account=Alice&amp;amount=1000&amp;for=Badman&gt;&quot;&gt;</code><br>å¦‚æœæœ‰è´¦æˆ·åä¸º Alice çš„ç”¨æˆ·è®¿é—®äº†æ¶æ„ç«™ç‚¹ï¼Œè€Œå¥¹ä¹‹å‰åˆšè®¿é—®è¿‡é“¶è¡Œä¸ä¹…ï¼Œç™»å½•ä¿¡æ¯å°šæœªè¿‡æœŸï¼Œé‚£ä¹ˆå¥¹å°±ä¼šæŸå¤± 1000 èµ„é‡‘ã€‚</p>
</blockquote>
<p>ä¸Šé¢çš„ä¸¤ç§æ”»å‡»æ–¹å¼ï¼Œå¦‚æœè¢« xss æ”»å‡»äº†ï¼Œä¸ç®¡æ˜¯ token è¿˜æ˜¯ cookieï¼Œéƒ½èƒ½è¢«æ‹¿åˆ°ï¼Œæ‰€ä»¥å¯¹äº xss æ”»å‡»æ¥è¯´ï¼Œcookie å’Œ token æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚ä½†æ˜¯å¯¹äº csrf æ¥è¯´å°±æœ‰åŒºåˆ«äº†ã€‚</p>
<p>ä»¥ä¸Šé¢çš„ csrf æ”»å‡»ä¸ºä¾‹ï¼š</p>
<ul>
<li>cookieï¼šç”¨æˆ·ç‚¹å‡»äº†é“¾æ¥ï¼Œcookie æœªå¤±æ•ˆï¼Œå¯¼è‡´å‘èµ·è¯·æ±‚ååç«¯ä»¥ä¸ºæ˜¯ç”¨æˆ·æ­£å¸¸æ“ä½œï¼Œäºæ˜¯è¿›è¡Œæ‰£æ¬¾æ“ä½œã€‚</li>
<li>tokenï¼šç”¨æˆ·ç‚¹å‡»é“¾æ¥ï¼Œç”±äºæµè§ˆå™¨ä¸ä¼šè‡ªåŠ¨å¸¦ä¸Š tokenï¼Œæ‰€ä»¥å³ä½¿å‘äº†è¯·æ±‚ï¼Œåç«¯çš„ token éªŒè¯ä¸ä¼šé€šè¿‡ï¼Œæ‰€ä»¥ä¸ä¼šè¿›è¡Œæ‰£æ¬¾æ“ä½œã€‚</li>
</ul>
<p>è¿™æ˜¯ä¸ªäººç†è§£çš„ä¸ºä»€ä¹ˆåªåŠ«æŒ cookie ä¸åŠ«æŒ token çš„åŸå› ã€‚</p>
<h3 id="ç¬¬-29-é¢˜-ï¼ˆ2019-10-17ï¼‰"><a href="#ç¬¬-29-é¢˜-ï¼ˆ2019-10-17ï¼‰" class="headerlink" title="ç¬¬ 29 é¢˜  ï¼ˆ2019/10/17ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/34">ç¬¬ 29 é¢˜ </a> ï¼ˆ2019/10/17ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> èŠèŠ Vue çš„åŒå‘æ•°æ®ç»‘å®šï¼ŒModel å¦‚ä½•æ”¹å˜ Viewï¼ŒView åˆæ˜¯å¦‚ä½•æ”¹å˜ Model çš„</p>
<p><strong>è§£æï¼š</strong></p>
<p>VM ä¸»è¦åšäº†ä¸¤ä»¶å¾®å°çš„äº‹æƒ…ï¼š</p>
<ul>
<li>ä» M åˆ° V çš„æ˜ å°„ï¼ˆData Bindingï¼‰ï¼Œè¿™æ ·å¯ä»¥å¤§é‡èŠ‚çœä½ äººè‚‰æ¥ update View çš„ä»£ç ï¼ˆå°†æ•°æ®ç»‘å®šåˆ° viewï¼‰</li>
<li>ä» V åˆ° M çš„äº‹ä»¶ç›‘å¬ï¼ˆDOM Listenersï¼‰ï¼Œè¿™æ ·ä½ çš„ Model ä¼šéšç€ View è§¦å‘äº‹ä»¶è€Œæ”¹å˜ ï¼ˆview æ”¹å˜çš„æ—¶å€™æ”¹å˜æ•°æ®ï¼‰</li>
</ul>
<p><strong>1ã€M åˆ° V å®ç°</strong></p>
<p>åšåˆ°è¿™ä»¶äº‹çš„ç¬¬ä¸€æ­¥æ˜¯å½¢æˆç±»ä¼¼äºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// template</span></span><br><span class="line"><span class="keyword">var</span> tpl = <span class="string">&#x27;&lt;p&gt;&#123;&#123; text &#125;&#125;&lt;/p&gt;&#x27;</span>;</span><br><span class="line"><span class="comment">// data</span></span><br><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">text: â€˜This is some textâ€˜</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// magic process</span></span><br><span class="line">template(tpl, data); <span class="comment">// &#x27;&lt;p&gt;This is some text&lt;/p&gt;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸­é—´çš„ magic process æ˜¯æ¨¡æ¿å¼•æ“æ‰€åšçš„äº‹æƒ…ï¼Œå·²ç»æœ‰éå¸¸å¤šç§æ¨¡æ¿å¼•æ“å¯ä¾›é€‰æ‹©</p>
<ul>
<li><a href="https://link.zhihu.com/?target=https://developer.mozilla.org/en/docs/JavaScript_templates">JavaScript templates</a></li>
</ul>
<p>å½“ç„¶ä½ æ¯”è¾ƒå–œæ¬¢é€ è½®å­çš„è¯ä¹Ÿå¯ä»¥è‡ªå·±å®ç°ä¸€ä¸ª</p>
<ul>
<li><a href="https://link.zhihu.com/?target=http://kyleslight.net/article/27">ä¸€ä¸ª JavaScript æ¨¡æ¿å¼•æ“çš„å®ç°</a></li>
</ul>
<p>æ— è®ºæ˜¯ Angular çš„ $scopeï¼ŒReact çš„ state è¿˜æ˜¯ Vue çš„ data éƒ½æä¾›äº†ä¸€ä¸ªè¾ƒä¸ºæ ¸å¿ƒçš„ model å¯¹è±¡ç”¨æ¥ä¿å­˜æ¨¡å‹çš„çŠ¶æ€ï¼›å®ƒä»¬çš„æ¨¡æ¿å¼•æ“ç¨æœ‰å·®åˆ«ï¼Œä¸è¿‡å¤§ä½“æ€è·¯ç›¸ä¼¼ï¼›æ‹¿åˆ°æ¸²æŸ“åçš„ string æ¥ä¸‹æ¥åšä»€ä¹ˆä¸è¨€è€Œå–»äº†ï¼ˆä¸­é—´è¿˜æœ‰å¾ˆå¤šå¤„ç†ï¼Œä¾‹å¦‚åˆ©ç”¨ model çš„ diff æ¥æœ€å°é‡æ›´æ–° view ï¼‰ã€‚</p>
<p>ä½†æ˜¯ä»…ä»…æ˜¯è¿™æ ·å¹¶ä¸å¤Ÿï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä»€ä¹ˆæ—¶å€™æ¥æ›´æ–° viewï¼ˆ å³ render ï¼‰ï¼Œä¸€èˆ¬æ¥è¯´ä¸»è¦çš„ VM åšäº†ä»¥ä¸‹å‡ ç§é€‰æ‹©ï¼š</p>
<ul>
<li>VM å®ä¾‹åˆå§‹åŒ–æ—¶</li>
<li>model åŠ¨æ€ä¿®æ”¹æ—¶</li>
</ul>
<p>å…¶ä¸­åˆå§‹åŒ–æ‹¿åˆ° model å¯¹è±¡ç„¶å render æ²¡ä»€ä¹ˆå¥½è®²çš„ï¼›model è¢«ä¿®æ”¹çš„æ—¶å€™å¦‚ä½•ç›‘å¬å±æ€§çš„æ”¹å˜æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œç›®å‰æœ‰ä»¥ä¸‹å‡ ç§æ€è·¯ï¼š</p>
<ul>
<li>å€ŸåŠ©äº Object çš„ observe æ–¹æ³•</li>
<li>è‡ªå·±åœ¨ setï¼Œä»¥åŠæ•°ç»„çš„å¸¸ç”¨æ“ä½œé‡Œè§¦å‘ change äº‹ä»¶</li>
<li>æ‰‹åŠ¨ setState()ï¼Œç„¶ååœ¨é‡Œé¢è§¦å‘ change äº‹ä»¶</li>
</ul>
<p>çŸ¥é“äº†è§¦å‘ render çš„æ—¶æœºä»¥åŠå¦‚ä½• renderï¼Œä¸€ä¸ªç®€å•çš„ M åˆ° V æ˜ å°„å°±å®ç°äº†ã€‚</p>
<p><strong>2ã€V åˆ° M å®ç°</strong></p>
<p>ä» V åˆ° M ä¸»è¦ç”±ä¸¤ç±»ï¼ˆ è™½ç„¶æœ¬è´¨ä¸Šéƒ½æ˜¯ç›‘å¬ DOM ï¼‰æ„æˆï¼Œä¸€ç±»æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ listenerï¼Œ ä¸€ç±»æ˜¯ VM è‡ªåŠ¨å¤„ç†çš„å«æœ‰ value å±æ€§å…ƒç´ çš„ listener</p>
<p>ç¬¬ä¸€ç±»ç±»ä¼¼äºä½ åœ¨ Vue é‡Œç”¨ v-on æ—¶ç»‘å®šçš„é‚£æ ·ï¼ŒVM åœ¨å®ä¾‹åŒ–å¾—æ—¶å€™å¯ä»¥å°†æ‰€æœ‰ç”¨æˆ·è‡ªå®šä¹‰çš„ listener ä¸€æ¬¡æ€§ä»£ç†åˆ°æ ¹å…ƒç´ ä¸Šï¼Œè¿™äº› listener å¯ä»¥è®¿é—®åˆ°ä½ çš„ model å¯¹è±¡ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨ listener ä¸­æ”¹å˜ model</p>
<p>ç¬¬äºŒç±»ç±»ä¼¼äºå¯¹å«æœ‰ v-model ä¸ value å…ƒç´ çš„è‡ªåŠ¨å¤„ç†ï¼Œæˆ‘ä»¬æœŸæœ›çš„æ˜¯ä¾‹å¦‚åœ¨ä¸€ä¸ªè¾“å…¥æ¡†å†…</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> v-model=<span class="string">&quot;message&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>

<p>è¾“å…¥å€¼ï¼Œé‚£ä¹ˆæˆ‘ä¸ä¹‹å¯¹åº”çš„ model å±æ€§ message ä¹Ÿä¼šéšä¹‹æ”¹å˜ï¼Œç›¸å½“äº VM åšäº†ä¸€ä¸ªé»˜è®¤çš„ listenerï¼Œå®ƒä¼šç›‘å¬è¿™äº›å…ƒç´ çš„æ”¹å˜ç„¶åè‡ªåŠ¨æ”¹å˜ modelï¼Œå…·ä½“å¦‚ä½•å®ç°ç›¸ä¿¡ä½ ä¹Ÿæ˜ç™½äº†</p>
<h3 id="ç¬¬-30-é¢˜-ï¼ˆ2019-10-18ï¼‰"><a href="#ç¬¬-30-é¢˜-ï¼ˆ2019-10-18ï¼‰" class="headerlink" title="ç¬¬ 30 é¢˜ ï¼ˆ2019/10/18ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/39">ç¬¬ 30 é¢˜</a> ï¼ˆ2019/10/18ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä¸¤ä¸ªæ•°ç»„åˆå¹¶æˆä¸€ä¸ªæ•°ç»„</p>
<blockquote>
<p>è¯·æŠŠä¸¤ä¸ªæ•°ç»„ [â€˜A1â€™, â€˜A2â€™, â€˜B1â€™, â€˜B2â€™, â€˜C1â€™, â€˜C2â€™, â€˜D1â€™, â€˜D2â€™] å’Œ [â€˜Aâ€™, â€˜Bâ€™, â€˜Câ€™, â€˜Dâ€™]ï¼Œåˆå¹¶ä¸º [â€˜A1â€™, â€˜A2â€™, â€˜Aâ€™, â€˜B1â€™, â€˜B2â€™, â€˜Bâ€™, â€˜C1â€™, â€˜C2â€™, â€˜Câ€™, â€˜D1â€™, â€˜D2â€™, â€˜Dâ€™]ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MergeArray</span>(<span class="params">arr1, arr2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a2 = arr2.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> item + <span class="number">3</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">var</span> arr = [...arr1, ...a2].sort();</span><br><span class="line">  <span class="keyword">return</span> arr.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.includes(<span class="number">3</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span> item.split(<span class="string">&quot;&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> item;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-31-é¢˜-ï¼ˆ2019-10-18ï¼‰"><a href="#ç¬¬-31-é¢˜-ï¼ˆ2019-10-18ï¼‰" class="headerlink" title="ç¬¬ 31 é¢˜ ï¼ˆ2019/10/18ï¼‰"></a>ç¬¬ 31 é¢˜ ï¼ˆ2019/10/18ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> æ”¹é€ ä¸‹é¢çš„ä»£ç ï¼Œä½¿ä¹‹è¾“å‡º 0 - 9ï¼Œå†™å‡ºä½ èƒ½æƒ³åˆ°çš„æ‰€æœ‰è§£æ³•ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æï¼š</strong></p>
<ol>
<li>ä½¿ç”¨é—­åŒ…ï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  (<span class="function">(<span class="params">i</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;)(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä½¿ç”¨ let</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-32-é¢˜-ï¼ˆ2019-10-19ï¼‰"><a href="#ç¬¬-32-é¢˜-ï¼ˆ2019-10-19ï¼‰" class="headerlink" title="ç¬¬ 32 é¢˜ ï¼ˆ2019/10/19ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/47">ç¬¬ 32 é¢˜</a> ï¼ˆ2019/10/19ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> Virtual DOM çœŸçš„æ¯”æ“ä½œåŸç”Ÿ DOM å¿«å—ï¼Ÿè°ˆè°ˆä½ çš„æƒ³æ³•ã€‚</p>
<p><strong>è§£æï¼š</strong></p>
<p>ä½œè€…ï¼šå°¤é›¨æºª</p>
<p>é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/31809713/answer/53544875">https://www.zhihu.com/question/31809713/answer/53544875</a></p>
<p>æ¥æºï¼šçŸ¥ä¹</p>
<p>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<p><strong>1. åŸç”Ÿ DOM æ“ä½œ vs. é€šè¿‡æ¡†æ¶å°è£…æ“ä½œã€‚</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªæ€§èƒ½ vs. å¯ç»´æŠ¤æ€§çš„å–èˆã€‚æ¡†æ¶çš„æ„ä¹‰åœ¨äºä¸ºä½ æ©ç›–åº•å±‚çš„ DOM æ“ä½œï¼Œè®©ä½ ç”¨æ›´å£°æ˜å¼çš„æ–¹å¼æ¥æè¿°ä½ çš„ç›®çš„ï¼Œä»è€Œè®©ä½ çš„ä»£ç æ›´å®¹æ˜“ç»´æŠ¤ã€‚æ²¡æœ‰ä»»ä½•æ¡†æ¶å¯ä»¥æ¯”çº¯æ‰‹åŠ¨çš„ä¼˜åŒ– DOM æ“ä½œæ›´å¿«ï¼Œå› ä¸ºæ¡†æ¶çš„ DOM æ“ä½œå±‚éœ€è¦åº”å¯¹ä»»ä½•ä¸Šå±‚ API å¯èƒ½äº§ç”Ÿçš„æ“ä½œï¼Œå®ƒçš„å®ç°å¿…é¡»æ˜¯æ™®é€‚çš„ã€‚é’ˆå¯¹ä»»ä½•ä¸€ä¸ª benchmarkï¼Œæˆ‘éƒ½å¯ä»¥å†™å‡ºæ¯”ä»»ä½•æ¡†æ¶æ›´å¿«çš„æ‰‹åŠ¨ä¼˜åŒ–ï¼Œä½†æ˜¯é‚£æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿåœ¨æ„å»ºä¸€ä¸ªå®é™…åº”ç”¨çš„æ—¶å€™ï¼Œä½ éš¾é“ä¸ºæ¯ä¸€ä¸ªåœ°æ–¹éƒ½å»åšæ‰‹åŠ¨ä¼˜åŒ–å—ï¼Ÿå‡ºäºå¯ç»´æŠ¤æ€§çš„è€ƒè™‘ï¼Œè¿™æ˜¾ç„¶ä¸å¯èƒ½ã€‚æ¡†æ¶ç»™ä½ çš„ä¿è¯æ˜¯ï¼Œä½ åœ¨ä¸éœ€è¦æ‰‹åŠ¨ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä¾ç„¶å¯ä»¥ç»™ä½ æä¾›è¿‡å¾—å»çš„æ€§èƒ½ã€‚</p>
<p><strong>2. å¯¹ React çš„ Virtual DOM çš„è¯¯è§£ã€‚</strong></p>
<p>React ä»æ¥æ²¡æœ‰è¯´è¿‡ â€œReact æ¯”åŸç”Ÿæ“ä½œ DOM å¿«â€ã€‚React çš„åŸºæœ¬æ€ç»´æ¨¡å¼æ˜¯æ¯æ¬¡æœ‰å˜åŠ¨å°±æ•´ä¸ªé‡æ–°æ¸²æŸ“æ•´ä¸ªåº”ç”¨ã€‚å¦‚æœæ²¡æœ‰ Virtual DOMï¼Œç®€å•æ¥æƒ³å°±æ˜¯ç›´æ¥é‡ç½® innerHTMLã€‚å¾ˆå¤šäººéƒ½æ²¡æœ‰æ„è¯†åˆ°ï¼Œåœ¨ä¸€ä¸ªå¤§å‹åˆ—è¡¨æ‰€æœ‰æ•°æ®éƒ½å˜äº†çš„æƒ…å†µä¸‹ï¼Œé‡ç½® innerHTML å…¶å®æ˜¯ä¸€ä¸ªè¿˜ç®—åˆç†çš„æ“ä½œâ€¦ çœŸæ­£çš„é—®é¢˜æ˜¯åœ¨ â€œå…¨éƒ¨é‡æ–°æ¸²æŸ“â€ çš„æ€ç»´æ¨¡å¼ä¸‹ï¼Œå³ä½¿åªæœ‰ä¸€è¡Œæ•°æ®å˜äº†ï¼Œå®ƒä¹Ÿéœ€è¦é‡ç½®æ•´ä¸ª innerHTMLï¼Œè¿™æ—¶å€™æ˜¾ç„¶å°±æœ‰å¤§é‡çš„æµªè´¹ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒä¸€ä¸‹ innerHTML vs. Virtual DOM çš„é‡ç»˜æ€§èƒ½æ¶ˆè€—ï¼š</p>
<ul>
<li>innerHTML: render html string <strong>O(template size)</strong> + é‡æ–°åˆ›å»ºæ‰€æœ‰ DOM å…ƒç´  <strong>O(DOM size)</strong></li>
<li>Virtual DOM: render Virtual DOM + diff <strong>O(template size)</strong> + å¿…è¦çš„ DOM æ›´æ–° <strong>O(DOM change)</strong></li>
</ul>
<p>Virtual DOM render + diff æ˜¾ç„¶æ¯”æ¸²æŸ“ html å­—ç¬¦ä¸²è¦æ…¢ï¼Œä½†æ˜¯ï¼å®ƒä¾ç„¶æ˜¯çº¯ js å±‚é¢çš„è®¡ç®—ï¼Œæ¯”èµ·åé¢çš„ DOM æ“ä½œæ¥è¯´ï¼Œä¾ç„¶ä¾¿å®œäº†å¤ªå¤šã€‚å¯ä»¥çœ‹åˆ°ï¼ŒinnerHTML çš„æ€»è®¡ç®—é‡ä¸ç®¡æ˜¯ js è®¡ç®—è¿˜æ˜¯ DOM æ“ä½œéƒ½æ˜¯å’Œæ•´ä¸ªç•Œé¢çš„å¤§å°ç›¸å…³ï¼Œä½† Virtual DOM çš„è®¡ç®—é‡é‡Œé¢ï¼Œåªæœ‰ js è®¡ç®—å’Œç•Œé¢å¤§å°ç›¸å…³ï¼ŒDOM æ“ä½œæ˜¯å’Œæ•°æ®çš„å˜åŠ¨é‡ç›¸å…³çš„ã€‚å‰é¢è¯´äº†ï¼Œå’Œ DOM æ“ä½œæ¯”èµ·æ¥ï¼Œjs è®¡ç®—æ˜¯æå…¶ä¾¿å®œçš„ã€‚è¿™æ‰æ˜¯ä¸ºä»€ä¹ˆè¦æœ‰ Virtual DOMï¼šå®ƒä¿è¯äº† 1ï¼‰ä¸ç®¡ä½ çš„æ•°æ®å˜åŒ–å¤šå°‘ï¼Œæ¯æ¬¡é‡ç»˜çš„æ€§èƒ½éƒ½å¯ä»¥æ¥å—ï¼›2) ä½ ä¾ç„¶å¯ä»¥ç”¨ç±»ä¼¼ innerHTML çš„æ€è·¯å»å†™ä½ çš„åº”ç”¨ã€‚</p>
<p><strong>3. MVVM vs. Virtual DOM</strong></p>
<p>ç›¸æ¯”èµ· Reactï¼Œå…¶ä»– MVVM ç³»æ¡†æ¶æ¯”å¦‚ Angular, Knockout ä»¥åŠ Vueã€Avalon é‡‡ç”¨çš„éƒ½æ˜¯æ•°æ®ç»‘å®šï¼šé€šè¿‡ Directive/Binding å¯¹è±¡ï¼Œè§‚å¯Ÿæ•°æ®å˜åŒ–å¹¶ä¿ç•™å¯¹å®é™… DOM å…ƒç´ çš„å¼•ç”¨ï¼Œå½“æœ‰æ•°æ®å˜åŒ–æ—¶è¿›è¡Œå¯¹åº”çš„æ“ä½œã€‚MVVM çš„å˜åŒ–æ£€æŸ¥æ˜¯æ•°æ®å±‚é¢çš„ï¼Œè€Œ React çš„æ£€æŸ¥æ˜¯ DOM ç»“æ„å±‚é¢çš„ã€‚MVVM çš„æ€§èƒ½ä¹Ÿæ ¹æ®å˜åŠ¨æ£€æµ‹çš„å®ç°åŸç†æœ‰æ‰€ä¸åŒï¼šAngular çš„è„æ£€æŸ¥ä½¿å¾—ä»»ä½•å˜åŠ¨éƒ½æœ‰å›ºå®šçš„</p>
<p>O(watcher count)</p>
<p>çš„ä»£ä»·ï¼›Knockout/Vue/Avalon éƒ½é‡‡ç”¨äº†ä¾èµ–æ”¶é›†ï¼Œåœ¨ js å’Œ DOM å±‚é¢éƒ½æ˜¯</p>
<p>O(change)</p>
<p>ï¼š</p>
<ul>
<li>è„æ£€æŸ¥ï¼šscope digest <strong>O(watcher count)</strong> + å¿…è¦ DOM æ›´æ–° <strong>O(DOM change)</strong></li>
<li>ä¾èµ–æ”¶é›†ï¼šé‡æ–°æ”¶é›†ä¾èµ– <strong>O(data change)</strong> + å¿…è¦ DOM æ›´æ–° <strong>O(DOM change)</strong></li>
</ul>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒAngular æœ€ä¸æ•ˆç‡çš„åœ°æ–¹åœ¨äºä»»ä½•å°å˜åŠ¨éƒ½æœ‰çš„å’Œ watcher æ•°é‡ç›¸å…³çš„æ€§èƒ½ä»£ä»·ã€‚ä½†æ˜¯ï¼å½“æ‰€æœ‰æ•°æ®éƒ½å˜äº†çš„æ—¶å€™ï¼ŒAngular å…¶å®å¹¶ä¸åƒäºã€‚ä¾èµ–æ”¶é›†åœ¨åˆå§‹åŒ–å’Œæ•°æ®å˜åŒ–çš„æ—¶å€™éƒ½éœ€è¦é‡æ–°æ”¶é›†ä¾èµ–ï¼Œè¿™ä¸ªä»£ä»·åœ¨å°é‡æ›´æ–°çš„æ—¶å€™å‡ ä¹å¯ä»¥å¿½ç•¥ï¼Œä½†åœ¨æ•°æ®é‡åºå¤§çš„æ—¶å€™ä¹Ÿä¼šäº§ç”Ÿä¸€å®šçš„æ¶ˆè€—ã€‚</p>
<p>MVVM æ¸²æŸ“åˆ—è¡¨çš„æ—¶å€™ï¼Œç”±äºæ¯ä¸€è¡Œéƒ½æœ‰è‡ªå·±çš„æ•°æ®ä½œç”¨åŸŸï¼Œæ‰€ä»¥é€šå¸¸éƒ½æ˜¯æ¯ä¸€è¡Œæœ‰ä¸€ä¸ªå¯¹åº”çš„ ViewModel å®ä¾‹ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªç¨å¾®è½»é‡ä¸€äº›çš„åˆ©ç”¨åŸå‹ç»§æ‰¿çš„ â€œscopeâ€ å¯¹è±¡ï¼Œä½†ä¹Ÿæœ‰ä¸€å®šçš„ä»£ä»·ã€‚æ‰€ä»¥ï¼ŒMVVM åˆ—è¡¨æ¸²æŸ“çš„åˆå§‹åŒ–å‡ ä¹ä¸€å®šæ¯” React æ…¢ï¼Œå› ä¸ºåˆ›å»º ViewModel / scope å®ä¾‹æ¯”èµ· Virtual DOM æ¥è¯´è¦æ˜‚è´µå¾ˆå¤šã€‚è¿™é‡Œæ‰€æœ‰ MVVM å®ç°çš„ä¸€ä¸ªå…±åŒé—®é¢˜å°±æ˜¯åœ¨åˆ—è¡¨æ¸²æŸ“çš„æ•°æ®æºå˜åŠ¨æ—¶ï¼Œå°¤å…¶æ˜¯å½“æ•°æ®æ˜¯å…¨æ–°çš„å¯¹è±¡æ—¶ï¼Œå¦‚ä½•æœ‰æ•ˆåœ°å¤ç”¨å·²ç»åˆ›å»ºçš„ ViewModel å®ä¾‹å’Œ DOM å…ƒç´ ã€‚å‡å¦‚æ²¡æœ‰ä»»ä½•å¤ç”¨æ–¹é¢çš„ä¼˜åŒ–ï¼Œç”±äºæ•°æ®æ˜¯ â€œå…¨æ–°â€ çš„ï¼ŒMVVM å®é™…ä¸Šéœ€è¦é”€æ¯ä¹‹å‰çš„æ‰€æœ‰å®ä¾‹ï¼Œé‡æ–°åˆ›å»ºæ‰€æœ‰å®ä¾‹ï¼Œæœ€åå†è¿›è¡Œä¸€æ¬¡æ¸²æŸ“ï¼è¿™å°±æ˜¯ä¸ºä»€ä¹ˆé¢˜ç›®é‡Œé“¾æ¥çš„ angular/knockout å®ç°éƒ½ç›¸å¯¹æ¯”è¾ƒæ…¢ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒReact çš„å˜åŠ¨æ£€æŸ¥ç”±äºæ˜¯ DOM ç»“æ„å±‚é¢çš„ï¼Œå³ä½¿æ˜¯å…¨æ–°çš„æ•°æ®ï¼Œåªè¦æœ€åæ¸²æŸ“ç»“æœæ²¡å˜ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦åšæ— ç”¨åŠŸã€‚</p>
<p>Angular å’Œ Vue éƒ½æä¾›äº†åˆ—è¡¨é‡ç»˜çš„ä¼˜åŒ–æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯ â€œæç¤ºâ€ æ¡†æ¶å¦‚ä½•æœ‰æ•ˆåœ°å¤ç”¨å®ä¾‹å’Œ DOM å…ƒç´ ã€‚æ¯”å¦‚æ•°æ®åº“é‡Œçš„åŒä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨ä¸¤æ¬¡å‰ç«¯ API è°ƒç”¨é‡Œé¢ä¼šæˆä¸ºä¸åŒçš„å¯¹è±¡ï¼Œä½†æ˜¯å®ƒä»¬ä¾ç„¶æœ‰ä¸€æ ·çš„ uidã€‚è¿™æ—¶å€™ä½ å°±å¯ä»¥æç¤º track by uid æ¥è®© Angular çŸ¥é“ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡å…¶å®æ˜¯åŒä¸€ä»½æ•°æ®ã€‚é‚£ä¹ˆåŸæ¥è¿™ä»½æ•°æ®å¯¹åº”çš„å®ä¾‹å’Œ DOM å…ƒç´ éƒ½å¯ä»¥å¤ç”¨ï¼Œåªéœ€è¦æ›´æ–°å˜åŠ¨äº†çš„éƒ¨åˆ†ã€‚æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ track by $index æ¥è¿›è¡Œ â€œåŸåœ°å¤ç”¨â€ï¼šç›´æ¥æ ¹æ®åœ¨æ•°ç»„é‡Œçš„ä½ç½®è¿›è¡Œå¤ç”¨ã€‚åœ¨é¢˜ç›®ç»™å‡ºçš„ä¾‹å­é‡Œï¼Œå¦‚æœ angular å®ç°åŠ ä¸Š track by $index çš„è¯ï¼Œåç»­é‡ç»˜æ˜¯ä¸ä¼šæ¯” React æ…¢å¤šå°‘çš„ã€‚ç”šè‡³åœ¨ dbmonster æµ‹è¯•ä¸­ï¼ŒAngular å’Œ Vue ç”¨äº† track by $index ä»¥åéƒ½æ¯” React å¿«: <a href="https://link.zhihu.com/?target=http://vuejs.github.io/js-repaint-perfs/">dbmon</a> (æ³¨æ„ Angular é»˜è®¤ç‰ˆæœ¬æ— ä¼˜åŒ–ï¼Œä¼˜åŒ–è¿‡çš„åœ¨ä¸‹é¢ï¼‰</p>
<p>é¡ºé“è¯´ä¸€å¥ï¼ŒReact æ¸²æŸ“åˆ—è¡¨çš„æ—¶å€™ä¹Ÿéœ€è¦æä¾› key è¿™ä¸ªç‰¹æ®Š propï¼Œæœ¬è´¨ä¸Šå’Œ track-by æ˜¯ä¸€å›äº‹ã€‚</p>
<p><strong>4. æ€§èƒ½æ¯”è¾ƒä¹Ÿè¦çœ‹åœºåˆ</strong></p>
<p>åœ¨æ¯”è¾ƒæ€§èƒ½çš„æ—¶å€™ï¼Œè¦åˆ†æ¸…æ¥šåˆå§‹æ¸²æŸ“ã€å°é‡æ•°æ®æ›´æ–°ã€å¤§é‡æ•°æ®æ›´æ–°è¿™äº›ä¸åŒçš„åœºåˆã€‚Virtual DOMã€è„æ£€æŸ¥ MVVMã€æ•°æ®æ”¶é›† MVVM åœ¨ä¸åŒåœºåˆå„æœ‰ä¸åŒçš„è¡¨ç°å’Œä¸åŒçš„ä¼˜åŒ–éœ€æ±‚ã€‚Virtual DOM ä¸ºäº†æå‡å°é‡æ•°æ®æ›´æ–°æ—¶çš„æ€§èƒ½ï¼Œä¹Ÿéœ€è¦é’ˆå¯¹æ€§çš„ä¼˜åŒ–ï¼Œæ¯”å¦‚ shouldComponentUpdate æˆ–æ˜¯ immutable dataã€‚</p>
<ul>
<li>åˆå§‹æ¸²æŸ“ï¼šVirtual DOM &gt; è„æ£€æŸ¥ &gt;= ä¾èµ–æ”¶é›†</li>
<li>å°é‡æ•°æ®æ›´æ–°ï¼šä¾èµ–æ”¶é›† &gt;&gt; Virtual DOM + ä¼˜åŒ– &gt; è„æ£€æŸ¥ï¼ˆæ— æ³•ä¼˜åŒ–ï¼‰ &gt; Virtual DOM æ— ä¼˜åŒ–</li>
<li>å¤§é‡æ•°æ®æ›´æ–°ï¼šè„æ£€æŸ¥ + ä¼˜åŒ– &gt;= ä¾èµ–æ”¶é›† + ä¼˜åŒ– &gt; Virtual DOMï¼ˆæ— æ³•/æ— éœ€ä¼˜åŒ–ï¼‰&gt;&gt; MVVM æ— ä¼˜åŒ–</li>
</ul>
<p>ä¸è¦å¤©çœŸåœ°ä»¥ä¸º Virtual DOM å°±æ˜¯å¿«ï¼Œdiff ä¸æ˜¯å…è´¹çš„ï¼Œbatching ä¹ˆ MVVM ä¹Ÿèƒ½åšï¼Œè€Œä¸”æœ€ç»ˆ patch çš„æ—¶å€™è¿˜ä¸æ˜¯è¦ç”¨åŸç”Ÿ APIã€‚åœ¨æˆ‘çœ‹æ¥ Virtual DOM çœŸæ­£çš„ä»·å€¼ä»æ¥éƒ½ä¸æ˜¯æ€§èƒ½ï¼Œè€Œæ˜¯å®ƒ 1) ä¸ºå‡½æ•°å¼çš„ UI ç¼–ç¨‹æ–¹å¼æ‰“å¼€äº†å¤§é—¨ï¼›2) å¯ä»¥æ¸²æŸ“åˆ° DOM ä»¥å¤–çš„ backendï¼Œæ¯”å¦‚ ReactNativeã€‚</p>
<h3 id="ç¬¬-33-é¢˜-ï¼ˆ2019-10-20ï¼‰"><a href="#ç¬¬-33-é¢˜-ï¼ˆ2019-10-20ï¼‰" class="headerlink" title="ç¬¬ 33 é¢˜ ï¼ˆ2019/10/20ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/48">ç¬¬ 33 é¢˜</a> ï¼ˆ2019/10/20ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä¸‹é¢çš„ä»£ç æ‰“å°ä»€ä¹ˆå†…å®¹ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  b = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p><strong>è§£æï¼š</strong></p>
<p>éä¸¥æ ¼æ¨¡å¼ï¼šã€è¾“å‡ºå‡½æ•°ä½“ã€‘</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Æ’ b()&#123;</span><br><span class="line">    b = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸¥æ ¼æ¨¡å¼ï¼šã€æŠ¥é”™ã€‘</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&quot;Uncaught TypeError: Assignment to constant variable.&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>é’ˆå¯¹è¿™é¢˜ï¼Œåœ¨çŸ¥ä¹ä¸Šçœ‹åˆ°åˆ«äººçš„å›ç­”è¯´ï¼š</p>
<ol>
<li>å‡½æ•°è¡¨è¾¾å¼ä¸å‡½æ•°å£°æ˜ä¸åŒï¼Œå‡½æ•°ååªåœ¨è¯¥å‡½æ•°å†…éƒ¨æœ‰æ•ˆï¼Œå¹¶ä¸”æ­¤ç»‘å®šæ˜¯å¸¸é‡ç»‘å®šã€‚</li>
<li>å¯¹äºä¸€ä¸ªå¸¸é‡è¿›è¡Œèµ‹å€¼ï¼Œåœ¨ strict æ¨¡å¼ä¸‹ä¼šæŠ¥é”™ï¼Œé strict æ¨¡å¼ä¸‹é™é»˜å¤±è´¥ã€‚</li>
<li>IIFE ä¸­çš„å‡½æ•°æ˜¯å‡½æ•°è¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯å‡½æ•°å£°æ˜ã€‚</li>
</ol>
<p>å®é™…ä¸Šï¼Œæœ‰ç‚¹ç±»ä¼¼äºä»¥ä¸‹ä»£ç ï¼Œä½†ä¸å®Œå…¨ç›¸åŒï¼Œå› ä¸ºä½¿ç”¨ const ä¸ç®¡åœ¨ä»€ä¹ˆæ¨¡å¼ä¸‹ï¼Œéƒ½ä¼š TypeError ç±»å‹çš„é”™è¯¯</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const foo &#x3D; function () &#123;</span><br><span class="line">foo &#x3D; 10;</span><br><span class="line">console.log(foo)</span><br><span class="line">&#125;</span><br><span class="line">(foo)() &#x2F;&#x2F; Uncaught TypeError: Assignment to constant variable.</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<p>æˆ‘çš„ç†è§£æ˜¯ï¼Œb å‡½æ•°æ˜¯ä¸€ä¸ªç›¸å½“äºç”¨ const å®šä¹‰çš„å¸¸é‡ï¼Œå†…éƒ¨æ— æ³•è¿›è¡Œé‡æ–°èµ‹å€¼ï¼Œå¦‚æœåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¼šæŠ¥é”™â€Uncaught TypeError: Assignment to constant variable.â€<br>ä¾‹å¦‚ä¸‹é¢çš„ï¼š</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var b &#x3D; 10;</span><br><span class="line">(function b() &#123;</span><br><span class="line">&#39;use strict&#39;</span><br><span class="line">b &#x3D; 20;</span><br><span class="line">console.log(b)</span><br><span class="line">&#125;)() &#x2F;&#x2F; &quot;Uncaught TypeError: Assignment to constant variable.&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<p>è¿™ä¸ªå›ç­”ä¸»è¦è¡¨è¾¾çš„æ˜¯ï¼šå‡½æ•°è¡¨è¾¾å¼çš„å‡½æ•°ååªåœ¨è¯¥å‡½æ•°å†…éƒ¨æœ‰æ•ˆï¼Œä¸”ç»‘å®šæ˜¯å¸¸é‡ç±»ä¼¼ constï¼Œä¸èƒ½ä¿®æ”¹</p>
<h3 id="ç¬¬-34-é¢˜ï¼ˆ2019-10-21ï¼‰"><a href="#ç¬¬-34-é¢˜ï¼ˆ2019-10-21ï¼‰" class="headerlink" title="ç¬¬ 34 é¢˜ï¼ˆ2019/10/21ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/51">ç¬¬ 34 é¢˜</a>ï¼ˆ2019/10/21ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ç®€å•æ”¹é€ ä¸‹é¢çš„ä»£ç ï¼Œä½¿ä¹‹åˆ†åˆ«æ‰“å° 10 å’Œ 20ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  b = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>æ‰“å° 20ï¼š</p>
<p>æ–¹æ³•ä¸€ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params">b</span>) </span>&#123;</span><br><span class="line">  b = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;)(b);</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•äºŒï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>æ‰“å° 10ï¼š</p>
<p>æ–¹æ³•ä¸€ï¼šï¼ˆæŒ‚è½½åœ¨ å…¨å±€ window ä¸Šï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params">b</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">window</span>.b = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;)(b);</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•äºŒï¼š ï¼ˆæŒ‚è½½åœ¨ b å‡½æ•°ï¼ˆå‡½æ•°ä¹Ÿæ˜¯ç‰¹æ®Šçš„å¯¹è±¡ï¼‰ä¸Šï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params">b</span>) </span>&#123;</span><br><span class="line">  b.b = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;)(b);</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-35-é¢˜-ï¼ˆ2019-10-22ï¼‰"><a href="#ç¬¬-35-é¢˜-ï¼ˆ2019-10-22ï¼‰" class="headerlink" title="ç¬¬ 35 é¢˜  ï¼ˆ2019/10/22ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/51">ç¬¬ 35 é¢˜ </a> ï¼ˆ2019/10/22ï¼‰</h3><p><strong>é¢˜ç›®</strong>ï¼šæµè§ˆå™¨ç¼“å­˜è¯»å–è§„åˆ™ ?</p>
<blockquote>
<p>å¯ä»¥åˆ†æˆ Service Workerã€Memory Cacheã€Disk Cache å’Œ Push Cacheï¼Œé‚£è¯·æ±‚çš„æ—¶å€™ from memory cache å’Œ from disk cache çš„ä¾æ®æ˜¯ä»€ä¹ˆï¼Œå“ªäº›æ•°æ®ä»€ä¹ˆæ—¶å€™å­˜æ”¾åœ¨ Memory Cache å’Œ Disk Cache ä¸­ï¼Ÿ</p>
</blockquote>
<p><strong>è§£æï¼š</strong> <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/54cc04190252">æ·±å…¥ç†è§£æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶</a> <a target="_blank" rel="noopener" href="https://juejin.im/post/5c22ee806fb9a049fb43b2c5?utm_source=gold_browser_extension">ä¸€æ–‡è¯»æ‡‚å‰ç«¯ç¼“å­˜</a></p>
<p>å¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜å‰é¢çš„æ–‡ç« éƒ½è¯´å¾—å¾ˆè¯¦ç»†äº†æˆ‘è¿™é‡Œå°±ä¸å†å¤šä½™è¿°<br>ç¬¬äºŒä¸ªé—®é¢˜å¯ä»¥å‚è€ƒæˆ‘å†™çš„<a target="_blank" rel="noopener" href="https://jayzangwill.github.io/blog/2019/02/07/cache/">åšæ–‡</a> <strong>å‘½ä¸­å¼ºåˆ¶ç¼“å­˜æ—¶ï¼Œè¯¥ä»å“ªæ‹¿ç¼“å­˜</strong><br>å°èŠ‚ã€‚æ€»çš„æ¥è¯´ï¼š</p>
<ol>
<li>å¦‚æœå¼€å¯äº† Service Worker é¦–å…ˆä¼šä» Service Worker ä¸­æ‹¿</li>
<li>å¦‚æœæ–°å¼€ä¸€ä¸ªä»¥å‰æ‰“å¼€è¿‡çš„é¡µé¢ç¼“å­˜ä¼šä» Disk Cache ä¸­æ‹¿ï¼ˆç§°ä¸ºæ˜¯å‘½ä¸­å¼ºç¼“å­˜ï¼‰</li>
<li>åˆ·æ–°å½“å‰é¡µé¢æ—¶æµè§ˆå™¨ä¼šæ ¹æ®å½“å‰è¿è¡Œç¯å¢ƒå†…å­˜æ¥å†³å®šæ˜¯ä» Memory Cache è¿˜æ˜¯ä» Disk Cache ä¸­æ‹¿ï¼ˆå¯ä»¥çœ‹åˆ°ä¸‹å›¾æœ€åå‡ ä¸ªæ–‡ä»¶æœ‰æ—¶å€™æ˜¯ä» Memory Cache ä¸­æ‹¿æœ‰æ—¶å€™æ˜¯ä» Disk Cache ä¸­æ‹¿ï¼‰</li>
</ol>
<h6 id=""><a href="#" class="headerlink" title=""></a><img src="https://camo.githubusercontent.com/6254fa34eb5e693a51cb2b5b2eb257f38f0b1634/68747470733a2f2f6a61797a616e6777696c6c2e6769746875622e696f2f626c6f672f696d672f63616368652f7765697a68695f312e676966"></h6><h3 id="ç¬¬-36-é¢˜-ï¼ˆ2019-10-22ï¼‰"><a href="#ç¬¬-36-é¢˜-ï¼ˆ2019-10-22ï¼‰" class="headerlink" title="ç¬¬ 36 é¢˜ ï¼ˆ2019/10/22ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/54">ç¬¬ 36 é¢˜</a> ï¼ˆ2019/10/22ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä½¿ç”¨è¿­ä»£çš„æ–¹å¼å®ç° flatten å‡½æ•°ã€‚</p>
<p><strong>è§£æï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨è¿­ä»£çš„æ–¹å¼å®ç°flattenå‡½æ•°</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨é€’å½’çš„æ–¹å¼å¤„ç†</span></span><br><span class="line"><span class="comment"> * wrapå†…ä¿å­˜ç»“æœret</span></span><br><span class="line"><span class="comment"> * è¿”å›ä¸€ä¸ªé€’å½’å‡½æ•°</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>], [<span class="number">6</span>, [<span class="number">7</span>, [<span class="number">8</span>]]]];</span><br><span class="line"><span class="built_in">console</span>.log(wrap()(arr));</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">wrap</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ret = [];</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr) &#123;</span><br><span class="line">      <span class="keyword">if</span> (item.constructor === <span class="built_in">Array</span>) &#123;</span><br><span class="line">        ret.concat(flatten(item));</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        ret.push(item);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-37-é¢˜-ï¼ˆ2019-10-22ï¼‰"><a href="#ç¬¬-37-é¢˜-ï¼ˆ2019-10-22ï¼‰" class="headerlink" title="ç¬¬ 37 é¢˜ ï¼ˆ2019/10/22ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/65">ç¬¬ 37 é¢˜</a> ï¼ˆ2019/10/22ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä¸ºä»€ä¹ˆ Vuex çš„ mutation å’Œ Redux çš„ reducer ä¸­ä¸èƒ½åšå¼‚æ­¥æ“ä½œï¼Ÿ</p>
<p><strong>è§£æï¼š</strong> å¾…ç»­â€¦</p>
<h3 id="ç¬¬-38-é¢˜-ï¼ˆ2019-10-23ï¼‰"><a href="#ç¬¬-38-é¢˜-ï¼ˆ2019-10-23ï¼‰" class="headerlink" title="ç¬¬ 38 é¢˜  ï¼ˆ2019/10/23ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/57">ç¬¬ 38 é¢˜ </a> ï¼ˆ2019/10/23ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä¸‹é¢ä»£ç ä¸­ a åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šæ‰“å° 1ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = ?;</span><br><span class="line"><span class="keyword">if</span>(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>)&#123;</span><br><span class="line"> 	<span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>å…¬å¸ï¼š</strong> äº¬ä¸œ</p>
<p><strong>è€ƒç‚¹</strong>ï¼š éšå¼ç±»å‹è½¬æ¢</p>
<p><strong>è§£æï¼š</strong> <a target="_blank" rel="noopener" href="https://yq.aliyun.com/articles/399499">ä» (a==1&amp;&amp;a==2&amp;&amp;a==3) æˆç«‹ä¸­çœ‹ javascript çš„éšå¼ç±»å‹è½¬æ¢</a></p>
<p><strong>å…³äº === äº ==</strong></p>
<blockquote>
<p>ä½†æ˜¯æˆ‘æ¯”è¾ƒå–œæ¬¢çš„ä¸€æœ¬ä¹¦ <code> You don&#39;t know JS</code>,ä¸­ä½œè€…ä¹Ÿå†™é“è¿‡ä¸€ä¸ªæˆ‘æ¯”è¾ƒèµåŒçš„è§‚ç‚¹</p>
<p>å¾ˆå¤šå¼€å‘è€…è®¤ä¸º === çš„è¡Œä¸ºæ›´åŠ å®¹æ˜“é¢„æµ‹ï¼Œä»è€Œä¸»å¼ ä½¿ç”¨ === è€Œè¿œç¦» ==ã€‚æˆ‘è®¤ä¸ºè¿™ç§è§‚ç‚¹æ˜¯éå¸¸çŸ­è§†çš„ï¼Œå¦‚æœä½ èŠ±ç‚¹æ—¶é—´å»ææ¸…æ¥šå®ƒçš„å·¥ä½œåŸç†ï¼Œ== å°†æ˜¯ä½ å¼€å‘çš„å¼ºå¤§å·¥å…·</p>
</blockquote>
<ol>
<li>è¿ç®—å­æ˜¯å¯¹è±¡æ—¶å€™çš„ valueOf toString æ–¹æ³•</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;</span><br><span class="line">  i: <span class="number">1</span>,</span><br><span class="line">  toString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.i++;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;1&quot;</span>); <span class="comment">//1</span></span><br><span class="line">  <span class="built_in">console</span>.log(a.i); <span class="comment">//4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåŸå§‹ç±»å‹çš„å€¼å’Œå¯¹è±¡æ¯”è¾ƒï¼Œå¯¹è±¡ä¼šè½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼ï¼Œå†è¿›è¡Œæ¯”è¾ƒã€‚<code>(æˆ‘æƒ³åˆ°çš„ä¹Ÿæ˜¯è¿™ç§æ–¹æ³•)</code>ï¼Œå¯¹è±¡è½¬æ¢æˆåŸå§‹ç±»å‹çš„å€¼ï¼Œç®—æ³•æ˜¯å…ˆè°ƒç”¨<code>valueOf</code>æ–¹æ³•ï¼›å¦‚æœè¿”å›çš„è¿˜æ˜¯å¯¹è±¡ï¼Œå†æ¥ç€è°ƒç”¨<code>toString</code>æ–¹æ³•ã€‚æˆ‘ä»¬æ¯æ¬¡æ¯”è¾ƒæ—¶å€™éƒ½ä¼šæ‰§è¡Œæ–¹æ³•è¿”å› <code>a</code> çš„ <code>i</code> å±æ€§åŒæ—¶ä¹Ÿæ”¹å˜ <code>i</code> çš„å€¼,æ‰€ä»¥ä¸Šé¢ <code>if</code> æ‰§è¡Œå®Œä»¥å <code>a</code> çš„ <code>i</code> å±æ€§å·²ç»å˜ä¸ºäº† 4ï¼Œ<strong>è¿™é‡Œä¹Ÿè¡¨ç°å‡ºäº† == æ¯”è¾ƒæ˜¯æœ‰å¯èƒ½ä¼šå¯¹å˜é‡å¸¦æ¥å‰¯ä½œç”¨çš„</strong></p>
<p><strong>åˆ©ç”¨æ•°ç»„çš„ç‰¹æ€§</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">a.join = a.shift;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªç­”æ¡ˆè¿˜æ˜¯æ¯”è¾ƒå·§å¦™çš„ï¼Œæˆ‘ä»¬çŸ¥é“ <code>array</code> ä¹Ÿå±äºå¯¹è±¡ï¼Œåº”è¯¥å’Œå¯¹è±¡çš„è§„åˆ™ä¸€æ ·ã€‚å…³äº <code>array</code> çš„åŸå‹é“¾ä¸Šçš„ <code>toString</code> æ–¹æ³•</p>
<blockquote>
<p>å¯¹äºæ•°ç»„å¯¹è±¡ï¼ŒtoString æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²ç”±æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ toString() è¿”å›å€¼ç»è°ƒç”¨ join() æ–¹æ³•è¿æ¥ï¼ˆç”±é€—å·éš”å¼€ï¼‰ç»„æˆã€‚</p>
</blockquote>
<p>å¯ä»¥çœ‹åˆ°æ•°ç»„ <code>toString</code> ä¼šè°ƒç”¨æœ¬èº«çš„ <code>join</code> æ–¹æ³•ï¼Œè¿™é‡ŒæŠŠè‡ªå·±çš„<code>join</code>æ–¹æ³•è¯¥å†™ä¸º<code>shift</code>,æ¯æ¬¡è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè€Œä¸”åŸæ•°ç»„åˆ é™¤ç¬¬ä¸€ä¸ªå€¼ï¼Œæ­£å¥½å¯ä»¥ä½¿åˆ¤æ–­æˆç«‹ã€‚<strong>è¿™é‡Œ == æ¯”è¾ƒä¹Ÿå¸¦æ¥çš„å‰¯ä½œç”¨</strong></p>
<p><strong>åˆ©ç”¨ with å…³é”®å­—</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> (&#123;</span><br><span class="line">  <span class="keyword">get</span> <span class="title">a</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> ++i;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;) &#123;</span><br><span class="line">  <span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) <span class="built_in">console</span>.log(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>with</code> ä¹Ÿæ˜¯è¢«ä¸¥é‡å»ºè®®ä¸ä½¿ç”¨çš„å¯¹è±¡ï¼Œè¿™é‡Œä¹Ÿæ˜¯åˆ©ç”¨å®ƒçš„ç‰¹æ€§åœ¨ä»£ç å—é‡Œé¢åˆ©ç”¨å¯¹è±¡çš„ <code>get</code> æ–¹æ³•åŠ¨æ€è¿”å› <code>i</code>.</p>
<p><strong>å’Œ with ç±»ä¼¼ä¿®æ”¹ window çš„ get æ–¹æ³•</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> val = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(<span class="built_in">window</span>, <span class="string">&quot;a&quot;</span>, &#123;</span><br><span class="line">  get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ++val;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;yay&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬ç”¨çš„å…¨å±€å˜é‡ä¹Ÿç›¸å½“äº <code>window</code> å¯¹è±¡ä¸Šçš„ä¸€ä¸ªå±æ€§ï¼Œè¿™é‡Œç”¨<code>defineProperty</code> å®šä¹‰äº† <code>a</code>çš„ <code>get</code> ä¹Ÿä½¿å¾—å…¶åŠ¨æ€è¿”å›å€¼ã€‚å’Œ<code>with</code> æœ‰ä¸€äº›ç±»ä¼¼ã€‚</p>
<p><strong>es6 çš„ Symbol ç‰¹æ€§</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; [<span class="built_in">Symbol</span>.toPrimitive]: (<span class="function">(<span class="params">i</span>) =&gt;</span> <span class="function">() =&gt;</span> ++i)(<span class="number">0</span>) &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<p><code>ES6</code> å¼•å…¥äº†ä¸€ç§æ–°çš„åŸå§‹æ•°æ®ç±»å‹<code>Symbol</code>ï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ã€‚æˆ‘ä»¬ä¹‹å‰åœ¨å®šä¹‰ç±»çš„å†…éƒ¨ç§æœ‰å±æ€§æ—¶å€™ä¹ æƒ¯ç”¨ <code>__xxx</code> ,è¿™ç§å‘½åæ–¹å¼é¿å…åˆ«äººå®šä¹‰ç›¸åŒçš„å±æ€§åè¦†ç›–åŸæ¥çš„å±æ€§ï¼Œæœ‰äº† <code>Symbol </code> ä¹‹åæˆ‘ä»¬å®Œå…¨å¯ä»¥ç”¨ <code>Symbol</code>å€¼æ¥ä»£æ›¿è¿™ç§æ–¹æ³•ï¼Œè€Œä¸”å®Œå…¨ä¸ç”¨æ‹…å¿ƒè¢«è¦†ç›–ã€‚</p>
<p>é™¤äº†å®šä¹‰è‡ªå·±ä½¿ç”¨çš„ <code>Symbol</code> å€¼ä»¥å¤–ï¼Œ<code>ES6</code> è¿˜æä¾›äº† 11 ä¸ªå†…ç½®çš„ <code>Symbol</code> å€¼ï¼ŒæŒ‡å‘è¯­è¨€å†…éƒ¨ä½¿ç”¨çš„æ–¹æ³•ã€‚<code>Symbol.toPrimitive</code>å°±æ˜¯å…¶ä¸­ä¸€ä¸ªï¼Œå®ƒæŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œè¡¨ç¤ºè¯¥å¯¹è±¡è¢«è½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡å¯¹åº”çš„åŸå§‹ç±»å‹å€¼ã€‚è¿™é‡Œå°±æ˜¯æ”¹å˜è¿™ä¸ªå±æ€§ï¼ŒæŠŠå®ƒçš„å€¼æ”¹ä¸ºä¸€ä¸ª <code>é—­åŒ…</code> è¿”å›çš„å‡½æ•°ã€‚</p>
<h3 id="ç¬¬-39-é¢˜-ï¼ˆ2019-10-24ï¼‰"><a href="#ç¬¬-39-é¢˜-ï¼ˆ2019-10-24ï¼‰" class="headerlink" title="ç¬¬ 39 é¢˜ ï¼ˆ2019/10/24ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/59">ç¬¬ 39 é¢˜</a> ï¼ˆ2019/10/24ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä»‹ç»ä¸‹ BFC åŠå…¶åº”ç”¨</p>
<p><strong>è§£æï¼š</strong></p>
<p>BFC å°±æ˜¯å—çº§æ ¼å¼ä¸Šä¸‹æ–‡ï¼Œæ˜¯é¡µé¢ç›’æ¨¡å‹å¸ƒå±€ä¸­çš„ä¸€ç§ CSS æ¸²æŸ“æ¨¡å¼ï¼Œç›¸å½“äºä¸€ä¸ªç‹¬ç«‹çš„å®¹å™¨ï¼Œé‡Œé¢çš„å…ƒç´ å’Œå¤–éƒ¨çš„å…ƒç´ ç›¸äº’ä¸å½±å“ã€‚åˆ›å»º BFC çš„æ–¹å¼æœ‰ï¼š</p>
<ol>
<li>html æ ¹å…ƒç´ </li>
<li>float æµ®åŠ¨</li>
<li>ç»å¯¹å®šä½</li>
<li>overflow ä¸ä¸º visiable</li>
<li>display ä¸ºè¡¨æ ¼å¸ƒå±€æˆ–è€…å¼¹æ€§å¸ƒå±€</li>
</ol>
<p>BFC ä¸»è¦çš„ä½œç”¨æ˜¯ï¼š</p>
<ol>
<li>æ¸…é™¤æµ®åŠ¨</li>
<li>é˜²æ­¢åŒä¸€ BFC å®¹å™¨ä¸­çš„ç›¸é‚»å…ƒç´ é—´çš„å¤–è¾¹è·é‡å é—®é¢˜</li>
</ol>
<h3 id="ç¬¬-40-é¢˜-ï¼ˆ2019-10-25ï¼‰"><a href="#ç¬¬-40-é¢˜-ï¼ˆ2019-10-25ï¼‰" class="headerlink" title="ç¬¬ 40 é¢˜  ï¼ˆ2019/10/25ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/60">ç¬¬ 40 é¢˜ </a> ï¼ˆ2019/10/25ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> åœ¨ Vue ä¸­ï¼Œå­ç»„ä»¶ä¸ºä½•ä¸å¯ä»¥ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ é€’çš„ Prop?</p>
<blockquote>
<p>å¦‚æœä¿®æ”¹äº†ï¼ŒVue æ˜¯å¦‚ä½•ç›‘æ§åˆ°å±æ€§çš„ä¿®æ”¹å¹¶ç»™å‡ºè­¦å‘Šçš„ã€‚</p>
</blockquote>
<p><strong>è§£æï¼š</strong></p>
<ol>
<li>å­ç»„ä»¶ä¸ºä½•ä¸å¯ä»¥ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ é€’çš„ Prop<br>å•å‘æ•°æ®æµï¼Œæ˜“äºç›‘æµ‹æ•°æ®çš„æµåŠ¨ï¼Œå‡ºç°äº†é”™è¯¯å¯ä»¥æ›´åŠ è¿…é€Ÿçš„å®šä½åˆ°é”™è¯¯å‘ç”Ÿçš„ä½ç½®ã€‚</li>
<li>å¦‚æœä¿®æ”¹äº†ï¼ŒVue æ˜¯å¦‚ä½•ç›‘æ§åˆ°å±æ€§çš„ä¿®æ”¹å¹¶ç»™å‡ºè­¦å‘Šçš„ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">&quot;production&quot;</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> hyphenatedKey = hyphenate(key);</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    isReservedAttribute(hyphenatedKey) ||</span><br><span class="line">    config.isReservedAttr(hyphenatedKey)</span><br><span class="line">  ) &#123;</span><br><span class="line">    warn(</span><br><span class="line">      <span class="string">&#x27;&quot;&#x27;</span> +</span><br><span class="line">        hyphenatedKey +</span><br><span class="line">        <span class="string">&#x27;&quot; is a reserved attribute and cannot be used as component prop.&#x27;</span>,</span><br><span class="line">      vm</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  defineReactive$$<span class="number">1</span>(props, key, value, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!isRoot &amp;&amp; !isUpdatingChildComponent) &#123;</span><br><span class="line">      warn(</span><br><span class="line">        <span class="string">&quot;Avoid mutating a prop directly since the value will be &quot;</span> +</span><br><span class="line">          <span class="string">&quot;overwritten whenever the parent component re-renders. &quot;</span> +</span><br><span class="line">          <span class="string">&quot;Instead, use a data or computed property based on the prop&#x27;s &quot;</span> +</span><br><span class="line">          <span class="string">&#x27;value. Prop being mutated: &quot;&#x27;</span> +</span><br><span class="line">          key +</span><br><span class="line">          <span class="string">&#x27;&quot;&#x27;</span>,</span><br><span class="line">        vm</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ initProps çš„æ—¶å€™ï¼Œåœ¨ defineReactive æ—¶é€šè¿‡åˆ¤æ–­æ˜¯å¦åœ¨å¼€å‘ç¯å¢ƒï¼Œå¦‚æœæ˜¯å¼€å‘ç¯å¢ƒï¼Œä¼šåœ¨è§¦å‘ set çš„æ—¶å€™åˆ¤æ–­æ˜¯å¦æ­¤ key æ˜¯å¦å¤„äº updatingChildren ä¸­è¢«ä¿®æ”¹ï¼Œå¦‚æœä¸æ˜¯ï¼Œè¯´æ˜æ­¤ä¿®æ”¹æ¥è‡ªå­ç»„ä»¶ï¼Œè§¦å‘ warning æç¤ºã€‚</p>
<blockquote>
<p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå½“ä½ ä»å­ç»„ä»¶ä¿®æ”¹çš„ prop å±äºåŸºç¡€ç±»å‹æ—¶ä¼šè§¦å‘æç¤ºã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œä½ æ˜¯æ— æ³•ä¿®æ”¹çˆ¶ç»„ä»¶çš„æ•°æ®æºçš„ï¼Œ å› ä¸ºåŸºç¡€ç±»å‹èµ‹å€¼æ—¶æ˜¯å€¼æ‹·è´ã€‚ä½ ç›´æ¥å°†å¦ä¸€ä¸ªéåŸºç¡€ç±»å‹ï¼ˆObject, arrayï¼‰èµ‹å€¼åˆ°æ­¤ key æ—¶ä¹Ÿä¼šè§¦å‘æç¤º(ä½†å®é™…ä¸Šä¸ä¼šå½±å“çˆ¶ç»„ä»¶çš„æ•°æ®æº)ï¼Œ å½“ä½ ä¿®æ”¹ object çš„å±æ€§æ—¶ä¸ä¼šè§¦å‘æç¤ºï¼Œå¹¶ä¸”ä¼šä¿®æ”¹çˆ¶ç»„ä»¶æ•°æ®æºçš„æ•°æ®ã€‚</p>
</blockquote>
<h3 id="ç¬¬-41-é¢˜-ï¼ˆ2019-10-25ï¼‰"><a href="#ç¬¬-41-é¢˜-ï¼ˆ2019-10-25ï¼‰" class="headerlink" title="ç¬¬ 41 é¢˜ ï¼ˆ2019/10/25ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/61">ç¬¬ 41 é¢˜</a> ï¼ˆ2019/10/25ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// undefined</span></span><br><span class="line">  a = <span class="number">5</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">window</span>.a); <span class="comment">// 10</span></span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">//20</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p><strong>è§£æï¼š</strong> åˆ†åˆ«ä¸º undefined ã€€ 10 ã€€ 20ï¼ŒåŸå› æ˜¯ä½œç”¨åŸŸé—®é¢˜ï¼Œåœ¨å†…éƒ¨å£°å var a = 20;ç›¸å½“äºå…ˆå£°æ˜ var a;ç„¶åå†æ‰§è¡Œèµ‹å€¼æ“ä½œï¼Œè¿™æ˜¯åœ¨ï¼©ï¼©ï¼¦ï¼¥å†…å½¢æˆçš„ç‹¬ç«‹ä½œç”¨åŸŸï¼Œå¦‚æœæŠŠ var a=20 æ³¨é‡Šæ‰ï¼Œé‚£ä¹ˆ a åªæœ‰åœ¨å¤–éƒ¨æœ‰å£°æ˜ï¼Œæ˜¾ç¤ºçš„å°±æ˜¯å¤–éƒ¨çš„ï¼¡å˜é‡çš„å€¼äº†ã€‚ç»“æœï¼¡ä¼šæ˜¯ 10 ã€€ 5 ã€€ 5</p>
<h3 id="ç¬¬-42-é¢˜-ï¼ˆ2019-10-25ï¼‰"><a href="#ç¬¬-42-é¢˜-ï¼ˆ2019-10-25ï¼‰" class="headerlink" title="ç¬¬ 42 é¢˜  ï¼ˆ2019/10/25ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/63">ç¬¬ 42 é¢˜ </a> ï¼ˆ2019/10/25ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> å®ç°ä¸€ä¸ª sleep å‡½æ•°</p>
<blockquote>
<p>æ¯”å¦‚ sleep(1000) æ„å‘³ç€ç­‰å¾… 1000 æ¯«ç§’ï¼Œå¯ä» Promiseã€Generatorã€Async/Await ç­‰è§’åº¦å®ç°</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Promise1</span></span><br><span class="line"><span class="keyword">const</span> sleep = <span class="function">(<span class="params">time</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="built_in">setTimeout</span>(resolve, time));</span><br><span class="line">&#125;;</span><br><span class="line">sleep(<span class="number">1000</span>).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Generator</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">sleepGenerator</span>(<span class="params">time</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(resolve, time);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">sleepGenerator(<span class="number">1000</span>)</span><br><span class="line">  .next()</span><br><span class="line">  .value.then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//async</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">time</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="built_in">setTimeout</span>(resolve, time));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">output</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> out = <span class="keyword">await</span> sleep(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line">output();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">callback, time</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> callback === <span class="string">&quot;function&quot;</span>) <span class="built_in">setTimeout</span>(callback, time);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">output</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">sleep(output, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/ImagineCode/article/details/81089107">Promise | è‡ªä¸ªå†™ä¸€ä¸ª Promise | Generator</a></li>
</ul>
<h3 id="ç¬¬-43-é¢˜-ï¼ˆ2019-10-26ï¼‰"><a href="#ç¬¬-43-é¢˜-ï¼ˆ2019-10-26ï¼‰" class="headerlink" title="ç¬¬ 43 é¢˜ ï¼ˆ2019/10/26ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/66">ç¬¬ 43 é¢˜</a> ï¼ˆ2019/10/26ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä½¿ç”¨ sort() å¯¹æ•°ç»„ [3, 15, 8, 29, 102, 22] è¿›è¡Œæ’åºï¼Œè¾“å‡ºç»“æœ</p>
<p><strong>è§£æï¼š</strong></p>
<p>åŸé¢˜ç›®ï¼š</p>
<blockquote>
<p>ä½¿ç”¨ sort() å¯¹æ•°ç»„ [3, 15, 8, 29, 102, 22] è¿›è¡Œæ’åºï¼Œè¾“å‡ºç»“æœ</p>
</blockquote>
<p>æˆ‘çš„ç­”æ¡ˆï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">102</span>, <span class="number">15</span>, <span class="number">22</span>, <span class="number">29</span>, <span class="number">3</span>, <span class="number">8</span>];</span><br></pre></td></tr></table></figure>

<p>è§£æï¼š</p>
<p>æ ¹æ® MDN ä¸Šå¯¹<code>Array.sort()</code>çš„è§£é‡Šï¼Œé»˜è®¤çš„æ’åºæ–¹æ³•ä¼šå°†æ•°ç»„å…ƒç´ è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åæ¯”è¾ƒå­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„ UTF-16 ç¼–ç é¡ºåºæ¥è¿›è¡Œæ’åºã€‚æ‰€ä»¥<code>&#39;102&#39;</code> ä¼šæ’åœ¨ <code>&#39;15&#39;</code> å‰é¢ã€‚ä»¥ä¸‹æ˜¯ MDN ä¸­çš„è§£é‡ŠåŸæ–‡ï¼š</p>
<blockquote>
<p>The sort() method sorts the elements of an array in place and returns the array. The default sort order is built upon converting the elements into strings, then comparing their sequences of UTF-16 code units values.</p>
</blockquote>
<h3 id="ç¬¬-44-é¢˜-ï¼ˆ2019-10-26ï¼‰"><a href="#ç¬¬-44-é¢˜-ï¼ˆ2019-10-26ï¼‰" class="headerlink" title="ç¬¬ 44 é¢˜ ï¼ˆ2019/10/26ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/70">ç¬¬ 44 é¢˜ </a>ï¼ˆ2019/10/26ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä»‹ç» HTTPS æ¡æ‰‹è¿‡ç¨‹</p>
<p><strong>è§£æï¼š</strong> ~~</p>
<h3 id="ç¬¬-45-é¢˜-ï¼ˆ2019-10-26ï¼‰"><a href="#ç¬¬-45-é¢˜-ï¼ˆ2019-10-26ï¼‰" class="headerlink" title="ç¬¬ 45 é¢˜  ï¼ˆ2019/10/26ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/74">ç¬¬ 45 é¢˜ </a> ï¼ˆ2019/10/26ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> HTTPS æ¡æ‰‹è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯å¦‚ä½•éªŒè¯è¯ä¹¦çš„åˆæ³•æ€§</p>
<p><strong>è§£æï¼š</strong> ~~</p>
<h3 id="ç¬¬-46-é¢˜-ï¼ˆ2019-10-26ï¼‰"><a href="#ç¬¬-46-é¢˜-ï¼ˆ2019-10-26ï¼‰" class="headerlink" title="ç¬¬ 46 é¢˜  ï¼ˆ2019/10/26ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/76">ç¬¬ 46 é¢˜ </a> ï¼ˆ2019/10/26ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> è¾“å‡ºä»¥ä¸‹ä»£ç æ‰§è¡Œçš„ç»“æœå¹¶è§£é‡Šä¸ºä»€ä¹ˆ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="number">2</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="number">3</span>: <span class="number">4</span>,</span><br><span class="line">  length: <span class="number">2</span>,</span><br><span class="line">  splice: <span class="built_in">Array</span>.prototype.splice,</span><br><span class="line">  push: <span class="built_in">Array</span>.prototype.push,</span><br><span class="line">&#125;;</span><br><span class="line">obj.push(<span class="number">1</span>);</span><br><span class="line">obj.push(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç»“æœï¼š</span></span><br><span class="line"><span class="comment">    Object(4) [empty Ã— 2, 1, 2, splice: Æ’, push: Æ’]</span></span><br><span class="line"><span class="comment">    2: 1</span></span><br><span class="line"><span class="comment">    3: 2</span></span><br><span class="line"><span class="comment">    length: 4</span></span><br><span class="line"><span class="comment">    push: Æ’ push()</span></span><br><span class="line"><span class="comment">    splice: Æ’ splice()</span></span><br><span class="line"><span class="comment">    __proto__: Object</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘çš„ç†è§£æ˜¯è¿™æ ·çš„<br>1: call push è¿™ä¸ªæ–¹æ³•å¦‚æœå¯¹è±¡æœ‰ length å±æ€§ï¼Œlength å±æ€§ä¼šåŠ  1 å¹¶ä¸”è¿”å›ï¼Œè¿™ä¸ªæ˜¯åœ¨æŸæœ¬ä¹¦çš„ä¸Šçœ‹åˆ°çš„ï¼Œä¸€ç›´è®°å¾—ã€‚<br><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/push#Description">MDN</a></p>
<blockquote>
<p>push æ–¹æ³•å°†å€¼è¿½åŠ åˆ°æ•°ç»„ä¸­ã€‚</p>
<p>push æ–¹æ³•æœ‰æ„å…·æœ‰é€šç”¨æ€§ã€‚è¯¥æ–¹æ³•å’Œ call() æˆ– apply() ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¯åº”ç”¨åœ¨ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ä¸Šã€‚push æ–¹æ³•æ ¹æ® length å±æ€§æ¥å†³å®šä»å“ªé‡Œå¼€å§‹æ’å…¥ç»™å®šçš„å€¼ã€‚å¦‚æœ length ä¸èƒ½è¢«è½¬æˆä¸€ä¸ªæ•°å€¼ï¼Œåˆ™æ’å…¥çš„å…ƒç´ ç´¢å¼•ä¸º 0ï¼ŒåŒ…æ‹¬ length ä¸å­˜åœ¨æ—¶ã€‚å½“ length ä¸å­˜åœ¨æ—¶ï¼Œå°†ä¼šåˆ›å»ºå®ƒã€‚</p>
<p>å”¯ä¸€çš„åŸç”Ÿç±»æ•°ç»„ï¼ˆarray-likeï¼‰å¯¹è±¡æ˜¯ Stringsï¼Œå°½ç®¡å¦‚æ­¤ï¼Œå®ƒä»¬å¹¶ä¸é€‚ç”¨è¯¥æ–¹æ³•ï¼Œå› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯æ”¹å˜çš„ã€‚</p>
</blockquote>
<ol>
<li>è°ƒç”¨ push æ–¹æ³•çš„æ—¶å€™ä¼šåœ¨è°ƒç”¨å¯¹è±¡çš„ key=length çš„åœ°æ–¹åšä¸€ä¸ªèµ‹å€¼ï¼Œä¸ç®¡å‰é¢ key æœ‰æ²¡æœ‰å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è°ƒç”¨ push çš„æ—¶å€™ å¯¹è±¡å®é™…è¢«ç†è§£ä¸ºäº†[0:undefined,1:undefined,2:3,3:4],<br>è¿™æ ·ä¹Ÿå°±æœ‰äº†ç»“æœé‡Œé¢çš„<br>key===2 value =1<br>key===3 value =2 3.é¢å¤–çš„<br>è¿™ä¸ªå¯¹è±¡å¦‚æœæœ‰ push å’Œ splice ä¼šè¾“å‡ºä¼šè½¬æ¢ä¸ºæ•°ç»„ï¼Œä¸‹å›¾ä¸ºå»æ‰ splice</li>
</ol>
<p><img src="https://user-images.githubusercontent.com/11674767/55370329-b8459280-552c-11e9-96ec-0924b03f70a4.png"></p>
<p>åŒ…å« splice æ–¹æ³•</p>
<p><img src="https://user-images.githubusercontent.com/11674767/55370427-065a9600-552d-11e9-9525-236038e73009.png"></p>
<h3 id="ç¬¬-47-é¢˜-ï¼ˆ2019-10-27ï¼‰"><a href="#ç¬¬-47-é¢˜-ï¼ˆ2019-10-27ï¼‰" class="headerlink" title="ç¬¬ 47 é¢˜  ï¼ˆ2019/10/27ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/81">ç¬¬ 47 é¢˜ </a> ï¼ˆ2019/10/27ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> åŒå‘ç»‘å®šå’Œ vuex æ˜¯å¦å†²çª</p>
<p><strong>è§£æï¼š</strong></p>
<p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç›´æ¥ä½¿ç”¨ç¡®å®ä¼šæœ‰é—®é¢˜ã€‚<br>è§£å†³æ–¹æ¡ˆï¼š</p>
<blockquote>
<p>å®˜ç½‘è¯´çš„æ¯”è¾ƒè¯¦ç»†<br><a target="_blank" rel="noopener" href="https://vuex.vuejs.org/zh/guide/forms.html">https://vuex.vuejs.org/zh/guide/forms.html</a></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input v-model=<span class="string">&quot;message&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">    message: &#123;</span><br><span class="line">        set (value) &#123;</span><br><span class="line">            <span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;updateMessage&#x27;</span>, value);</span><br><span class="line">        &#125;,</span><br><span class="line">        get () &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.$store.state.obj.message</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">mutations: &#123;</span><br><span class="line">    UPDATE_MESSAGE (state, v) &#123;</span><br><span class="line">        state.obj.message = v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">actions: &#123;</span><br><span class="line">    update_message (&#123; commit &#125;, v) &#123;</span><br><span class="line">        commit(<span class="string">&#x27;UPDATE_MESSAGE&#x27;</span>, v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-48-é¢˜-ï¼ˆ2019-10-27ï¼‰"><a href="#ç¬¬-48-é¢˜-ï¼ˆ2019-10-27ï¼‰" class="headerlink" title="ç¬¬ 48 é¢˜ ï¼ˆ2019/10/27ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/84">ç¬¬ 48 é¢˜</a> ï¼ˆ2019/10/27ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> call å’Œ apply çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Œå“ªä¸ªæ€§èƒ½æ›´å¥½ä¸€äº›</p>
<p><strong>è§£æï¼š</strong></p>
<blockquote>
<p><code>**call()**</code> æ–¹æ³•ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„ <code>this</code> å€¼å’Œå•ç‹¬ç»™å‡ºçš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°æ¥è°ƒç”¨ä¸€ä¸ªå‡½æ•°ã€‚</p>
<p><strong>apply()</strong> æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå…·æœ‰ç»™å®š<code>this</code>å€¼çš„å‡½æ•°ï¼Œä»¥åŠä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Indexed_collections#Working_with_array-like_objects">ç±»ä¼¼æ•°ç»„å¯¹è±¡</a>ï¼‰æä¾›çš„å‚æ•°ã€‚</p>
</blockquote>
<ol>
<li>Function.prototype.apply å’Œ Function.prototype.call çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«åœ¨äºä¼ å…¥å‚æ•°çš„ä¸åŒï¼›</li>
<li>ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ï¼ŒæŒ‡å®šå‡½æ•°ä½“å†… this çš„æŒ‡å‘ï¼›</li>
<li>ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ä¸åŒï¼Œapply æ˜¯ä¼ å…¥<strong>å¸¦ä¸‹æ ‡çš„é›†åˆ</strong>ï¼Œæ•°ç»„æˆ–è€…ç±»æ•°ç»„ï¼Œapply æŠŠå®ƒä¼ ç»™å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œcall ä»ç¬¬äºŒä¸ªå¼€å§‹<strong>ä¼ å…¥çš„å‚æ•°æ˜¯ä¸å›ºå®šçš„ï¼Œéƒ½ä¼šä¼ ç»™å‡½æ•°ä½œä¸ºå‚æ•°</strong>ã€‚</li>
<li>call æ¯” apply çš„æ€§èƒ½è¦å¥½ï¼Œå¹³å¸¸å¯ä»¥å¤šç”¨ call, call ä¼ å…¥å‚æ•°çš„æ ¼å¼æ­£æ˜¯å†…éƒ¨æ‰€éœ€è¦çš„æ ¼å¼ï¼Œå‚è€ƒ<a target="_blank" rel="noopener" href="https://github.com/noneven/__/issues/6">call å’Œ apply çš„æ€§èƒ½å¯¹æ¯”</a></li>
</ol>
<h3 id="ç¬¬-49-é¢˜-ï¼ˆ2019-10-27ï¼‰"><a href="#ç¬¬-49-é¢˜-ï¼ˆ2019-10-27ï¼‰" class="headerlink" title="ç¬¬ 49 é¢˜  ï¼ˆ2019/10/27ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/87">ç¬¬ 49 é¢˜ </a> ï¼ˆ2019/10/27ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä¸ºä»€ä¹ˆé€šå¸¸åœ¨å‘é€æ•°æ®åŸ‹ç‚¹è¯·æ±‚çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯ 1x1 åƒç´ çš„é€æ˜ gif å›¾ç‰‡ï¼Ÿ</p>
<p><strong>è§£æï¼š</strong> <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/36411025">æ•°æ®åŸ‹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿè®¾ç½®åŸ‹ç‚¹çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</a></p>
<blockquote>
<p><strong>1. åŸ‹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>æ‰€è°“â€œåŸ‹ç‚¹â€ï¼Œæ˜¯ <strong>æ•°æ®é‡‡é›†é¢†åŸŸ</strong>ï¼ˆå°¤å…¶æ˜¯ç”¨æˆ·è¡Œä¸ºæ•°æ®é‡‡é›†é¢†åŸŸï¼‰çš„æœ¯è¯­ï¼ŒæŒ‡çš„æ˜¯é’ˆå¯¹ç‰¹å®šç”¨æˆ·è¡Œä¸ºæˆ–äº‹ä»¶è¿›è¡Œæ•è·ã€å¤„ç†å’Œå‘é€çš„ç›¸å…³æŠ€æœ¯åŠå…¶å®æ–½è¿‡ç¨‹ã€‚æ¯”å¦‚ç”¨æˆ·æŸä¸ª icon ç‚¹å‡»æ¬¡æ•°ã€è§‚çœ‹æŸä¸ªè§†é¢‘çš„æ—¶é•¿ç­‰ç­‰ã€‚</p>
<p>åŸ‹ç‚¹çš„æŠ€æœ¯å®è´¨ï¼Œæ˜¯å…ˆç›‘å¬è½¯ä»¶åº”ç”¨è¿è¡Œè¿‡ç¨‹ä¸­çš„äº‹ä»¶ï¼Œå½“éœ€è¦å…³æ³¨çš„äº‹ä»¶å‘ç”Ÿæ—¶è¿›è¡Œåˆ¤æ–­å’Œæ•è·ã€‚</p>
<p>ç‰¹åˆ«æ³¨æ„éœ€è¦æ˜ç¡®äº‹ä»¶å‘ç”Ÿæ—¶é—´ç‚¹ã€åˆ¤åˆ«æ¡ä»¶ï¼Œè¿™é‡Œå¦‚æœé‡åˆ°ä¸æ¸…æ¥šçš„ï¼Œéœ€è¦å’Œå¼€å‘æ²Ÿé€šæ¸…æ¥šï¼Œé¿å…é‡‡é›†æ•°æ®ä¸ç†æƒ³å­˜åœ¨å·®å¼‚ã€‚ä¾‹å¦‚ï¼šæœŸæœ›é‡‡é›†æŸä¸ª app çš„æŸä¸ªå¹¿å‘Šçš„æœ‰æ•ˆæ›å…‰æ•°ï¼Œæœ‰æ•ˆæ›å…‰çš„åˆ¤åˆ«æ¡ä»¶æ˜¯åœç•™æ—¶é•¿è¶…è¿‡ 1 ç§’ä¸”æœ‰æ•ˆåŠ è½½å‡ºå¹¿å‘Šå†…å®¹ã€‚</p>
<p><strong>è§£ç­”ï¼š</strong></p>
</blockquote>
<p>ä½œç”¨ï¼šå·¥ä½œä¸­ï¼Œç”¨äºå‰ç«¯ç›‘æ§ï¼Œæ¯”å¦‚æ›å…‰ç­‰ç­‰ï¼Œè°·æ­Œå’Œç™¾åº¦çš„éƒ½æ˜¯ç”¨çš„ 1x1 åƒç´ çš„é€æ˜ gif å›¾ç‰‡ï¼›<br>why?</p>
<ol>
<li>æ²¡æœ‰è·¨åŸŸé—®é¢˜ï¼Œä¸€èˆ¬è¿™ç§ä¸ŠæŠ¥æ•°æ®ï¼Œä»£ç è¦å†™é€šç”¨çš„ï¼›ï¼ˆæ’é™¤ ajaxï¼‰</li>
<li>ä¸ä¼šé˜»å¡é¡µé¢åŠ è½½ï¼Œå½±å“ç”¨æˆ·çš„ä½“éªŒï¼Œåªè¦ new Image å¯¹è±¡å°±å¥½äº†ï¼›ï¼ˆæ’é™¤ JS/CSS æ–‡ä»¶èµ„æºæ–¹å¼ä¸ŠæŠ¥ï¼‰</li>
<li>åœ¨æ‰€æœ‰å›¾ç‰‡ä¸­ï¼Œä½“ç§¯æœ€å°ï¼›ï¼ˆæ¯”è¾ƒ PNG/JPGï¼‰</li>
</ol>
<h3 id="ç¬¬-50-é¢˜-ï¼ˆ2019-10-28ï¼‰"><a href="#ç¬¬-50-é¢˜-ï¼ˆ2019-10-28ï¼‰" class="headerlink" title="ç¬¬ 50 é¢˜ ï¼ˆ2019/10/28ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/88">ç¬¬ 50 é¢˜ </a>ï¼ˆ2019/10/28ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> å®ç° (5).add(3).minus(2) åŠŸèƒ½ã€‚</p>
<blockquote>
<p>ä¾‹ï¼š 5 + 3 - 2ï¼Œç»“æœä¸º 6</p>
</blockquote>
<p><strong>å…¬å¸</strong>ï¼šç™¾åº¦</p>
<p><strong>è§£æï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.prototype.add = <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>.valueOf() + num;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>.prototype.minus = <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>.valueOf() - num;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log((<span class="number">5</span>).add(<span class="number">3</span>).minus(<span class="number">2</span>));</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-51-é¢˜-ï¼ˆ2019-10-28ï¼‰"><a href="#ç¬¬-51-é¢˜-ï¼ˆ2019-10-28ï¼‰" class="headerlink" title="ç¬¬ 51 é¢˜ ï¼ˆ2019/10/28ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/90">ç¬¬ 51 é¢˜</a> ï¼ˆ2019/10/28ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> Vue çš„å“åº”å¼åŸç†ä¸­ Object.defineProperty æœ‰ä»€ä¹ˆç¼ºé™·ï¼Ÿ</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆåœ¨ Vue3.0 é‡‡ç”¨äº† Proxyï¼ŒæŠ›å¼ƒäº† Object.definePropertyï¼Ÿ</p>
</blockquote>
<p><strong>è§£æï¼š</strong> ä¸æ‡‚<del>~</del></p>
<h3 id="ç¬¬-52-é¢˜-ï¼ˆ2019-10-28ï¼‰"><a href="#ç¬¬-52-é¢˜-ï¼ˆ2019-10-28ï¼‰" class="headerlink" title="ç¬¬ 52 é¢˜ ï¼ˆ2019/10/28ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/92">ç¬¬ 52 é¢˜</a> ï¼ˆ2019/10/28ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> æ€ä¹ˆè®©ä¸€ä¸ª div æ°´å¹³å‚ç›´å±…ä¸­</p>
<p><strong>è§£æï¼š</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>1ã€åˆ©ç”¨ flex</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2ã€ç»å¯¹å®šä½</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æˆ–è€… */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">25px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æˆ– */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3ã€ç½‘æ ¼å¸ƒå±€</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">justify-self</span>: center;</span><br><span class="line">  <span class="attribute">align-self</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4ã€</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  &amp;::before &#123;</span><br><span class="line">    <span class="selector-tag">content</span>: &quot;&quot;;</span><br><span class="line">    <span class="selector-tag">display</span>: <span class="selector-tag">inline-block</span>;</span><br><span class="line">    <span class="selector-tag">width</span>: 0;</span><br><span class="line">    <span class="selector-tag">height</span>: 100%;</span><br><span class="line">    <span class="selector-tag">vertical-align</span>: <span class="selector-tag">middle</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5ã€è¡¥å……</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.parent</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.child</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: table-cell</span><br><span class="line">vertical-align: middle;</span><br><span class="line"><span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-53-é¢˜-ï¼ˆ2019-10-29ï¼‰"><a href="#ç¬¬-53-é¢˜-ï¼ˆ2019-10-29ï¼‰" class="headerlink" title="ç¬¬ 53 é¢˜ ï¼ˆ2019/10/29ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/93">ç¬¬ 53 é¢˜</a> ï¼ˆ2019/10/29ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> è¾“å‡ºä»¥ä¸‹ä»£ç çš„æ‰§è¡Œç»“æœå¹¶è§£é‡Šä¸ºä»€ä¹ˆ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123; <span class="attr">n</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line">a.x = a = &#123; <span class="attr">n</span>: <span class="number">2</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a.x); <span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(b.x); <span class="comment">//&#123; n: 2 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//&#123; n: 2 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">//&#123; n: 1, x: &#123; n: 2 &#125; &#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">é¦–å…ˆï¼Œaå’ŒbåŒæ—¶å¼•ç”¨äº†&#123;n:2&#125;å¯¹è±¡ï¼Œæ¥ç€æ‰§è¡Œåˆ°a.x &#x3D; a &#x3D; &#123;nï¼š2&#125;è¯­å¥ï¼Œå°½ç®¡èµ‹å€¼æ˜¯ä»å³åˆ°å·¦çš„æ²¡é”™ï¼Œä½†æ˜¯.çš„ä¼˜å…ˆçº§æ¯”&#x3D;è¦é«˜ï¼Œæ‰€ä»¥è¿™é‡Œé¦–å…ˆæ‰§è¡Œa.xï¼Œç›¸å½“äºä¸ºaï¼ˆæˆ–è€…bï¼‰æ‰€æŒ‡å‘çš„&#123;n:1&#125;å¯¹è±¡æ–°å¢äº†ä¸€ä¸ªå±æ€§xï¼Œå³æ­¤æ—¶å¯¹è±¡å°†å˜ä¸º&#123;n:1;x:undefined&#125;ã€‚ä¹‹åæŒ‰æ­£å¸¸æƒ…å†µï¼Œä»å³åˆ°å·¦è¿›è¡Œèµ‹å€¼ï¼Œæ­¤æ—¶æ‰§è¡Œa &#x3D;&#123;n:2&#125;çš„æ—¶å€™ï¼Œaçš„å¼•ç”¨æ”¹å˜ï¼ŒæŒ‡å‘äº†æ–°å¯¹è±¡&#123;nï¼š2&#125;,è€Œbä¾ç„¶æŒ‡å‘çš„æ˜¯æ—§å¯¹è±¡ã€‚ä¹‹åæ‰§è¡Œa.x &#x3D; &#123;nï¼š2&#125;çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šé‡æ–°è§£æä¸€éaï¼Œè€Œæ˜¯æ²¿ç”¨æœ€åˆè§£æa.xæ—¶å€™çš„aï¼Œä¹Ÿå³æ—§å¯¹è±¡ï¼Œæ•…æ­¤æ—¶æ—§å¯¹è±¡çš„xçš„å€¼ä¸º&#123;nï¼š2&#125;ï¼Œæ—§å¯¹è±¡ä¸º &#123;n:1;x:&#123;nï¼š2&#125;&#125;ï¼Œå®ƒè¢«bå¼•ç”¨ç€ã€‚</span><br><span class="line">åé¢è¾“å‡ºa.xçš„æ—¶å€™ï¼Œåˆè¦è§£æaäº†ï¼Œæ­¤æ—¶çš„aæ˜¯æŒ‡å‘æ–°å¯¹è±¡çš„aï¼Œè€Œè¿™ä¸ªæ–°å¯¹è±¡æ˜¯æ²¡æœ‰xå±æ€§çš„ï¼Œæ•…è®¿é—®æ—¶è¾“å‡ºundefinedï¼›è€Œè®¿é—®b.xçš„æ—¶å€™ï¼Œå°†è¾“å‡ºæ—§å¯¹è±¡çš„xçš„å€¼ï¼Œå³&#123;n:2&#125;ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-54-é¢˜-ï¼ˆ2019-10-29ï¼‰"><a href="#ç¬¬-54-é¢˜-ï¼ˆ2019-10-29ï¼‰" class="headerlink" title="ç¬¬ 54 é¢˜  ï¼ˆ2019/10/29ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/94">ç¬¬ 54 é¢˜ </a> ï¼ˆ2019/10/29ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> å†’æ³¡æ’åºå¦‚ä½•å®ç°ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Œ è¿˜å¯ä»¥å¦‚ä½•æ”¹è¿›ï¼Ÿ</p>
<p><strong>è§£æï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å†’æ³¡æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">BubbleSort</span>(<span class="params">nums, n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (nums == <span class="literal">null</span> || nums.length &lt; <span class="number">2</span>) <span class="keyword">return</span> nums;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; n - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (nums[j + <span class="number">1</span>] &lt; nums[j]) &#123;</span><br><span class="line">        [nums[j], nums[j + <span class="number">1</span>]] = [nums[j + <span class="number">1</span>], nums[j]];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> nums;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ€§è´¨ï¼š</p>
<p>1ã€æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)</p>
<p>2ã€ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p>
<p>3ã€ç¨³å®šæ’åº</p>
<p>4ã€åŸåœ°æ’åº</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ”¹è¿›å†’æ³¡æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort1</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> i = arr.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (i &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">        pos = j;</span><br><span class="line">        <span class="keyword">const</span> temp = arr[j];</span><br><span class="line">        arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">        arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    i = pos;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(arr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-55-é¢˜-ï¼ˆ2019-10-30ï¼‰"><a href="#ç¬¬-55-é¢˜-ï¼ˆ2019-10-30ï¼‰" class="headerlink" title="ç¬¬ 55 é¢˜ ï¼ˆ2019/10/30ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/96">ç¬¬ 55 é¢˜</a> ï¼ˆ2019/10/30ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> æŸå…¬å¸ 1 åˆ° 12 æœˆä»½çš„é”€å”®é¢å­˜åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œé¢</p>
<blockquote>
<p>å¦‚ä¸‹ï¼š{1:222, 2:123, 5:888}ï¼Œè¯·æŠŠæ•°æ®å¤„ç†ä¸ºå¦‚ä¸‹ç»“æ„ï¼š[222, 123, null, null, 888, null, null, null, null, null, null, null]ã€‚</p>
</blockquote>
<blockquote>
<p><code>**Array.from()**</code> æ–¹æ³•ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œæµ…æ‹·è´çš„æ•°ç»„å®ä¾‹ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="number">1</span>: <span class="number">222</span>, <span class="number">2</span>: <span class="number">123</span>, <span class="number">5</span>: <span class="number">888</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    obj.length = <span class="number">13</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(obj).slice(<span class="number">1</span>).map(item = &gt; &#123;</span><br><span class="line">        <span class="keyword">return</span>  item === <span class="literal">undefined</span> ? <span class="literal">null</span> : item</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(f(obj))</span><br><span class="line"><span class="comment">//[ 222, 123, null, null, 888, null, null, null, null, null, null, null ]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-56-é¢˜-ï¼ˆ2019-10-30ï¼‰"><a href="#ç¬¬-56-é¢˜-ï¼ˆ2019-10-30ï¼‰" class="headerlink" title="ç¬¬ 56 é¢˜ ï¼ˆ2019/10/30ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/98">ç¬¬ 56 é¢˜</a> ï¼ˆ2019/10/30ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> è¦æ±‚è®¾è®¡ LazyMan ç±»ï¼Œå®ç°ä»¥ä¸‹åŠŸèƒ½ã€‚</p>
<p><strong>è€ƒç‚¹</strong>ï¼šæ•°æ®ç»“æ„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">LazyMan(<span class="string">&quot;Tony&quot;</span>);</span><br><span class="line"><span class="comment">// Hi I am Tony</span></span><br><span class="line"></span><br><span class="line">LazyMan(<span class="string">&quot;Tony&quot;</span>).sleep(<span class="number">10</span>).eat(<span class="string">&quot;lunch&quot;</span>);</span><br><span class="line"><span class="comment">// Hi I am Tony</span></span><br><span class="line"><span class="comment">// ç­‰å¾…äº†10ç§’...</span></span><br><span class="line"><span class="comment">// I am eating lunch</span></span><br><span class="line"></span><br><span class="line">LazyMan(<span class="string">&quot;Tony&quot;</span>).eat(<span class="string">&quot;lunch&quot;</span>).sleep(<span class="number">10</span>).eat(<span class="string">&quot;dinner&quot;</span>);</span><br><span class="line"><span class="comment">// Hi I am Tony</span></span><br><span class="line"><span class="comment">// I am eating lunch</span></span><br><span class="line"><span class="comment">// ç­‰å¾…äº†10ç§’...</span></span><br><span class="line"><span class="comment">// I am eating diner</span></span><br><span class="line"></span><br><span class="line">LazyMan(<span class="string">&quot;Tony&quot;</span>)</span><br><span class="line">  .eat(<span class="string">&quot;lunch&quot;</span>)</span><br><span class="line">  .eat(<span class="string">&quot;dinner&quot;</span>)</span><br><span class="line">  .sleepFirst(<span class="number">5</span>)</span><br><span class="line">  .sleep(<span class="number">10</span>)</span><br><span class="line">  .eat(<span class="string">&quot;junk food&quot;</span>);</span><br><span class="line"><span class="comment">// Hi I am Tony</span></span><br><span class="line"><span class="comment">// ç­‰å¾…äº†5ç§’...</span></span><br><span class="line"><span class="comment">// I am eating lunch</span></span><br><span class="line"><span class="comment">// I am eating dinner</span></span><br><span class="line"><span class="comment">// ç­‰å¾…äº†10ç§’...</span></span><br><span class="line"><span class="comment">// I am eating junk food</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æï¼š</strong> <del>~</del></p>
<h3 id="ç¬¬-57-é¢˜ï¼ˆ2019-10-31ï¼‰"><a href="#ç¬¬-57-é¢˜ï¼ˆ2019-10-31ï¼‰" class="headerlink" title="ç¬¬ 57 é¢˜ï¼ˆ2019/10/31ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/100">ç¬¬ 57 é¢˜</a>ï¼ˆ2019/10/31ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> åˆ†ææ¯”è¾ƒ opacity: 0ã€visibility: hiddenã€display: none ä¼˜åŠ£å’Œé€‚ç”¨åœºæ™¯ã€‚</p>
<p><strong>è§£æï¼š</strong></p>
<blockquote>
<p>æ€»ç»“ä¸€ä¸‹ï¼š</p>
</blockquote>
<p><strong>ç»“æ„:</strong><br>display:none: ä¼šè®©å…ƒç´ å®Œå…¨ä»æ¸²æŸ“æ ‘ä¸­æ¶ˆå¤±ï¼Œæ¸²æŸ“çš„æ—¶å€™ä¸å æ®ä»»ä½•ç©ºé—´, ä¸èƒ½ç‚¹å‡»ï¼Œ<br>visibility: hidden:ä¸ä¼šè®©å…ƒç´ ä»æ¸²æŸ“æ ‘æ¶ˆå¤±ï¼Œæ¸²æŸ“å…ƒç´ ç»§ç»­å æ®ç©ºé—´ï¼Œåªæ˜¯å†…å®¹ä¸å¯è§ï¼Œä¸èƒ½ç‚¹å‡»<br>opacity: 0: ä¸ä¼šè®©å…ƒç´ ä»æ¸²æŸ“æ ‘æ¶ˆå¤±ï¼Œæ¸²æŸ“å…ƒç´ ç»§ç»­å æ®ç©ºé—´ï¼Œåªæ˜¯å†…å®¹ä¸å¯è§ï¼Œå¯ä»¥ç‚¹å‡»</p>
<p><strong>ç»§æ‰¿ï¼š</strong><br>display: none å’Œ opacity: 0ï¼šæ˜¯éç»§æ‰¿å±æ€§ï¼Œå­å­™èŠ‚ç‚¹æ¶ˆå¤±ç”±äºå…ƒç´ ä»æ¸²æŸ“æ ‘æ¶ˆå¤±é€ æˆï¼Œé€šè¿‡ä¿®æ”¹å­å­™èŠ‚ç‚¹å±æ€§æ— æ³•æ˜¾ç¤ºã€‚<br>visibility: hiddenï¼šæ˜¯ç»§æ‰¿å±æ€§ï¼Œå­å­™èŠ‚ç‚¹æ¶ˆå¤±ç”±äºç»§æ‰¿äº† hiddenï¼Œé€šè¿‡è®¾ç½® visibility: visible;å¯ä»¥è®©å­å­™èŠ‚ç‚¹æ˜¾å¼ã€‚</p>
<p><strong>æ€§èƒ½ï¼š</strong><br>displaynone : ä¿®æ”¹å…ƒç´ ä¼šé€ æˆæ–‡æ¡£å›æµ,è¯»å±å™¨ä¸ä¼šè¯»å– display: none å…ƒç´ å†…å®¹ï¼Œæ€§èƒ½æ¶ˆè€—è¾ƒå¤§<br>visibility:hidden: ä¿®æ”¹å…ƒç´ åªä¼šé€ æˆæœ¬å…ƒç´ çš„é‡ç»˜,æ€§èƒ½æ¶ˆè€—è¾ƒå°‘è¯»å±å™¨è¯»å– visibility: hidden å…ƒç´ å†…å®¹<br>opacity: 0 ï¼š ä¿®æ”¹å…ƒç´ ä¼šé€ æˆé‡ç»˜ï¼Œæ€§èƒ½æ¶ˆè€—è¾ƒå°‘</p>
<p><strong>è”ç³»</strong> ï¼šå®ƒä»¬éƒ½èƒ½è®©å…ƒç´ ä¸å¯è§</p>
<h3 id="ç¬¬-58-é¢˜ï¼ˆ2019-10-31ï¼‰"><a href="#ç¬¬-58-é¢˜ï¼ˆ2019-10-31ï¼‰" class="headerlink" title="ç¬¬ 58 é¢˜ï¼ˆ2019/10/31ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/101">ç¬¬ 58 é¢˜</a>ï¼ˆ2019/10/31ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ç¬¬ 58 é¢˜ï¼šç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°ï¼ˆfunctionï¼‰çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿæ„é€ å‡½æ•°ï¼ˆfunctionï¼‰å¯ä»¥ä½¿ç”¨ new ç”Ÿæˆå®ä¾‹ï¼Œé‚£ä¹ˆç®­å¤´å‡½æ•°å¯ä»¥å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
<p><strong>è§£æï¼š</strong></p>
<blockquote>
<p>å¼•å…¥ç®­å¤´å‡½æ•°æœ‰ä¸¤ä¸ªæ–¹é¢çš„ä½œç”¨ï¼šæ›´ç®€çŸ­çš„å‡½æ•°å¹¶ä¸”ä¸ç»‘å®š this</p>
</blockquote>
<p>ç®­å¤´å‡½æ•°æ˜¯æ™®é€šå‡½æ•°çš„ç®€å†™ï¼Œå¯ä»¥æ›´ä¼˜é›…çš„å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå’Œæ™®é€šå‡½æ•°ç›¸æ¯”ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹å·®å¼‚ï¼š</p>
<ol>
<li>ç®­å¤´å‡½æ•°<strong>æ²¡æœ‰ this</strong>ï¼Œå®ƒä¼šä»è‡ªå·±çš„<strong>ä½œç”¨åŸŸé“¾</strong>çš„ä¸Šä¸€å±‚ç»§æ‰¿ thisï¼ˆå› æ­¤æ— æ³•ä½¿ç”¨ apply / call / bind è¿›è¡Œç»‘å®š this å€¼ï¼‰ï¼›</li>
<li>ä¸å¯ä»¥ä½¿ç”¨ <strong>arguments å¯¹è±¡</strong>ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ rest å‚æ•°ä»£æ›¿ã€‚</li>
<li>ä¸å¯ä»¥ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/yield">yield å‘½ä»¤</a>ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚</li>
<li>æ— æ³•ä½¿ç”¨ <strong>new å®ä¾‹åŒ–å¯¹è±¡</strong>ï¼Œå› ä¸ºæ™®é€šæ„é€ å‡½æ•°é€šè¿‡ new å®ä¾‹åŒ–å¯¹è±¡æ—¶ this æŒ‡å‘å®ä¾‹å¯¹è±¡ï¼Œè€Œç®­å¤´å‡½æ•°æ²¡æœ‰ this å€¼ï¼ŒåŒæ—¶ ç®­å¤´å‡½æ•°ä¹Ÿæ²¡æœ‰ prototypeã€‚</li>
</ol>
<p>new è¿‡ç¨‹å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newFunc</span>(<span class="params">father, ...rest</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = &#123;&#125;;</span><br><span class="line">  result.__proto__ = father.prototype;</span><br><span class="line">  <span class="keyword">var</span> result2 = father.apply(result, rest);</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    (<span class="keyword">typeof</span> result2 === <span class="string">&quot;object&quot;</span> || <span class="keyword">typeof</span> result2 === <span class="string">&quot;function&quot;</span>) &amp;&amp;</span><br><span class="line">    result2 !== <span class="literal">null</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">return</span> result2;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-59-é¢˜-ï¼ˆ2019-10-31ï¼‰"><a href="#ç¬¬-59-é¢˜-ï¼ˆ2019-10-31ï¼‰" class="headerlink" title="ç¬¬ 59 é¢˜ ï¼ˆ2019/10/31ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/102">ç¬¬ 59 é¢˜</a> ï¼ˆ2019/10/31ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ç»™å®šä¸¤ä¸ªæ•°ç»„ï¼Œå†™ä¸€ä¸ªæ–¹æ³•æ¥è®¡ç®—å®ƒä»¬çš„äº¤é›†ã€‚</p>
<blockquote>
<p>ä¾‹å¦‚ï¼šç»™å®š nums1 = [1, 2, 2, 1]ï¼Œnums2 = [2, 2]ï¼Œè¿”å› [2, 2]ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nums1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>],</span><br><span class="line">  nums2 = [<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="comment">// 1.</span></span><br><span class="line"><span class="comment">// æœ‰ä¸ªé—®é¢˜ï¼Œ [NaN].indexOf(NaN) === -1</span></span><br><span class="line"><span class="keyword">var</span> newArr1 = nums1.filter(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> nums2.indexOf(item) &gt; <span class="number">-1</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.</span></span><br><span class="line"><span class="keyword">var</span> newArr2 = nums1.filter(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> nums2.includes(item);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-60-é¢˜-ï¼ˆ2019-10-31ï¼‰"><a href="#ç¬¬-60-é¢˜-ï¼ˆ2019-10-31ï¼‰" class="headerlink" title="ç¬¬ 60 é¢˜ ï¼ˆ2019/10/31ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/105">ç¬¬ 60 é¢˜</a> ï¼ˆ2019/10/31ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> å·²çŸ¥å¦‚ä¸‹ä»£ç ï¼Œå¦‚ä½•ä¿®æ”¹æ‰èƒ½è®©å›¾ç‰‡å®½åº¦ä¸º 300px ï¼Ÿæ³¨æ„ä¸‹é¢ä»£ç ä¸å¯ä¿®æ”¹ã€‚</p>
<blockquote>
<p>&lt;img src=â€1.jpgâ€ style=â€width:480px!important;â€&gt;</p>
</blockquote>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li><code>max-width: 300px</code></li>
<li><code>transform: scale(0.625,0.625) </code></li>
<li><code>zoom: 0.625</code>; <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@viewport/zoom">MDNï¼šzoom</a></li>
<li>è§£æ³•ï¼š</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">box-sizing</span>: <span class="selector-tag">border-box</span>;</span><br><span class="line"><span class="selector-tag">padding</span>: 0 90<span class="selector-tag">px</span>;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>jsï¼š<code>document.getElementsByTagName(&#39;img&#39;)[0].style.width=&#39;300px&#39;</code></li>
</ol>
<h3 id="ç¬¬-61-é¢˜-ï¼ˆ2019-11-01ï¼‰"><a href="#ç¬¬-61-é¢˜-ï¼ˆ2019-11-01ï¼‰" class="headerlink" title="ç¬¬ 61 é¢˜ ï¼ˆ2019/11/01ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/106">ç¬¬ 61 é¢˜</a> ï¼ˆ2019/11/01ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä»‹ç»ä¸‹å¦‚ä½•å®ç° token åŠ å¯† ?</p>
<p><strong>è§£æï¼š</strong></p>
<blockquote>
<p>è¿™ä¸ªé¢˜ç›®æ˜¯é—®ï¼šç”Ÿæˆ token çš„æ–¹æ³•ï¼Œæ¯”å¦‚ <strong>JWT</strong>ï¼Œè¿˜æ˜¯è¯´åˆ©ç”¨åŠ å¯†ç®—æ³•ï¼Œæ¯”å¦‚å¯¹ç§°åŠ å¯†æˆ–è€…éå¯¹ç§°åŠ å¯† åŠ å¯†ç”Ÿæˆåçš„ token ?</p>
</blockquote>
<p>è¿™è¾¹ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ï¼Œåç«¯æ ¹æ® token æ¥æŸ¥æƒé™å’Œæ˜¯å¦ç™»å½•ä»¥åŠå¤±æ•ˆç­‰</p>
<blockquote>
<p>token åŠ å¯†æ–¹å¼ï¼š</p>
<ul>
<li>æœåŠ¡å™¨é€šè¿‡ç§é’¥å¯¹ä¸€éƒ¨åˆ†ä¿¡æ¯è¿›è¡ŒåŠ å¯†ç”Ÿæˆç­¾åï¼Œå¹¶å°†ç­¾åå’Œæ•°æ®æ‹¼æ¥åœ¨ä¸€èµ·ä½œä¸º token çš„ä¸€éƒ¨åˆ†ã€‚ä¾‹å¦‚ JWTã€‚</li>
<li>ä½¿ç”¨å®¢æˆ·ç«¯çš„ UA æˆ–å…¶ä»–æ•°æ®ä½œä¸ºå¹²æ‰°ç å¯¹ token è¿›è¡ŒåŠ å¯†ã€‚</li>
</ul>
</blockquote>
<p>ç›¸å…³å‚è€ƒæ–‡ç« ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/e0ac7c3067eb">Token - æœåŠ¡ç«¯èº«ä»½éªŒè¯çš„æµè¡Œæ–¹æ¡ˆ</a></li>
<li><a target="_blank" rel="noopener" href="https://ninghao.net/blog/2834">åŸºäº Token çš„èº«ä»½éªŒè¯ï¼šJSON Web Token</a></li>
</ul>
<blockquote>
<p>jwt ä¸¾ä¾‹</p>
<ol>
<li>éœ€è¦ä¸€ä¸ª secretï¼ˆéšæœºæ•°ï¼‰</li>
<li>åç«¯åˆ©ç”¨ secret å’ŒåŠ å¯†ç®—æ³•(å¦‚ï¼šHMAC-SHA256)å¯¹ payload(å¦‚è´¦å·å¯†ç )ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²(token)ï¼Œè¿”å›å‰ç«¯</li>
<li>å‰ç«¯æ¯æ¬¡ request åœ¨ header ä¸­å¸¦ä¸Š token</li>
<li>åç«¯ç”¨åŒæ ·çš„ç®—æ³•è§£å¯†</li>
</ol>
</blockquote>
<p>è¿™è¾¹ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ï¼Œåç«¯æ ¹æ® token æ¥æŸ¥æƒé™å’Œæ˜¯å¦ç™»å½•ä»¥åŠå¤±æ•ˆç­‰</p>
<h3 id="ç¬¬-62-é¢˜-ï¼ˆ2019-11-01ï¼‰"><a href="#ç¬¬-62-é¢˜-ï¼ˆ2019-11-01ï¼‰" class="headerlink" title="ç¬¬ 62 é¢˜  ï¼ˆ2019/11/01ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/107">ç¬¬ 62 é¢˜ </a> ï¼ˆ2019/11/01ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> redux ä¸ºä»€ä¹ˆè¦æŠŠ reducer è®¾è®¡æˆçº¯å‡½æ•°</p>
<p><strong>è§£æï¼š</strong> å­¦ä¹  react ~~</p>
<h3 id="ç¬¬-63-é¢˜ï¼ˆ2019-11-02ï¼‰"><a href="#ç¬¬-63-é¢˜ï¼ˆ2019-11-02ï¼‰" class="headerlink" title="ç¬¬ 63 é¢˜ï¼ˆ2019/11/02ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/108">ç¬¬ 63 é¢˜</a>ï¼ˆ2019/11/02ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> å¦‚ä½•è®¾è®¡å®ç°æ— ç¼è½®æ’­å¦‚ä½•è®¾è®¡å®ç°æ— ç¼è½®æ’­</p>
<p><strong>è§£æï¼š</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">æ— é™è½®æ’­åŸºæœ¬æ’ä»¶éƒ½å¯ä»¥åšåˆ°,ä¸è¿‡è¦ä½¿ç”¨åŸç”Ÿä»£ç å®ç°æ— ç¼æ»šåŠ¨çš„è¯æˆ‘å¯ä»¥æç‚¹æ€è·¯,</span><br><span class="line">å› ä¸ºè½®æ’­å›¾åŸºæœ¬éƒ½åœ¨ulç›’å­é‡Œé¢çš„liå…ƒç´ ,</span><br><span class="line">é¦–å…ˆè·å–ç¬¬ä¸€ä¸ªliå…ƒç´ å’Œæœ€åä¸€ä¸ªliå…ƒç´ ,</span><br><span class="line">å…‹éš†ç¬¬ä¸€ä¸ªliå…ƒç´ ,å’Œæœ€åä¸€ä¸ªliå…ƒç´ ,</span><br><span class="line">åˆ†åˆ«æ’å…¥åˆ°lastliçš„åé¢å’Œfirstliçš„å‰é¢,</span><br><span class="line">ç„¶åç›‘å¬æ»šåŠ¨äº‹ä»¶,å¦‚æœæ»‘åŠ¨è·ç¦»è¶…è¿‡xæˆ–-x,è®©å…¶å®ç°è·³è½¬ä¸‹ä¸€å¼ å›¾æˆ–è€…è·³è½¬ä¸Šä¸€å¼ ,(æ­¤å¤„æœ€å¥½è®¾ç½®æ»‘åŠ¨è·ç¦»),</span><br><span class="line">ç„¶ååœ¨æ»‘åŠ¨æœ€åä¸€å¼ å®ç°æœ€åä¸€å¼ å’Œå…‹éš†ç¬¬ä¸€å¼ çš„æ— ç¼è½¬æ¢,å½“åˆ°å…‹éš†çš„ç¬¬ä¸€å¼ çš„æ—¶å€™åœä¸‹çš„æ—¶å€™,,è®©å…¶åˆ‡å…¥çœŸçš„ç¬¬ä¸€å¼ ,åˆ™å®ç°æ— çº¿æ»‘åŠ¨,å‘å‰æ»‘åŠ¨åŒç†</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-64-é¢˜ï¼ˆ2019-11-02ï¼‰"><a href="#ç¬¬-64-é¢˜ï¼ˆ2019-11-02ï¼‰" class="headerlink" title="ç¬¬ 64 é¢˜ï¼ˆ2019/11/02ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/109">ç¬¬ 64 é¢˜</a>ï¼ˆ2019/11/02ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong>æ¨¡æ‹Ÿå®ç°ä¸€ä¸ª Promise.finally</p>
<p><strong>çŸ¥è¯†ç‚¹</strong> ï¼šå¼‚æ­¥</p>
<p><strong>è§£æï¼š</strong></p>
<h3 id="ç¬¬-65-é¢˜-ï¼ˆ2019-11-02ï¼‰"><a href="#ç¬¬-65-é¢˜-ï¼ˆ2019-11-02ï¼‰" class="headerlink" title="ç¬¬ 65 é¢˜ ï¼ˆ2019/11/02ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/111">ç¬¬ 65 é¢˜</a> ï¼ˆ2019/11/02ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> <code>a.b.c.d</code> å’Œ <code>a[&#39;b&#39;][&#39;c&#39;][&#39;d&#39;]</code>ï¼Œå“ªä¸ªæ€§èƒ½æ›´é«˜ï¼Ÿ</p>
<p><strong>è§£æï¼š</strong></p>
<p>åº”è¯¥æ˜¯ <code>a.b.c.d</code> æ¯” <code>a[&#39;b&#39;][&#39;c&#39;][&#39;d&#39;]</code> æ€§èƒ½é«˜ç‚¹ï¼Œåè€…è¿˜è¦è€ƒè™‘ <code>[ ]</code> ä¸­æ˜¯å˜é‡çš„æƒ…å†µï¼Œå†è€…ï¼Œä»ä¸¤ç§å½¢å¼çš„ç»“æ„æ¥çœ‹ï¼Œæ˜¾ç„¶ç¼–è¯‘å™¨è§£æå‰è€…è¦æ¯”åè€…å®¹æ˜“äº›ï¼Œè‡ªç„¶ä¹Ÿå°±å¿«ä¸€ç‚¹ã€‚<br>ä¸‹å›¾æ˜¯ä¸¤è€…çš„ <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000016231512">AST</a> (æŠ½è±¡è¯­æ³•æ ‘) å¯¹æ¯”ï¼š</p>
<p><img src="https://user-images.githubusercontent.com/9009389/56872978-501d9a00-6a61-11e9-9e69-85ff00c031fc.png"></p>
<h3 id="ç¬¬-66-é¢˜-ï¼ˆ2019-11-02ï¼‰"><a href="#ç¬¬-66-é¢˜-ï¼ˆ2019-11-02ï¼‰" class="headerlink" title="ç¬¬ 66 é¢˜ ï¼ˆ2019/11/02ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/112">ç¬¬ 66 é¢˜</a> ï¼ˆ2019/11/02ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ES6 ä»£ç è½¬æˆ ES5 ä»£ç çš„å®ç°æ€è·¯æ˜¯ä»€ä¹ˆ</p>
<p><strong>è§£æï¼š</strong></p>
<p>å›åˆ°æ­£é¢˜ä¸Šæ¥ï¼Œè¯´åˆ° ES6 ä»£ç è½¬æˆ ES5 ä»£ç ï¼Œæˆ‘ä»¬è‚¯å®šä¼šæƒ³åˆ° Babelã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒ Babel çš„å®ç°æ–¹å¼ã€‚</p>
<p>é‚£ä¹ˆ Babel æ˜¯å¦‚ä½•æŠŠ ES6 è½¬æˆ ES5 å‘¢ï¼Œå…¶å¤§è‡´åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<ul>
<li>å°†ä»£ç å­—ç¬¦ä¸²è§£ææˆæŠ½è±¡è¯­æ³•æ ‘ï¼Œå³æ‰€è°“çš„ <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000016231512">AST</a></li>
<li>å¯¹ <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000016231512">AST</a> è¿›è¡Œå¤„ç†ï¼Œåœ¨è¿™ä¸ªé˜¶æ®µå¯ä»¥å¯¹ ES6 ä»£ç è¿›è¡Œç›¸åº”è½¬æ¢ï¼Œå³è½¬æˆ ES5 ä»£ç </li>
<li>æ ¹æ®å¤„ç†åçš„ <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000016231512">AST</a> å†ç”Ÿæˆä»£ç å­—ç¬¦ä¸²</li>
</ul>
<p>åŸºäºæ­¤ï¼Œå…¶å®æˆ‘ä»¬è‡ªå·±å°±å¯ä»¥å®ç°ä¸€ä¸ªç®€å•çš„â€œç¼–è¯‘å™¨â€ï¼Œç”¨äºæŠŠ ES6 ä»£ç è½¬æˆ ES5ã€‚</p>
<p>æ¯”å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ <code>@babel/parser</code> çš„ <code>parse</code> æ–¹æ³•ï¼Œå°†ä»£ç å­—ç¬¦ä¸²è§£ææˆ ASTï¼›ä½¿ç”¨ <code>@babel/core</code> çš„ <code>transformFromAstSync</code> æ–¹æ³•ï¼Œå¯¹ AST è¿›è¡Œå¤„ç†ï¼Œå°†å…¶è½¬æˆ ES5 å¹¶ç”Ÿæˆç›¸åº”çš„ä»£ç å­—ç¬¦ä¸²ï¼›è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½è¿˜éœ€è¦ä½¿ç”¨ <code>@babel/traverse</code> æ¥è·å–ä¾èµ–æ–‡ä»¶ç­‰ã€‚å¯¹æ­¤æ„Ÿå…´è¶£çš„å¯ä»¥çœ‹çœ‹<a target="_blank" rel="noopener" href="https://github.com/FishPlusOrange/easy-webpack">è¿™ä¸ª</a>ã€‚</p>
<h3 id="ç¬¬-67-é¢˜-ï¼ˆ2019-11-03ï¼‰"><a href="#ç¬¬-67-é¢˜-ï¼ˆ2019-11-03ï¼‰" class="headerlink" title="ç¬¬ 67 é¢˜ ï¼ˆ2019/11/03ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/113">ç¬¬ 67 é¢˜</a> ï¼ˆ2019/11/03ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> æ•°ç»„ç¼–ç¨‹é¢˜</p>
<blockquote>
<p>éšæœºç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º 10 çš„æ•´æ•°ç±»å‹çš„æ•°ç»„ï¼Œä¾‹å¦‚ <code>[2, 10, 3, 4, 5, 11, 10, 11, 20]</code>ï¼Œå°†å…¶æ’åˆ—æˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¦æ±‚æ–°æ•°ç»„å½¢å¼å¦‚ä¸‹ï¼Œä¾‹å¦‚ <code>[[2, 3, 4, 5], [10, 11], [20]]</code>ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	æˆ‘ç†è§£æ˜¯ï¼šå»é‡æ’åºæ•°ç»„åï¼Œåˆ†ç±»è¿ç»­æ•°åˆ—ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">let</span> initArr = <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="number">10</span> &#125;, <span class="function">(<span class="params">v</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> getRandomIntInclusive(<span class="number">0</span>, <span class="number">20</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾—åˆ°ä¸€ä¸ªä¸¤æ•°ä¹‹é—´çš„éšæœºæ•´æ•°ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªæ•°åœ¨å†…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRandomIntInclusive</span>(<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">  min = <span class="built_in">Math</span>.ceil(min);</span><br><span class="line">  max = <span class="built_in">Math</span>.floor(max);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>)) + min; <span class="comment">//å«æœ€å¤§å€¼ï¼Œå«æœ€å°å€¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetArr</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> newarr = <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr)).sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">  <span class="keyword">var</span> pre = <span class="number">0</span>,</span><br><span class="line">    cur = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> count = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> xarr = [newarr[<span class="number">0</span>]];</span><br><span class="line">  <span class="keyword">var</span> Finllyarr = [];</span><br><span class="line">  <span class="keyword">while</span> (cur &lt;= newarr.length) &#123;</span><br><span class="line">    <span class="keyword">if</span> (newarr[cur] - newarr[pre] === count) &#123;</span><br><span class="line">      xarr.push(newarr[cur]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      pre = cur;</span><br><span class="line">      count = <span class="number">0</span>;</span><br><span class="line">      Finllyarr.push(xarr);</span><br><span class="line">      xarr = [newarr[pre]];</span><br><span class="line">    &#125;</span><br><span class="line">    cur++;</span><br><span class="line">    count++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> Finllyarr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(GetArr(initArr));</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-68-é¢˜-ï¼ˆ2019-11-04ï¼‰"><a href="#ç¬¬-68-é¢˜-ï¼ˆ2019-11-04ï¼‰" class="headerlink" title="ç¬¬ 68 é¢˜ ï¼ˆ2019/11/04ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/115">ç¬¬ 68 é¢˜</a> ï¼ˆ2019/11/04ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> å¦‚ä½•è§£å†³ç§»åŠ¨ç«¯ Retina å± 1px åƒç´ é—®é¢˜</p>
<p><strong>è§£æï¼š</strong> <a target="_blank" rel="noopener" href="https://juejin.im/entry/584e427361ff4b006cd22c7c">7 ç§æ–¹æ³•è§£å†³ç§»åŠ¨ç«¯ Retina å±å¹• 1px è¾¹æ¡†é—®é¢˜</a></p>
<ol>
<li>0.5px è¾¹æ¡†</li>
<li>ä½¿ç”¨ border-image å®ç°</li>
<li>ä½¿ç”¨ background-image å®ç°</li>
<li>å¤šèƒŒæ™¯æ¸å˜å®ç°</li>
<li>ä½¿ç”¨ box-shadow æ¨¡æ‹Ÿè¾¹æ¡†</li>
<li>viewport + rem å®ç°</li>
<li>ä¼ªç±» + transform å®ç°</li>
</ol>
<h3 id="ç¬¬-69-é¢˜-ï¼ˆ2019-11-07ï¼‰"><a href="#ç¬¬-69-é¢˜-ï¼ˆ2019-11-07ï¼‰" class="headerlink" title="ç¬¬ 69 é¢˜ ï¼ˆ2019/11/07ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/116">ç¬¬ 69 é¢˜</a> ï¼ˆ2019/11/07ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> å¦‚ä½•æŠŠä¸€ä¸ªå­—ç¬¦ä¸²çš„å¤§å°å†™å–åï¼ˆå¤§å†™å˜å°å†™å°å†™å˜å¤§å†™ï¼‰ï¼Œä¾‹å¦‚ â€™AbCâ€™ å˜æˆ â€˜aBcâ€™ ã€‚</p>
<p>è§£æ</p>
<ol>
<li>åˆ©ç”¨ ASCII ç  ï¼ˆA: 65 ï¼ŒZï¼š90ï¼Œaï¼š97ï¼Œzï¼š122ï¼‰</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Getstr</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> str</span><br><span class="line">    .split(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    .map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (item.charCodeAt() &lt;= <span class="number">90</span> &amp;&amp; item.charCodeAt() &gt;= <span class="number">65</span>)</span><br><span class="line">        <span class="keyword">return</span> item.toLowerCase();</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">return</span> item.toUpperCase();</span><br><span class="line">    &#125;)</span><br><span class="line">    .join(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åˆ©ç”¨ å°æŠ€å·§</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Getstr</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> str</span><br><span class="line">    .split(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    .map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> item === item.toUpperCase()</span><br><span class="line">        ? item.toLowerCase()</span><br><span class="line">        : item.toUpperCase();</span><br><span class="line">    &#125;)</span><br><span class="line">    .join(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-70-é¢˜-ï¼ˆ2019-11-08ï¼‰"><a href="#ç¬¬-70-é¢˜-ï¼ˆ2019-11-08ï¼‰" class="headerlink" title="ç¬¬ 70 é¢˜ ï¼ˆ2019/11/08ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/118">ç¬¬ 70 é¢˜</a> ï¼ˆ2019/11/08ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä»‹ç»ä¸‹ webpack çƒ­æ›´æ–°åŸç†ï¼Œæ˜¯å¦‚ä½•åšåˆ°åœ¨ä¸åˆ·æ–°æµè§ˆå™¨çš„å‰æä¸‹æ›´æ–°é¡µé¢çš„</p>
<p><strong>è§£æï¼š</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.å½“ä¿®æ”¹äº†ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼›</span><br><span class="line">2.æ–‡ä»¶ç³»ç»Ÿæ¥æ”¶æ›´æ”¹å¹¶é€šçŸ¥webpackï¼›</span><br><span class="line">3.webpacké‡æ–°ç¼–è¯‘æ„å»ºä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å—ï¼Œå¹¶é€šçŸ¥HMRæœåŠ¡å™¨è¿›è¡Œæ›´æ–°ï¼›</span><br><span class="line">4.HMR Server ä½¿ç”¨webSocketé€šçŸ¥HMR runtime éœ€è¦æ›´æ–°ï¼ŒHMRè¿è¡Œæ—¶é€šè¿‡HTTPè¯·æ±‚æ›´æ–°jsonpï¼›</span><br><span class="line">5.HMRè¿è¡Œæ—¶æ›¿æ¢æ›´æ–°ä¸­çš„æ¨¡å—ï¼Œå¦‚æœç¡®å®šè¿™äº›æ¨¡å—æ— æ³•æ›´æ–°ï¼Œåˆ™è§¦å‘æ•´ä¸ªé¡µé¢åˆ·æ–°ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-71-é¢˜-ï¼ˆ2019-11-14ï¼‰"><a href="#ç¬¬-71-é¢˜-ï¼ˆ2019-11-14ï¼‰" class="headerlink" title="ç¬¬ 71 é¢˜ ï¼ˆ2019/11/14ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/119">ç¬¬ 71 é¢˜</a> ï¼ˆ2019/11/14ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> å®ç°ä¸€ä¸ªå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œä»é•¿åº¦ä¸º n çš„å­—ç¬¦ä¸² S ä¸­ï¼ŒæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨å­—ç¬¦ä¸² Tï¼ŒT çš„é•¿åº¦æ˜¯ mï¼Œè‹¥å­˜åœ¨è¿”å›æ‰€åœ¨ä½ç½®ã€‚</p>
<p><strong>è§£æï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å› ä¸º T çš„ length æ˜¯ä¸€å®šçš„ï¼Œæ‰€ä»¥åœ¨å¾ªç¯Sçš„çš„æ—¶å€™ ï¼Œå¾ªç¯å½“å‰é¡¹ i åé¢è‡³å°‘è¿˜æœ‰ T.length ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="keyword">const</span> find = <span class="function">(<span class="params">S, T</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (S.length &lt; T.length) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; S.length - T.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (S.substr(i, T.length) === T) <span class="keyword">return</span> i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•ä¸€ï¼š</span></span><br><span class="line"><span class="keyword">const</span> find = <span class="function">(<span class="params">S, T</span>) =&gt;</span> S.search(T);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•äºŒï¼š</span></span><br><span class="line"><span class="keyword">const</span> find = <span class="function">(<span class="params">S, T</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> matched = S.match(T);</span><br><span class="line">  <span class="keyword">return</span> matched ? matched.index : <span class="number">-1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-72-é¢˜-ï¼ˆ2019-11-15ï¼‰"><a href="#ç¬¬-72-é¢˜-ï¼ˆ2019-11-15ï¼‰" class="headerlink" title="ç¬¬ 72 é¢˜ ï¼ˆ2019/11/15ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/121">ç¬¬ 72 é¢˜</a> ï¼ˆ2019/11/15ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong>ä¸ºä»€ä¹ˆæ™®é€š <code>for</code> å¾ªç¯çš„æ€§èƒ½è¿œè¿œé«˜äº <code>forEach</code> çš„æ€§èƒ½ï¼Œè¯·è§£é‡Šå…¶ä¸­çš„åŸå› ã€‚</p>
<p><strong>è§£æï¼š</strong></p>
<ul>
<li>for å¾ªç¯æ²¡æœ‰ä»»ä½•é¢å¤–çš„å‡½æ•°è°ƒç”¨æ ˆå’Œä¸Šä¸‹æ–‡ï¼›</li>
<li>forEach å‡½æ•°ç­¾åå®é™…ä¸Šæ˜¯</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, arr</span>), <span class="title">thisValue</span>)</span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<p>å®ƒä¸æ˜¯æ™®é€šçš„ for å¾ªç¯çš„è¯­æ³•ç³–ï¼Œè¿˜æœ‰è¯¸å¤šå‚æ•°å’Œä¸Šä¸‹æ–‡éœ€è¦åœ¨æ‰§è¡Œçš„æ—¶å€™è€ƒè™‘è¿›æ¥ï¼Œè¿™é‡Œå¯èƒ½æ‹–æ…¢æ€§èƒ½ï¼›</p>
<h3 id="ç¬¬-73-é¢˜-ï¼ˆ2019-11-15ï¼‰"><a href="#ç¬¬-73-é¢˜-ï¼ˆ2019-11-15ï¼‰" class="headerlink" title="ç¬¬ 73 é¢˜ ï¼ˆ2019/11/15ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/122">ç¬¬ 73 é¢˜</a> ï¼ˆ2019/11/15ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä»‹ç»ä¸‹ BFCã€IFCã€GFC å’Œ FFC</p>
<p><strong>è§£æï¼š</strong></p>
<p><strong>BFCï¼ˆBlock formatting contextsï¼‰ï¼šå—çº§æ ¼å¼ä¸Šä¸‹æ–‡</strong><br>é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„æ¸²æŸ“åŒºåŸŸï¼Œé‚£ä¹ˆä»–æ˜¯å¦‚ä½•äº§ç”Ÿçš„å‘¢ï¼Ÿå¯ä»¥è§¦å‘ BFC çš„å…ƒç´ æœ‰ floatã€positionã€overflowã€displayï¼štable-cell/ inline-block/table-caption ï¼›BFC æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿæ¯”å¦‚è¯´å®ç°å¤šæ å¸ƒå±€â€™</p>
<p><strong>IFCï¼ˆInline formatting contextsï¼‰ï¼šå†…è”æ ¼å¼ä¸Šä¸‹æ–‡</strong><br>IFC çš„ line boxï¼ˆçº¿æ¡†ï¼‰é«˜åº¦ç”±å…¶åŒ…å«è¡Œå†…å…ƒç´ ä¸­æœ€é«˜çš„å®é™…é«˜åº¦è®¡ç®—è€Œæ¥ï¼ˆä¸å—åˆ°ç«–ç›´æ–¹å‘çš„ padding/margin å½±å“)IFC ä¸­çš„ line box ä¸€èˆ¬å·¦å³éƒ½è´´ç´§æ•´ä¸ª IFCï¼Œä½†æ˜¯ä¼šå› ä¸º float å…ƒç´ è€Œæ‰°ä¹±ã€‚float å…ƒç´ ä¼šä½äº IFC ä¸ä¸ line box ä¹‹é—´ï¼Œä½¿å¾— line box å®½åº¦ç¼©çŸ­ã€‚ åŒä¸ª ifc ä¸‹çš„å¤šä¸ª line box é«˜åº¦ä¼šä¸åŒ<br>IFC ä¸­æ—¶ä¸å¯èƒ½æœ‰å—çº§å…ƒç´ çš„ï¼Œå½“æ’å…¥å—çº§å…ƒç´ æ—¶ï¼ˆå¦‚ p ä¸­æ’å…¥ divï¼‰ä¼šäº§ç”Ÿä¸¤ä¸ªåŒ¿åå—ä¸ div åˆ†éš”å¼€ï¼Œå³äº§ç”Ÿä¸¤ä¸ª IFCï¼Œæ¯ä¸ª IFC å¯¹å¤–è¡¨ç°ä¸ºå—çº§å…ƒç´ ï¼Œä¸ div å‚ç›´æ’åˆ—ã€‚<br>é‚£ä¹ˆ IFC ä¸€èˆ¬æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ<br>æ°´å¹³å±…ä¸­ï¼šå½“ä¸€ä¸ªå—è¦åœ¨ç¯å¢ƒä¸­æ°´å¹³å±…ä¸­æ—¶ï¼Œè®¾ç½®å…¶ä¸º inline-block åˆ™ä¼šåœ¨å¤–å±‚äº§ç”Ÿ IFCï¼Œé€šè¿‡ text-align åˆ™å¯ä»¥ä½¿å…¶æ°´å¹³å±…ä¸­ã€‚<br>å‚ç›´å±…ä¸­ï¼šåˆ›å»ºä¸€ä¸ª IFCï¼Œç”¨å…¶ä¸­ä¸€ä¸ªå…ƒç´ æ’‘å¼€çˆ¶å…ƒç´ çš„é«˜åº¦ï¼Œç„¶åè®¾ç½®å…¶ vertical-align:middleï¼Œå…¶ä»–è¡Œå†…å…ƒç´ åˆ™å¯ä»¥åœ¨æ­¤çˆ¶å…ƒç´ ä¸‹å‚ç›´å±…ä¸­ã€‚</p>
<p><strong>GFCï¼ˆGrideLayout formatting contextsï¼‰ï¼šç½‘æ ¼å¸ƒå±€æ ¼å¼åŒ–ä¸Šä¸‹æ–‡</strong><br>å½“ä¸ºä¸€ä¸ªå…ƒç´ è®¾ç½® display å€¼ä¸º grid çš„æ—¶å€™ï¼Œæ­¤å…ƒç´ å°†ä¼šè·å¾—ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ç½‘æ ¼å®¹å™¨ï¼ˆgrid containerï¼‰ä¸Šå®šä¹‰ç½‘æ ¼å®šä¹‰è¡Œï¼ˆgrid definition rowsï¼‰å’Œç½‘æ ¼å®šä¹‰åˆ—ï¼ˆgrid definition columnsï¼‰å±æ€§å„åœ¨ç½‘æ ¼é¡¹ç›®ï¼ˆgrid itemï¼‰ä¸Šå®šä¹‰ç½‘æ ¼è¡Œï¼ˆgrid rowï¼‰å’Œç½‘æ ¼åˆ—ï¼ˆgrid columnsï¼‰ä¸ºæ¯ä¸€ä¸ªç½‘æ ¼é¡¹ç›®ï¼ˆgrid itemï¼‰å®šä¹‰ä½ç½®å’Œç©ºé—´ã€‚é‚£ä¹ˆ GFC æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Œå’Œ table åˆæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿé¦–å…ˆåŒæ ·æ˜¯ä¸€ä¸ªäºŒç»´çš„è¡¨æ ¼ï¼Œä½† GridLayout ä¼šæœ‰æ›´åŠ ä¸°å¯Œçš„å±æ€§æ¥æ§åˆ¶è¡Œåˆ—ï¼Œæ§åˆ¶å¯¹é½ä»¥åŠæ›´ä¸ºç²¾ç»†çš„æ¸²æŸ“è¯­ä¹‰å’Œæ§åˆ¶ã€‚</p>
<p><strong>FFCï¼ˆFlex formatting contextsï¼‰:è‡ªé€‚åº”æ ¼å¼ä¸Šä¸‹æ–‡</strong><br>display å€¼ä¸º flex æˆ–è€… inline-flex çš„å…ƒç´ å°†ä¼šç”Ÿæˆè‡ªé€‚åº”å®¹å™¨ï¼ˆflex containerï¼‰ï¼Œå¯æƒœè¿™ä¸ªç‰›é€¼çš„å±æ€§åªæœ‰è°·æ­Œå’Œç«ç‹æ”¯æŒï¼Œä¸è¿‡åœ¨ç§»åŠ¨ç«¯ä¹Ÿè¶³å¤Ÿäº†ï¼Œè‡³å°‘ safari å’Œ chrome è¿˜æ˜¯ OK çš„ï¼Œæ¯•ç«Ÿè¿™ä¿©åœ¨ç§»åŠ¨ç«¯æ‰æ˜¯ç‹é“ã€‚Flex Box ç”±ä¼¸ç¼©å®¹å™¨å’Œä¼¸ç¼©é¡¹ç›®ç»„æˆã€‚é€šè¿‡è®¾ç½®å…ƒç´ çš„ display å±æ€§ä¸º flex æˆ– inline-flex å¯ä»¥å¾—åˆ°ä¸€ä¸ªä¼¸ç¼©å®¹å™¨ã€‚è®¾ç½®ä¸º flex çš„å®¹å™¨è¢«æ¸²æŸ“ä¸ºä¸€ä¸ªå—çº§å…ƒç´ ï¼Œè€Œè®¾ç½®ä¸º inline-flex çš„å®¹å™¨åˆ™æ¸²æŸ“ä¸ºä¸€ä¸ªè¡Œå†…å…ƒç´ ã€‚ä¼¸ç¼©å®¹å™¨ä¸­çš„æ¯ä¸€ä¸ªå­å…ƒç´ éƒ½æ˜¯ä¸€ä¸ªä¼¸ç¼©é¡¹ç›®ã€‚ä¼¸ç¼©é¡¹ç›®å¯ä»¥æ˜¯ä»»æ„æ•°é‡çš„ã€‚ä¼¸ç¼©å®¹å™¨å¤–å’Œä¼¸ç¼©é¡¹ç›®å†…çš„ä¸€åˆ‡å…ƒç´ éƒ½ä¸å—å½±å“ã€‚ç®€å•åœ°è¯´ï¼ŒFlexbox å®šä¹‰äº†ä¼¸ç¼©å®¹å™¨å†…ä¼¸ç¼©é¡¹ç›®è¯¥å¦‚ä½•å¸ƒå±€ã€‚</p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/dingyufenglian/p/4845477.html">åœ¨è¿™</a></p>
<h3 id="ç¬¬-74-é¢˜-ï¼ˆ2019-11-16ï¼‰"><a href="#ç¬¬-74-é¢˜-ï¼ˆ2019-11-16ï¼‰" class="headerlink" title="ç¬¬ 74 é¢˜  ï¼ˆ2019/11/16ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/123">ç¬¬ 74 é¢˜ </a> ï¼ˆ2019/11/16ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä½¿ç”¨ JavaScript Proxy å®ç°ç®€å•çš„æ•°æ®ç»‘å®š</p>
<p><strong>è§£æï¼š</strong> ~~</p>
<h3 id="ç¬¬-75-é¢˜-ï¼ˆ2019-11-17ï¼‰"><a href="#ç¬¬-75-é¢˜-ï¼ˆ2019-11-17ï¼‰" class="headerlink" title="ç¬¬ 75 é¢˜ ï¼ˆ2019/11/17ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/124">ç¬¬ 75 é¢˜</a> ï¼ˆ2019/11/17ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> æ•°ç»„é‡Œé¢æœ‰ 10 ä¸‡ä¸ªæ•°æ®ï¼Œå–ç¬¬ä¸€ä¸ªå…ƒç´ å’Œç¬¬ 10 ä¸‡ä¸ªå…ƒç´ çš„æ—¶é—´ç›¸å·®å¤šå°‘</p>
<p><strong>è§£æï¼š</strong></p>
<p><strong>è€ƒç‚¹ï¼š</strong> <u>JavaScript æ•°ç»„åº•å±‚åŸç†</u></p>
<p>æ•°ç»„å¯ä»¥ç›´æ¥æ ¹æ®ç´¢å¼•å–çš„å¯¹åº”çš„å…ƒç´ ï¼Œæ‰€ä»¥ä¸ç®¡å–å“ªä¸ªä½ç½®çš„å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)</p>
<p>å¾—å‡ºç»“è®ºï¼š<strong>æ¶ˆè€—æ—¶é—´å‡ ä¹ä¸€è‡´ï¼Œå·®å¼‚å¯ä»¥å¿½ç•¥ä¸è®¡</strong></p>
<blockquote>
<p>Chrome æµè§ˆå™¨ JS å¼•æ“ V8 ä¸­ï¼Œæ•°ç»„æœ‰ä¸¤ç§å­˜å‚¨æ¨¡å¼ï¼Œä¸€ç§æ˜¯ç±»ä¼¼ C è¯­è¨€ä¸­çš„çº¿æ€§ç»“æ„å­˜å‚¨ï¼ˆç´¢å¼•å€¼è¿ç»­ï¼Œä¸”éƒ½æ˜¯æ­£æ•´æ•°çš„æƒ…å†µä¸‹ï¼‰ï¼Œä¸€ç§æ˜¯é‡‡ç”¨ Hash ç»“æ„å­˜å‚¨ï¼ˆç´¢å¼•å€¼ä¸ºè´Ÿæ•°ï¼Œæ•°ç»„ç¨€ç–ï¼Œé—´éš”æ¯”è¾ƒå¤§ï¼‰ï¼›</p>
</blockquote>
<p>JavaScript æ²¡æœ‰çœŸæ­£æ„ä¹‰ä¸Šçš„æ•°ç»„ï¼Œæ‰€æœ‰çš„æ•°ç»„å…¶å®æ˜¯å¯¹è±¡ï¼Œå…¶â€œç´¢å¼•â€çœ‹èµ·æ¥æ˜¯æ•°å­—ï¼Œå…¶å®ä¼šè¢«è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œä½œä¸ºå±æ€§åï¼ˆå¯¹è±¡çš„ keyï¼‰æ¥ä½¿ç”¨ã€‚æ‰€ä»¥æ— è®ºæ˜¯å–ç¬¬ 1 ä¸ªè¿˜æ˜¯å–ç¬¬ 10 ä¸‡ä¸ªå…ƒç´ ï¼Œéƒ½æ˜¯ç”¨ key ç²¾ç¡®æŸ¥æ‰¾å“ˆå¸Œè¡¨çš„è¿‡ç¨‹ï¼Œå…¶æ¶ˆè€—æ—¶é—´å¤§è‡´ç›¸åŒã€‚</p>
<blockquote>
<p>æ¨èä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼š<a target="_blank" rel="noopener" href="https://juejin.im/entry/59ae664d518825244d207196">æ·±ç©¶ JavaScript æ•°ç»„</a></p>
</blockquote>
<h3 id="ç¬¬-76-é¢˜-ï¼ˆ2019-11-17ï¼‰"><a href="#ç¬¬-76-é¢˜-ï¼ˆ2019-11-17ï¼‰" class="headerlink" title="ç¬¬ 76 é¢˜ ï¼ˆ2019/11/17ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/125">ç¬¬ 76 é¢˜</a> ï¼ˆ2019/11/17ï¼‰</h3><blockquote>
<p>è¾“å‡ºä»¥ä¸‹ä»£ç è¿è¡Œç»“æœ</p>
<p><strong>è€ƒç‚¹</strong> ï¼šè¿™é¢˜è€ƒå¯Ÿçš„æ˜¯å¯¹è±¡çš„é”®åçš„è½¬æ¢ã€‚</p>
<ul>
<li>å¯¹è±¡çš„é”®ååªèƒ½æ˜¯å­—ç¬¦ä¸²å’Œ Symbol ç±»å‹ã€‚</li>
<li>å…¶ä»–ç±»å‹çš„é”®åä¼šè¢«è½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹ã€‚</li>
<li>å¯¹è±¡è½¬å­—ç¬¦ä¸²é»˜è®¤ä¼šè°ƒç”¨ toString æ–¹æ³•ã€‚</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// example 1</span></span><br><span class="line"><span class="keyword">var</span> a=&#123;&#125;, b=<span class="string">&#x27;123&#x27;</span>, c=<span class="number">123</span>;</span><br><span class="line">a[b]=<span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">a[c]=<span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a[b]);  <span class="comment">//c</span></span><br><span class="line"></span><br><span class="line">---------------------</span><br><span class="line"><span class="comment">// example 2</span></span><br><span class="line"><span class="keyword">var</span> a=&#123;&#125;, b=<span class="built_in">Symbol</span>(<span class="string">&#x27;123&#x27;</span>), c=<span class="built_in">Symbol</span>(<span class="string">&#x27;123&#x27;</span>);</span><br><span class="line">a[b]=<span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">a[c]=<span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a[b]); <span class="comment">//b</span></span><br><span class="line"></span><br><span class="line">---------------------</span><br><span class="line"><span class="comment">// example 3</span></span><br><span class="line"><span class="keyword">var</span> a=&#123;&#125;, b=&#123;<span class="attr">key</span>:<span class="string">&#x27;123&#x27;</span>&#125;, c=&#123;<span class="attr">key</span>:<span class="string">&#x27;456&#x27;</span>&#125;;</span><br><span class="line">a[b]=<span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">a[c]=<span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a[b]); <span class="comment">//c</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è§£æï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// example 1</span></span><br><span class="line"><span class="keyword">var</span> a=&#123;&#125;, b=<span class="string">&#x27;123&#x27;</span>, c=<span class="number">123</span>;</span><br><span class="line">a[b]=<span class="string">&#x27;b&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// c çš„é”®åä¼šè¢«è½¬æ¢æˆå­—ç¬¦ä¸²&#x27;123&#x27;ï¼Œè¿™é‡Œä¼šæŠŠ b è¦†ç›–æ‰ã€‚</span></span><br><span class="line">a[c]=<span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡º c</span></span><br><span class="line"><span class="built_in">console</span>.log(a[b]);</span><br><span class="line"></span><br><span class="line">---------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">// example 2</span></span><br><span class="line"><span class="keyword">var</span> a=&#123;&#125;, b=<span class="built_in">Symbol</span>(<span class="string">&#x27;123&#x27;</span>), c=<span class="built_in">Symbol</span>(<span class="string">&#x27;123&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// b æ˜¯ Symbol ç±»å‹ï¼Œä¸éœ€è¦è½¬æ¢ã€‚</span></span><br><span class="line">a[b]=<span class="string">&#x27;b&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// c æ˜¯ Symbol ç±»å‹ï¼Œä¸éœ€è¦è½¬æ¢ã€‚ä»»ä½•ä¸€ä¸ª Symbol ç±»å‹çš„å€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ï¼Œæ‰€ä»¥ä¸ä¼šè¦†ç›–æ‰ bã€‚</span></span><br><span class="line">a[c]=<span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡º b</span></span><br><span class="line"><span class="built_in">console</span>.log(a[b]);</span><br><span class="line"></span><br><span class="line">---------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">// example 3</span></span><br><span class="line"><span class="keyword">var</span> a=&#123;&#125;, b=&#123;<span class="attr">key</span>:<span class="string">&#x27;123&#x27;</span>&#125;, c=&#123;<span class="attr">key</span>:<span class="string">&#x27;456&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// b ä¸æ˜¯å­—ç¬¦ä¸²ä¹Ÿä¸æ˜¯ Symbol ç±»å‹ï¼Œéœ€è¦è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="comment">// å¯¹è±¡ç±»å‹ä¼šè°ƒç”¨ toString æ–¹æ³•è½¬æ¢æˆå­—ç¬¦ä¸² [object Object]ã€‚</span></span><br><span class="line">a[b]=<span class="string">&#x27;b&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// c ä¸æ˜¯å­—ç¬¦ä¸²ä¹Ÿä¸æ˜¯ Symbol ç±»å‹ï¼Œéœ€è¦è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="comment">// å¯¹è±¡ç±»å‹ä¼šè°ƒç”¨ toString æ–¹æ³•è½¬æ¢æˆå­—ç¬¦ä¸² [object Object]ã€‚è¿™é‡Œä¼šæŠŠ b è¦†ç›–æ‰ã€‚</span></span><br><span class="line">a[c]=<span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡º c</span></span><br><span class="line"><span class="built_in">console</span>.log(a[b]);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-77-é¢˜-ï¼ˆ2019-11-18ï¼‰"><a href="#ç¬¬-77-é¢˜-ï¼ˆ2019-11-18ï¼‰" class="headerlink" title="ç¬¬ 77 é¢˜ ï¼ˆ2019/11/18ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/126">ç¬¬ 77 é¢˜</a> ï¼ˆ2019/11/18ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong></p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³ç§»åŠ¨ k ä¸ªä½ç½®ï¼Œå…¶ä¸­ k æ˜¯éè´Ÿæ•°ã€‚</p>
</blockquote>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>] å’Œ k = <span class="number">3</span></span><br><span class="line">è¾“å‡º: [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">è§£é‡Š:</span><br><span class="line">å‘å³æ—‹è½¬ <span class="number">1</span> æ­¥: [<span class="number">7</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">å‘å³æ—‹è½¬ <span class="number">2</span> æ­¥: [<span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">å‘å³æ—‹è½¬ <span class="number">3</span> æ­¥: [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">-1</span>, <span class="number">-100</span>, <span class="number">3</span>, <span class="number">99</span>] å’Œ k = <span class="number">2</span></span><br><span class="line">è¾“å‡º: [<span class="number">3</span>, <span class="number">99</span>, <span class="number">-1</span>, <span class="number">-100</span>]</span><br><span class="line">è§£é‡Š:</span><br><span class="line">å‘å³æ—‹è½¬ <span class="number">1</span> æ­¥: [<span class="number">99</span>, <span class="number">-1</span>, <span class="number">-100</span>, <span class="number">3</span>]</span><br><span class="line">å‘å³æ—‹è½¬ <span class="number">2</span> æ­¥: [<span class="number">3</span>, <span class="number">99</span>, <span class="number">-1</span>, <span class="number">-100</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>è§£æï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rotateArr</span>(<span class="params">arr, k</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">    arr.unshift(arr.pop());</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-78-é¢˜-ï¼ˆ2019-11-18ï¼‰"><a href="#ç¬¬-78-é¢˜-ï¼ˆ2019-11-18ï¼‰" class="headerlink" title="ç¬¬ 78 é¢˜  ï¼ˆ2019/11/18ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/128">ç¬¬ 78 é¢˜ </a> ï¼ˆ2019/11/18ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼šVue çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­æ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆ</p>
<p><strong>è§£æï¼š</strong></p>
<blockquote>
<p>æ€»ç»“ï¼š<u>ä»å¤–åˆ°å†…ï¼Œå†ä»å†…åˆ°å¤–</u></p>
</blockquote>
<ol>
<li>åŠ è½½æ¸²æŸ“è¿‡ç¨‹<br><code>çˆ¶beforeCreate-&gt;çˆ¶created-&gt;çˆ¶beforeMount-&gt;å­beforeCreate-&gt;å­created-&gt;å­beforeMount-&gt;å­mounted-&gt;çˆ¶mounted</code></li>
<li>å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹<br><code>çˆ¶beforeUpdate-&gt;å­beforeUpdate-&gt;å­updated-&gt;çˆ¶updated</code></li>
<li>çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹<br><code>çˆ¶beforeUpdate-&gt;çˆ¶updated</code></li>
<li>é”€æ¯è¿‡ç¨‹<br><code>çˆ¶beforeDestroy-&gt;å­beforeDestroy-&gt;å­destroyed-&gt;çˆ¶destroyed</code></li>
</ol>
<p><img src="https://segmentfault.com/img/bVbePUv?w=302&h=298"></p>
<h3 id="ç¬¬-79-é¢˜-ï¼ˆ2019-11-18ï¼‰"><a href="#ç¬¬-79-é¢˜-ï¼ˆ2019-11-18ï¼‰" class="headerlink" title="ç¬¬ 79 é¢˜ ï¼ˆ2019/11/18ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/129">ç¬¬ 79 é¢˜</a> ï¼ˆ2019/11/18ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> input æœç´¢å¦‚ä½•é˜²æŠ–ï¼Œå¦‚ä½•å¤„ç†ä¸­æ–‡è¾“å…¥</p>
<p><strong>è§£æï¼š</strong> <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000013094932">input äº‹ä»¶ä¸­æ–‡è§¦å‘å¤šæ¬¡é—®é¢˜ç ”ç©¶</a></p>
<p>ç®€æ˜“é˜²æŠ–ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timeout = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">    timeout = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      fn.apply(<span class="built_in">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-80-é¢˜-ï¼ˆ2019-11-19ï¼‰"><a href="#ç¬¬-80-é¢˜-ï¼ˆ2019-11-19ï¼‰" class="headerlink" title="ç¬¬ 80 é¢˜ ï¼ˆ2019/11/19ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/130">ç¬¬ 80 é¢˜</a> ï¼ˆ2019/11/19ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä»‹ç»ä¸‹ Promise.all ä½¿ç”¨ã€åŸç†å®ç°åŠé”™è¯¯å¤„ç†</p>
<h3 id="ç¬¬-81-é¢˜-ï¼ˆ2019-11-19ï¼‰"><a href="#ç¬¬-81-é¢˜-ï¼ˆ2019-11-19ï¼‰" class="headerlink" title="ç¬¬ 81 é¢˜ ï¼ˆ2019/11/19ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/131">ç¬¬ 81 é¢˜</a> ï¼ˆ2019/11/19ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> æ‰“å°å‡º 1 - 10000 ä¹‹é—´çš„æ‰€æœ‰å¯¹ç§°æ•°</p>
<blockquote>
<p>ä¾‹å¦‚ï¼š121ã€1331 ç­‰</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num.toString() === num.toString().split(<span class="string">&quot;&quot;</span>).reverse().join(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">10000</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (f(i)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-82-é¢˜-ï¼ˆ2019-11-19ï¼‰"><a href="#ç¬¬-82-é¢˜-ï¼ˆ2019-11-19ï¼‰" class="headerlink" title="ç¬¬ 82 é¢˜ ï¼ˆ2019/11/19ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/132">ç¬¬ 82 é¢˜</a> ï¼ˆ2019/11/19ï¼‰</h3><blockquote>
<p>ç»™å®šä¸€ä¸ªæ•°ç»„ numsï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ 0 ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚</p>
<p>ç¤ºä¾‹:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">12</span>];</span><br><span class="line">è¾“å‡º: [<span class="number">1</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">0</span>, <span class="number">0</span>];</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜:</p>
<ol>
<li>å¿…é¡»åœ¨åŸæ•°ç»„ä¸Šæ“ä½œï¼Œä¸èƒ½æ‹·è´é¢å¤–çš„æ•°ç»„ã€‚</li>
<li>å°½é‡å‡å°‘æ“ä½œæ¬¡æ•°ã€‚</li>
</ol>
</blockquote>
<p><strong>è§£æï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Movezero</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] != <span class="number">0</span>) &#123;</span><br><span class="line">      arr[index++] = arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (index &lt; arr.length) &#123;</span><br><span class="line">    arr[index++] = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-83-é¢˜-ï¼ˆ2019-11-20ï¼‰"><a href="#ç¬¬-83-é¢˜-ï¼ˆ2019-11-20ï¼‰" class="headerlink" title="ç¬¬ 83 é¢˜ ï¼ˆ2019/11/20ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/133">ç¬¬ 83 é¢˜</a> ï¼ˆ2019/11/20ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> varã€let å’Œ const åŒºåˆ«çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ</p>
<p><strong>è§£æï¼š</strong></p>
<p><strong>åŒºåˆ«ï¼š</strong></p>
<ol>
<li><p>var å£°æ˜çš„å˜é‡ä¼šæŒ‚è½½åœ¨ window ä¸Šï¼Œè€Œ let å’Œ const å£°æ˜çš„å˜é‡ä¸ä¼š</p>
</li>
<li><p>var å£°æ˜å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œlet å’Œ const ä¸å­˜åœ¨å˜é‡æå‡</p>
</li>
<li><p>let å’Œ const å£°æ˜å½¢æˆå—ä½œç”¨åŸŸï¼Œè€Œ var ä¸å­˜åœ¨æ­¤ä½œç”¨åŸŸ</p>
</li>
<li><p>åŒä¸€ä½œç”¨åŸŸä¸‹ let å’Œ const ä¸èƒ½å£°æ˜åŒåå˜é‡ï¼Œè€Œ var å¯ä»¥</p>
</li>
<li><p>letã€const å­˜åœ¨æš‚å­˜æ­»åŒº</p>
</li>
<li><p>const</p>
<ol>
<li>ä¸€æ—¦å£°æ˜å¿…é¡»èµ‹å€¼,ä¸èƒ½ä½¿ç”¨ null å ä½ã€‚</li>
<li>å£°æ˜åä¸èƒ½å†ä¿®æ”¹</li>
<li>å¦‚æœå£°æ˜çš„æ˜¯å¤åˆç±»å‹æ•°æ®ï¼Œå¯ä»¥ä¿®æ”¹å…¶å±æ€§*</li>
</ol>
</li>
</ol>
<p><strong>varã€letã€const å®ç°åŸç†</strong></p>
<p>è®°å¾— JS æƒå¨æŒ‡å—ä¸­æœ‰ä¸€å¥å¾ˆç²¾è¾Ÿçš„æè¿°:ã€€â€JavaScript ä¸­çš„å‡½æ•°è¿è¡Œåœ¨å®ƒä»¬è¢«å®šä¹‰çš„ä½œç”¨åŸŸé‡Œ,è€Œä¸æ˜¯å®ƒä»¬è¢«æ‰§è¡Œçš„ä½œç”¨åŸŸé‡Œ.â€</p>
<p>ä»¥ä¸‹å±äºæ¨æµ‹ï¼Œåœ¨ç½‘ä¸Šæ²¡æŸ¥åˆ°ç¡®å‡¿çš„åŸç†æœºåˆ¶ï¼ˆè‹¥æœ‰è¯¯æœ›æŒ‡æ­£ï¼‰ï¼š</p>
<p>åŸç†å¤§æ¦‚æ˜¯ï¼šåœ¨ js è§£æçš„æ—¶å€™ï¼Œä¼˜å…ˆè§£æ constï¼Œå› ä¸ºå®ƒä¸èƒ½ä¿®æ”¹çš„æ˜¯æ ˆå†…å­˜åœ¨çš„å€¼å’Œåœ°å€ã€‚ç„¶åè§£æ let å› ä¸ºæ²¡æœ‰å—ä½œç”¨åŸŸå¯èƒ½åº•å±‚æœ‰å¤„ç†ï¼Œæœ€åè§£æ var</p>
<h3 id="ç¬¬-84-é¢˜-ï¼ˆ2019-11-21ï¼‰"><a href="#ç¬¬-84-é¢˜-ï¼ˆ2019-11-21ï¼‰" class="headerlink" title="ç¬¬ 84 é¢˜ ï¼ˆ2019/11/21ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/134">ç¬¬ 84 é¢˜</a> ï¼ˆ2019/11/21ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> è¯·å®ç°ä¸€ä¸ª add å‡½æ•°ï¼Œæ»¡è¶³ä»¥ä¸‹åŠŸèƒ½ã€‚</p>
<p><strong>çŸ¥è¯†ç‚¹</strong> ï¼šå‡½æ•°æŸ¯é‡ŒåŒ– <a target="_blank" rel="noopener" href="https://github.com/chokcoco/cnblogsArticle/issues/15">é¢˜è§£</a> <u>è¿ç”¨äº†å‡½æ•°ä¼šè‡ªè¡Œè°ƒç”¨ <code>valueOf</code> æ–¹æ³•è¿™ä¸ªæŠ€å·§</u></p>
<blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">add(<span class="number">1</span>); 			<span class="comment">// 1</span></span><br><span class="line">add(<span class="number">1</span>)(<span class="number">2</span>);  	<span class="comment">// 3</span></span><br><span class="line">add(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)ï¼›<span class="comment">// 6</span></span><br><span class="line">add(<span class="number">1</span>)(<span class="number">2</span>, <span class="number">3</span>); <span class="comment">// 6</span></span><br><span class="line">add(<span class="number">1</span>, <span class="number">2</span>)(<span class="number">3</span>); <span class="comment">// 6</span></span><br><span class="line">add(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// 6</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä¹‹å‰å‚é˜… 2 ç¯‡æ–‡ç« ï¼Œå¯ä»¥å‚è€ƒä¸€äºŒã€‚<br>1ã€<a target="_blank" rel="noopener" href="https://github.com/yygmind/blog/issues/36#%E6%80%9D%E8%80%83%E9%A2%98">ã€è¿›é˜¶ 6-1 æœŸã€‘JavaScript é«˜é˜¶å‡½æ•°æµ…æ</a><br>2ã€<a target="_blank" rel="noopener" href="https://github.com/yygmind/blog/issues/37">ã€è¿›é˜¶ 6-2 æœŸã€‘æ·±å…¥é«˜é˜¶å‡½æ•°åº”ç”¨ä¹‹æŸ¯é‡ŒåŒ–</a></p>
<p>å…¶ä¸­ç¬¬ä¸€ç¯‡æ–‡ç« ç»™å‡ºäº†å‰ä¸‰ä¸ªåŠŸèƒ½çš„å®ç°ï¼Œå¹¶æ²¡æœ‰è¦†ç›–åˆ°åé¢ä¸‰ç§ã€‚<br>ç¬¬äºŒç¯‡æ–‡ç« å®ç°äº†ä¸€ä¸ªé€šç”¨çš„æŸ¯é‡ŒåŒ–å‡½æ•°ï¼Œè¦†ç›–å®ç°äº†æ‰€æœ‰åŠŸèƒ½ã€‚</p>
<p><strong>è§£æï¼š</strong></p>
<p><strong>å»é‡</strong>ï¼ˆ <u>æ•°å­—ç»„æ•°</u> ï¼‰ ï¼šä½¿ç”¨é«˜é˜¶å‡½æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = arr1.filter(<span class="function">(<span class="params">element, index, self</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> self.indexOf(element) === index;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr2);</span><br><span class="line"><span class="comment">// [1, 2, 3, 5, 4]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line"><span class="comment">// [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4]</span></span><br></pre></td></tr></table></figure>

<p>å‡½æ•°ä½œä¸ºè¿”å›å€¼è¾“å‡º</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isType = <span class="function">(<span class="params">type</span>) =&gt;</span> <span class="function">(<span class="params">obj</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(obj) === <span class="string">&quot;[object &quot;</span> + type + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line">isType(<span class="string">&quot;String&quot;</span>)(<span class="string">&quot;123&quot;</span>); <span class="comment">// true</span></span><br><span class="line">isType(<span class="string">&quot;Array&quot;</span>)([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// true</span></span><br><span class="line">isType(<span class="string">&quot;Number&quot;</span>)(<span class="number">123</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>ç­”æ¡ˆï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;è¿›å…¥add&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arg_fn = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;è°ƒç”¨fn&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> add.apply(<span class="literal">null</span>, args.concat(arg_fn));</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  fn.valueOf = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;è°ƒç”¨valueOf&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> args.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> fn;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    add(1);</span></span><br><span class="line"><span class="comment">    // è¾“å‡ºå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">    // è¿›å…¥add</span></span><br><span class="line"><span class="comment">    // è°ƒç”¨valueOf</span></span><br><span class="line"><span class="comment">    // 1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    add(1)(2);</span></span><br><span class="line"><span class="comment">    // è¾“å‡ºå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">    // è¿›å…¥add</span></span><br><span class="line"><span class="comment">    // è°ƒç”¨fn</span></span><br><span class="line"><span class="comment">    // è¿›å…¥add</span></span><br><span class="line"><span class="comment">    // è°ƒç”¨valueOf</span></span><br><span class="line"><span class="comment">    // 3</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    add(1)(2)(3);</span></span><br><span class="line"><span class="comment">    // è¾“å‡ºå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">    // è¿›å…¥add</span></span><br><span class="line"><span class="comment">    // è°ƒç”¨fn</span></span><br><span class="line"><span class="comment">    // è¿›å…¥add</span></span><br><span class="line"><span class="comment">    // è°ƒç”¨fn</span></span><br><span class="line"><span class="comment">    // è¿›å…¥add</span></span><br><span class="line"><span class="comment">    // è°ƒç”¨valueOf</span></span><br><span class="line"><span class="comment">    // 6</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæœ‰ä¸ªè§„å¾‹ï¼Œå¦‚æœåªæ”¹å†™ <code>valueOf()</code> æˆ–æ˜¯ <code>toString()</code> å…¶ä¸­ä¸€ä¸ªï¼Œä¼šä¼˜å…ˆè°ƒç”¨è¢«æ”¹å†™äº†çš„æ–¹æ³•ï¼Œè€Œå¦‚æœä¸¤ä¸ªåŒæ—¶æ”¹å†™ï¼Œåˆ™ä¼šåƒ String è½¬æ¢è§„åˆ™ä¸€æ ·ï¼Œä¼˜å…ˆæŸ¥è¯¢ <code>valueOf()</code> æ–¹æ³•ï¼Œåœ¨ <code>valueOf() </code>æ–¹æ³•è¿”å›çš„æ˜¯éåŸå§‹ç±»å‹çš„æƒ…å†µä¸‹å†æŸ¥è¯¢ <code>toString()</code> æ–¹æ³•ã€‚</p>
<h3 id="ç¬¬-85-é¢˜-ï¼ˆ2019-11-23ï¼‰"><a href="#ç¬¬-85-é¢˜-ï¼ˆ2019-11-23ï¼‰" class="headerlink" title="ç¬¬ 85 é¢˜ ï¼ˆ2019/11/23ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/135">ç¬¬ 85 é¢˜</a> ï¼ˆ2019/11/23ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> react-router é‡Œçš„ <code>&lt;Link&gt;</code> æ ‡ç­¾å’Œ <code>&lt;a&gt;</code> æ ‡ç­¾æœ‰ä»€ä¹ˆåŒºåˆ«</p>
<blockquote>
<p>å¦‚ä½•ç¦æ‰ <code>&lt;a&gt;</code> æ ‡ç­¾é»˜è®¤äº‹ä»¶ï¼Œç¦æ‰ä¹‹åå¦‚ä½•å®ç°è·³è½¬ã€‚</p>
</blockquote>
<p><strong>è§£æï¼š</strong></p>
<p>ä»æœ€ç»ˆæ¸²æŸ“çš„ DOM æ¥çœ‹ï¼Œè¿™ä¸¤è€…éƒ½æ˜¯é“¾æ¥ï¼Œéƒ½æ˜¯ <code>&lt;a&gt;</code> æ ‡ç­¾ï¼ŒåŒºåˆ«æ˜¯ï¼š<br><code>&lt;Link&gt;</code> æ˜¯ react-router é‡Œå®ç°è·¯ç”±è·³è½¬çš„é“¾æ¥ï¼Œä¸€èˆ¬é…åˆ <code>&lt;Route&gt;</code> ä½¿ç”¨ï¼Œreact-router æ¥ç®¡äº†å…¶é»˜è®¤çš„é“¾æ¥è·³è½¬è¡Œä¸ºï¼ŒåŒºåˆ«äºä¼ ç»Ÿçš„é¡µé¢è·³è½¬ï¼Œ<code>&lt;Link&gt;</code> çš„â€œè·³è½¬â€è¡Œä¸ºåªä¼šè§¦å‘ç›¸åŒ¹é…çš„ <code>&lt;Route&gt;</code> å¯¹åº”çš„é¡µé¢å†…å®¹æ›´æ–°ï¼Œè€Œä¸ä¼šåˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚<br>è€Œ <code>&lt;a&gt;</code> æ ‡ç­¾å°±æ˜¯æ™®é€šçš„è¶…é“¾æ¥äº†ï¼Œç”¨äºä»å½“å‰é¡µé¢è·³è½¬åˆ° href æŒ‡å‘çš„å¦ä¸€ä¸ªé¡µé¢ï¼ˆéé”šç‚¹æƒ…å†µï¼‰ã€‚</p>
<h3 id="ç¬¬-86-é¢˜-ï¼ˆ2019-11-23ï¼‰"><a href="#ç¬¬-86-é¢˜-ï¼ˆ2019-11-23ï¼‰" class="headerlink" title="ç¬¬ 86 é¢˜ ï¼ˆ2019/11/23ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/136">ç¬¬ 86 é¢˜</a> ï¼ˆ2019/11/23ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> å‘¨ä¸€ç®—æ³•é¢˜ä¹‹ã€Œä¸¤æ•°ä¹‹å’Œã€</p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œæ‰¾å‡ºæ•°ç»„ä¸­å’Œä¸ºç›®æ ‡å€¼çš„ä¸¤ä¸ªæ•°ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”ä¸€ç§ç­”æ¡ˆï¼Œä¸”åŒæ ·çš„å…ƒç´ ä¸èƒ½è¢«é‡å¤åˆ©ç”¨ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ç»™å®š nums = [<span class="number">2</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">15</span>], target = <span class="number">9</span></span><br><span class="line"></span><br><span class="line">å› ä¸º nums[<span class="number">0</span>] + nums[<span class="number">1</span>] = <span class="number">2</span> + <span class="number">7</span> = <span class="number">9</span></span><br><span class="line">æ‰€ä»¥è¿”å› [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>å…¬å¸</strong> ï¼šäº¬ä¸œã€å¿«æ‰‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Getarr</span>(<span class="params">num, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> pre = <span class="number">0</span>,</span><br><span class="line">    cur = num.length - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (num.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;è‡³å°‘æä¾›2ä¸ªæ•°å­—&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (pre &lt; cur) &#123;</span><br><span class="line">    result = num[pre] + num[cur];</span><br><span class="line">    <span class="keyword">if</span> (result &gt; target) &#123;</span><br><span class="line">      cur--;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (result &lt; target) &#123;</span><br><span class="line">      pre++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> [pre, cur];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-87-é¢˜-ï¼ˆ2019-11-24ï¼‰"><a href="#ç¬¬-87-é¢˜-ï¼ˆ2019-11-24ï¼‰" class="headerlink" title="ç¬¬ 87 é¢˜ ï¼ˆ2019/11/24ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/138">ç¬¬ 87 é¢˜</a> ï¼ˆ2019/11/24ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong>åœ¨è¾“å…¥æ¡†ä¸­å¦‚ä½•åˆ¤æ–­è¾“å…¥çš„æ˜¯ä¸€ä¸ªæ­£ç¡®çš„ç½‘å€ã€‚</p>
<p><strong>è§£æï¼š</strong> <u>location å¯ä»¥è·å–æœ¬é¡µé¢çš„ URL ä¿¡æ¯</u></p>
<blockquote>
<p>ä¸ä¸Šæ­£åˆ™ï¼Œä¸€ä¸ªç®€å•çš„ç©æ³•</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isUrl</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">const</span> a = <span class="built_in">document</span>.createElement(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">	a.href = url</span><br><span class="line">	<span class="keyword">return</span> [</span><br><span class="line">		/^(http|https):$/.test(a.protocol), <span class="comment">// &quot;https:&quot; åè®®</span></span><br><span class="line">		a.host,  						<span class="comment">//  &quot;baidu.com&quot; =&gt; ç«¯å£ï¼ˆportï¼‰</span></span><br><span class="line">		a.pathname !== url,				<span class="comment">// &quot;/&quot;</span></span><br><span class="line">		a.pathname !== <span class="string">`/<span class="subst">$&#123;url&#125;</span>`</span>,</span><br><span class="line">	].find(<span class="function"><span class="params">x</span> =&gt;</span> !x) === <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨ <code>URL()</code> æ„é€ å‡½æ•°è¿”å›ä¸€ä¸ªæ–°åˆ›å»ºçš„ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/URL"><code>URL</code></a> å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isUrl</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">new</span> URL(url);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isUrl = <span class="function">(<span class="params">urlStr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; href, origin, host, hostname, pathname &#125; = <span class="keyword">new</span> URL(urlStr);</span><br><span class="line">    <span class="keyword">return</span> href &amp;&amp; origin &amp;&amp; host &amp;&amp; hostname &amp;&amp; pathname &amp;&amp; <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>æ­£åˆ™ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^(https?:\/\/)?([a-z0<span class="number">-9</span>]\.|[a-z0<span class="number">-9</span>][-a-z0<span class="number">-9</span>]*[a-z0<span class="number">-9</span>]\.)*([a-z]+)(:\d+)?(\/.*)?$/;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-88-é¢˜-ï¼ˆ2019-12-04ï¼‰"><a href="#ç¬¬-88-é¢˜-ï¼ˆ2019-12-04ï¼‰" class="headerlink" title="ç¬¬ 88 é¢˜ ï¼ˆ2019/12/04ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/139">ç¬¬ 88 é¢˜</a> ï¼ˆ2019/12/04ï¼‰</h3><p>ä»¥ä¸‹æ•°æ®ç»“æ„ä¸­ï¼Œid ä»£è¡¨éƒ¨é—¨ç¼–å·ï¼Œname æ˜¯éƒ¨é—¨åç§°ï¼ŒparentId æ˜¯çˆ¶éƒ¨é—¨ç¼–å·ï¼Œä¸º 0 ä»£è¡¨ä¸€çº§éƒ¨é—¨ï¼Œç°åœ¨è¦æ±‚å®ç°ä¸€ä¸ª convert æ–¹æ³•ï¼ŒæŠŠåŸå§‹ list è½¬æ¢æˆæ ‘å½¢ç»“æ„ï¼ŒparentId ä¸ºå¤šå°‘å°±æŒ‚è½½åœ¨è¯¥ id çš„å±æ€§ children æ•°ç»„ä¸‹ï¼Œç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸå§‹ list å¦‚ä¸‹</span></span><br><span class="line"><span class="keyword">let</span> list =[</span><br><span class="line">    &#123;<span class="attr">id</span>:<span class="number">1</span>,<span class="attr">name</span>:<span class="string">&#x27;éƒ¨é—¨A&#x27;</span>,<span class="attr">parentId</span>:<span class="number">0</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>:<span class="number">2</span>,<span class="attr">name</span>:<span class="string">&#x27;éƒ¨é—¨B&#x27;</span>,<span class="attr">parentId</span>:<span class="number">0</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>:<span class="number">3</span>,<span class="attr">name</span>:<span class="string">&#x27;éƒ¨é—¨C&#x27;</span>,<span class="attr">parentId</span>:<span class="number">1</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>:<span class="number">4</span>,<span class="attr">name</span>:<span class="string">&#x27;éƒ¨é—¨D&#x27;</span>,<span class="attr">parentId</span>:<span class="number">1</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>:<span class="number">5</span>,<span class="attr">name</span>:<span class="string">&#x27;éƒ¨é—¨E&#x27;</span>,<span class="attr">parentId</span>:<span class="number">2</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>:<span class="number">6</span>,<span class="attr">name</span>:<span class="string">&#x27;éƒ¨é—¨F&#x27;</span>,<span class="attr">parentId</span>:<span class="number">3</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>:<span class="number">7</span>,<span class="attr">name</span>:<span class="string">&#x27;éƒ¨é—¨G&#x27;</span>,<span class="attr">parentId</span>:<span class="number">2</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>:<span class="number">8</span>,<span class="attr">name</span>:<span class="string">&#x27;éƒ¨é—¨H&#x27;</span>,<span class="attr">parentId</span>:<span class="number">4</span>&#125;</span><br><span class="line">];</span><br><span class="line"><span class="keyword">const</span> result = convert(list, ...);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬æ¢åçš„ç»“æœå¦‚ä¸‹</span></span><br><span class="line"><span class="keyword">let</span> result = [</span><br><span class="line">    &#123;</span><br><span class="line">      id: <span class="number">1</span>,</span><br><span class="line">      name: <span class="string">&#x27;éƒ¨é—¨A&#x27;</span>,</span><br><span class="line">      parentId: <span class="number">0</span>,</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">3</span>,</span><br><span class="line">          name: <span class="string">&#x27;éƒ¨é—¨C&#x27;</span>,</span><br><span class="line">          parentId: <span class="number">1</span>,</span><br><span class="line">          children: [</span><br><span class="line">            &#123;</span><br><span class="line">              id: <span class="number">6</span>,</span><br><span class="line">              name: <span class="string">&#x27;éƒ¨é—¨F&#x27;</span>,</span><br><span class="line">              parentId: <span class="number">3</span></span><br><span class="line">            &#125;, &#123;</span><br><span class="line">              id: <span class="number">16</span>,</span><br><span class="line">              name: <span class="string">&#x27;éƒ¨é—¨L&#x27;</span>,</span><br><span class="line">              parentId: <span class="number">3</span></span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: <span class="number">4</span>,</span><br><span class="line">          name: <span class="string">&#x27;éƒ¨é—¨D&#x27;</span>,</span><br><span class="line">          parentId: <span class="number">1</span>,</span><br><span class="line">          children: [</span><br><span class="line">            &#123;</span><br><span class="line">              id: <span class="number">8</span>,</span><br><span class="line">              name: <span class="string">&#x27;éƒ¨é—¨H&#x27;</span>,</span><br><span class="line">              parentId: <span class="number">4</span></span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">  Â·Â·Â·</span><br><span class="line">];</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>è§£æï¼š</strong> ~~</p>
<h3 id="ç¬¬-89-é¢˜-ï¼ˆ2019-12-04ï¼‰"><a href="#ç¬¬-89-é¢˜-ï¼ˆ2019-12-04ï¼‰" class="headerlink" title="ç¬¬ 89 é¢˜ ï¼ˆ2019/12/04ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/140">ç¬¬ 89 é¢˜</a> ï¼ˆ2019/12/04ï¼‰</h3><p><strong>é¢˜ç›®</strong> ï¼šè®¾è®¡å¹¶å®ç° Promise.race()</p>
<p><strong>è§£æï¼š</strong> ä»£å†™~</p>
<h3 id="ç¬¬-90-é¢˜-ï¼ˆ2019-12-05ï¼‰"><a href="#ç¬¬-90-é¢˜-ï¼ˆ2019-12-05ï¼‰" class="headerlink" title="ç¬¬ 90 é¢˜ ï¼ˆ2019/12/05ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/141">ç¬¬ 90 é¢˜</a> ï¼ˆ2019/12/05ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> å®ç°æ¨¡ç³Šæœç´¢ç»“æœçš„å…³é”®è¯é«˜äº®æ˜¾ç¤º</p>
<p><img src="http://static.zxinc520.com/blog/20191205/sF0nw6wEI0qf.png?imageslim" alt="mark"></p>
<blockquote>
<p>è€ƒè™‘èŠ‚æµã€ç¼“å­˜ã€‚å…¶å®è¿˜å¯ä»¥ä¸Šåˆ—è¡¨ diff+å®šæ—¶æ¸…ç†ç¼“å­˜</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>auto complete<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      bdi &#123;</span><br><span class="line">        color: rgb(0, 136, 255);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;inp&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, timeout = <span class="number">300</span></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> t;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span></span><br><span class="line">        if (t) &#123;</span><br><span class="line"><span class="javascript">          <span class="built_in">clearTimeout</span>(t);</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        t = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line">          fn.apply(fn, args);</span><br><span class="line">        &#125;, timeout);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">memorize</span>(<span class="params">fn</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> cache = <span class="keyword">new</span> <span class="built_in">Map</span>();</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span></span><br><span class="line">        if (!name) &#123;</span><br><span class="line"><span class="javascript">          container.innerHTML = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        if (cache.get(name)) &#123;</span><br><span class="line">          container.innerHTML = cache.get(name);</span><br><span class="line"><span class="javascript">          <span class="keyword">return</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> res = fn.call(fn, name).join(<span class="string">&quot;&quot;</span>);</span></span><br><span class="line">        cache.set(name, res);</span><br><span class="line">        container.innerHTML = res;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">handleInput</span>(<span class="params">value</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">`\(<span class="subst">$&#123;value&#125;</span>\)`</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> search = data.reduce(<span class="function">(<span class="params">res, cur</span>) =&gt;</span> &#123;</span></span><br><span class="line">        if (reg.test(cur)) &#123;</span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> match = <span class="built_in">RegExp</span>.$<span class="number">1</span>;</span></span><br><span class="line"><span class="handlebars"><span class="xml">          res.push(`<span class="tag">&lt;<span class="name">li</span>&gt;</span>$&#123;cur.replace(match, &quot;<span class="tag">&lt;<span class="name">bdi</span>&gt;</span>$&amp;<span class="tag">&lt;/<span class="name">bdi</span>&gt;</span>&quot;)&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span>`);</span></span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> res;</span></span><br><span class="line">      &#125;, []);</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> search;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> data = [</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;ä¸Šæµ·é‡ç”ŸåŠ¨ç‰©å›­&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;ä¸Šé¥¶é‡ç”ŸåŠ¨ç‰©å›­&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;åŒ—äº¬å··å­&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;ä¸Šæµ·ä¸­å¿ƒ&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;ä¸Šæµ·é»„åŸ”æ±Ÿ&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;è¿ªå£«å°¼ä¸Šæµ·&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;é™†å®¶å˜´ä¸Šæµ·ä¸­å¿ƒ&quot;</span>,</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> container = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.container&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> memorizeInput = memorize(handleInput);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.querySelector(<span class="string">&quot;.inp&quot;</span>).addEventListener(</span></span><br><span class="line"><span class="javascript">      <span class="string">&quot;input&quot;</span>,</span></span><br><span class="line"><span class="javascript">      debounce(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(e.target.value);</span></span><br><span class="line">        memorizeInput(e.target.value);</span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-91-é¢˜-ï¼ˆ2019-12-05ï¼‰"><a href="#ç¬¬-91-é¢˜-ï¼ˆ2019-12-05ï¼‰" class="headerlink" title="ç¬¬ 91 é¢˜ ï¼ˆ2019/12/05ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/142">ç¬¬ 91 é¢˜</a> ï¼ˆ2019/12/05ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ä»‹ç»ä¸‹ HTTPS ä¸­é—´äººæ”»å‡»</p>
<p><strong>è§£æï¼š</strong></p>
<p>https åè®®ç”± http + ssl åè®®æ„æˆï¼Œå…·ä½“çš„é“¾æ¥è¿‡ç¨‹å¯å‚è€ƒ<a target="_blank" rel="noopener" href="https://github.com/lvwxx/blog/issues/3">SSL æˆ– TLS æ¡æ‰‹çš„æ¦‚è¿°</a></p>
<p>ä¸­é—´äººæ”»å‡»è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘é€å…¬é’¥ã€‚</li>
<li>æ”»å‡»è€…æˆªè·å…¬é’¥ï¼Œä¿ç•™åœ¨è‡ªå·±æ‰‹ä¸Šã€‚</li>
<li>ç„¶åæ”»å‡»è€…è‡ªå·±ç”Ÿæˆä¸€ä¸ªã€ä¼ªé€ çš„ã€‘å…¬é’¥ï¼Œå‘ç»™å®¢æˆ·ç«¯ã€‚</li>
<li>å®¢æˆ·ç«¯æ”¶åˆ°ä¼ªé€ çš„å…¬é’¥åï¼Œç”ŸæˆåŠ å¯† hash å€¼å‘ç»™æœåŠ¡å™¨ã€‚</li>
<li>æ”»å‡»è€…è·å¾—åŠ å¯† hash å€¼ï¼Œç”¨è‡ªå·±çš„ç§é’¥è§£å¯†è·å¾—çœŸç§˜é’¥ã€‚</li>
<li>åŒæ—¶ç”Ÿæˆå‡çš„åŠ å¯† hash å€¼ï¼Œå‘ç»™æœåŠ¡å™¨ã€‚</li>
<li>æœåŠ¡å™¨ç”¨ç§é’¥è§£å¯†è·å¾—å‡ç§˜é’¥ã€‚</li>
<li>æœåŠ¡å™¨ç”¨åŠ ç§˜é’¥åŠ å¯†ä¼ è¾“ä¿¡æ¯</li>
</ol>
<p>é˜²èŒƒæ–¹æ³•ï¼š</p>
<ol>
<li>æœåŠ¡ç«¯åœ¨å‘é€æµè§ˆå™¨çš„å…¬é’¥ä¸­åŠ å…¥ CA è¯ä¹¦ï¼Œæµè§ˆå™¨å¯ä»¥éªŒè¯ CA è¯ä¹¦çš„æœ‰æ•ˆæ€§</li>
</ol>
<h3 id="ç¬¬-92-é¢˜-ï¼ˆ2019-12-15ï¼‰"><a href="#ç¬¬-92-é¢˜-ï¼ˆ2019-12-15ï¼‰" class="headerlink" title="ç¬¬ 92 é¢˜ ï¼ˆ2019/12/15ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/143">ç¬¬ 92 é¢˜</a> ï¼ˆ2019/12/15ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong>å·²çŸ¥æ•°æ®æ ¼å¼ï¼Œå®ç°ä¸€ä¸ªå‡½æ•° fn æ‰¾å‡ºé“¾æ¡ä¸­æ‰€æœ‰çš„çˆ¶çº§ id</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> value = <span class="string">&#x27;112&#x27;</span></span><br><span class="line"><span class="keyword">const</span> fn = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br><span class="line">fn(value) <span class="comment">// è¾“å‡º [1ï¼Œ 11ï¼Œ 112]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>è§£æï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> value = <span class="string">&quot;112&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> fn = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> arr = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; value.length; i++) &#123;</span><br><span class="line">    arr.push(value.slice(<span class="number">0</span>, i + <span class="number">1</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr.map(<span class="built_in">Number</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬-93-é¢˜-ï¼ˆ2019-12-15ï¼‰"><a href="#ç¬¬-93-é¢˜-ï¼ˆ2019-12-15ï¼‰" class="headerlink" title="ç¬¬ 93 é¢˜ ï¼ˆ2019/12/15ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/144">ç¬¬ 93 é¢˜</a> ï¼ˆ2019/12/15ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> ç»™å®šä¸¤ä¸ªå¤§å°ä¸º m å’Œ n çš„æœ‰åºæ•°ç»„ nums1 å’Œ nums2ã€‚è¯·æ‰¾å‡ºè¿™ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°ã€‚è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log(m+n))ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nums1 = [<span class="number">1</span>, <span class="number">3</span>];</span><br><span class="line">nums2 = [<span class="number">2</span>];</span><br></pre></td></tr></table></figure>

<p>ä¸­ä½æ•°æ˜¯ 2.0</p>
<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nums1 = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">nums2 = [<span class="number">3</span>, <span class="number">4</span>];</span><br></pre></td></tr></table></figure>

<p>ä¸­ä½æ•°æ˜¯(2 + 3) / 2 = 2.5</p>
<p><strong>è§£æï¼š</strong></p>
<h3 id="ç¬¬-94-é¢˜-ï¼ˆ2019-12-15ï¼‰"><a href="#ç¬¬-94-é¢˜-ï¼ˆ2019-12-15ï¼‰" class="headerlink" title="ç¬¬ 94 é¢˜ ï¼ˆ2019/12/15ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/145">ç¬¬ 94 é¢˜</a> ï¼ˆ2019/12/15ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> vue åœ¨ v-for æ—¶ç»™æ¯é¡¹å…ƒç´ ç»‘å®šäº‹ä»¶éœ€è¦ç”¨äº‹ä»¶ä»£ç†å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
<p><strong>è§£æ:</strong></p>
<blockquote>
<p>Well, delegation has two main advantages: one is practical - it saves you from having to add (and remove!!) those listeners individually. But Vue already does that for you.</p>
<p>The other one is performance / memory. But since every click listener in a v-vor loop would use the same callback, this is minimal unless you have hundreds or thousands of rows.</p>
<p>And finally, you can use delegation pretty easily by adding an @click listener to the <ul> element instead of the children. But then you have to resort to checks on the click target to evaluate which item in your data it might represent. So I would only use that if you truly find any performance problems without delegation.</p>
</blockquote>
<p>å¥½ï¼Œå§”æ´¾æœ‰ä¸¤ä¸ªä¸»è¦ä¼˜ç‚¹ï¼šä¸€ä¸ªæ˜¯å®ç”¨çš„-å®ƒä½¿æ‚¨ä¸å¿…åˆ†åˆ«æ·»åŠ ï¼ˆå’Œåˆ é™¤ï¼ï¼‰è¿™äº›ä¾¦å¬å™¨ã€‚ ä½†æ˜¯ Vue å·²ç»ä¸ºæ‚¨åšåˆ°äº†ã€‚</p>
<p>å¦ä¸€ä¸ªæ˜¯æ€§èƒ½/å†…å­˜ã€‚ ä½†æ˜¯ï¼Œç”±äº v-vor å¾ªç¯ä¸­çš„æ¯ä¸ªå•å‡»ä¾¦å¬å™¨éƒ½å°†ä½¿ç”¨ç›¸åŒçš„å›è°ƒï¼Œå› æ­¤é™¤éæ‚¨æœ‰æˆç™¾ä¸Šåƒçš„è¡Œï¼Œå¦åˆ™è¿™æ˜¯æœ€å°çš„ã€‚</p>
<p>æœ€åï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨&lt;_ul_ &gt;å…ƒç´ ï¼ˆè€Œä¸æ˜¯å­å…ƒç´ ï¼‰ä¸­æ·»åŠ @click ä¾¦å¬å™¨æ¥è½»æ¾ä½¿ç”¨å§”æ´¾ã€‚ ä½†æ˜¯éšåï¼Œæ‚¨å¿…é¡»æ±‚åŠ©äºç‚¹å‡»ç›®æ ‡ï¼Œä»¥è¯„ä¼°æ•°æ®ä¸­å¯èƒ½ä»£è¡¨çš„é¡¹ç›®ã€‚ å› æ­¤ï¼Œåªæœ‰åœ¨æ‚¨çœŸæ­£å‘ç°ä»»ä½•æ€§èƒ½é—®é¢˜è€Œæ²¡æœ‰å§”æ´¾çš„æƒ…å†µä¸‹ï¼Œæˆ‘æ‰ä½¿ç”¨å®ƒã€‚</p>
<h3 id="ç¬¬-95-é¢˜-ï¼ˆ2019-12-23ï¼‰"><a href="#ç¬¬-95-é¢˜-ï¼ˆ2019-12-23ï¼‰" class="headerlink" title="ç¬¬ 95 é¢˜ ï¼ˆ2019/12/23ï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/148">ç¬¬ 95 é¢˜</a> ï¼ˆ2019/12/23ï¼‰</h3><p><strong>é¢˜ç›®ï¼š</strong> æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Œå¹¶è€ƒè™‘å¯¹è±¡ç›¸äº’å¼•ç”¨ä»¥åŠ Symbol æ‹·è´çš„æƒ…å†µ</p>
<p><strong>è§£æï¼š</strong></p>
<blockquote>
<p>ä¸€ä¸ªä¸è€ƒè™‘å…¶ä»–æ•°æ®ç±»å‹çš„å…¬å…±æ–¹æ³•ï¼ŒåŸºæœ¬æ»¡è¶³å¤§éƒ¨åˆ†åœºæ™¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepCopy</span>(<span class="params">target, cache = new Set()</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> target !== <span class="string">&quot;object&quot;</span> || cache.has(target)) &#123;</span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(target)) &#123;</span><br><span class="line">    target.map(<span class="function">(<span class="params">t</span>) =&gt;</span> &#123;</span><br><span class="line">      cache.add(t);</span><br><span class="line">      <span class="keyword">return</span> t;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> [</span><br><span class="line">      ...Object.keys(target),</span><br><span class="line">      ...Object.getOwnPropertySymbols(target),</span><br><span class="line">    ].reduce(</span><br><span class="line">      (res, key) =&gt; &#123;</span><br><span class="line">        cache.add(target[key]);</span><br><span class="line">        res[key] = deepCopy(target[key], cache);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">      &#125;,</span><br><span class="line">      target.constructor !== <span class="built_in">Object</span></span><br><span class="line">        ? <span class="built_in">Object</span>.create(target.constructor.prototype)</span><br><span class="line">        : &#123;&#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸»è¦é—®é¢˜æ˜¯</p>
<ol>
<li>symbol ä½œä¸º keyï¼Œä¸ä¼šè¢«éå†åˆ°ï¼Œæ‰€ä»¥ stringify å’Œ parse æ˜¯ä¸è¡Œçš„</li>
<li>æœ‰ç¯å¼•ç”¨ï¼Œstringify å’Œ parse ä¹Ÿä¼šæŠ¥é”™</li>
</ol>
<p>æˆ‘ä»¬å¦å¤–ç”¨<code>getOwnPropertySymbols</code>å¯ä»¥è·å– symbol key å¯ä»¥è§£å†³é—®é¢˜ 1ï¼Œç”¨é›†åˆè®°å¿†æ›¾ç»éå†è¿‡çš„å¯¹è±¡å¯ä»¥è§£å†³é—®é¢˜ 2ã€‚å½“ç„¶ï¼Œè¿˜æœ‰å¾ˆå¤šæ•°æ®ç±»å‹è¦ç‹¬ç«‹å»æ‹·è´ã€‚æ¯”å¦‚æ‹·è´ä¸€ä¸ª RegExpï¼Œlodash æ˜¯æœ€å…¨çš„æ•°æ®ç±»å‹æ‹·è´äº†ï¼Œæœ‰ç©ºå¯ä»¥ç ”ç©¶ä¸€ä¸‹</p>
<p>å¦å¤–ï¼Œå¦‚æœä¸è€ƒè™‘ç”¨ symbol åš keyï¼Œè¿˜æœ‰ä¸¤ç§é»‘ç§‘æŠ€æ·±æ‹·è´ï¼Œå¯ä»¥è§£å†³ç¯å¼•ç”¨çš„é—®é¢˜ï¼Œæ¯” stringify å’Œ parse ä¼˜é›…å¼ºä¸€äº›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepCopyByHistory</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> prev = history.state;</span><br><span class="line">  history.replaceState(target, <span class="built_in">document</span>.title);</span><br><span class="line">  <span class="keyword">const</span> res = history.state;</span><br><span class="line">  history.replaceState(prev, <span class="built_in">document</span>.title);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">deepCopyByMessageChannel</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> channel = <span class="keyword">new</span> MessageChannel();</span><br><span class="line">    channel.port2.onmessage = <span class="function">(<span class="params">ev</span>) =&gt;</span> resolve(ev.data);</span><br><span class="line">    channel.port1.postMessage(target);</span><br><span class="line">  &#125;).then(<span class="function">(<span class="params">data</span>) =&gt;</span> data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ— è®ºå“ªç§æ–¹æ³•ï¼Œå®ƒä»¬éƒ½æœ‰ä¸€ä¸ªå…±æ€§ï¼šå¤±å»äº†ç»§æ‰¿å…³ç³»ï¼Œæ‰€ä»¥å‰©ä¸‹çš„éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è¡¥ä¸Šå»äº†ï¼Œæ•…æœ‰<code>Object.create(target.constructor.prototype)</code>çš„æ“ä½œ</p>
</blockquote>
<p>æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>å¦‚æœ <code>target</code> æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‹·è´ç»“æœæ²¡æœ‰è¿”å›</li>
<li>å¦‚æœ <code>target</code> æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æ²¡æœ‰è¢«æ·±æ‹·è´</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%89%9B%E4%BA%BA%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">ç‰›äººé¢è¯•é¢˜</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-Step-By-Step"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/09/20/Step-By-Step/"
    >ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/09/20/Step-By-Step/" class="article-date">
  <time datetime="2019-09-20T06:43:04.000Z" itemprop="datePublished">2019-09-20</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%89%9B%E4%BA%BA%E9%9D%A2%E8%AF%95%E9%A2%98/">ç‰›äººé¢è¯•é¢˜</a> / <a class="article-category-link" href="/categories/%E7%89%9B%E4%BA%BA%E9%9D%A2%E8%AF%95%E9%A2%98/Step-By-Step/">Step-By-Step</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-01"><a href="#ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-01" class="headerlink" title="ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 01"></a>ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 01</h2><blockquote>
<p>å·²å®Œç»“~</p>
<p>ä»Šå¤© 2019/11/04 ğŸ˜œ (à¸‡ â€¢_â€¢)à¸‡</p>
</blockquote>
<h3 id="1-å¦‚ä½•æ­£ç¡®åˆ¤æ–­-this-çš„æŒ‡å‘ï¼Ÿ-2019-09-19"><a href="#1-å¦‚ä½•æ­£ç¡®åˆ¤æ–­-this-çš„æŒ‡å‘ï¼Ÿ-2019-09-19" class="headerlink" title="1.å¦‚ä½•æ­£ç¡®åˆ¤æ–­ this çš„æŒ‡å‘ï¼Ÿ(2019-09-19)"></a>1.å¦‚ä½•æ­£ç¡®åˆ¤æ–­ this çš„æŒ‡å‘ï¼Ÿ(2019-09-19)</h3><p>å¦‚æœç”¨ä¸€å¥è¯è¯´æ˜ this çš„æŒ‡å‘ï¼Œé‚£ä¹ˆå³æ˜¯: è°è°ƒç”¨å®ƒï¼Œthis å°±æŒ‡å‘è°ã€‚</p>
<p>ä½†æ˜¯ä»…é€šè¿‡è¿™å¥è¯ï¼Œæˆ‘ä»¬å¾ˆå¤šæ—¶å€™å¹¶ä¸èƒ½å‡†ç¡®åˆ¤æ–­ this çš„æŒ‡å‘ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦å€ŸåŠ©ä¸€äº›è§„åˆ™å»å¸®åŠ©è‡ªå·±ï¼š</p>
<p>this çš„æŒ‡å‘å¯ä»¥æŒ‰ç…§ä»¥ä¸‹é¡ºåºåˆ¤æ–­:</p>
<p><strong>1ã€å…¨å±€ç¯å¢ƒä¸­çš„ this</strong></p>
<p>æµè§ˆå™¨ç¯å¢ƒï¼šæ— è®ºæ˜¯å¦åœ¨ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode">ä¸¥æ ¼æ¨¡å¼</a> ä¸‹ï¼Œåœ¨å…¨å±€æ‰§è¡Œç¯å¢ƒä¸­ï¼ˆåœ¨ä»»ä½•å‡½æ•°ä½“å¤–éƒ¨ï¼‰this éƒ½æŒ‡å‘å…¨å±€å¯¹è±¡ <code>window</code>;</p>
<p>node ç¯å¢ƒï¼šæ— è®ºæ˜¯å¦åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨å…¨å±€æ‰§è¡Œç¯å¢ƒä¸­ï¼ˆåœ¨ä»»ä½•å‡½æ•°ä½“å¤–éƒ¨ï¼‰ï¼Œthis éƒ½æ˜¯ç©ºå¯¹è±¡ <code>&#123;&#125;</code></p>
<p><strong>2ã€æ˜¯å¦æ˜¯ <code>new</code> ç»‘å®š</strong></p>
<p>å¦‚æœæ˜¯ <code>new</code> ç»‘å®šï¼Œå¹¶ä¸”æ„é€ å‡½æ•°ä¸­æ²¡æœ‰è¿”å› function æˆ–è€…æ˜¯ objectï¼Œé‚£ä¹ˆ this æŒ‡å‘è¿™ä¸ªæ–°å¯¹è±¡ã€‚å¦‚ä¸‹:</p>
<blockquote>
<p>æ„é€ å‡½æ•°è¿”å›å€¼ä¸æ˜¯ function æˆ– objectã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Super</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> instance = <span class="keyword">new</span> Super(<span class="string">&quot;26&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(instance.age); <span class="comment">//26</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ„é€ å‡½æ•°è¿”å›å€¼æ˜¯ function æˆ– objectï¼Œè¿™ç§æƒ…å†µä¸‹ this æŒ‡å‘çš„æ˜¯è¿”å›çš„å¯¹è±¡ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Super</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="keyword">let</span> obj = &#123; <span class="attr">a</span>: <span class="string">&quot;2&quot;</span> &#125;;</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> instance = <span class="keyword">new</span> Super(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(instance.age); <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥æƒ³çŸ¥é“ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ <code>new</code> çš„å®ç°åŸç†:</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</li>
<li>è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡Œ <code>[[åŸå‹]]</code> è¿æ¥ã€‚</li>
<li>å±æ€§å’Œæ–¹æ³•è¢«åŠ å…¥åˆ° this å¼•ç”¨çš„å¯¹è±¡ä¸­ã€‚å¹¶æ‰§è¡Œäº†æ„é€ å‡½æ•°ä¸­çš„æ–¹æ³•.</li>
<li>å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆ this æŒ‡å‘è¿™ä¸ªæ–°å¯¹è±¡ï¼Œå¦åˆ™ this æŒ‡å‘æ„é€ å‡½æ•°ä¸­è¿”å›çš„å¯¹è±¡ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">new</span>(<span class="params">func</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> target = &#123;&#125;;</span><br><span class="line">  target.__proto__ = func.prototype;</span><br><span class="line">  <span class="keyword">let</span> res = func.call(target);</span><br><span class="line">  <span class="comment">//æ’é™¤ null çš„æƒ…å†µ</span></span><br><span class="line">  <span class="keyword">if</span> ((res &amp;&amp; <span class="keyword">typeof</span> res == <span class="string">&quot;object&quot;</span>) || <span class="keyword">typeof</span> res == <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>3</strong>ã€å‡½æ•°æ˜¯å¦é€šè¿‡ call,apply è°ƒç”¨ï¼Œæˆ–è€…ä½¿ç”¨äº† bind ç»‘å®šï¼Œå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆ this ç»‘å®šçš„å°±æ˜¯æŒ‡å®šçš„å¯¹è±¡ã€å½’ç»“ä¸ºæ˜¾å¼ç»‘å®šã€‘ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">info</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.age);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  age: <span class="number">20</span>,</span><br><span class="line">  info,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">28</span>;</span><br><span class="line"><span class="keyword">var</span> info = person.info;</span><br><span class="line">info.call(person); <span class="comment">//20</span></span><br><span class="line">info.apply(person); <span class="comment">//20</span></span><br><span class="line">info.bind(person)(); <span class="comment">//20</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡ŒåŒæ ·éœ€è¦æ³¨æ„ä¸€ç§<strong>ç‰¹æ®Š</strong>æƒ…å†µï¼Œå¦‚æœ call,apply æˆ–è€… bind ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°å€¼æ˜¯ <code>undefined</code> æˆ–è€… <code>null</code>ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ this çš„å€¼ä¸ºä¼ å…¥çš„å€¼ null /undefinedã€‚éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå®é™…åº”ç”¨çš„é»˜è®¤ç»‘å®šè§„åˆ™ï¼Œthis æŒ‡å‘å…¨å±€å¯¹è±¡(node ç¯å¢ƒä¸º globalï¼Œæµè§ˆå™¨ç¯å¢ƒä¸º window)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">info</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//nodeç¯å¢ƒä¸­:éä¸¥æ ¼æ¨¡å¼ globalï¼Œä¸¥æ ¼æ¨¡å¼ä¸ºnull</span></span><br><span class="line">  <span class="comment">//æµè§ˆå™¨ç¯å¢ƒä¸­:éä¸¥æ ¼æ¨¡å¼ windowï¼Œä¸¥æ ¼æ¨¡å¼ä¸ºnull</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.age);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  age: <span class="number">20</span>,</span><br><span class="line">  info,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">28</span>;</span><br><span class="line"><span class="keyword">var</span> info = person.info;</span><br><span class="line"><span class="comment">//ä¸¥æ ¼æ¨¡å¼æŠ›å‡ºé”™è¯¯ï¼›</span></span><br><span class="line"><span class="comment">//éä¸¥æ ¼æ¨¡å¼ï¼Œnodeä¸‹è¾“å‡ºundefinedï¼ˆå› ä¸ºå…¨å±€çš„ageä¸ä¼šæŒ‚åœ¨ global ä¸Šï¼‰</span></span><br><span class="line"><span class="comment">//éä¸¥æ ¼æ¨¡å¼ã€‚æµè§ˆå™¨ç¯å¢ƒä¸‹è¾“å‡º 28ï¼ˆå› ä¸ºå…¨å±€çš„ageä¼šæŒ‚åœ¨ window ä¸Šï¼‰</span></span><br><span class="line">info.call(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure>

<p><strong>4ã€</strong>éšå¼ç»‘å®šï¼Œå‡½æ•°çš„è°ƒç”¨æ˜¯åœ¨æŸä¸ªå¯¹è±¡ä¸Šè§¦å‘çš„ï¼Œå³è°ƒç”¨ä½ç½®ä¸Šå­˜åœ¨ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚å…¸å‹çš„éšå¼è°ƒç”¨ä¸º: <code>xxx.fn()</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">info</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.age);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  age: <span class="number">20</span>,</span><br><span class="line">  info,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">28</span>;</span><br><span class="line">person.info(); <span class="comment">//20;æ‰§è¡Œçš„æ˜¯éšå¼ç»‘å®š</span></span><br></pre></td></tr></table></figure>

<p><strong>5ã€</strong> é»˜è®¤ç»‘å®šï¼Œåœ¨ä¸èƒ½åº”ç”¨å…¶å®ƒç»‘å®šè§„åˆ™æ—¶ä½¿ç”¨çš„é»˜è®¤è§„åˆ™ï¼Œé€šå¸¸æ˜¯ç‹¬ç«‹å‡½æ•°è°ƒç”¨ã€‚</p>
<p>éä¸¥æ ¼æ¨¡å¼ï¼š node ç¯å¢ƒï¼Œæ‰§è¡Œå…¨å±€å¯¹è±¡ globalï¼Œæµè§ˆå™¨ç¯å¢ƒï¼Œæ‰§è¡Œå…¨å±€å¯¹è±¡ windowã€‚</p>
<p>ä¸¥æ ¼æ¨¡å¼ï¼šæ‰§è¡Œ undefined</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">info</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.age);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">28</span>;</span><br><span class="line"><span class="comment">//ä¸¥æ ¼æ¨¡å¼ï¼›æŠ›é”™</span></span><br><span class="line"><span class="comment">//éä¸¥æ ¼æ¨¡å¼ï¼Œnodeä¸‹è¾“å‡º undefinedï¼ˆå› ä¸ºå…¨å±€çš„ageä¸ä¼šæŒ‚åœ¨ global ä¸Šï¼‰</span></span><br><span class="line"><span class="comment">//éä¸¥æ ¼æ¨¡å¼ã€‚æµè§ˆå™¨ç¯å¢ƒä¸‹è¾“å‡º 28ï¼ˆå› ä¸ºå…¨å±€çš„ageä¼šæŒ‚åœ¨ window ä¸Šï¼‰</span></span><br><span class="line"><span class="comment">//ä¸¥æ ¼æ¨¡å¼æŠ›å‡ºï¼Œå› ä¸º this æ­¤æ—¶æ˜¯ undefined</span></span><br><span class="line">info();</span><br></pre></td></tr></table></figure>

<p><strong>6ã€</strong> ç®­å¤´å‡½æ•°çš„æƒ…å†µï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  age: <span class="number">20</span>,</span><br><span class="line">  info: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.age); <span class="comment">//thisç»§æ‰¿çš„æ˜¯å¤–å±‚ä¸Šä¸‹æ–‡ç»‘å®šçš„this</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = &#123; <span class="attr">age</span>: <span class="number">28</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> info = obj.info();</span><br><span class="line">info(); <span class="comment">//20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> info2 = obj.info.call(person);</span><br><span class="line">info2(); <span class="comment">//28</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Step-By-Step/issues/1">ç‚¹å‡»æŸ¥çœ‹æ›´å¤š</a></p>
<h3 id="2-JS-ä¸­åŸå§‹ç±»å‹æœ‰å“ªå‡ ç§ï¼Ÿnull-æ˜¯å¯¹è±¡å—ï¼ŸåŸå§‹æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ-2019-09-20"><a href="#2-JS-ä¸­åŸå§‹ç±»å‹æœ‰å“ªå‡ ç§ï¼Ÿnull-æ˜¯å¯¹è±¡å—ï¼ŸåŸå§‹æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ-2019-09-20" class="headerlink" title="2.JS ä¸­åŸå§‹ç±»å‹æœ‰å“ªå‡ ç§ï¼Ÿnull æ˜¯å¯¹è±¡å—ï¼ŸåŸå§‹æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ(2019-09-20)"></a>2.JS ä¸­åŸå§‹ç±»å‹æœ‰å“ªå‡ ç§ï¼Ÿnull æ˜¯å¯¹è±¡å—ï¼ŸåŸå§‹æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ(2019-09-20)</h3><p><strong>ç›®å‰ï¼ŒJS åŸå§‹ç±»å‹æœ‰å…­ç§ï¼Œåˆ†åˆ«ä¸º:</strong></p>
<ul>
<li>Boolean</li>
<li>String</li>
<li>Number</li>
<li>Undefined</li>
<li>Null</li>
<li>Symbol(ES6 æ–°å¢)</li>
</ul>
<p>ES10 æ–°å¢äº†ä¸€ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼šBigInt</p>
<p>å¤æ‚æ•°æ®ç±»å‹åªæœ‰ä¸€ç§: Object</p>
<p>null ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°½ç®¡ <code>typeof null</code> è¾“å‡ºçš„æ˜¯ <code>object</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªå†å²é—ç•™é—®é¢˜ï¼ŒJS çš„æœ€åˆç‰ˆæœ¬ä¸­ä½¿ç”¨çš„æ˜¯ 32 ä½ç³»ç»Ÿï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ä½¿ç”¨ä½ä½å­˜å‚¨å˜é‡çš„ç±»å‹ä¿¡æ¯ï¼Œ000 å¼€å¤´ä»£è¡¨æ˜¯å¯¹è±¡ï¼Œ<code>null</code> è¡¨ç¤ºä¸ºå…¨é›¶ï¼Œæ‰€ä»¥å°†å®ƒé”™è¯¯çš„åˆ¤æ–­ä¸º <code>object</code> ã€‚</p>
<p><strong>åŸºæœ¬æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹çš„åŒºåˆ«ä¸º:</strong></p>
<p>1ã€å†…å­˜çš„åˆ†é…ä¸åŒ</p>
<ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹å­˜å‚¨åœ¨æ ˆä¸­ã€‚</li>
<li>å¤æ‚æ•°æ®ç±»å‹å­˜å‚¨åœ¨å †ä¸­ï¼Œæ ˆä¸­å­˜å‚¨çš„å˜é‡ï¼Œæ˜¯æŒ‡å‘å †ä¸­çš„å¼•ç”¨åœ°å€ã€‚</li>
</ul>
<p>2ã€è®¿é—®æœºåˆ¶ä¸åŒ</p>
<ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹æ˜¯æŒ‰å€¼è®¿é—®</li>
<li>å¤æ‚æ•°æ®ç±»å‹æŒ‰å¼•ç”¨è®¿é—®ï¼ŒJS ä¸å…è®¸ç›´æ¥è®¿é—®ä¿å­˜åœ¨å †å†…å­˜ä¸­çš„å¯¹è±¡ï¼Œåœ¨è®¿é—®ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œé¦–å…ˆå¾—åˆ°çš„æ˜¯è¿™ä¸ªå¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„åœ°å€ï¼Œç„¶åå†æŒ‰ç…§è¿™ä¸ªåœ°å€å»è·å¾—è¿™ä¸ªå¯¹è±¡ä¸­çš„å€¼ã€‚</li>
</ul>
<p>3ã€å¤åˆ¶å˜é‡æ—¶ä¸åŒ(a=b)</p>
<ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹ï¼ša=b;æ˜¯å°† b ä¸­ä¿å­˜çš„åŸå§‹å€¼çš„å‰¯æœ¬èµ‹å€¼ç»™æ–°å˜é‡ aï¼Œa å’Œ b å®Œå…¨ç‹¬ç«‹ï¼Œäº’ä¸å½±å“</li>
<li>å¤æ‚æ•°æ®ç±»å‹ï¼ša=b;å°† b ä¿å­˜çš„å¯¹è±¡å†…å­˜çš„å¼•ç”¨åœ°å€èµ‹å€¼ç»™äº†æ–°å˜é‡ a;a å’Œ b æŒ‡å‘äº†åŒä¸€ä¸ªå †å†…å­˜åœ°å€ï¼Œå…¶ä¸­ä¸€ä¸ªå€¼å‘ç”Ÿäº†æ”¹å˜ï¼Œå¦ä¸€ä¸ªä¹Ÿä¼šæ”¹å˜ã€‚</li>
</ul>
<p>4ã€å‚æ•°ä¼ é€’çš„ä¸åŒ(å®å‚/å½¢å‚)</p>
<p>å‡½æ•°ä¼ å‚éƒ½æ˜¯æŒ‰å€¼ä¼ é€’(æ ˆä¸­çš„å­˜å‚¨çš„å†…å®¹)ï¼šåŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‹·è´çš„æ˜¯å€¼ï¼›å¤æ‚æ•°æ®ç±»å‹ï¼Œæ‹·è´çš„æ˜¯å¼•ç”¨åœ°å€</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Step-By-Step/issues/5">ç‚¹å‡»æŸ¥çœ‹æ›´å¤š</a></p>
</blockquote>
<h3 id="3-è¯´ä¸€è¯´ä½ å¯¹-HTML5-è¯­ä¹‰åŒ–çš„ç†è§£-2019-09-21"><a href="#3-è¯´ä¸€è¯´ä½ å¯¹-HTML5-è¯­ä¹‰åŒ–çš„ç†è§£-2019-09-21" class="headerlink" title="3.è¯´ä¸€è¯´ä½ å¯¹ HTML5 è¯­ä¹‰åŒ–çš„ç†è§£(2019-09-21)"></a>3.è¯´ä¸€è¯´ä½ å¯¹ HTML5 è¯­ä¹‰åŒ–çš„ç†è§£(2019-09-21)</h3><p>è¯­ä¹‰åŒ–æ„å‘³ç€é¡¾åæ€ä¹‰ï¼ŒHTML5 çš„è¯­ä¹‰åŒ–æŒ‡çš„æ˜¯åˆç†æ­£ç¡®çš„ä½¿ç”¨è¯­ä¹‰åŒ–çš„æ ‡ç­¾æ¥åˆ›å»ºé¡µé¢ç»“æ„ï¼Œå¦‚ header,footer,navï¼Œä»æ ‡ç­¾ä¸Šå³å¯ä»¥ç›´è§‚çš„çŸ¥é“è¿™ä¸ªæ ‡ç­¾çš„ä½œç”¨ï¼Œè€Œä¸æ˜¯æ»¥ç”¨ divã€‚</p>
<p><strong>è¯­ä¹‰åŒ–çš„ä¼˜ç‚¹æœ‰:</strong></p>
<ul>
<li>ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºé˜…è¯»ï¼Œåˆ©äºå¼€å‘å’Œç»´æŠ¤</li>
<li>æ–¹ä¾¿å…¶ä»–è®¾å¤‡è§£æï¼ˆå¦‚å±å¹•é˜…è¯»å™¨ï¼‰æ ¹æ®è¯­ä¹‰æ¸²æŸ“ç½‘é¡µã€‚</li>
<li>æœ‰åˆ©äºæœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰ï¼Œæœç´¢å¼•æ“çˆ¬è™«ä¼šæ ¹æ®ä¸åŒçš„æ ‡ç­¾æ¥èµ‹äºˆä¸åŒçš„æƒé‡</li>
<li></li>
</ul>
<h3 id="4-å¦‚ä½•è®©-a-1-amp-amp-a-2-amp-amp-a-3-çš„å€¼ä¸º-trueï¼Ÿ-2019-09-22"><a href="#4-å¦‚ä½•è®©-a-1-amp-amp-a-2-amp-amp-a-3-çš„å€¼ä¸º-trueï¼Ÿ-2019-09-22" class="headerlink" title="4.å¦‚ä½•è®© (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) çš„å€¼ä¸º trueï¼Ÿ(2019-09-22)"></a>4.å¦‚ä½•è®© (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) çš„å€¼ä¸º trueï¼Ÿ(2019-09-22)</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Blog/issues/31">å¯å‚è€ƒ</a></p>
</blockquote>
<p><strong>4.1 åˆ©ç”¨éšå¼è½¬æ¢è§„åˆ™</strong></p>
<p><code>==</code> æ“ä½œç¬¦åœ¨å·¦å³æ•°æ®ç±»å‹ä¸ä¸€è‡´æ—¶ï¼Œä¼šå…ˆè¿›è¡Œéšå¼è½¬æ¢ã€‚</p>
<p><code>a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3</code> çš„å€¼æ„å‘³ç€å…¶ä¸å¯èƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€‚å› ä¸ºå¦‚æœ a æ˜¯ null æˆ–è€…æ˜¯ undefined bool ç±»å‹ï¼Œéƒ½ä¸å¯èƒ½è¿”å› trueã€‚</p>
<p>å› æ­¤å¯ä»¥æ¨æµ‹ a æ˜¯å¤æ‚æ•°æ®ç±»å‹ï¼ŒJS ä¸­å¤æ‚æ•°æ®ç±»å‹åªæœ‰ <code>object</code>ï¼Œå›å¿†ä¸€ä¸‹ï¼ŒObject è½¬æ¢ä¸ºåŸå§‹ç±»å‹ä¼šè°ƒç”¨ä»€ä¹ˆæ–¹æ³•ï¼Ÿ</p>
<ul>
<li>å¦‚æœéƒ¨ç½²äº† <code>[Symbol.toPrimitive]</code> æ¥å£ï¼Œé‚£ä¹ˆè°ƒç”¨æ­¤æ¥å£ï¼Œè‹¥è¿”å›çš„ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒæŠ›å‡ºé”™è¯¯ã€‚</li>
<li>å¦‚æœæ²¡æœ‰éƒ¨ç½² <code>[Symbol.toPrimitive]</code> æ¥å£ï¼Œé‚£ä¹ˆæ ¹æ®è¦è½¬æ¢çš„ç±»å‹ï¼Œå…ˆè°ƒç”¨ <code>valueOf</code> / <code>toString</code><ol>
<li>é Date ç±»å‹å¯¹è±¡ï¼Œ<code>hint</code> æ˜¯ <code>default</code> æ—¶ï¼Œè°ƒç”¨é¡ºåºä¸ºï¼š<code>valueOf</code> &gt;&gt;&gt; <code>toString</code>ï¼Œå³<code>valueOf</code> è¿”å›çš„ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‰ä¼šç»§ç»­è°ƒç”¨ <code>toString</code>ï¼Œå¦‚æœ<code>toString</code> è¿”å›çš„è¿˜ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆæŠ›å‡ºé”™è¯¯ã€‚</li>
<li>å¦‚æœ <code>hint</code> æ˜¯ <code>string</code>(Date å¯¹è±¡çš„ hint é»˜è®¤æ˜¯ string) ï¼Œè°ƒç”¨é¡ºåºä¸ºï¼š<code>toString</code> &gt;&gt;&gt; <code>valueOf</code>ï¼Œå³<code>toString</code> è¿”å›çš„ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‰ä¼šç»§ç»­è°ƒç”¨ <code>valueOf</code>ï¼Œå¦‚æœ<code>valueOf</code> è¿”å›çš„è¿˜ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆæŠ›å‡ºé”™è¯¯ã€‚</li>
<li>å¦‚æœ <code>hint</code> æ˜¯ <code>number</code>ï¼Œè°ƒç”¨é¡ºåºä¸ºï¼š <code>valueOf</code> &gt;&gt;&gt; <code>toString</code></li>
</ol>
</li>
</ul>
<p>é‚£ä¹ˆå¯¹äºè¿™é“é¢˜ï¼Œåªè¦ <code>[Symbol.toPrimitive]</code> æ¥å£ï¼Œç¬¬ä¸€æ¬¡è¿”å›çš„å€¼æ˜¯ 1ï¼Œç„¶åé€’å¢ï¼Œå³æˆåŠŸæˆç«‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>.toPrimitive]: (<span class="function"><span class="keyword">function</span> (<span class="params">hint</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//é—­åŒ…çš„ç‰¹æ€§ä¹‹ä¸€ï¼ši ä¸ä¼šè¢«å›æ”¶</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> i++;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;)(),</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨ <code>valueOf</code> æ¥å£çš„æƒ…å†µï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  valueOf: (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//é—­åŒ…çš„ç‰¹æ€§ä¹‹ä¸€ï¼ši ä¸ä¼šè¢«å›æ”¶</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> i++;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;)(),</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼Œé™¤äº† i è‡ªå¢çš„æ–¹æ³•å¤–ï¼Œè¿˜å¯ä»¥åˆ©ç”¨ æ­£åˆ™ï¼Œå¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  reg: <span class="regexp">/\d/g</span>,</span><br><span class="line">  valueOf() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.reg.exec(<span class="number">123</span>)[<span class="number">0</span>];</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p><strong>4.2 åˆ©ç”¨æ•°æ®åŠ«æŒ</strong></p>
<p>ä½¿ç”¨ <code>Object.defineProperty</code> å®šä¹‰çš„å±æ€§ï¼Œåœ¨è·å–å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨ <code>get</code> æ–¹æ³•ã€‚åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬åœ¨ <code>window</code> å¯¹è±¡ä¸Šå®šä¹‰ <code>a</code> å±æ€§ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(<span class="built_in">window</span>, <span class="string">&quot;a&quot;</span>, &#123;</span><br><span class="line">  get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> i++;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>ES6 æ–°å¢äº† <code>Proxy</code> ï¼Œæ­¤å¤„æˆ‘ä»¬åŒæ ·å¯ä»¥åˆ©ç”¨ <code>Proxy</code> å»å®ç°ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Proxy</span>(</span><br><span class="line">  &#123;&#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    i: <span class="number">1</span>,</span><br><span class="line">    get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function">() =&gt;</span> <span class="built_in">this</span>.i++;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p><strong>4.3 æ•°ç»„çš„ <code>toString</code> æ¥å£é»˜è®¤è°ƒç”¨æ•°ç»„çš„ <code>join</code> æ–¹æ³•ï¼Œé‡å†™æ•°ç»„çš„ <code>join</code> æ–¹æ³•ã€‚</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">a.join = a.shift;</span><br><span class="line"><span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p><strong>4.4 åˆ©ç”¨ <code>with</code> å…³é”®å­—</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> (&#123;</span><br><span class="line">  <span class="keyword">get</span> <span class="title">a</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> ++i;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>); <span class="comment">//true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-é˜²æŠ–-debounce-å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Œè¯·å®ç°ä¸€ä¸ªé˜²æŠ–å‡½æ•°ã€‚-2019-09-23"><a href="#5-é˜²æŠ–-debounce-å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Œè¯·å®ç°ä¸€ä¸ªé˜²æŠ–å‡½æ•°ã€‚-2019-09-23" class="headerlink" title="5.é˜²æŠ–(debounce)å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Œè¯·å®ç°ä¸€ä¸ªé˜²æŠ–å‡½æ•°ã€‚(2019-09-23)"></a>5.é˜²æŠ–(debounce)å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Œè¯·å®ç°ä¸€ä¸ªé˜²æŠ–å‡½æ•°ã€‚(2019-09-23)</h3><blockquote>
<p><a target="_blank" rel="noopener" href="http://zxinc520.com/lcj/%225d84756e662e3d49cc2c5b01%22">å¯å‚è€ƒç¬¬ä¸‰é¢˜ </a></p>
</blockquote>
<h4 id="é˜²æŠ–å‡½æ•°çš„ä½œç”¨"><a href="#é˜²æŠ–å‡½æ•°çš„ä½œç”¨" class="headerlink" title="é˜²æŠ–å‡½æ•°çš„ä½œç”¨"></a>é˜²æŠ–å‡½æ•°çš„ä½œç”¨</h4><p>é˜²æŠ–å‡½æ•°çš„ä½œç”¨å°±æ˜¯æ§åˆ¶å‡½æ•°åœ¨ä¸€å®šæ—¶é—´å†…çš„æ‰§è¡Œæ¬¡æ•°ã€‚é˜²æŠ–æ„å‘³ç€ N ç§’å†…å‡½æ•°åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœ N ç§’å†…å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—å»¶è¿Ÿæ—¶é—´ã€‚</p>
<p>ä¸¾ä¾‹è¯´æ˜ï¼šå°æ€æœ€è¿‘åœ¨å‡è‚¥ï¼Œä½†æ˜¯å¥¹éå¸¸è´ªåƒã€‚ä¸ºæ­¤ï¼Œä¸å…¶ç”·æœ‹å‹çº¦å®šå¥½ï¼Œå¦‚æœ 10 å¤©ä¸åƒé›¶é£Ÿï¼Œå°±å¯ä»¥è´­ä¹°ä¸€ä¸ªåŒ…(ä¸è¦é—®ä¸ºä»€ä¹ˆæ˜¯åŒ…ï¼Œå› ä¸ºåŒ…æ²»ç™¾ç—…)ã€‚ä½†æ˜¯å¦‚æœä¸­é—´åƒäº†ä¸€æ¬¡é›¶é£Ÿï¼Œé‚£ä¹ˆå°±è¦é‡æ–°è®¡ç®—æ—¶é—´ï¼Œç›´åˆ°å°æ€åšæŒ 10 å¤©æ²¡æœ‰åƒé›¶é£Ÿï¼Œæ‰èƒ½è´­ä¹°ä¸€ä¸ªåŒ…ã€‚æ‰€ä»¥ï¼Œç®¡ä¸ä½å˜´çš„å°æ€ï¼Œæ²¡æœ‰æœºä¼šä¹°åŒ…(æ‚²ä¼¤çš„æ•…äº‹)â€¦è¿™å°±æ˜¯<strong>é˜²æŠ–</strong>ã€‚</p>
<p>ä¸ç®¡åƒæ²¡åƒé›¶é£Ÿï¼Œæ¯ 10 å¤©ä¹°ä¸€ä¸ªåŒ…ï¼Œä¸­é—´æƒ³ä¹°åŒ…ï¼Œå¿ç€ï¼Œç­‰åˆ°ç¬¬åå¤©çš„æ—¶å€™å†ä¹°ï¼Œè¿™ç§æƒ…å†µæ˜¯<strong>èŠ‚æµ</strong>ã€‚å¦‚ä½•æ§åˆ¶å¥³æœ‹å‹çš„æ¶ˆè´¹ï¼Œå„ä½æ”»åŸç‹®ä»¬ï¼Œget åˆ°äº†å—ï¼Ÿé˜²æŠ–å¯æ¯”èŠ‚æµæœ‰æ•ˆå¤šäº†ï¼</p>
<h4 id="é˜²æŠ–åº”ç”¨åœºæ™¯"><a href="#é˜²æŠ–åº”ç”¨åœºæ™¯" class="headerlink" title="é˜²æŠ–åº”ç”¨åœºæ™¯"></a>é˜²æŠ–åº”ç”¨åœºæ™¯</h4><ol>
<li>æœç´¢æ¡†è¾“å…¥æŸ¥è¯¢ï¼Œå¦‚æœç”¨æˆ·ä¸€ç›´åœ¨è¾“å…¥ä¸­ï¼Œæ²¡æœ‰å¿…è¦ä¸åœåœ°è°ƒç”¨å»è¯·æ±‚æœåŠ¡ç«¯æ¥å£ï¼Œç­‰ç”¨æˆ·åœæ­¢è¾“å…¥çš„æ—¶å€™ï¼Œå†è°ƒç”¨ï¼Œè®¾ç½®ä¸€ä¸ªåˆé€‚çš„æ—¶é—´é—´éš”ï¼Œæœ‰æ•ˆå‡è½»æœåŠ¡ç«¯å‹åŠ›ã€‚</li>
<li>è¡¨å•éªŒè¯</li>
<li>æŒ‰é’®æäº¤äº‹ä»¶ã€‚</li>
<li>æµè§ˆå™¨çª—å£ç¼©æ”¾ï¼Œresize äº‹ä»¶ç­‰ã€‚</li>
</ol>
<h2 id="ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-02"><a href="#ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-02" class="headerlink" title="ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 02"></a>ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 02</h2><blockquote>
<p>æœ¬å‘¨é¢è¯•é¢˜ä¸€è§ˆ:</p>
</blockquote>
<ul>
<li>èŠ‚æµ(throttle)å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Œè¯·å®ç°ä¸€ä¸ªèŠ‚æµå‡½æ•°</li>
<li>è¯´ä¸€è¯´ä½ å¯¹ JS æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå’Œä½œç”¨åŸŸé“¾çš„ç†è§£ï¼Ÿ</li>
<li>ä»€ä¹ˆæ˜¯ BFCï¼ŸBFC çš„å¸ƒå±€è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•åˆ›å»º BFCï¼Ÿ</li>
<li>letã€constã€var çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ</li>
<li>æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Ÿ</li>
</ul>
<h3 id="6-èŠ‚æµ-throttle-å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Œè¯·å®ç°ä¸€ä¸ªèŠ‚æµå‡½æ•°ã€‚-2019-09-24"><a href="#6-èŠ‚æµ-throttle-å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Œè¯·å®ç°ä¸€ä¸ªèŠ‚æµå‡½æ•°ã€‚-2019-09-24" class="headerlink" title="6. èŠ‚æµ(throttle)å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Œè¯·å®ç°ä¸€ä¸ªèŠ‚æµå‡½æ•°ã€‚(2019-09-24)"></a>6. èŠ‚æµ(throttle)å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Œè¯·å®ç°ä¸€ä¸ªèŠ‚æµå‡½æ•°ã€‚(2019-09-24)</h3><blockquote>
<p><strong>è§£æ</strong>ï¼š <a target="_blank" rel="noopener" href="http://zxinc520.com/lcj/%225d84756e662e3d49cc2c5b01%22">å¯å‚è€ƒç¬¬ä¸‰é¢˜ </a></p>
</blockquote>
<p><strong>èŠ‚æµå‡½æ•°çš„ä½œç”¨ï¼š</strong></p>
<p>èŠ‚æµå‡½æ•°çš„ä½œç”¨æ˜¯è§„å®šä¸€ä¸ªå•ä½æ—¶é—´ï¼Œåœ¨è¿™ä¸ªå•ä½æ—¶é—´å†…æœ€å¤šåªèƒ½è§¦å‘ä¸€æ¬¡å‡½æ•°æ‰§è¡Œï¼Œå¦‚æœè¿™ä¸ªå•ä½æ—¶é—´å†…å¤šæ¬¡è§¦å‘å‡½æ•°ï¼Œåªèƒ½æœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚</p>
<p>ä¸¾ä¾‹è¯´æ˜ï¼šå°æ˜çš„å¦ˆå¦ˆå’Œå°æ˜çº¦å®šå¥½ï¼Œå¦‚æœå°æ˜åœ¨å‘¨è€ƒä¸­å–å¾—æ»¡åˆ†ï¼Œé‚£ä¹ˆå½“æœˆå¯ä»¥å¸¦ä»–å»æ¸¸ä¹åœºç©ï¼Œä½†æ˜¯ä¸€ä¸ªæœˆæœ€å¤šåªèƒ½å»ä¸€æ¬¡ã€‚</p>
<p>è¿™å…¶å®å°±æ˜¯ä¸€ä¸ªèŠ‚æµçš„ä¾‹å­ï¼Œåœ¨ä¸€ä¸ªæœˆçš„æ—¶é—´å†…ï¼Œå»æ¸¸ä¹åœºæœ€å¤šåªèƒ½è§¦å‘ä¸€æ¬¡ã€‚å³ä½¿è¿™ä¸ªæ—¶é—´å‘¨æœŸå†…ï¼Œå°æ˜å–å¾—å¤šæ¬¡æ»¡åˆ†ã€‚</p>
<p><strong>èŠ‚æµåº”ç”¨åœºæ™¯ï¼š</strong></p>
<p>1.æŒ‰é’®ç‚¹å‡»äº‹ä»¶</p>
<p>2.æ‹–æ‹½äº‹ä»¶</p>
<p>3.onScoll</p>
<p>4.è®¡ç®—é¼ æ ‡ç§»åŠ¨çš„è·ç¦»(mousemove)</p>
<h3 id="7-è¯´ä¸€è¯´ä½ å¯¹-JS-æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå’Œä½œç”¨åŸŸé“¾çš„ç†è§£ï¼Ÿ-2019-09-24"><a href="#7-è¯´ä¸€è¯´ä½ å¯¹-JS-æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå’Œä½œç”¨åŸŸé“¾çš„ç†è§£ï¼Ÿ-2019-09-24" class="headerlink" title="7. è¯´ä¸€è¯´ä½ å¯¹ JS æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå’Œä½œç”¨åŸŸé“¾çš„ç†è§£ï¼Ÿ(2019-09-24)"></a>7. è¯´ä¸€è¯´ä½ å¯¹ JS æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå’Œä½œç”¨åŸŸé“¾çš„ç†è§£ï¼Ÿ(2019-09-24)</h3><p><a target="_blank" rel="noopener" href="https://tc39.github.io/ecma262/?nsukey=rQHqMrFpKq6JJN//OeubPCslaSTSRyuc/XCznnIDze1SGzwva5SZtzixJ13p2gAlxua95Xa7fraZXwj5tyLRDK33+pNhyfKR/xyzhWNyB/qaIlsDGyQBckNoHQGPveOB24M+cK/gF8Tg1ehUGLWiCvumxdgcQwZOWj2BGfD3n/Y=#sec-execution-contexts">JS æ‰§è¡Œä¸Šä¸‹æ–‡</a></p>
<p>æ‰§è¡Œä¸Šä¸‹æ–‡å°±æ˜¯å½“å‰ JavaScript ä»£ç è¢«è§£æå’Œæ‰§è¡Œæ—¶æ‰€åœ¨ç¯å¢ƒçš„æŠ½è±¡æ¦‚å¿µï¼Œ JavaScript ä¸­è¿è¡Œä»»ä½•çš„ä»£ç éƒ½æ˜¯åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚</p>
<blockquote>
<p>æ‰§è¡Œä¸Šä¸‹æ–‡ç±»å‹åˆ†ä¸ºï¼š</p>
</blockquote>
<ul>
<li>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡</li>
<li>å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡</li>
<li>eval å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡(ä¸è¢«æ¨è)</li>
</ul>
<p>æ‰§è¡Œä¸Šä¸‹æ–‡åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åšä»¥ä¸‹å‡ ä»¶äº‹:</p>
<ol>
<li>åˆ›å»ºå˜é‡å¯¹è±¡ï¼šé¦–å…ˆåˆå§‹åŒ–å‡½æ•°çš„å‚æ•° argumentsï¼Œæå‡å‡½æ•°å£°æ˜å’Œå˜é‡å£°æ˜ã€‚</li>
<li>åˆ›å»ºä½œç”¨åŸŸé“¾ï¼ˆScope Chainï¼‰ï¼šåœ¨æ‰§è¡ŒæœŸä¸Šä¸‹æ–‡çš„åˆ›å»ºé˜¶æ®µï¼Œä½œç”¨åŸŸé“¾æ˜¯åœ¨å˜é‡å¯¹è±¡ä¹‹ååˆ›å»ºçš„ã€‚</li>
<li>ç¡®å®š this çš„å€¼ï¼Œå³ ResolveThisBinding</li>
</ol>
<p><strong>ä½œç”¨åŸŸ</strong></p>
<p><strong>ä½œç”¨åŸŸ</strong>è´Ÿè´£æ”¶é›†å’Œç»´æŠ¤ç”±æ‰€æœ‰å£°æ˜çš„æ ‡è¯†ç¬¦ï¼ˆå˜é‡ï¼‰ç»„æˆçš„ä¸€ç³»åˆ—æŸ¥è¯¢ï¼Œå¹¶å®æ–½ä¸€å¥—éå¸¸ä¸¥æ ¼çš„è§„åˆ™ï¼Œç¡®å®šå½“å‰æ‰§è¡Œçš„ä»£ç å¯¹è¿™äº›æ ‡è¯†ç¬¦çš„è®¿é—®æƒé™ã€‚â€”â€” æ‘˜å½•è‡ªã€Šä½ ä¸çŸ¥é“çš„ JavaScriptã€‹(ä¸Šå·)</p>
<p>ä½œç”¨åŸŸæœ‰ä¸¤ç§å·¥ä½œæ¨¡å‹ï¼šè¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸï¼ŒJS é‡‡ç”¨çš„æ˜¯<strong>è¯æ³•ä½œç”¨åŸŸ</strong>å·¥ä½œæ¨¡å‹ï¼Œè¯æ³•ä½œç”¨åŸŸæ„å‘³ç€ä½œç”¨åŸŸæ˜¯ç”±ä¹¦å†™ä»£ç æ—¶å˜é‡å’Œå‡½æ•°å£°æ˜çš„ä½ç½®å†³å®šçš„ã€‚(<code>with</code> å’Œ <code>eval</code> èƒ½å¤Ÿä¿®æ”¹è¯æ³•ä½œç”¨åŸŸï¼Œä½†æ˜¯ä¸æ¨èä½¿ç”¨ï¼Œå¯¹æ­¤ä¸åšç‰¹åˆ«è¯´æ˜)</p>
<blockquote>
<p>ä½œç”¨åŸŸåˆ†ä¸ºï¼š</p>
</blockquote>
<ul>
<li>å…¨å±€ä½œç”¨åŸŸ</li>
<li>å‡½æ•°ä½œç”¨åŸŸ</li>
<li>å—çº§ä½œç”¨åŸŸ</li>
</ul>
<p><strong>JS æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ(åé¢ç®€ç§°æ‰§è¡Œæ ˆ)</strong></p>
<p>æ‰§è¡Œæ ˆï¼Œä¹Ÿå«åšè°ƒç”¨æ ˆï¼Œå…·æœ‰ <strong>LIFO</strong> (åè¿›å…ˆå‡º) ç»“æ„ï¼Œç”¨äºå­˜å‚¨åœ¨ä»£ç æ‰§è¡ŒæœŸé—´åˆ›å»ºçš„æ‰€æœ‰æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p>
<blockquote>
<p>è§„åˆ™å¦‚ä¸‹ï¼š</p>
</blockquote>
<ul>
<li>é¦–æ¬¡è¿è¡Œ JavaScript ä»£ç çš„æ—¶å€™,ä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡Œçš„ä¸Šä¸‹æ–‡å¹¶ Push åˆ°å½“å‰çš„æ‰§è¡Œæ ˆä¸­ï¼Œæ¯å½“å‘ç”Ÿå‡½æ•°è°ƒç”¨ï¼Œå¼•æ“éƒ½ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶ Push å½“å‰æ‰§è¡Œæ ˆçš„æ ˆé¡¶ã€‚</li>
<li>å½“æ ˆé¡¶çš„å‡½æ•°è¿è¡Œå®Œæˆåï¼Œå…¶å¯¹åº”çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å°†ä¼šä»æ‰§è¡Œæ ˆä¸­ Pop å‡ºï¼Œä¸Šä¸‹æ–‡çš„æ§åˆ¶æƒå°†ç§»åŠ¨åˆ°å½“å‰æ‰§è¡Œæ ˆçš„ä¸‹ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</li>
</ul>
<p>ä»¥ä¸€æ®µä»£ç å…·ä½“è¯´æ˜ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun3</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;fun3&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  fun3();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  fun2();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun1();</span><br></pre></td></tr></table></figure>

<p><code>Global Execution Context</code> (å³å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡)é¦–å…ˆå…¥æ ˆï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="http://static.zxinc520.com/blog/20190925/KgyYmKIHz7fx.png?imageslim" alt="mark"></p>
<p><strong>ä½œç”¨åŸŸé“¾</strong></p>
<p>ä½œç”¨åŸŸé“¾å°±æ˜¯ä»å½“å‰ä½œç”¨åŸŸå¼€å§‹ä¸€å±‚ä¸€å±‚å‘ä¸Šå¯»æ‰¾æŸä¸ªå˜é‡ï¼Œç›´åˆ°æ‰¾åˆ°å…¨å±€ä½œç”¨åŸŸè¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼Œå°±å®£å¸ƒæ”¾å¼ƒã€‚è¿™ç§ä¸€å±‚ä¸€å±‚çš„å…³ç³»ï¼Œå°±æ˜¯ä½œç”¨åŸŸé“¾ã€‚</p>
<h3 id="8-ä»€ä¹ˆæ˜¯-BFCï¼ŸBFC-çš„å¸ƒå±€è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•åˆ›å»º-BFCï¼Ÿ-2019-09-25"><a href="#8-ä»€ä¹ˆæ˜¯-BFCï¼ŸBFC-çš„å¸ƒå±€è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•åˆ›å»º-BFCï¼Ÿ-2019-09-25" class="headerlink" title="8. ä»€ä¹ˆæ˜¯ BFCï¼ŸBFC çš„å¸ƒå±€è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•åˆ›å»º BFCï¼Ÿ(2019-09-25)"></a>8. ä»€ä¹ˆæ˜¯ BFCï¼ŸBFC çš„å¸ƒå±€è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•åˆ›å»º BFCï¼Ÿ(2019-09-25)</h3><blockquote>
<p>ä»€ä¹ˆæ˜¯ BFC</p>
<p>BFC æ˜¯ Block Formatting Context çš„ç¼©å†™ï¼Œå³å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ CSS2.1 è§„èŒƒä¸­å¯¹ BFC çš„è¯´æ˜</p>
<p>æµ®åŠ¨ã€ç»å¯¹å®šä½çš„å…ƒç´ ã€éå—çº§ç›’å­çš„å—å®¹å™¨ï¼ˆå¦‚ inline-blocksã€table-cells å’Œ table-captionsï¼‰ï¼Œä»¥åŠ<code>overflow</code>çš„å€¼ä¸ä¸º<code>visible</code>ï¼ˆè¯¥å€¼å·²ä¼ æ’­åˆ°è§†åŒºæ—¶é™¤å¤–ï¼‰ä¸ºå…¶å†…å®¹å»ºç«‹æ–°çš„å—æ ¼å¼ä¸Šä¸‹æ–‡ã€‚</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.w3.org/TR/2011/REC-CSS2-20110607/visuren.html#block-formatting">BFC å¸ƒå±€è§„åˆ™</a></p>
<ul>
<li>BFC å†…ï¼Œç›’å­ä¾æ¬¡å‚ç›´æ’åˆ—ã€‚</li>
<li>BFC å†…ï¼Œä¸¤ä¸ªç›’å­çš„å‚ç›´è·ç¦»ç”± <code>margin</code> å±æ€§å†³å®šã€‚å±äºåŒä¸€ä¸ª BFC çš„ä¸¤ä¸ªç›¸é‚» Box çš„ margin ä¼šå‘ç”Ÿé‡å ã€ç¬¦åˆåˆå¹¶åŸåˆ™çš„ margin åˆå¹¶åæ˜¯ä½¿ç”¨å¤§çš„ marginã€‘</li>
<li>BFC å†…ï¼Œæ¯ä¸ªç›’å­çš„å·¦å¤–è¾¹ç¼˜æ¥è§¦å†…éƒ¨ç›’å­çš„å·¦è¾¹ç¼˜ï¼ˆå¯¹äºä»å³åˆ°å·¦çš„æ ¼å¼ï¼Œå³è¾¹ç¼˜æ¥è§¦ï¼‰ã€‚å³ä½¿åœ¨å­˜åœ¨æµ®åŠ¨çš„æƒ…å†µä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚é™¤éåˆ›å»ºæ–°çš„ BFCã€‚</li>
<li>BFC çš„åŒºåŸŸä¸ä¼šä¸ float box é‡å ã€‚</li>
<li>BFC å°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚åä¹‹ä¹Ÿå¦‚æ­¤ã€‚</li>
<li>è®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—ã€‚</li>
</ul>
<p><strong>å¦‚ä½•åˆ›å»º BFC</strong></p>
<ul>
<li>æ ¹å…ƒç´ </li>
<li>æµ®åŠ¨å…ƒç´ ï¼ˆfloat å±æ€§ä¸ä¸º noneï¼‰</li>
<li>position ä¸º absolute æˆ– relative</li>
<li>overflow ä¸ä¸º visible çš„å—å…ƒç´ </li>
<li>display ä¸º inline-block, table-cell, table-caption</li>
</ul>
<p><strong>BFC çš„åº”ç”¨</strong></p>
<ol>
<li>é˜²æ­¢ margin é‡å </li>
</ol>
<p>æ ¹æ® BFC è§„åˆ™ï¼ŒåŒä¸€ä¸ª BFC å†…çš„ä¸¤ä¸ªä¸¤ä¸ªç›¸é‚» Box çš„ <code>margin</code> ä¼šå‘ç”Ÿé‡å ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ div å¤–é¢å†åµŒå¥—ä¸€å±‚å®¹å™¨ï¼Œå¹¶ä¸”è§¦å‘è¯¥å®¹å™¨ç”Ÿæˆä¸€ä¸ª BFCï¼Œè¿™æ · <code>&lt;div class=&quot;a&quot;&gt;&lt;/div&gt;</code> å°±ä¼šå±äºä¸¤ä¸ª BFCï¼Œè‡ªç„¶ä¹Ÿå°±ä¸ä¼šå†å‘ç”Ÿ <code>margin</code> é‡å </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.a</span>&#123;</span></span><br><span class="line">        height: 100px;</span><br><span class="line">        width: 100px;</span><br><span class="line">        margin: 50px;</span><br><span class="line">        background: pink;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.container</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">overflow</span>: <span class="selector-tag">auto</span>; <span class="comment">/*è§¦å‘ç”ŸæˆBFC*/</span></span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ¸…é™¤å†…éƒ¨æµ®åŠ¨</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="css">    <span class="selector-class">.a</span>&#123;</span></span><br><span class="line">        height: 100px;</span><br><span class="line">        width: 100px;</span><br><span class="line">        margin: 10px;</span><br><span class="line">        background: pink;</span><br><span class="line">        float: left;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.container</span>&#123;</span></span><br><span class="line">        width: 120px;</span><br><span class="line"><span class="css">        <span class="selector-tag">display</span>: <span class="selector-tag">inline-block</span>;<span class="comment">/*è§¦å‘ç”ŸæˆBFC*/</span></span></span><br><span class="line">        border: 2px solid black;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>container çš„é«˜åº¦æ²¡æœ‰è¢«æ’‘å¼€ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ› container çš„é«˜åº¦èƒ½å¤ŸåŒ…å«æµ®åŠ¨å…ƒç´ ï¼Œé‚£ä¹ˆå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ BFCï¼Œå› ä¸ºæ ¹æ® BFC çš„è§„åˆ™ï¼Œè®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—ã€‚</p>
<ol start="3">
<li>è‡ªé€‚åº”å¤šæ å¸ƒå±€</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    body&#123;</span><br><span class="line">        width: 500px;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.a</span>&#123;</span></span><br><span class="line">        height: 150px;</span><br><span class="line">        width: 100px;</span><br><span class="line">        background: pink;</span><br><span class="line">        float: left;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.b</span>&#123;</span></span><br><span class="line">        height: 200px;</span><br><span class="line"><span class="css">        <span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>; <span class="comment">/*è§¦å‘ç”ŸæˆBFC*/</span></span></span><br><span class="line">        background: blue;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;b&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190925/zIMIHi7uVOq6.png?imageslim" alt="mark"></p>
<blockquote>
<p>åŠ äº† <code>overflow: hidden;</code> è§¦å‘ç”Ÿæˆ BFC</p>
</blockquote>
<p><img src="http://static.zxinc520.com/blog/20190925/BFiWOckmwL9V.png?imageslim" alt="mark"></p>
<h3 id="9-letã€constã€var-çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ-2019-09-26"><a href="#9-letã€constã€var-çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ-2019-09-26" class="headerlink" title="9. letã€constã€var çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ(2019-09-26)"></a>9. letã€constã€var çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ(2019-09-26)</h3><p><img src="http://static.zxinc520.com/blog/20190926/0imlOVJDQTTd.png?imageslim" alt="mark"></p>
<ol>
<li>let/const å®šä¹‰çš„å˜é‡ä¸ä¼šå‡ºç°å˜é‡æå‡ï¼Œè€Œ var å®šä¹‰çš„å˜é‡ä¼šæå‡ã€‚</li>
<li>ç›¸åŒä½œç”¨åŸŸä¸­ï¼Œlet å’Œ const ä¸å…è®¸é‡å¤å£°æ˜ï¼Œvar å…è®¸é‡å¤å£°æ˜ã€‚</li>
<li>cosnt å£°æ˜å˜é‡æ—¶å¿…é¡»è®¾ç½®åˆå§‹å€¼</li>
<li>const å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ï¼Œè¿™ä¸ªå¸¸é‡ä¸å¯æ”¹å˜</li>
<li>let/const å£°æ˜çš„å˜é‡ä»…åœ¨å—çº§ä½œç”¨åŸŸä¸­æœ‰æ•ˆã€‚è€Œ var å£°æ˜çš„å˜é‡åœ¨å—çº§ä½œç”¨åŸŸå¤–ä»èƒ½è®¿é—®åˆ°ã€‚</li>
<li>é¡¶å±‚ä½œç”¨åŸŸä¸­ var å£°æ˜çš„å˜é‡æŒ‚åœ¨ window ä¸Š(æµè§ˆå™¨ç¯å¢ƒ)</li>
<li>let/const æœ‰æš‚æ—¶æ€§æ­»åŒºçš„é—®é¢˜ï¼Œå³ let/const å£°æ˜çš„å˜é‡ï¼Œåœ¨å®šä¹‰ä¹‹å‰éƒ½æ˜¯ä¸å¯ç”¨çš„ã€‚å¦‚æœä½¿ç”¨ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li>
</ol>
<h3 id="10-æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Ÿ-2019-09-27"><a href="#10-æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Ÿ-2019-09-27" class="headerlink" title="10. æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Ÿ(2019-09-27)"></a>10. æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Ÿ(2019-09-27)</h3><blockquote>
<p>æ·±æ‹·è´å’Œæµ…æ‹·è´æ˜¯é’ˆå¯¹å¤æ‚æ•°æ®ç±»å‹æ¥è¯´çš„ã€‚</p>
</blockquote>
<p><strong>æ·±æ‹·è´</strong></p>
<blockquote>
<p>æ·±æ‹·è´å¤åˆ¶å˜é‡å€¼ï¼Œå¯¹äºéåŸºæœ¬ç±»å‹çš„å˜é‡ï¼Œåˆ™é€’å½’è‡³åŸºæœ¬ç±»å‹å˜é‡åï¼Œå†å¤åˆ¶ã€‚ æ·±æ‹·è´åçš„å¯¹è±¡ä¸åŸæ¥çš„å¯¹è±¡æ˜¯å®Œå…¨éš”ç¦»çš„ï¼Œäº’ä¸å½±å“ï¼Œå¯¹ä¸€ä¸ªå¯¹è±¡çš„ä¿®æ”¹å¹¶ä¸ä¼šå½±å“å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>
</blockquote>
<p><strong>æµ…æ‹·è´</strong></p>
<blockquote>
<p>æµ…æ‹·è´æ˜¯ä¼šå°†å¯¹è±¡çš„æ¯ä¸ªå±æ€§è¿›è¡Œä¾æ¬¡å¤åˆ¶ï¼Œä½†æ˜¯å½“å¯¹è±¡çš„å±æ€§å€¼æ˜¯å¼•ç”¨ç±»å‹æ—¶ï¼Œå®è´¨å¤åˆ¶çš„æ˜¯å…¶å¼•ç”¨ï¼Œå½“å¼•ç”¨æŒ‡å‘çš„å€¼æ”¹å˜æ—¶ä¹Ÿä¼šè·Ÿç€å˜åŒ–ã€‚</p>
</blockquote>
<p>å¯ä»¥ä½¿ç”¨ <code>for in</code>ã€ <code>Object.assign</code>ã€ æ‰©å±•è¿ç®—ç¬¦ <code>...</code> ã€<code>Array.prototype.slice()</code>ã€<code>Array.prototype.concat()</code> ç­‰ï¼Œä¾‹å¦‚:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&quot;Yvette&quot;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  hobbies: [<span class="string">&quot;reading&quot;</span>, <span class="string">&quot;photography&quot;</span>],</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> obj2 = <span class="built_in">Object</span>.assign(&#123;&#125;, obj);</span><br><span class="line"><span class="keyword">let</span> obj3 = &#123; ...obj &#125;;</span><br><span class="line"></span><br><span class="line">obj.name = <span class="string">&quot;Jack&quot;</span>;</span><br><span class="line">obj.hobbies.push(<span class="string">&quot;coding&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj); <span class="comment">//&#123; name: &#x27;Jack&#x27;, age: 18,hobbies: [ &#x27;reading&#x27;, &#x27;photography&#x27;, &#x27;coding&#x27; ] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2); <span class="comment">//&#123; name: &#x27;Yvette&#x27;, age: 18,hobbies: [ &#x27;reading&#x27;, &#x27;photography&#x27;, &#x27;coding&#x27; ] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj3); <span class="comment">//&#123; name: &#x27;Yvette&#x27;, age: 18,hobbies: [ &#x27;reading&#x27;, &#x27;photography&#x27;, &#x27;coding&#x27; ] &#125;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºæµ…æ‹·è´åªæœ€ç¬¬ä¸€å±‚å±æ€§è¿›è¡Œäº†æ‹·è´ï¼Œå½“ç¬¬ä¸€å±‚çš„å±æ€§å€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œæ–°çš„å¯¹è±¡å’ŒåŸå¯¹è±¡äº’ä¸å½±å“ï¼Œä½†æ˜¯å¦‚æœç¬¬ä¸€å±‚çš„å±æ€§å€¼æ˜¯å¤æ‚æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆæ–°å¯¹è±¡å’ŒåŸå¯¹è±¡çš„å±æ€§å€¼å…¶æŒ‡å‘çš„æ˜¯åŒä¸€å—å†…å­˜åœ°å€ã€‚æ¥çœ‹ä¸€ä¸‹ä½¿ç”¨ <code>for in</code> å®ç°æµ…æ‹·è´ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&quot;Yvette&quot;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  hobbies: [<span class="string">&quot;reading&quot;</span>, <span class="string">&quot;photography&quot;</span>],</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> newObj = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  newObj[key] = obj[key];</span><br><span class="line">  <span class="comment">//è¿™ä¸€æ­¥ä¸éœ€è¦å¤šè¯´å§ï¼Œå¤æ‚æ•°æ®ç±»å‹æ ˆä¸­å­˜çš„æ˜¯å¯¹åº”çš„åœ°å€ï¼Œå› æ­¤èµ‹å€¼æ“ä½œï¼Œç›¸å½“äºä¸¤ä¸ªå±æ€§å€¼æŒ‡å‘åŒä¸€ä¸ªå†…å­˜ç©ºé—´</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(newObj);</span><br><span class="line"><span class="comment">//&#123; name: &#x27;Yvette&#x27;, age: 18, hobbies: [ &#x27;reading&#x27;, &#x27;photography&#x27; ] &#125;</span></span><br><span class="line">obj.age = <span class="number">20</span>;</span><br><span class="line">obj.hobbies.pop();</span><br><span class="line"><span class="built_in">console</span>.log(newObj);</span><br><span class="line"><span class="comment">//&#123; name: &#x27;Yvette&#x27;, age: 18, hobbies: [ &#x27;reading&#x27; ] &#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ·±æ‹·è´å®ç°</strong></p>
<blockquote>
<p>æ·±æ‹·è´æœ€ç®€å•çš„å®ç°æ˜¯: <code>JSON.parse(JSON.stringify(obj))</code></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&quot;Yvette&quot;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  hobbies: [<span class="string">&quot;reading&quot;</span>, <span class="string">&quot;photography&quot;</span>],</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> newObj = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj)); <span class="comment">//newObjå’Œobjäº’ä¸å½±å“</span></span><br><span class="line">obj.hobbies.push(<span class="string">&quot;coding&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newObj); <span class="comment">//&#123; name: &#x27;Yvette&#x27;, age: 18, hobbies: [ &#x27;reading&#x27;, &#x27;photography&#x27; ] &#125;</span></span><br></pre></td></tr></table></figure>

<p><code>JSON.parse(JSON.stringify(obj))</code> æ˜¯æœ€ç®€å•çš„å®ç°æ–¹å¼ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ç¼ºé™·ï¼š</p>
<ol>
<li>å¯¹è±¡çš„å±æ€§å€¼æ˜¯å‡½æ•°æ—¶ï¼Œæ— æ³•æ‹·è´ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&quot;Yvette&quot;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  hobbies: [<span class="string">&quot;reading&quot;</span>, <span class="string">&quot;photography&quot;</span>],</span><br><span class="line">  sayHi: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(sayHi);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> newObj = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj));</span><br><span class="line"><span class="built_in">console</span>.log(newObj); <span class="comment">//&#123; name: &#x27;Yvette&#x27;, age: 18, hobbies: [ &#x27;reading&#x27;, &#x27;photography&#x27; ] &#125;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åŸå‹é“¾ä¸Šçš„å±æ€§æ— æ³•è·å–</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Super</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">Super.prototype.location = <span class="string">&quot;NanJing&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">name, age, hobbies</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">Child.prototype = <span class="keyword">new</span> Super();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> Child(<span class="string">&quot;Yvette&quot;</span>, <span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj.location); <span class="comment">//NanJing</span></span><br><span class="line"><span class="keyword">let</span> newObj = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj));</span><br><span class="line"><span class="built_in">console</span>.log(newObj); <span class="comment">//&#123; name: &#x27;Yvette&#x27;, age: 18&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(newObj.location); <span class="comment">//undefined;åŸå‹é“¾ä¸Šçš„å±æ€§æ— æ³•è·å–</span></span><br></pre></td></tr></table></figure>

<p>3.ä¸èƒ½æ­£ç¡®çš„å¤„ç† Date ç±»å‹çš„æ•°æ®</p>
<p>4.ä¸èƒ½å¤„ç† RegExp</p>
<p>5.ä¼šå¿½ç•¥ symbol</p>
<p>6.ä¼šå¿½ç•¥ undefined</p>
<blockquote>
<p>2.å®ç°ä¸€ä¸ª deepClone å‡½æ•°</p>
</blockquote>
<ol>
<li>å¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œç›´æ¥è¿”å›</li>
<li>å¦‚æœæ˜¯ <code>RegExp</code> æˆ–è€… <code>Date</code> ç±»å‹ï¼Œè¿”å›å¯¹åº”ç±»å‹</li>
<li>å¦‚æœæ˜¯å¤æ‚æ•°æ®ç±»å‹ï¼Œé€’å½’ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//é€’å½’æ‹·è´</span></span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="built_in">RegExp</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">RegExp</span>(obj);</span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="built_in">Date</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(obj);</span><br><span class="line">  <span class="keyword">if</span> (obj === <span class="literal">null</span> || <span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span>) &#123;</span><br><span class="line">    <span class="comment">//å¦‚æœä¸æ˜¯å¤æ‚æ•°æ®ç±»å‹ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å¦‚æœobjæ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆ obj.constructor æ˜¯ [Function: Array]</span></span><br><span class="line"><span class="comment">   * å¦‚æœobjæ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆ obj.constructor æ˜¯ [Function: Object]</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">let</span> t = <span class="keyword">new</span> obj.constructor();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="comment">//å¦‚æœ obj[key] æ˜¯å¤æ‚æ•°æ®ç±»å‹ï¼Œé€’å½’</span></span><br><span class="line">    <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">      <span class="comment">//æ˜¯å¦æ˜¯è‡ªèº«çš„å±æ€§</span></span><br><span class="line">      t[key] = deepClone(obj[key]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Super</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">Super.prototype.location = <span class="string">&quot;NanJing&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">name, age, hobbies</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.hobbies = hobbies;</span><br><span class="line">&#125;</span><br><span class="line">Child.prototype = <span class="keyword">new</span> Super();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> Child(<span class="string">&quot;Yvette&quot;</span>, <span class="number">18</span>, [<span class="string">&quot;reading&quot;</span>, <span class="string">&quot;photography&quot;</span>]);</span><br><span class="line">obj.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;hi&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj.location); <span class="comment">//NanJing</span></span><br><span class="line"><span class="keyword">let</span> newObj = deepClone(obj);</span><br><span class="line"><span class="built_in">console</span>.log(newObj); <span class="comment">//</span></span><br><span class="line"><span class="built_in">console</span>.log(newObj.location); <span class="comment">//NanJing å¯ä»¥è·å–åˆ°åŸå‹é“¾ä¸Šçš„å±æ€§</span></span><br><span class="line">newObj.sayHi(); <span class="comment">//hi å‡½æ•°å±æ€§æ‹·è´æ­£å¸¸</span></span><br></pre></td></tr></table></figure>

<h2 id="ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-03"><a href="#ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-03" class="headerlink" title="ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 03"></a>ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 03</h2><blockquote>
<p>æœ¬å‘¨é¢è¯•é¢˜ä¸€è§ˆ:</p>
</blockquote>
<ul>
<li>ä»€ä¹ˆæ˜¯ XSS æ”»å‡»ï¼ŒXSS æ”»å‡»å¯ä»¥åˆ†ä¸ºå“ªå‡ ç±»ï¼Ÿæˆ‘ä»¬å¦‚ä½•é˜²èŒƒ XSS æ”»å‡»ï¼Ÿ</li>
<li>å¦‚ä½•éšè—é¡µé¢ä¸­çš„æŸä¸ªå…ƒç´ ï¼Ÿ</li>
<li>æµè§ˆå™¨äº‹ä»¶ä»£ç†æœºåˆ¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>setTimeout å€’è®¡æ—¶ä¸ºä»€ä¹ˆä¼šå‡ºç°è¯¯å·®ï¼Ÿ</li>
</ul>
<h3 id="11-ä»€ä¹ˆæ˜¯-XSS-æ”»å‡»ï¼ŒXSS-æ”»å‡»å¯ä»¥åˆ†ä¸ºå“ªå‡ ç±»ï¼Ÿæˆ‘ä»¬å¦‚ä½•é˜²èŒƒ-XSS-æ”»å‡»ï¼Ÿï¼ˆ2019-09-28ï¼‰"><a href="#11-ä»€ä¹ˆæ˜¯-XSS-æ”»å‡»ï¼ŒXSS-æ”»å‡»å¯ä»¥åˆ†ä¸ºå“ªå‡ ç±»ï¼Ÿæˆ‘ä»¬å¦‚ä½•é˜²èŒƒ-XSS-æ”»å‡»ï¼Ÿï¼ˆ2019-09-28ï¼‰" class="headerlink" title="11. ä»€ä¹ˆæ˜¯ XSS æ”»å‡»ï¼ŒXSS æ”»å‡»å¯ä»¥åˆ†ä¸ºå“ªå‡ ç±»ï¼Ÿæˆ‘ä»¬å¦‚ä½•é˜²èŒƒ XSS æ”»å‡»ï¼Ÿï¼ˆ2019-09-28ï¼‰"></a>11. ä»€ä¹ˆæ˜¯ XSS æ”»å‡»ï¼ŒXSS æ”»å‡»å¯ä»¥åˆ†ä¸ºå“ªå‡ ç±»ï¼Ÿæˆ‘ä»¬å¦‚ä½•é˜²èŒƒ XSS æ”»å‡»ï¼Ÿï¼ˆ2019-09-28ï¼‰</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Blog/issues/33">æºåœ°å€</a></p>
</blockquote>
<p><strong>1. XSS æ”»å‡»</strong></p>
<p>XSS(Cross-Site Scriptingï¼Œè·¨ç«™è„šæœ¬æ”»å‡»)æ˜¯ä¸€ç§ä»£ç æ³¨å…¥æ”»å‡»ã€‚æ”»å‡»è€…åœ¨ç›®æ ‡ç½‘ç«™ä¸Šæ³¨å…¥æ¶æ„ä»£ç ï¼Œå½“è¢«æ”»å‡»è€…ç™»é™†ç½‘ç«™æ—¶å°±ä¼šæ‰§è¡Œè¿™äº›æ¶æ„ä»£ç ï¼Œè¿™äº›è„šæœ¬å¯ä»¥è¯»å– cookieï¼Œsession tokensï¼Œæˆ–è€…å…¶å®ƒæ•æ„Ÿçš„ç½‘ç«™ä¿¡æ¯ï¼Œå¯¹ç”¨æˆ·è¿›è¡Œé’“é±¼æ¬ºè¯ˆï¼Œç”šè‡³å‘èµ·è •è™«æ”»å‡»ç­‰ã€‚</p>
<p>XSS çš„æœ¬è´¨æ˜¯ï¼šæ¶æ„ä»£ç æœªç»è¿‡æ»¤ï¼Œä¸ç½‘ç«™æ­£å¸¸çš„ä»£ç æ··åœ¨ä¸€èµ·ï¼›æµè§ˆå™¨æ— æ³•åˆ†è¾¨å“ªäº›è„šæœ¬æ˜¯å¯ä¿¡çš„ï¼Œå¯¼è‡´æ¶æ„è„šæœ¬è¢«æ‰§è¡Œã€‚ç”±äºç›´æ¥åœ¨ç”¨æˆ·çš„ç»ˆç«¯æ‰§è¡Œï¼Œæ¶æ„ä»£ç èƒ½å¤Ÿç›´æ¥è·å–ç”¨æˆ·çš„ä¿¡æ¯ï¼Œåˆ©ç”¨è¿™äº›ä¿¡æ¯å†’å……ç”¨æˆ·å‘ç½‘ç«™å‘èµ·æ”»å‡»è€…å®šä¹‰çš„è¯·æ±‚ã€‚</p>
<p><strong>XSS åˆ†ç±»</strong></p>
<p>æ ¹æ®æ”»å‡»çš„æ¥æºï¼ŒXSS æ”»å‡»å¯ä»¥åˆ†ä¸ºå­˜å‚¨å‹(æŒä¹…æ€§)ã€åå°„å‹(éæŒä¹…å‹)å’Œ DOM å‹ä¸‰ç§ã€‚ä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†äº†è§£ä¸€ä¸‹è¿™ä¸‰ç§ XSS æ”»å‡»ï¼š</p>
<blockquote>
<p>1.1 åå°„å‹ XSS</p>
</blockquote>
<p>å½“ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªæ¶æ„é“¾æ¥ï¼Œæˆ–è€…æäº¤ä¸€ä¸ªè¡¨å•ï¼Œæˆ–è€…è¿›å…¥ä¸€ä¸ªæ¶æ„ç½‘ç«™æ—¶ï¼Œæ³¨å…¥è„šæœ¬è¿›å…¥è¢«æ”»å‡»è€…çš„ç½‘ç«™ã€‚Web æœåŠ¡å™¨å°†æ³¨å…¥è„šæœ¬ï¼Œæ¯”å¦‚ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼Œæœç´¢ç»“æœç­‰ï¼Œæœªè¿›è¡Œè¿‡æ»¤ç›´æ¥è¿”å›åˆ°ç”¨æˆ·çš„æµè§ˆå™¨ä¸Šã€‚</p>
<blockquote>
<p>åå°„å‹ XSS çš„æ”»å‡»æ­¥éª¤ï¼š</p>
</blockquote>
<ol>
<li>æ”»å‡»è€…æ„é€ å‡ºç‰¹æ®Šçš„ <code>URL</code>ï¼Œå…¶ä¸­åŒ…å«æ¶æ„ä»£ç ã€‚</li>
<li>ç”¨æˆ·æ‰“å¼€å¸¦æœ‰æ¶æ„ä»£ç çš„ <code>URL</code> æ—¶ï¼Œç½‘ç«™æœåŠ¡ç«¯å°†æ¶æ„ä»£ç ä» <code>URL</code> ä¸­å–å‡ºï¼Œæ‹¼æ¥åœ¨ HTML ä¸­è¿”å›ç»™æµè§ˆå™¨ã€‚</li>
<li>ç”¨æˆ·æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åè§£ææ‰§è¡Œï¼Œæ··åœ¨å…¶ä¸­çš„æ¶æ„ä»£ç ä¹Ÿè¢«æ‰§è¡Œã€‚</li>
<li>æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œã€‚</li>
</ol>
<p>åå°„å‹ XSS æ¼æ´å¸¸è§äºé€šè¿‡ <code>URL</code> ä¼ é€’å‚æ•°çš„åŠŸèƒ½ï¼Œå¦‚ç½‘ç«™æœç´¢ã€è·³è½¬ç­‰ã€‚ç”±äºéœ€è¦ç”¨æˆ·ä¸»åŠ¨æ‰“å¼€æ¶æ„çš„ <code>URL</code> æ‰èƒ½ç”Ÿæ•ˆï¼Œæ”»å‡»è€…å¾€å¾€ä¼šç»“åˆå¤šç§æ‰‹æ®µè¯±å¯¼ç”¨æˆ·ç‚¹å‡»ã€‚</p>
<p>POST çš„å†…å®¹ä¹Ÿå¯ä»¥è§¦å‘åå°„å‹ XSSï¼Œåªä¸è¿‡å…¶è§¦å‘æ¡ä»¶æ¯”è¾ƒè‹›åˆ»ï¼ˆéœ€è¦æ„é€ è¡¨å•æäº¤é¡µé¢ï¼Œå¹¶å¼•å¯¼ç”¨æˆ·ç‚¹å‡»ï¼‰ï¼Œæ‰€ä»¥éå¸¸å°‘è§ã€‚</p>
<p>å¦‚æœä¸å¸Œæœ›è¢«å‰ç«¯æ‹¿åˆ° cookieï¼Œåç«¯å¯ä»¥è®¾ç½® <code>httpOnly</code> (ä¸è¿‡è¿™ä¸æ˜¯ <code>XSSæ”»å‡»</code> çš„è§£å†³æ–¹æ¡ˆï¼Œåªèƒ½é™ä½å—æŸèŒƒå›´)</p>
<blockquote>
<p>å¦‚ä½•é˜²èŒƒåå°„å‹ XSS æ”»å‡»</p>
</blockquote>
<p><strong>å¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç ã€‚</strong></p>
<p>å¯¹ url çš„æŸ¥è¯¢å‚æ•°è¿›è¡Œè½¬ä¹‰åå†è¾“å‡ºåˆ°é¡µé¢</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">&quot;/welcome&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//å¯¹æŸ¥è¯¢å‚æ•°è¿›è¡Œç¼–ç ï¼Œé¿å…åå°„å‹ XSSæ”»å‡»</span></span><br><span class="line">  res.send(<span class="string">`<span class="subst">$&#123;<span class="built_in">encodeURIComponent</span>(req.query.type)&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>1.2 DOM å‹ XSS</p>
</blockquote>
<p>DOM å‹ XSS æ”»å‡»ï¼Œå®é™…ä¸Šå°±æ˜¯å‰ç«¯ <code>JavaScript</code> ä»£ç ä¸å¤Ÿä¸¥è°¨ï¼ŒæŠŠä¸å¯ä¿¡çš„å†…å®¹æ’å…¥åˆ°äº†é¡µé¢ã€‚åœ¨ä½¿ç”¨ <code>.innerHTML</code>ã€<code>.outerHTML</code>ã€<code>.appendChild</code>ã€<code>document.write()</code>ç­‰ API æ—¶è¦ç‰¹åˆ«å°å¿ƒï¼Œä¸è¦æŠŠä¸å¯ä¿¡çš„æ•°æ®ä½œä¸º HTML æ’åˆ°é¡µé¢ä¸Šï¼Œå°½é‡ä½¿ç”¨ <code>.innerText</code>ã€<code>.textContent</code>ã€<code>.setAttribute()</code> ç­‰ã€‚</p>
<blockquote>
<p>DOM å‹ XSS çš„æ”»å‡»æ­¥éª¤ï¼š</p>
</blockquote>
<ol>
<li>æ”»å‡»è€…æ„é€ å‡ºç‰¹æ®Šæ•°æ®ï¼Œå…¶ä¸­åŒ…å«æ¶æ„ä»£ç ã€‚</li>
<li>ç”¨æˆ·æµè§ˆå™¨æ‰§è¡Œäº†æ¶æ„ä»£ç ã€‚</li>
<li>æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œã€‚</li>
</ol>
<blockquote>
<p>å¦‚ä½•é˜²èŒƒ DOM å‹ XSS æ”»å‡»</p>
</blockquote>
<p>é˜²èŒƒ DOM å‹ XSS æ”»å‡»çš„æ ¸å¿ƒå°±æ˜¯å¯¹è¾“å…¥å†…å®¹è¿›è¡Œè½¬ä¹‰(DOM ä¸­çš„å†…è”äº‹ä»¶ç›‘å¬å™¨å’Œé“¾æ¥è·³è½¬éƒ½èƒ½æŠŠå­—ç¬¦ä¸²ä½œä¸ºä»£ç è¿è¡Œï¼Œéœ€è¦å¯¹å…¶å†…å®¹è¿›è¡Œæ£€æŸ¥)ã€‚</p>
<p>1.å¯¹äº<code>url</code>é“¾æ¥(ä¾‹å¦‚å›¾ç‰‡çš„<code>src</code>å±æ€§)ï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨ <code>encodeURIComponent</code> æ¥è½¬ä¹‰ã€‚</p>
<p>2.é<code>url</code>ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è¿›è¡Œç¼–ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">encodeHtml</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> str</span><br><span class="line">    .replace(<span class="regexp">/&quot;/g</span>, <span class="string">&quot;&amp;quot;&quot;</span>)</span><br><span class="line">    .replace(<span class="regexp">/&#x27;/g</span>, <span class="string">&quot;&amp;apos;&quot;</span>)</span><br><span class="line">    .replace(<span class="regexp">/&lt;/g</span>, <span class="string">&quot;&amp;lt;&quot;</span>)</span><br><span class="line">    .replace(<span class="regexp">/&gt;/g</span>, <span class="string">&quot;&amp;gt;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>DOM å‹ XSS æ”»å‡»ä¸­ï¼Œå–å‡ºå’Œæ‰§è¡Œæ¶æ„ä»£ç ç”±æµè§ˆå™¨ç«¯å®Œæˆï¼Œå±äºå‰ç«¯ JavaScript è‡ªèº«çš„å®‰å…¨æ¼æ´ã€‚</p>
<blockquote>
<p>1.3 å­˜å‚¨å‹ XSS</p>
</blockquote>
<p>æ¶æ„è„šæœ¬æ°¸ä¹…å­˜å‚¨åœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šã€‚å½“æµè§ˆå™¨è¯·æ±‚æ•°æ®æ—¶ï¼Œè„šæœ¬ä»æœåŠ¡å™¨ä¼ å›å¹¶æ‰§è¡Œï¼Œå½±å“èŒƒå›´æ¯”åå°„å‹å’Œ DOM å‹ XSS æ›´å¤§ã€‚å­˜å‚¨å‹ XSS æ”»å‡»çš„åŸå› ä»ç„¶æ˜¯æ²¡æœ‰åšå¥½æ•°æ®è¿‡æ»¤ï¼šå‰ç«¯æäº¤æ•°æ®è‡³æœåŠ¡ç«¯æ—¶ï¼Œæ²¡æœ‰åšå¥½è¿‡æ»¤ï¼›æœåŠ¡ç«¯åœ¨æ¥å—åˆ°æ•°æ®æ—¶ï¼Œåœ¨å­˜å‚¨ä¹‹å‰ï¼Œæ²¡æœ‰åšè¿‡æ»¤ï¼›å‰ç«¯ä»æœåŠ¡ç«¯è¯·æ±‚åˆ°æ•°æ®ï¼Œæ²¡æœ‰è¿‡æ»¤è¾“å‡º</p>
<blockquote>
<p>å­˜å‚¨å‹ XSS çš„æ”»å‡»æ­¥éª¤ï¼š</p>
</blockquote>
<ol>
<li>æ”»å‡»è€…å°†æ¶æ„ä»£ç æäº¤åˆ°ç›®æ ‡ç½‘ç«™çš„æ•°æ®åº“ä¸­ã€‚</li>
<li>ç”¨æˆ·æ‰“å¼€ç›®æ ‡ç½‘ç«™æ—¶ï¼Œç½‘ç«™æœåŠ¡ç«¯å°†æ¶æ„ä»£ç ä»æ•°æ®åº“å–å‡ºï¼Œæ‹¼æ¥åœ¨ HTML ä¸­è¿”å›ç»™æµè§ˆå™¨ã€‚</li>
<li>ç”¨æˆ·æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åè§£ææ‰§è¡Œï¼Œæ··åœ¨å…¶ä¸­çš„æ¶æ„ä»£ç ä¹Ÿè¢«æ‰§è¡Œã€‚</li>
<li>æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œ</li>
</ol>
<p>è¿™ç§æ”»å‡»å¸¸è§äºå¸¦æœ‰ç”¨æˆ·ä¿å­˜æ•°æ®çš„ç½‘ç«™åŠŸèƒ½ï¼Œå¦‚è®ºå›å‘å¸–ã€å•†å“è¯„è®ºã€ç”¨æˆ·ç§ä¿¡ç­‰ã€‚</p>
<blockquote>
<p>å¦‚ä½•é˜²èŒƒå­˜å‚¨å‹ XSS æ”»å‡»ï¼š</p>
</blockquote>
<ol>
<li>å‰ç«¯æ•°æ®ä¼ é€’ç»™æœåŠ¡å™¨ä¹‹å‰ï¼Œå…ˆè½¬ä¹‰/è¿‡æ»¤(é˜²èŒƒä¸äº†æŠ“åŒ…ä¿®æ”¹æ•°æ®çš„æƒ…å†µ)</li>
<li>æœåŠ¡å™¨æ¥æ”¶åˆ°æ•°æ®ï¼Œåœ¨å­˜å‚¨åˆ°æ•°æ®åº“ä¹‹å‰ï¼Œè¿›è¡Œè½¬ä¹‰/è¿‡æ»¤</li>
<li>å‰ç«¯æ¥æ”¶åˆ°æœåŠ¡å™¨ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Œåœ¨å±•ç¤ºåˆ°é¡µé¢å‰ï¼Œå…ˆè¿›è¡Œè½¬ä¹‰/è¿‡æ»¤</li>
</ol>
<p><strong>é™¤äº†è°¨æ…çš„è½¬ä¹‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å…¶ä»–ä¸€äº›æ‰‹æ®µæ¥é˜²èŒƒ XSS æ”»å‡»:</strong></p>
<p><strong>1.Content Security Policy</strong></p>
<p>åœ¨æœåŠ¡ç«¯ä½¿ç”¨ HTTP çš„ <code>Content-Security-Policy</code> å¤´éƒ¨æ¥æŒ‡å®šç­–ç•¥ï¼Œæˆ–è€…åœ¨å‰ç«¯è®¾ç½® <code>meta</code> æ ‡ç­¾ã€‚</p>
<p>ä¾‹å¦‚ä¸‹é¢çš„é…ç½®åªå…è®¸åŠ è½½åŒåŸŸä¸‹çš„èµ„æºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Security-Policy: <span class="keyword">default</span>-src <span class="string">&#x27;self&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Security-Policy&quot;</span> <span class="attr">content</span>=<span class="string">&quot;form-action &#x27;self&#x27;;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‰ç«¯å’ŒæœåŠ¡ç«¯è®¾ç½® CSP çš„æ•ˆæœç›¸åŒï¼Œä½†æ˜¯<code>meta</code>æ— æ³•ä½¿ç”¨<code>report</code></p>
<p>ä¸¥æ ¼çš„ CSP åœ¨ XSS çš„é˜²èŒƒä¸­å¯ä»¥èµ·åˆ°ä»¥ä¸‹çš„ä½œç”¨ï¼š</p>
<ol>
<li>ç¦æ­¢åŠ è½½å¤–åŸŸä»£ç ï¼Œé˜²æ­¢å¤æ‚çš„æ”»å‡»é€»è¾‘ã€‚</li>
<li>ç¦æ­¢å¤–åŸŸæäº¤ï¼Œç½‘ç«™è¢«æ”»å‡»åï¼Œç”¨æˆ·çš„æ•°æ®ä¸ä¼šæ³„éœ²åˆ°å¤–åŸŸã€‚</li>
<li>ç¦æ­¢å†…è”è„šæœ¬æ‰§è¡Œï¼ˆè§„åˆ™è¾ƒä¸¥æ ¼ï¼Œç›®å‰å‘ç° GitHub ä½¿ç”¨ï¼‰ã€‚</li>
<li>ç¦æ­¢æœªæˆæƒçš„è„šæœ¬æ‰§è¡Œï¼ˆæ–°ç‰¹æ€§ï¼ŒGoogle Map ç§»åŠ¨ç‰ˆåœ¨ä½¿ç”¨ï¼‰ã€‚</li>
<li>åˆç†ä½¿ç”¨ä¸ŠæŠ¥å¯ä»¥åŠæ—¶å‘ç° XSSï¼Œåˆ©äºå°½å¿«ä¿®å¤é—®é¢˜ã€‚</li>
</ol>
<p><strong>2.è¾“å…¥å†…å®¹é•¿åº¦æ§åˆ¶</strong></p>
<p>å¯¹äºä¸å—ä¿¡ä»»çš„è¾“å…¥ï¼Œéƒ½åº”è¯¥é™å®šä¸€ä¸ªåˆç†çš„é•¿åº¦ã€‚è™½ç„¶æ— æ³•å®Œå…¨é˜²æ­¢ XSS å‘ç”Ÿï¼Œä½†å¯ä»¥å¢åŠ  XSS æ”»å‡»çš„éš¾åº¦ã€‚</p>
<p><strong>3.è¾“å…¥å†…å®¹é™åˆ¶</strong></p>
<p>å¯¹äºéƒ¨åˆ†è¾“å…¥ï¼Œå¯ä»¥é™å®šä¸èƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦æˆ–è€…ä»…èƒ½è¾“å…¥æ•°å­—ç­‰ã€‚</p>
<p><strong>4.å…¶ä»–å®‰å…¨æªæ–½</strong></p>
<ul>
<li>HTTP-only Cookie: ç¦æ­¢ JavaScript è¯»å–æŸäº›æ•æ„Ÿ Cookieï¼Œæ”»å‡»è€…å®Œæˆ XSS æ³¨å…¥åä¹Ÿæ— æ³•çªƒå–æ­¤ Cookieã€‚</li>
<li>éªŒè¯ç ï¼šé˜²æ­¢è„šæœ¬å†’å……ç”¨æˆ·æäº¤å±é™©æ“ä½œã€‚</li>
</ul>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Step-By-Step/issues/18">ç‚¹å‡»æŸ¥çœ‹æ›´å¤š</a></p>
</blockquote>
<h3 id="12-å¦‚ä½•éšè—é¡µé¢ä¸­çš„æŸä¸ªå…ƒç´ ï¼Ÿï¼ˆ2019-09-29ï¼‰"><a href="#12-å¦‚ä½•éšè—é¡µé¢ä¸­çš„æŸä¸ªå…ƒç´ ï¼Ÿï¼ˆ2019-09-29ï¼‰" class="headerlink" title="12.å¦‚ä½•éšè—é¡µé¢ä¸­çš„æŸä¸ªå…ƒç´ ï¼Ÿï¼ˆ2019-09-29ï¼‰"></a>12.å¦‚ä½•éšè—é¡µé¢ä¸­çš„æŸä¸ªå…ƒç´ ï¼Ÿï¼ˆ2019-09-29ï¼‰</h3><p><strong>éšè—ç±»å‹ï¼š</strong></p>
<p>å±å¹•å¹¶ä¸æ˜¯å”¯ä¸€çš„è¾“å‡ºæœºåˆ¶ï¼Œæ¯”å¦‚è¯´å±å¹•ä¸Šçœ‹ä¸è§çš„å…ƒç´ ï¼ˆéšè—çš„å…ƒç´ ï¼‰ï¼Œå…¶ä¸­ä¸€äº›ä¾ç„¶èƒ½å¤Ÿè¢«è¯»å±è½¯ä»¶é˜…è¯»å‡ºæ¥ï¼ˆå› ä¸ºè¯»å±è½¯ä»¶ä¾èµ–äºå¯è®¿é—®æ€§æ ‘æ¥é˜è¿°ï¼‰ã€‚ä¸ºäº†æ¶ˆé™¤å®ƒä»¬ä¹‹é—´çš„æ­§ä¹‰ï¼Œæˆ‘ä»¬å°†å…¶å½’ä¸ºä¸‰å¤§ç±»ï¼š</p>
<ul>
<li>å®Œå…¨éšè—ï¼šå…ƒç´ ä»æ¸²æŸ“æ ‘ä¸­æ¶ˆå¤±ï¼Œä¸å æ®ç©ºé—´ã€‚</li>
<li>è§†è§‰ä¸Šçš„éšè—ï¼šå±å¹•ä¸­ä¸å¯è§ï¼Œå æ®ç©ºé—´ã€‚</li>
<li>è¯­ä¹‰ä¸Šçš„éšè—ï¼šè¯»å±è½¯ä»¶ä¸å¯è¯»ï¼Œä½†æ­£å¸¸å æ®ç©ºã€‚</li>
</ul>
<p>å®Œå…¨éšè—ï¼š</p>
<ol>
<li><code>display</code> å±æ€§(ä¸å æ®ç©ºé—´)</li>
</ol>
<p>HTML5 æ–°å¢å±æ€§ï¼Œç›¸å½“äº <code>display: none</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">hidden</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>hidden å±æ€§ (ä¸å æ®ç©ºé—´)</li>
</ol>
<p>è§†è§‰ä¸Šçš„éšè—ï¼š</p>
<p><strong>åˆ©ç”¨ <code>position</code> å’Œ ç›’æ¨¡å‹ å°†å…ƒç´ ç§»å‡ºå¯è§†åŒºèŒƒå›´</strong></p>
<ol>
<li><p>è®¾ç½® <code>posoition</code> ä¸º <code>absolute</code> æˆ– <code>fixed</code>ï¼Œï¿½ é€šè¿‡è®¾ç½® <code>top</code>ã€<code>left</code> ç­‰å€¼ï¼Œå°†å…¶ç§»å‡ºå¯è§†åŒºåŸŸã€‚(å¯è§†åŒºåŸŸä¸å ä½)</p>
</li>
<li><p>è®¾ç½® <code>position</code> ä¸º <code>relative</code>ï¼Œé€šè¿‡è®¾ç½® <code>top</code>ã€<code>left</code> ç­‰å€¼ï¼Œå°†å…¶ç§»å‡ºå¯è§†åŒºåŸŸã€‚ï¼ˆå¯è§†åŒºåŸŸå ä½ï¼‰ï¼›å¦‚å¸Œæœ›å…¶åœ¨å¯è§†åŒºåŸŸä¸å ä½ç½®ï¼Œéœ€åŒæ—¶è®¾ç½® <code>height: 0</code>;</p>
</li>
<li><p>è®¾ç½® margin å€¼ï¼Œå°†å…¶ç§»å‡ºå¯è§†åŒºåŸŸèŒƒå›´ï¼ˆå¯è§†åŒºåŸŸå ä½ï¼‰ï¼›å¦‚æœå¸Œæœ›å…¶åœ¨å¯è§†åŒºåŸŸä¸å ä½ï¼Œéœ€åŒæ—¶è®¾ç½® <code>height: 0</code>;</p>
</li>
</ol>
<p><strong>åˆ©ç”¨ transfrom</strong></p>
<ol>
<li>ç¼©æ”¾</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">scale</span>(0);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç§»åŠ¨ <code>translateX</code>, <code>translateY</code></li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">translateX</span>(<span class="selector-tag">-99999px</span>);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>æ—‹è½¬ <code>rotate</code></li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">rotateY</span>(90<span class="selector-tag">deg</span>);</span><br></pre></td></tr></table></figure>

<p><strong>è®¾ç½®å…¶å¤§å°ä¸º 0</strong></p>
<ol>
<li>å®½é«˜ä¸º 0ï¼Œå­—ä½“å¤§å°ä¸º 0</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">height</span>: 0;</span><br><span class="line"><span class="selector-tag">width</span>: 0;</span><br><span class="line"><span class="selector-tag">font-size</span>: 0;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å®½é«˜ä¸º 0ï¼Œè¶…å‡ºéšè—</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">height</span>: 0;</span><br><span class="line"><span class="selector-tag">width</span>: 0;</span><br><span class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®é€æ˜åº¦ä¸º 0</p>
<p><code>visibility</code>å±æ€§</p>
<p>å±‚çº§è¦†ç›–ï¼Œ<code>z-index</code> å±æ€§</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">position</span>: <span class="selector-tag">relative</span>;</span><br><span class="line"><span class="selector-tag">z-index</span>: <span class="selector-tag">-999</span>;</span><br></pre></td></tr></table></figure>

<p>å†è®¾ç½®ä¸€ä¸ªå±‚çº§è¾ƒé«˜çš„å…ƒç´ è¦†ç›–åœ¨æ­¤å…ƒç´ ä¸Šã€‚</p>
<p>clip-path è£å‰ª</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">clip-path</span>: <span class="selector-tag">polygon</span>(0 0, 0 0, 0 0, 0 0);</span><br></pre></td></tr></table></figure>

<h3 id="13-æµè§ˆå™¨äº‹ä»¶ä»£ç†æœºåˆ¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆ2019-09-30ï¼‰"><a href="#13-æµè§ˆå™¨äº‹ä»¶ä»£ç†æœºåˆ¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆ2019-09-30ï¼‰" class="headerlink" title="13.æµè§ˆå™¨äº‹ä»¶ä»£ç†æœºåˆ¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆ2019-09-30ï¼‰"></a>13.æµè§ˆå™¨äº‹ä»¶ä»£ç†æœºåˆ¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆ2019-09-30ï¼‰</h3><p><strong>äº‹ä»¶ä»£ç†æœºåˆ¶çš„åŸç†</strong></p>
<p>äº‹ä»¶ä»£ç†åˆç§°ä¸ºäº‹ä»¶å§”æ‰˜ï¼Œåœ¨ç¥–å…ˆçº§ DOM å…ƒç´ ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œå½“è§¦å‘å­å­™çº§ DOM å…ƒç´ çš„äº‹ä»¶æ—¶ï¼Œåˆ©ç”¨äº‹ä»¶å†’æ³¡çš„åŸç†æ¥è§¦å‘ç»‘å®šåœ¨ç¥–å…ˆçº§ DOM çš„äº‹ä»¶ã€‚å› ä¸ºäº‹ä»¶ä¼šä»ç›®æ ‡å…ƒç´ ä¸€å±‚å±‚å†’æ³¡è‡³ document å¯¹è±¡ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¦äº‹ä»¶ä»£ç†ï¼Ÿ</strong></p>
<ol>
<li>æ·»åŠ åˆ°é¡µé¢ä¸Šçš„äº‹ä»¶æ•°é‡ä¼šå½±å“é¡µé¢çš„è¿è¡Œæ€§èƒ½ï¼Œå¦‚æœæ·»åŠ çš„äº‹ä»¶è¿‡å¤šï¼Œä¼šå¯¼è‡´ç½‘é¡µçš„æ€§èƒ½ä¸‹é™ã€‚é‡‡ç”¨äº‹ä»¶ä»£ç†çš„æ–¹å¼ï¼Œå¯ä»¥å¤§å¤§å‡å°‘æ³¨å†Œäº‹ä»¶çš„ä¸ªæ•°ã€‚</li>
<li>äº‹ä»¶ä»£ç†çš„å½“æ—¶ï¼ŒæŸä¸ªå­å­™å…ƒç´ æ˜¯åŠ¨æ€å¢åŠ çš„ï¼Œä¸éœ€è¦å†æ¬¡å¯¹å…¶è¿›è¡Œäº‹ä»¶ç»‘å®šã€‚</li>
<li>ä¸ç”¨æ‹…å¿ƒæŸä¸ªæ³¨å†Œäº†äº‹ä»¶çš„ DOM å…ƒç´ è¢«ç§»é™¤åï¼Œå¯èƒ½æ— æ³•å›æ”¶å…¶äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæˆ‘ä»¬åªè¦æŠŠäº‹ä»¶å¤„ç†ç¨‹åºå§”æ‰˜ç»™æ›´é«˜å±‚çº§çš„å…ƒç´ ï¼Œå°±å¯ä»¥é¿å…æ­¤é—®é¢˜ã€‚</li>
<li>å…è®¸ç»™ä¸€ä¸ªäº‹ä»¶æ³¨å†Œå¤šä¸ªç›‘å¬ã€‚</li>
<li>æä¾›äº†ä¸€ç§æ›´ç²¾ç»†çš„æ‰‹æ®µæ§åˆ¶ <code>listener</code> çš„è§¦å‘é˜¶æ®µ(å¯ä»¥é€‰æ‹©æ•è·æˆ–è€…æ˜¯å†’æ³¡)ã€‚</li>
<li>å¯¹ä»»ä½• <code>DOM</code> å…ƒç´ éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œè€Œä¸ä»…ä»…æ˜¯å¯¹ <code>HTML</code> å…ƒç´ æœ‰æ•ˆã€‚</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener">addEventListener</a> :</p>
<p>addEventListener æ¥å— 3 ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯è¦å¤„ç†çš„äº‹ä»¶åã€å®ç°äº† EventListener æ¥å£çš„å¯¹è±¡æˆ–è€…æ˜¯ä¸€ä¸ªå‡½æ•°ã€ä¸€ä¸ªå¯¹è±¡/ä¸€ä¸ªå¸ƒå°”å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">target.addEventListener(type, listener[, options]);</span><br><span class="line">target.addEventListener(type, listener[, useCapture]);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>options(å¯¹è±¡) | å¯é€‰</strong></p>
<ul>
<li>capture: <code>Boolean</code>ã€‚true è¡¨ç¤ºåœ¨æ•è·é˜¶æ®µè§¦å‘ï¼Œfalse è¡¨ç¤ºåœ¨å†’æ³¡é˜¶æ®µè§¦å‘ã€‚é»˜è®¤æ˜¯ falseã€‚</li>
<li>once:<code>Boolean</code>ã€‚true è¡¨ç¤º listener åœ¨æ·»åŠ ä¹‹åæœ€å¤šåªè°ƒç”¨ä¸€æ¬¡ï¼Œlistener ä¼šåœ¨å…¶è¢«è°ƒç”¨ä¹‹åè‡ªåŠ¨ç§»é™¤ã€‚é»˜è®¤æ˜¯ falseã€‚</li>
<li>passive: <code>Boolean</code>ã€‚true è¡¨ç¤º listener æ°¸è¿œä¸ä¼šè°ƒç”¨ <code>preventDefault()</code>ã€‚å¦‚æœ listener ä»ç„¶è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ï¼Œå®¢æˆ·ç«¯å°†ä¼šå¿½ç•¥å®ƒå¹¶æŠ›å‡ºä¸€ä¸ªæ§åˆ¶å°è­¦å‘Šã€‚é»˜è®¤æ˜¯ falseã€‚</li>
</ul>
<p><strong>useCapture(Boolean) | å¯é€‰</strong></p>
<p><code>useCapture</code> é»˜è®¤ä¸º falseã€‚è¡¨ç¤ºå†’æ³¡é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºï¼Œè‹¥è®¾ç½®ä¸º trueï¼Œè¡¨ç¤ºåœ¨æ•è·é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºã€‚</p>
<blockquote>
<p>å¦‚å°†é¡µé¢ä¸­çš„æ‰€æœ‰ click äº‹ä»¶éƒ½ä»£ç†åˆ° document ä¸Š:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(</span><br><span class="line">  <span class="string">&quot;click&quot;</span>,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.target);</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ•è·é˜¶æ®µè°ƒç”¨è°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºï¼ŒeventPhaseæ˜¯ 1;</span></span><br><span class="line"><span class="comment">     * å¤„äºç›®æ ‡ï¼ŒeventPhaseæ˜¯2</span></span><br><span class="line"><span class="comment">     * å†’æ³¡é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºï¼ŒeventPhaseæ˜¯ 3ï¼›</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">console</span>.log(e.eventPhase);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ä¸ <code>addEventListener</code> ç›¸å¯¹åº”çš„æ˜¯ <code>removeEventListener</code>,ç”¨äºç§»é™¤äº‹ä»¶ç›‘å¬ã€‚</p>
<h3 id="14-setTimeout-å€’è®¡æ—¶ä¸ºä»€ä¹ˆä¼šå‡ºç°è¯¯å·®ï¼Ÿ-ï¼ˆ2019-10-08ï¼‰"><a href="#14-setTimeout-å€’è®¡æ—¶ä¸ºä»€ä¹ˆä¼šå‡ºç°è¯¯å·®ï¼Ÿ-ï¼ˆ2019-10-08ï¼‰" class="headerlink" title="14. setTimeout å€’è®¡æ—¶ä¸ºä»€ä¹ˆä¼šå‡ºç°è¯¯å·®ï¼Ÿ ï¼ˆ2019-10-08ï¼‰"></a>14. setTimeout å€’è®¡æ—¶ä¸ºä»€ä¹ˆä¼šå‡ºç°è¯¯å·®ï¼Ÿ ï¼ˆ2019-10-08ï¼‰</h3><p><code>setTimeout</code> åªèƒ½ä¿è¯å»¶æ—¶æˆ–é—´éš”ä¸å°äºè®¾å®šçš„æ—¶é—´ã€‚å› ä¸ºå®ƒå®é™…ä¸Šåªæ˜¯å°†å›è°ƒæ·»åŠ åˆ°äº†å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œä½†æ˜¯å¦‚æœä¸»çº¿ç¨‹ä¸Šæœ‰ä»»åŠ¡è¿˜æ²¡æœ‰æ‰§è¡Œå®Œæˆï¼Œå®ƒå¿…é¡»è¦ç­‰å¾…ã€‚</p>
<p>å¦‚æœä½ å¯¹å‰é¢è¿™å¥è¯ä¸æ˜¯éå¸¸ç†è§£ï¼Œé‚£ä¹ˆæœ‰å¿…è¦äº†è§£ä¸€ä¸‹ JS çš„è¿è¡Œæœºåˆ¶ã€‚</p>
<p><strong>JS çš„è¿è¡Œæœºåˆ¶</strong></p>
<p>ï¼ˆ1ï¼‰æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ˆexecution context stackï¼‰ã€‚</p>
<p>ï¼ˆ2ï¼‰ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€(task queue)ã€‚</p>
<p>ï¼ˆ3ï¼‰ä¸€æ—¦â€æ‰§è¡Œæ ˆâ€ä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼Œäºæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œã€‚</p>
<p>ï¼ˆ4ï¼‰ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ã€‚</p>
<p>å¦‚ <code>setTimeout(()=&gt;&#123;callback();&#125;, 1000)</code> ï¼Œå³è¡¨ç¤ºåœ¨ 1s ä¹‹åå°† <code>callback</code> æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå½“ 1s çš„æ—¶é—´åˆ°è¾¾æ—¶ï¼Œå¦‚æœä¸»çº¿ç¨‹ä¸Šæœ‰å…¶å®ƒä»»åŠ¡åœ¨æ‰§è¡Œï¼Œé‚£ä¹ˆ <code>callback</code> å°±å¿…é¡»è¦ç­‰å¾…ï¼Œå¦å¤– <code>callback</code> çš„æ‰§è¡Œä¹Ÿéœ€è¦æ—¶é—´ï¼Œå› æ­¤ <code>setTimeout</code> çš„æ—¶é—´é—´éš”æ˜¯æœ‰è¯¯å·®çš„ï¼Œå®ƒåªèƒ½ä¿è¯å»¶æ—¶ä¸å°äºè®¾ç½®çš„æ—¶é—´ã€‚</p>
<p><strong>å¦‚ä½•å‡å°‘ <code>setTimeout</code> çš„è¯¯å·®</strong></p>
<p>æˆ‘ä»¬åªèƒ½å‡å°‘æ‰§è¡Œå¤šæ¬¡çš„ <code>setTimeout</code> çš„è¯¯å·®ï¼Œä¾‹å¦‚å€’è®¡æ—¶åŠŸèƒ½ã€‚</p>
<p>å€’è®¡æ—¶çš„æ—¶é—´é€šå¸¸éƒ½æ˜¯ä»æœåŠ¡ç«¯è·å–çš„ã€‚é€ æˆè¯¯å·®çš„åŸå› ï¼š</p>
<p>1.æ²¡æœ‰è€ƒè™‘è¯¯å·®æ—¶é—´ï¼ˆå‡½æ•°æ‰§è¡Œçš„æ—¶é—´/å…¶å®ƒä»£ç çš„é˜»å¡ï¼‰</p>
<p>2.æ²¡æœ‰è€ƒè™‘æµè§ˆå™¨çš„â€œä¼‘çœ â€</p>
<p>å®Œå…¨æ¶ˆé™¤ <code>setTimeout</code>çš„è¯¯å·®æ˜¯ä¸å¯èƒ½çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å‡å°‘ <code>setTimeout</code> çš„è¯¯å·®ã€‚é€šè¿‡å¯¹ä¸‹ä¸€æ¬¡ä»»åŠ¡çš„è°ƒç”¨æ—¶é—´è¿›è¡Œä¿®æ­£ï¼Œæ¥å‡å°‘è¯¯å·®ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> countdown = <span class="number">5000</span>; <span class="comment">//æœåŠ¡å™¨è¿”å›çš„å€’è®¡æ—¶æ—¶é—´</span></span><br><span class="line"><span class="keyword">let</span> interval = <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">let</span> startTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line"><span class="keyword">let</span> timer = <span class="built_in">setTimeout</span>(countDownStart, interval); <span class="comment">//é¦–æ¬¡æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">//å®šæ—¶å™¨æµ‹è¯•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countDownStart</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  count++;</span><br><span class="line">  <span class="keyword">const</span> offset = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() - (startTime + count * <span class="number">1000</span>);</span><br><span class="line">  <span class="keyword">const</span> nextInterval = interval - offset; <span class="comment">//ä¿®æ­£åçš„å»¶æ—¶æ—¶é—´</span></span><br><span class="line">  <span class="keyword">if</span> (nextInterval &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    nextInterval = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  countdown -= interval;</span><br><span class="line">  <span class="built_in">console</span>.log(</span><br><span class="line">    <span class="string">&quot;è¯¯å·®ï¼š&quot;</span> +</span><br><span class="line">      offset +</span><br><span class="line">      <span class="string">&quot;msï¼Œä¸‹ä¸€æ¬¡æ‰§è¡Œï¼š&quot;</span> +</span><br><span class="line">      nextInterval +</span><br><span class="line">      <span class="string">&quot;msåï¼Œç¦»æ´»åŠ¨å¼€å§‹è¿˜æœ‰ï¼š&quot;</span> +</span><br><span class="line">      countdown +</span><br><span class="line">      <span class="string">&quot;ms&quot;</span></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">if</span> (countdown &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(countDownStart, nextInterval);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå½“å‰é¡µé¢æ˜¯ä¸å¯è§çš„ï¼Œé‚£ä¹ˆå€’è®¡æ—¶ä¼šå‡ºç°å¤§äº 100ms çš„è¯¯å·®æ—¶é—´ã€‚å› æ­¤åœ¨é¡µé¢æ˜¾ç¤ºæ—¶ï¼Œåº”è¯¥é‡æ–°ä»æœåŠ¡ç«¯è·å–å‰©ä½™æ—¶é—´è¿›è¡Œå€’è®¡æ—¶ã€‚å½“ç„¶ï¼Œä¸ºäº†æ›´å¥½çš„æ€§èƒ½ï¼Œå½“å€’è®¡æ—¶ä¸å¯è§(Tab é¡µåˆ‡æ¢/å€’è®¡æ—¶å†…å®¹ä¸åœ¨å¯è§†åŒºæ—¶)ï¼Œå¯ä»¥é€‰æ‹©åœæ­¢å€’è®¡æ—¶ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç›‘å¬ <code>visibityChange</code> äº‹ä»¶è¿›è¡Œå¤„ç†ã€‚</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Step-By-Step/issues/21">ç‚¹å‡»æŸ¥çœ‹æ›´å¤š</a></p>
</blockquote>
<h2 id="ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-04"><a href="#ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-04" class="headerlink" title="ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 04"></a>ã€Step-By-Stepã€‘ä¸€å‘¨é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 04</h2><blockquote>
<p>æœ¬å‘¨é¢è¯•é¢˜ä¸€è§ˆ:</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Blog/issues/34">ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿé—­åŒ…çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
<li>å®ç° Promise.all æ–¹æ³•</li>
<li>å¼‚æ­¥åŠ è½½ js è„šæœ¬çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</li>
<li>è¯·å®ç°ä¸€ä¸ª flattenDeep å‡½æ•°ï¼ŒæŠŠåµŒå¥—çš„æ•°ç»„æ‰å¹³åŒ–</li>
<li>å¯è¿­ä»£å¯¹è±¡æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</li>
</ul>
<h3 id="15-ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿé—­åŒ…çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ-ï¼ˆ2019-10-09ï¼‰"><a href="#15-ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿé—­åŒ…çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ-ï¼ˆ2019-10-09ï¼‰" class="headerlink" title="15. ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿé—­åŒ…çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ ï¼ˆ2019-10-09ï¼‰"></a>15. ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿé—­åŒ…çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ ï¼ˆ2019-10-09ï¼‰</h3><p><strong>ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ</strong></p>
<p>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ï¼Œåˆ›å»ºé—­åŒ…æœ€å¸¸ç”¨çš„æ–¹å¼å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°ã€‚</p>
<p><strong>é—­åŒ…çš„ä½œç”¨ï¼š</strong></p>
<ol>
<li>èƒ½å¤Ÿè®¿é—®å‡½æ•°å®šä¹‰æ—¶æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸ(é˜»æ­¢å…¶è¢«å›æ”¶)ã€‚</li>
<li>ç§æœ‰åŒ–å˜é‡</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">base</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">10</span>; <span class="comment">//ç§æœ‰å˜é‡</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    getX: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> x;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = base();</span><br><span class="line"><span class="built_in">console</span>.log(obj.getX()); <span class="comment">//10</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>æ¨¡æ‹Ÿå—çº§ä½œç”¨åŸŸ</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  a[i] = (<span class="function"><span class="keyword">function</span> (<span class="params">j</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(j);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line">a[<span class="number">6</span>](); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>åˆ›å»ºæ¨¡å—</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">coolModule</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> name = <span class="string">&quot;Yvette&quot;</span>;</span><br><span class="line">  <span class="keyword">let</span> age = <span class="number">20</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sayName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(name);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sayAge</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(age);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    sayName,</span><br><span class="line">    sayAge,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> info = coolModule();</span><br><span class="line">info.sayName(); <span class="comment">//&#x27;Yvette&#x27;</span></span><br></pre></td></tr></table></figure>

<p>æ¨¡å—æ¨¡å¼å…·æœ‰ä¸¤ä¸ªå¿…å¤‡çš„æ¡ä»¶(æ¥è‡ªã€Šä½ ä¸çŸ¥é“çš„ JavaScriptã€‹)</p>
<ul>
<li>å¿…é¡»æœ‰å¤–éƒ¨çš„å°é—­å‡½æ•°ï¼Œè¯¥å‡½æ•°å¿…é¡»è‡³å°‘è¢«è°ƒç”¨ä¸€æ¬¡(æ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—å®ä¾‹)</li>
<li>å°é—­å‡½æ•°å¿…é¡»è¿”å›è‡³å°‘<strong>ä¸€ä¸ª</strong>å†…éƒ¨å‡½æ•°ï¼Œè¿™æ ·å†…éƒ¨å‡½æ•°æ‰èƒ½åœ¨ç§æœ‰ä½œç”¨åŸŸä¸­å½¢æˆé—­åŒ…ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®æˆ–è€…ä¿®æ”¹ç§æœ‰çš„çŠ¶æ€ã€‚</li>
</ul>
<p>é—­åŒ…çš„ç¼ºç‚¹</p>
<p>é—­åŒ…ä¼šå¯¼è‡´å‡½æ•°çš„å˜é‡ä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè¿‡å¤šçš„é—­åŒ…å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼</p>
<h3 id="16-å®ç°-Promise-all-æ–¹æ³•-ï¼ˆ2019-10-10ï¼‰"><a href="#16-å®ç°-Promise-all-æ–¹æ³•-ï¼ˆ2019-10-10ï¼‰" class="headerlink" title="16. å®ç° Promise.all æ–¹æ³• ï¼ˆ2019-10-10ï¼‰"></a>16. å®ç° Promise.all æ–¹æ³• ï¼ˆ2019-10-10ï¼‰</h3><p>åœ¨å®ç° Promise.all æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆè¦çŸ¥é“ Promise.all çš„åŠŸèƒ½å’Œç‰¹ç‚¹ï¼Œå› ä¸ºåœ¨æ¸…æ¥šäº† Promise.all åŠŸèƒ½å’Œç‰¹ç‚¹çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ‰èƒ½è¿›ä¸€æ­¥å»å†™å®ç°ã€‚</p>
<p><strong>Promise.all åŠŸèƒ½</strong></p>
<p><code>Promise.all(iterable)</code> è¿”å›ä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚æ­¤å®ä¾‹åœ¨ <code>iterable</code> å‚æ•°å†…æ‰€æœ‰çš„ <code>promise</code> éƒ½ <code>fulfilled</code> æˆ–è€…å‚æ•°ä¸­ä¸åŒ…å« <code>promise</code> æ—¶ï¼ŒçŠ¶æ€å˜æˆ <code>fulfilled</code>ï¼›å¦‚æœå‚æ•°ä¸­ <code>promise</code> æœ‰ä¸€ä¸ªå¤±è´¥<code>rejected</code>ï¼Œæ­¤å®ä¾‹å›è°ƒå¤±è´¥ï¼Œå¤±è´¥åŸå› çš„æ˜¯ç¬¬ä¸€ä¸ªå¤±è´¥ <code>promise</code> çš„è¿”å›ç»“æœã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="built_in">Promise</span>.all([p1, p2, p3]);</span><br></pre></td></tr></table></figure>

<p>p çš„çŠ¶æ€ç”± p1,p2,p3 å†³å®šï¼Œåˆ†æˆä»¥ä¸‹ï¼›ä¸¤ç§æƒ…å†µï¼š</p>
<p>ï¼ˆ1ï¼‰åªæœ‰ p1ã€p2ã€p3 çš„çŠ¶æ€éƒ½å˜æˆ <code>fulfilled</code>ï¼Œp çš„çŠ¶æ€æ‰ä¼šå˜æˆ <code>fulfilled</code>ï¼Œæ­¤æ—¶ p1ã€p2ã€p3 çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¼ é€’ç»™ p çš„å›è°ƒå‡½æ•°ã€‚</p>
<p>ï¼ˆ2ï¼‰åªè¦ p1ã€p2ã€p3 ä¹‹ä¸­æœ‰ä¸€ä¸ªè¢« <code>rejected</code>ï¼Œp çš„çŠ¶æ€å°±å˜æˆ <code>rejected</code>ï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªè¢« reject çš„å®ä¾‹çš„è¿”å›å€¼ï¼Œä¼šä¼ é€’ç»™ p çš„å›è°ƒå‡½æ•°ã€‚</p>
<p><strong>Promise.all çš„ç‰¹ç‚¹</strong></p>
<blockquote>
<p>Promise.all çš„è¿”å›å€¼æ˜¯ä¸€ä¸ª promise å®ä¾‹</p>
</blockquote>
<ul>
<li>å¦‚æœä¼ å…¥çš„å‚æ•°ä¸ºç©ºçš„å¯è¿­ä»£å¯¹è±¡ï¼Œ<code>Promise.all</code> ä¼š <strong>åŒæ­¥</strong> è¿”å›ä¸€ä¸ªå·²å®ŒæˆçŠ¶æ€çš„ <code>promise</code></li>
<li>å¦‚æœä¼ å…¥çš„å‚æ•°ä¸­ä¸åŒ…å«ä»»ä½• promise,<code>Promise.all</code> ä¼š <strong>å¼‚æ­¥</strong> è¿”å›ä¸€ä¸ªå·²å®ŒæˆçŠ¶æ€çš„ <code>promise</code></li>
<li>å…¶å®ƒæƒ…å†µä¸‹ï¼Œ<code>Promise.all</code> è¿”å›ä¸€ä¸ª <strong>å¤„ç†ä¸­ï¼ˆpendingï¼‰</strong> çŠ¶æ€çš„ <code>promise</code>.</li>
</ul>
<blockquote>
<p>Promise.all è¿”å›çš„ promise çš„çŠ¶æ€</p>
</blockquote>
<ul>
<li>å¦‚æœä¼ å…¥çš„å‚æ•°ä¸­çš„ promise éƒ½å˜æˆå®ŒæˆçŠ¶æ€ï¼Œ<code>Promise.all</code> è¿”å›çš„ <code>promise</code> å¼‚æ­¥åœ°å˜ä¸ºå®Œæˆã€‚</li>
<li>å¦‚æœä¼ å…¥çš„å‚æ•°ä¸­ï¼Œæœ‰ä¸€ä¸ª <code>promise</code> å¤±è´¥ï¼Œ<code>Promise.all</code> å¼‚æ­¥åœ°å°†å¤±è´¥çš„é‚£ä¸ªç»“æœç»™å¤±è´¥çŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œè€Œä¸ç®¡å…¶å®ƒ <code>promise</code> æ˜¯å¦å®Œæˆ</li>
<li>åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œ<code>Promise.all</code> è¿”å›çš„ <code>promise</code> çš„å®ŒæˆçŠ¶æ€çš„ç»“æœéƒ½æ˜¯ä¸€ä¸ªæ•°ç»„</li>
</ul>
<p><strong>Promise.all å®ç°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.all = <span class="function"><span class="keyword">function</span> (<span class="params">promises</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//Array.from å°†å¯è¿­ä»£å¯¹è±¡è½¬æ¢æˆæ•°ç»„</span></span><br><span class="line">    promises = <span class="built_in">Array</span>.from(promises);</span><br><span class="line">    <span class="keyword">if</span> (promises.length === <span class="number">0</span>) &#123;</span><br><span class="line">      resolve([]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> result = [];</span><br><span class="line">      <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; promises.length; i++) &#123;</span><br><span class="line">        <span class="comment">//è€ƒè™‘åˆ° i å¯èƒ½æ˜¯ thenable å¯¹è±¡ä¹Ÿå¯èƒ½æ˜¯æ™®é€šå€¼</span></span><br><span class="line">        <span class="built_in">Promise</span>.resolve(promises[i]).then(</span><br><span class="line">          (data) =&gt; &#123;</span><br><span class="line">            result[i] = data;</span><br><span class="line">            <span class="keyword">if</span> (++index === promises.length) &#123;</span><br><span class="line">              <span class="comment">//æ‰€æœ‰çš„ promises çŠ¶æ€éƒ½æ˜¯ fulfilledï¼Œpromise.allè¿”å›çš„å®ä¾‹æ‰å˜æˆ fulfilled æ€</span></span><br><span class="line">              resolve(result);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          (err) =&gt; &#123;</span><br><span class="line">            reject(err);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="17-å¼‚æ­¥åŠ è½½-js-è„šæœ¬çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ-ï¼ˆ2019-10-11ï¼‰"><a href="#17-å¼‚æ­¥åŠ è½½-js-è„šæœ¬çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ-ï¼ˆ2019-10-11ï¼‰" class="headerlink" title="17. å¼‚æ­¥åŠ è½½ js è„šæœ¬çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ ï¼ˆ2019-10-11ï¼‰"></a>17. å¼‚æ­¥åŠ è½½ js è„šæœ¬çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ ï¼ˆ2019-10-11ï¼‰</h3><ol>
<li><code>&lt;script&gt;</code> æ ‡ç­¾ä¸­å¢åŠ  <code>async</code>(html5) æˆ–è€… <code>defer</code>(html4) å±æ€§,è„šæœ¬å°±ä¼šå¼‚æ­¥åŠ è½½ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;../XXX.js&quot;</span> defer&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><code>defer</code> å’Œ <code>async</code> çš„åŒºåˆ«åœ¨äºï¼š</p>
<ul>
<li><code>defer</code> è¦ç­‰åˆ°æ•´ä¸ªé¡µé¢åœ¨å†…å­˜ä¸­æ­£å¸¸æ¸²æŸ“ç»“æŸï¼ˆDOM ç»“æ„å®Œå…¨ç”Ÿæˆï¼Œä»¥åŠå…¶ä»–è„šæœ¬æ‰§è¡Œå®Œæˆï¼‰ï¼Œåœ¨ window.onload ä¹‹å‰æ‰§è¡Œï¼›</li>
<li><code>async</code> ä¸€æ—¦ä¸‹è½½å®Œï¼Œæ¸²æŸ“å¼•æ“å°±ä¼šä¸­æ–­æ¸²æŸ“ï¼Œæ‰§è¡Œè¿™ä¸ªè„šæœ¬ä»¥åï¼Œå†ç»§ç»­æ¸²æŸ“ã€‚</li>
<li>å¦‚æœæœ‰å¤šä¸ª <code>defer</code> è„šæœ¬ï¼Œä¼šæŒ‰ç…§å®ƒä»¬åœ¨é¡µé¢å‡ºç°çš„é¡ºåºåŠ è½½</li>
<li>å¤šä¸ª <code>async</code> è„šæœ¬ä¸èƒ½ä¿è¯åŠ è½½é¡ºåº</li>
</ul>
<ol start="2">
<li>åŠ¨æ€åˆ›å»º <code>script</code> æ ‡ç­¾</li>
</ol>
<p>åŠ¨æ€åˆ›å»ºçš„ <code>script</code> ï¼Œè®¾ç½® <code>src</code> å¹¶ä¸ä¼šå¼€å§‹ä¸‹è½½ï¼Œè€Œæ˜¯è¦æ·»åŠ åˆ°æ–‡æ¡£ä¸­ï¼ŒJS æ–‡ä»¶æ‰ä¼šå¼€å§‹ä¸‹è½½ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> script = <span class="built_in">document</span>.createElement(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">script.src = <span class="string">&quot;XXX.js&quot;</span>;</span><br><span class="line"><span class="comment">// æ·»åŠ åˆ°htmlæ–‡ä»¶ä¸­æ‰ä¼šå¼€å§‹ä¸‹è½½</span></span><br><span class="line"><span class="built_in">document</span>.body.append(script);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>XHR å¼‚æ­¥åŠ è½½ JS</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.open(<span class="string">&quot;get&quot;</span>, <span class="string">&quot;js/xxx.js&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">xhr.send();</span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (xhr.readyState == <span class="number">4</span> &amp;&amp; xhr.status == <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="built_in">eval</span>(xhr.responseText);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="18-è¯·å®ç°ä¸€ä¸ª-flattenDeep-å‡½æ•°ï¼ŒæŠŠåµŒå¥—çš„æ•°ç»„æ‰å¹³åŒ–-ï¼ˆ2019-10-13ï¼‰"><a href="#18-è¯·å®ç°ä¸€ä¸ª-flattenDeep-å‡½æ•°ï¼ŒæŠŠåµŒå¥—çš„æ•°ç»„æ‰å¹³åŒ–-ï¼ˆ2019-10-13ï¼‰" class="headerlink" title="18. è¯·å®ç°ä¸€ä¸ª flattenDeep å‡½æ•°ï¼ŒæŠŠåµŒå¥—çš„æ•°ç»„æ‰å¹³åŒ– ï¼ˆ2019-10-13ï¼‰"></a>18. è¯·å®ç°ä¸€ä¸ª flattenDeep å‡½æ•°ï¼ŒæŠŠåµŒå¥—çš„æ•°ç»„æ‰å¹³åŒ– ï¼ˆ2019-10-13ï¼‰</h3><p><strong>è§£æï¼š</strong></p>
<ol>
<li>åˆ©ç”¨ <code>Array.prototype.flat</code></li>
</ol>
<p>ES6 ä¸ºæ•°ç»„å®ä¾‹æ–°å¢äº† <code>flat</code> æ–¹æ³•ï¼Œç”¨äºå°†åµŒå¥—çš„æ•°ç»„â€œæ‹‰å¹³â€ï¼Œå˜æˆä¸€ç»´çš„æ•°ç»„ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå¯¹åŸæ•°ç»„æ²¡æœ‰å½±å“ã€‚</p>
<p><code>flat</code> é»˜è®¤åªä¼š â€œæ‹‰å¹³â€ ä¸€å±‚ï¼Œå¦‚æœæƒ³è¦ â€œæ‹‰å¹³â€ å¤šå±‚çš„åµŒå¥—æ•°ç»„ï¼Œéœ€è¦ç»™ <code>flat</code> ä¼ é€’ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæƒ³è¦æ‹‰å¹³çš„å±‚æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flattenDeep</span>(<span class="params">arr, deepLength</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.flat(deepLength);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(flattenDeep([<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>]], <span class="number">5</span>]], <span class="number">3</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flattenDeep</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// return arr.join(&#x27;,&#x27;).split(&#x27;,&#x27;).map(Number);</span></span><br><span class="line">  <span class="keyword">return</span> arr.toString().split(<span class="string">&quot;,&quot;</span>).map(<span class="built_in">Number</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(flattenDeep([<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>]], <span class="number">5</span>]]));</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åˆ©ç”¨ reduce å’Œ concat:</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flattenDeep</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.reduce(</span><br><span class="line">    (acc, val) =&gt;</span><br><span class="line">      <span class="built_in">Array</span>.isArray(val) ? acc.concat(flattenDeep(val)) : acc.concat(val),</span><br><span class="line">    []</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(flattenDeep([<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>]], <span class="number">5</span>]]));</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ä½¿ç”¨ stack æ— é™ååµŒå¥—å¤šå±‚åµŒå¥—æ•°ç»„</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flattenDeep</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> stack = [...input];</span><br><span class="line">  <span class="keyword">const</span> res = [];</span><br><span class="line">  <span class="keyword">while</span> (stack.length) &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ pop ä» stack ä¸­å–å‡ºå¹¶ç§»é™¤å€¼</span></span><br><span class="line">    <span class="keyword">const</span> next = stack.pop();</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(next)) &#123;</span><br><span class="line">      <span class="comment">// ä½¿ç”¨ push é€å›å†…å±‚æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œä¸ä¼šæ”¹åŠ¨åŸå§‹è¾“å…¥ original input</span></span><br><span class="line">      stack.push(...next);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res.push(next);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ reverse æ¢å¤åŸæ•°ç»„çš„é¡ºåº</span></span><br><span class="line">  <span class="keyword">return</span> res.reverse();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(flattenDeep([<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>]], <span class="number">5</span>]]));</span><br></pre></td></tr></table></figure>

<h3 id="19-å¯è¿­ä»£å¯¹è±¡æœ‰ä»€ä¹ˆç‰¹ç‚¹-ï¼ˆ2019-10-14ï¼‰"><a href="#19-å¯è¿­ä»£å¯¹è±¡æœ‰ä»€ä¹ˆç‰¹ç‚¹-ï¼ˆ2019-10-14ï¼‰" class="headerlink" title="19. å¯è¿­ä»£å¯¹è±¡æœ‰ä»€ä¹ˆç‰¹ç‚¹ ï¼ˆ2019-10-14ï¼‰"></a>19. å¯è¿­ä»£å¯¹è±¡æœ‰ä»€ä¹ˆç‰¹ç‚¹ ï¼ˆ2019-10-14ï¼‰</h3><p>ES6 è§„å®šï¼Œé»˜è®¤çš„ <code>Iterator</code> æ¥å£éƒ¨ç½²åœ¨æ•°æ®ç»“æ„çš„ <code>Symbol.iterator</code> å±æ€§ï¼Œæ¢ä¸ªè§’åº¦ï¼Œä¹Ÿå¯ä»¥è®¤ä¸ºï¼Œä¸€ä¸ªæ•°æ®ç»“æ„åªè¦å…·æœ‰ <code>Symbol.iterator</code> å±æ€§(<code>Symbol.iterator</code> æ–¹æ³•å¯¹åº”çš„æ˜¯éå†å™¨ç”Ÿæˆå‡½æ•°ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªéå†å™¨å¯¹è±¡)ï¼Œé‚£ä¹ˆå°±å¯ä»¥å…¶è®¤ä¸ºæ˜¯å¯è¿­ä»£çš„ã€‚</p>
<p><strong>å¯è¿­ä»£å¯¹è±¡çš„ç‰¹ç‚¹</strong></p>
<ul>
<li>å…·æœ‰ <code>Symbol.iterator</code> å±æ€§ï¼Œ<code>Symbol.iterator()</code> è¿”å›çš„æ˜¯ä¸€ä¸ªéå†å™¨å¯¹è±¡</li>
<li>å¯ä»¥ä½¿ç”¨ <code>for ... of</code> è¿›è¡Œå¾ªç¯</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> iter = array[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="built_in">console</span>.log(iter.next()); <span class="comment">//&#123; value: 1, done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(iter.next()); <span class="comment">//&#123; value: 2, done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(iter.next()); <span class="comment">//&#123; value: 3, done: false &#125;</span></span><br></pre></td></tr></table></figure>

<p>åŸç”Ÿå…·æœ‰ <code>Iterator</code> æ¥å£çš„æ•°æ®ç»“æ„ï¼š</p>
<ul>
<li>Array</li>
<li>Map</li>
<li>Set</li>
<li>String</li>
<li>TypedArray</li>
<li>å‡½æ•°çš„ arguments å¯¹è±¡</li>
<li>NodeList å¯¹è±¡</li>
</ul>
<h4 id="è‡ªå®šä¹‰ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡"><a href="#è‡ªå®šä¹‰ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡" class="headerlink" title="è‡ªå®šä¹‰ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡"></a>è‡ªå®šä¹‰ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡</h4><p>ä¸Šé¢æˆ‘ä»¬è¯´ï¼Œä¸€ä¸ªå¯¹è±¡åªæœ‰å…·æœ‰æ­£ç¡®çš„ <code>Symbol.iterator</code> å±æ€§ï¼Œé‚£ä¹ˆå…¶å°±æ˜¯å¯è¿­ä»£çš„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™å¯¹è±¡æ–°å¢ <code>Symbol.iterator</code> ä½¿å…¶å¯è¿­ä»£</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&quot;Yvette&quot;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  job: <span class="string">&quot;engineer&quot;</span>,</span><br><span class="line">  *[<span class="built_in">Symbol</span>.iterator]() &#123;</span><br><span class="line">    <span class="keyword">const</span> self = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">const</span> keys = <span class="built_in">Object</span>.keys(self);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; keys.length; index++) &#123;</span><br><span class="line">      <span class="keyword">yield</span> self[keys[index]]; <span class="comment">//yieldè¡¨è¾¾å¼ä»…èƒ½ä½¿ç”¨åœ¨ Generator å‡½æ•°ä¸­</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">of</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key); <span class="comment">//Yvette 18 engineer</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-05-æœ¬å‘¨é¢è¯•é¢˜ä¸€è§ˆ"><a href="#ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-05-æœ¬å‘¨é¢è¯•é¢˜ä¸€è§ˆ" class="headerlink" title="ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 05 æœ¬å‘¨é¢è¯•é¢˜ä¸€è§ˆ:"></a>ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 05 æœ¬å‘¨é¢è¯•é¢˜ä¸€è§ˆ:</h2><blockquote>
<p>æœ¬å‘¨é¢è¯•é¢˜ä¸€è§ˆ:</p>
<p>####</p>
</blockquote>
<ul>
<li>å®ç° Promise.race æ–¹æ³•</li>
<li>JSONP åŸç†åŠç®€å•å®ç°</li>
<li>å®ç°ä¸€ä¸ªæ•°ç»„å»é‡çš„æ–¹æ³•</li>
<li>æ¸…æ¥šæµ®åŠ¨çš„æ–¹æ³•æœ‰å“ªäº›</li>
<li>ç¼–å†™ä¸€ä¸ªé€šç”¨çš„æŸ¯é‡ŒåŒ–å‡½æ•° currying</li>
</ul>
<h3 id="20-å®ç°-Promise-race-æ–¹æ³•ï¼ˆ2019-10-16ï¼‰"><a href="#20-å®ç°-Promise-race-æ–¹æ³•ï¼ˆ2019-10-16ï¼‰" class="headerlink" title="20. å®ç° Promise.race æ–¹æ³•ï¼ˆ2019-10-16ï¼‰"></a>20. å®ç° Promise.race æ–¹æ³•ï¼ˆ2019-10-16ï¼‰</h3><p>åœ¨å®ç° <code>Promise.race</code> æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆè¦çŸ¥é“ <code>Promise.race</code> çš„åŠŸèƒ½å’Œç‰¹ç‚¹ï¼Œå› ä¸ºåœ¨æ¸…æ¥šäº† <code>Promise.race</code> åŠŸèƒ½å’Œç‰¹ç‚¹çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ‰èƒ½è¿›ä¸€æ­¥å»å†™å®ç°ã€‚</p>
<p><strong>Promise.race åŠŸèƒ½</strong></p>
<p><code>Promise.race(iterable)</code> è¿”å›ä¸€ä¸ª promiseï¼Œä¸€æ—¦ <code>iterable</code> ä¸­çš„ä¸€ä¸ª <code>promise</code> çŠ¶æ€æ˜¯ <code>fulfilled</code> / <code>rejected</code> ï¼Œé‚£ä¹ˆ <code>Promise.race</code> è¿”å›çš„ <code>promise</code> çŠ¶æ€æ˜¯ <code>fulfilled</code> / <code>rejected</code>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="built_in">Promise</span>.race([p1, p2, p3]);</span><br></pre></td></tr></table></figure>

<p>åªè¦ p1ã€p2ã€p3 ä¹‹ä¸­æœ‰ä¸€ä¸ªå®ä¾‹ç‡å…ˆæ”¹å˜çŠ¶æ€ï¼Œp çš„çŠ¶æ€å°±è·Ÿç€æ”¹å˜ã€‚é‚£ä¸ªç‡å…ˆæ”¹å˜çš„ <code>Promise</code> å®ä¾‹çš„è¿”å›å€¼ï¼Œå°±ä¼ é€’ç»™ p çš„å›è°ƒå‡½æ•°ã€‚</p>
<p><strong>Promise.race çš„ç‰¹ç‚¹</strong></p>
<blockquote>
<p>Promise.race çš„è¿”å›å€¼æ˜¯ä¸€ä¸ª promise å®ä¾‹</p>
</blockquote>
<ul>
<li>å¦‚æœä¼ å…¥çš„å‚æ•°ä¸ºç©ºçš„å¯è¿­ä»£å¯¹è±¡ï¼Œé‚£ä¹ˆ <code>Promise.race</code> è¿”å›çš„ <code>promise</code> æ°¸è¿œæ˜¯ <code>pending</code> æ€</li>
<li>å¦‚æœä¼ å…¥çš„å‚æ•°ä¸­ä¸åŒ…å«ä»»ä½• <code>promise</code>ï¼Œ<code>Promise.race</code> ä¼šè¿”å›ä¸€ä¸ªå¤„ç†ä¸­ï¼ˆpendingï¼‰çš„ <code>promise</code></li>
<li>å¦‚æœ <code>iterable</code> åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªé <code>promise</code> å€¼æˆ–å·²ç»è§£å†³çš„ promiseï¼Œåˆ™ <code>Promise.race</code> å°†è§£æä¸º <code>iterable</code> ä¸­æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå€¼ã€‚</li>
</ul>
<p><strong>Promise.race çš„å®ç°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.race = <span class="function"><span class="keyword">function</span> (<span class="params">promises</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//promisesä¼ å…¥çš„æ˜¯å¯è¿­ä»£å¯¹è±¡(çœç•¥å‚æ•°åˆæ³•æ€§åˆ¤æ–­)</span></span><br><span class="line">  promises = <span class="built_in">Array</span>.from(promises); <span class="comment">//å°†å¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (promises.length === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="comment">//ç©ºçš„å¯è¿­ä»£å¯¹è±¡;</span></span><br><span class="line">      <span class="comment">//ç”¨äºåœ¨pendingæ€</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; promises.length; i++) &#123;</span><br><span class="line">        <span class="built_in">Promise</span>.resolve(promises[i])</span><br><span class="line">          .then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">            resolve(data);</span><br><span class="line">          &#125;)</span><br><span class="line">          .catch(<span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">            reject(reason);</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="21-JSONP-åŸç†åŠç®€å•å®ç°-2019-10-17"><a href="#21-JSONP-åŸç†åŠç®€å•å®ç°-2019-10-17" class="headerlink" title="21. JSONP åŸç†åŠç®€å•å®ç° (2019-10-17)"></a>21. JSONP åŸç†åŠç®€å•å®ç° (2019-10-17)</h3><p>å°½ç®¡æµè§ˆå™¨æœ‰åŒæºç­–ç•¥ï¼Œä½†æ˜¯ <code>&lt;script&gt;</code> æ ‡ç­¾çš„ <code>src</code> å±æ€§ä¸ä¼šè¢«åŒæºç­–ç•¥æ‰€çº¦æŸï¼Œå¯ä»¥è·å–ä»»æ„æœåŠ¡å™¨ä¸Šçš„è„šæœ¬å¹¶æ‰§è¡Œã€‚<code>jsonp</code> é€šè¿‡æ’å…¥ <code>script</code> æ ‡ç­¾çš„æ–¹å¼æ¥å®ç°è·¨åŸŸï¼Œå‚æ•°åªèƒ½é€šè¿‡ <code>url</code> ä¼ å…¥ï¼Œä»…èƒ½æ”¯æŒ <code>get</code> è¯·æ±‚ã€‚</p>
<p><strong>å®ç°åŸç†:</strong></p>
<ul>
<li>Step1: åˆ›å»º callback æ–¹æ³•</li>
<li>Step2: æ’å…¥ script æ ‡ç­¾</li>
<li>Step3: åå°æ¥å—åˆ°è¯·æ±‚ï¼Œè§£æå‰ç«¯ä¼ è¿‡å»çš„ callback æ–¹æ³•ï¼Œè¿”å›è¯¥æ–¹æ³•çš„è°ƒç”¨ï¼Œå¹¶ä¸”æ•°æ®ä½œä¸ºå‚æ•°ä¼ å…¥è¯¥æ–¹æ³•</li>
<li>Step4: å‰ç«¯æ‰§è¡ŒæœåŠ¡ç«¯è¿”å›çš„æ–¹æ³•è°ƒç”¨</li>
</ul>
<p><strong>jsonp æºç å®ç°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsonp</span>(<span class="params">&#123; url, params, callback &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºscriptæ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">let</span> script = <span class="built_in">document</span>.createElement(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">    <span class="comment">//å°†å›è°ƒå‡½æ•°æŒ‚åœ¨ window ä¸Š</span></span><br><span class="line">    <span class="built_in">window</span>[callback] = <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">      resolve(data);</span><br><span class="line">      <span class="comment">//ä»£ç æ‰§è¡Œåï¼Œåˆ é™¤æ’å…¥çš„scriptæ ‡ç­¾</span></span><br><span class="line">      <span class="built_in">document</span>.body.removeChild(script);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//å›è°ƒå‡½æ•°åŠ åœ¨è¯·æ±‚åœ°å€ä¸Š</span></span><br><span class="line">    params = &#123; ...params, callback &#125;; <span class="comment">//wb=b&amp;callback=show</span></span><br><span class="line">    <span class="keyword">let</span> arrs = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> params) &#123;</span><br><span class="line">      arrs.push(<span class="string">`<span class="subst">$&#123;key&#125;</span>=<span class="subst">$&#123;params[key]&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    script.src = <span class="string">`<span class="subst">$&#123;url&#125;</span>?<span class="subst">$&#123;arrs.join(<span class="string">&quot;&amp;&quot;</span>)&#125;</span>`</span>;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;</span><br><span class="line">jsonp(&#123;</span><br><span class="line">  url: <span class="string">&quot;http://localhost:3000/show&quot;</span>,</span><br><span class="line">  params: &#123;</span><br><span class="line">    <span class="comment">//code</span></span><br><span class="line">  &#125;,</span><br><span class="line">  callback: <span class="string">&quot;show&quot;</span>,</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æœåŠ¡ç«¯ä»£ç (node):</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//expresså¯åŠ¨ä¸€ä¸ªåå°æœåŠ¡</span></span><br><span class="line"><span class="keyword">let</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> app = express();</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&quot;/show&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> &#123; callback &#125; = req.query; <span class="comment">//è·å–ä¼ æ¥çš„callbackå‡½æ•°åï¼Œcallbackæ˜¯key</span></span><br><span class="line">  res.send(<span class="string">`<span class="subst">$&#123;callback&#125;</span>(&#x27;Hello!&#x27;)`</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.listen(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<h3 id="22ã€å®ç°ä¸€ä¸ªæ•°ç»„å»é‡çš„æ–¹æ³•-2019-10-18"><a href="#22ã€å®ç°ä¸€ä¸ªæ•°ç»„å»é‡çš„æ–¹æ³•-2019-10-18" class="headerlink" title="22ã€å®ç°ä¸€ä¸ªæ•°ç»„å»é‡çš„æ–¹æ³• (2019-10-18)"></a>22ã€å®ç°ä¸€ä¸ªæ•°ç»„å»é‡çš„æ–¹æ³• (2019-10-18)</h3><ol>
<li>æ³• 1: åˆ©ç”¨ ES6 æ–°å¢æ•°æ®ç±»å‹ <code>Set </code> ï¼š[â€¦new Set(arry)</li>
<li>åˆ©ç”¨ <code>indexOf</code> <code>includes</code></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">uniq</span>(<span class="params">arry</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arry.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (result.indexOf(arry[i]) === <span class="number">-1</span>) &#123;</span><br><span class="line">      <span class="comment">//å¦‚ result ä¸­æ²¡æœ‰ arry[i],åˆ™æ·»åŠ åˆ°æ•°ç»„ä¸­</span></span><br><span class="line">      result.push(arry[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>åˆ©ç”¨ <code>reduce</code></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">uniq</span>(<span class="params">arry</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arry.reduce(</span><br><span class="line">    (prev, cur) =&gt; (prev.includes(cur) ? prev : [...prev, cur]),</span><br><span class="line">    []</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>åˆ©ç”¨ <code>Map</code></li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">uniq</span>(<span class="params">arry</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">  <span class="keyword">let</span> result = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arry.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (map.has(arry[i])) &#123;</span><br><span class="line">      map.set(arry[i], <span class="literal">true</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      map.set(arry[i], <span class="literal">false</span>);</span><br><span class="line">      result.push(arry[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="23ã€æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ-2019-10-20"><a href="#23ã€æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ-2019-10-20" class="headerlink" title="23ã€æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ (2019-10-20)"></a>23ã€æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ (2019-10-20)</h3><p><strong>è§£æï¼š</strong></p>
<p>æ€»ä½“æ¥è¯´å°±ä¸¤ç‚¹å§ï¼š</p>
<ol>
<li>åˆ©ç”¨ clear å…ƒç´ </li>
<li>åˆ©ç”¨ BFC å¸ƒå±€è§„åˆ™</li>
</ol>
<h3 id="24-ç¼–å†™ä¸€ä¸ªé€šç”¨çš„æŸ¯é‡ŒåŒ–å‡½æ•°-currying-2019-10-20"><a href="#24-ç¼–å†™ä¸€ä¸ªé€šç”¨çš„æŸ¯é‡ŒåŒ–å‡½æ•°-currying-2019-10-20" class="headerlink" title="24. ç¼–å†™ä¸€ä¸ªé€šç”¨çš„æŸ¯é‡ŒåŒ–å‡½æ•° currying (2019-10-20)"></a>24. ç¼–å†™ä¸€ä¸ªé€šç”¨çš„æŸ¯é‡ŒåŒ–å‡½æ•° currying (2019-10-20)</h3><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ææ¸…æ¥šå‡½æ•°<a target="_blank" rel="noopener" href="https://github.com/mqyqingfeng/Blog/issues/42">æŸ¯é‡ŒåŒ–</a>çš„æ¦‚å¿µã€‚</p>
<blockquote>
<p>curry çš„è¿™ç§ç”¨é€”å¯ä»¥ç†è§£ä¸ºï¼šå‚æ•°å¤ç”¨ã€‚æœ¬è´¨ä¸Šæ˜¯é™ä½é€šç”¨æ€§ï¼Œæé«˜é€‚ç”¨æ€§ã€‚</p>
</blockquote>
<p>å‡½æ•°æŸ¯é‡ŒåŒ–æ˜¯æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°è€Œä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> currying = <span class="function">(<span class="params">fn, ...args</span>) =&gt;</span></span><br><span class="line">  args.length &lt; fn.length</span><br><span class="line">    ? <span class="comment">//å‚æ•°é•¿åº¦ä¸è¶³æ—¶ï¼Œé‡æ–°æŸ¯é‡ŒåŒ–è¯¥å‡½æ•°ï¼Œç­‰å¾…æ¥å—æ–°å‚æ•°</span></span><br><span class="line">      (...arguments) =&gt; currying(fn, ...args, ...arguments)</span><br><span class="line">    : <span class="comment">//å‚æ•°é•¿åº¦æ»¡è¶³æ—¶ï¼Œæ‰§è¡Œå‡½æ•°</span></span><br><span class="line">      fn(...args);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sumFn</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> sum = currying(sumFn);</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">2</span>)(<span class="number">3</span>)(<span class="number">5</span>)); <span class="comment">//10</span></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>)); <span class="comment">//10</span></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">2</span>)(<span class="number">3</span>, <span class="number">5</span>)); <span class="comment">//10</span></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">2</span>, <span class="number">3</span>)(<span class="number">5</span>)); <span class="comment">//10</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å‡½æ•°æŸ¯é‡ŒåŒ–çš„ä¸»è¦ä½œç”¨ï¼š</p>
</blockquote>
<ul>
<li>å‚æ•°å¤ç”¨</li>
<li>æå‰è¿”å› â€“ è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°ä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°</li>
<li>å»¶è¿Ÿæ‰§è¡Œ â€“ è¿”å›æ–°å‡½æ•°ï¼Œç­‰å¾…æ‰§è¡Œ</li>
</ul>
<h2 id="ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-06"><a href="#ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-06" class="headerlink" title="ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 06"></a>ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 06</h2><blockquote>
<p>æœ¬å‘¨é¢è¯•é¢˜ä¸€è§ˆ:</p>
</blockquote>
<ul>
<li>åŸå‹é“¾ç»§æ‰¿çš„åŸºæœ¬æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</li>
<li>å€Ÿç”¨æ„é€ å‡½æ•°å’Œç»„åˆç»§æ‰¿åŸºæœ¬æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</li>
<li>åŸå‹å¼ç»§æ‰¿çš„åŸºæœ¬æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</li>
<li>å¯„ç”Ÿå¼ç»§æ‰¿çš„åŸºæœ¬æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</li>
<li>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„åŸºæœ¬æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</li>
</ul>
<p>æœ¬å‘¨æ˜¯ç»§æ‰¿ä¸“é¢˜ï¼Œåœ¨å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦å…ˆäº†è§£æ„é€ å‡½æ•°ã€åŸå‹å’ŒåŸå‹é“¾çš„ç›¸å…³çŸ¥è¯†ã€‚</p>
<h4 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h4><p>æ„é€ å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«ä»…åœ¨äºè°ƒç”¨å®ƒä»¬çš„æ–¹å¼ä¸åŒï¼Œä»»ä½•å‡½æ•°ï¼Œåªè¦é€šè¿‡ <code>new</code> æ“ä½œç¬¦æ¥è°ƒç”¨ï¼Œé‚£å®ƒå°±å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°ï¼›ä»»ä½•å‡½æ•°ï¼Œå¦‚æœä¸é€šè¿‡ <code>new</code> æ“ä½œç¬¦æ¥è°ƒç”¨ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ã€‚</p>
<p>å®ä¾‹æ‹¥æœ‰ <code>constructor(æ„é€ å‡½æ•°)</code> å±æ€§ï¼Œè¯¥å±æ€§è¿”å›åˆ›å»ºå®ä¾‹å¯¹è±¡çš„æ„é€ å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Yvette = <span class="keyword">new</span> Person(<span class="string">&quot;åˆ˜å°å¤•&quot;</span>, <span class="number">20</span>);</span><br><span class="line"><span class="built_in">console</span>.log(Yvette.constructor === Person); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>æœ‰ä¸€ç‚¹éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œé™¤äº†åŸºæœ¬æ•°æ®ç±»å‹çš„ <code>constructor</code> å¤–( <code>null</code> å’Œ <code>undefined</code> æ—  <code>constructor</code> å±æ€§)ï¼Œ<code>constructor</code> å±æ€§æ˜¯å¯ä»¥è¢«é‡å†™çš„ã€‚å› æ­¤æ£€æµ‹å¯¹è±¡ç±»å‹æ—¶ï¼Œ<code>instanceof</code> æ“ä½œç¬¦æ¯” <code>contsrutor</code> æ›´å¯é ä¸€äº›ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> Yvette = <span class="keyword">new</span> Person(<span class="string">&quot;åˆ˜å°å¤•&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(Yvette.constructor); <span class="comment">//[Function: Person]</span></span><br><span class="line">Yvette.constructor = SuperType;</span><br><span class="line"><span class="built_in">console</span>.log(Yvette.constructor); <span class="comment">//[Function: SuperType]</span></span><br></pre></td></tr></table></figure>

<h4 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h4><p>æˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸ªå‡½æ•°éƒ½æœ‰ <code>prototype</code> å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚åŸå‹å¯¹è±¡çš„<strong>ç”¨é€”</strong>æ˜¯åŒ…å«å¯ä»¥ç”±ç‰¹å®šç±»å‹çš„æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åŸå‹å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨è·å¾—ä¸€ä¸ª <code>constructor</code> å±æ€§ï¼Œè¿™ä¸ªå±æ€§åŒ…å«ä¸€ä¸ªæŒ‡å‘ <code>prototype</code> å±æ€§æ‰€åœ¨å‡½æ•°çš„æŒ‡é’ˆã€‚</p>
<p>å½“è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹åï¼Œè¯¥å®ä¾‹çš„å†…éƒ¨å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡(å¯ä»¥é€šè¿‡å®ä¾‹çš„ <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/34183746"><code>__proto__</code></a> æ¥è®¿é—®æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡)ã€‚ <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/34183746">å‚è€ƒ</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">f.prototype.sayhi = <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> f();</span><br><span class="line"><span class="built_in">console</span>.log(f.prototype); <span class="comment">//f &#123; sayhi: [Function] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(f.prototype.constructor); <span class="comment">//[Function: f]</span></span><br><span class="line"><span class="built_in">console</span>.log(a.__proto__); <span class="comment">//f &#123; sayhi: [Function] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(f.__proto__); <span class="comment">//[Function]</span></span><br></pre></td></tr></table></figure>

<p>æ€»ç»“ï¼š 1.å¯¹è±¡æœ‰å±æ€§<strong>proto</strong>,æŒ‡å‘è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚ 2.æ–¹æ³•é™¤äº†æœ‰å±æ€§<strong>proto</strong>,è¿˜æœ‰å±æ€§ prototypeï¼Œprototype æŒ‡å‘è¯¥æ–¹æ³•çš„åŸå‹å¯¹è±¡ã€‚</p>
<p>è®²å®Œå•¦ï¼Œæ¬¢è¿å„ç§æ‰¹è¯„æŒ‡æ­£å®Œå–„æ¢è®¨ï¼Œå…±åŒè¿›æ­¥~</p>
<p><img src="https://camo.githubusercontent.com/16602b6909621ce63a882221389c062c4d032256/68747470733a2f2f6e6f74652e796f7564616f2e636f6d2f7977732f7075626c69632f7265736f757263652f66343537303163633431303530346537316462626362643838363165386430632f786d6c6e6f74652f5745425245534f5552434534366564343366333030363430353439383465356332346466373930393962312f3239353432"></p>
<h4 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h4><p>ç®€å•å›é¡¾ä¸€ä¸‹æ„é€ å‡½æ•°ã€åŸå‹å’Œå®ä¾‹çš„å…³ç³»ï¼š</p>
<p>æ¯ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆï¼Œè€Œå®ä¾‹éƒ½åŒ…å«ä¸€ä¸ªå¯ä»¥æ‰§è¡ŒåŸå‹å¯¹è±¡çš„å†…éƒ¨æŒ‡é’ˆ(å¯ä»¥é€šè¿‡ <code>__proto</code> è®¿é—®)ã€‚</p>
<p>å‡å¦‚æˆ‘ä»¬è®©åŸå‹å¯¹è±¡ç­‰äºå¦ä¸€ä¸ªç±»å‹çš„å®ä¾‹ï¼Œé‚£ä¹ˆæ­¤æ—¶åŸå‹å¯¹è±¡åŒ…å«ä¸€ä¸ªæŒ‡å‘å¦ä¸€ä¸ªåŸå‹çš„æŒ‡é’ˆï¼Œç›¸åº”åœ°ï¼Œå¦ä¸€ä¸ªåŸå‹ä¸­ä¹ŸåŒ…å«ç€ä¸€ä¸ªæŒ‡å‘å¦ä¸€ä¸ªæ„é€ å‡½æ•°çš„æŒ‡é’ˆã€‚åŠ å…¥å¦ä¸€ä¸ªåŸå‹åˆæ˜¯å¦ä¸€ä¸ªç±»å‹çš„å®ä¾‹ï¼Œé‚£ä¹ˆä¸Šè¿°å…³ç³»ä»ç„¶æˆç«‹ï¼Œå¦‚æ­¤å±‚å±‚é€’è¿›ï¼Œå°±æ„æˆäº†å®ä¾‹ä¸åŸå‹çš„é“¾æ¡ï¼Œè¿™å°±æ˜¯åŸå‹é“¾çš„åŸºæœ¬æ¦‚å¿µ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.type = <span class="string">&quot;animal&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">SuperType.prototype.getType = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.type);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">SubType.prototype = <span class="keyword">new</span> SuperType();</span><br><span class="line">SubType.prototype.sayHello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SimType</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">SimType.prototype = <span class="keyword">new</span> SubType();</span><br><span class="line">SimType.prototype.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;hi&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SimType(<span class="string">&quot;åˆ˜å°å¤•&quot;</span>);</span><br><span class="line">instance.getType(); <span class="comment">//animal</span></span><br></pre></td></tr></table></figure>

<p><img src="https://camo.githubusercontent.com/bb69ed50e52bf2d899a093cbe685074f28cacc0f/68747470733a2f2f6e6f74652e796f7564616f2e636f6d2f7977732f7075626c69632f7265736f757263652f66343537303163633431303530346537316462626362643838363165386430632f786d6c6e6f74652f5745425245534f5552434565333233613738316338613737653239363833373531643965333236653139342f3239353434"></p>
<p>è°ƒç”¨ <code>instance.getType()</code> ä¼šè°ƒç”¨ä»¥ä¸‹çš„æœç´¢æ­¥éª¤:</p>
<ol>
<li>æœç´¢ <code>instance</code> å®ä¾‹</li>
<li>æœç´¢ <code>SimType.prototype</code></li>
<li>æœç´¢ <code>SubType.prototype</code></li>
<li>æœç´¢ <code>SuperType.prototype</code>ï¼Œæ‰¾åˆ°äº† <code>getType</code> æ–¹æ³•</li>
</ol>
<p>åœ¨æ‰¾ä¸åˆ°å±æ€§æˆ–æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œæœç´¢è¿‡ç¨‹æ€»æ˜¯è¦ä¸€ç¯ä¸€ç¯åœ°å‰è¡Œåˆ°åŸå‹é“¾çš„æœ«ç«¯æ‰ä¼šåœä¸‹æ¥ã€‚</p>
<p>æ‰€æœ‰å¼•ç”¨ç±»å‹éƒ½ç»§æ‰¿äº† <code>Object</code>ï¼Œè¿™ä¸ªç»§æ‰¿ä¹Ÿæ˜¯é€šè¿‡åŸå‹é“¾å®ç°çš„ã€‚å¦‚æœåœ¨ <code>SuperType.prototype</code> è¿˜æ²¡æœ‰æ‰¾åˆ° <code>getType</code>ï¼Œå°±ä¼šåˆ° <code>Object.prototype</code>ä¸­æ‰¾(å›¾ä¸­å°‘ç”»äº†ä¸€ç¯)ã€‚</p>
<h4 id="åŸå‹é“¾ç»§æ‰¿"><a href="#åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="åŸå‹é“¾ç»§æ‰¿"></a>åŸå‹é“¾ç»§æ‰¿</h4><p>åŸå‹é“¾ç»§æ‰¿çš„åŸºæœ¬æ€æƒ³æ˜¯åˆ©ç”¨åŸå‹è®©ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<p>å¦‚ <code>SubType.prototype = new SuperType()</code>;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = <span class="string">&quot;Yvette&quot;</span>;</span><br><span class="line">  <span class="built_in">this</span>.colors = [<span class="string">&quot;pink&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;green&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line">SuperType.prototype.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.age = <span class="number">22</span>;</span><br><span class="line">&#125;</span><br><span class="line">SubType.prototype = <span class="keyword">new</span> SuperType();</span><br><span class="line"></span><br><span class="line">SubType.prototype.getAge = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span>.age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log(SubType.prototype.constructor) //[Function: SuperType]</span></span><br><span class="line">SubType.prototype.constructor = SubType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> instance1 = <span class="keyword">new</span> SubType();</span><br><span class="line">instance1.colors.push(<span class="string">&quot;yellow&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(instance1.getName()); <span class="comment">//&#x27;Yvette&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(instance1.colors); <span class="comment">//[ &#x27;pink&#x27;, &#x27;blue&#x27;, &#x27;green&#x27;, &#x27;yellow&#x27; ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> instance2 = <span class="keyword">new</span> SubType();</span><br><span class="line"><span class="built_in">console</span>.log(instance2.colors); <span class="comment">//[ &#x27;pink&#x27;, &#x27;blue&#x27;, &#x27;green&#x27;, &#x27;yellow&#x27; ]</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡º <code>colors</code> å±æ€§ä¼šè¢«æ‰€æœ‰çš„å®ä¾‹å…±äº«(instance1ã€instance2ã€â€¦)ã€‚</p>
<blockquote>
<p>ç¼ºç‚¹ï¼š</p>
</blockquote>
<ol>
<li>é€šè¿‡åŸå‹æ¥å®ç°ç»§æ‰¿æ—¶ï¼ŒåŸå‹ä¼šå˜æˆå¦ä¸€ä¸ªç±»å‹çš„å®ä¾‹ï¼ŒåŸå…ˆçš„å®ä¾‹å±æ€§å˜æˆäº†ç°åœ¨çš„åŸå‹å±æ€§ï¼Œè¯¥åŸå‹çš„å¼•ç”¨ç±»å‹å±æ€§ä¼šè¢«æ‰€æœ‰çš„å®ä¾‹å…±äº«ã€‚</li>
<li>åœ¨åˆ›å»ºå­ç±»å‹çš„å®ä¾‹æ—¶ï¼Œæ²¡æœ‰åŠæ³•åœ¨ä¸å½±å“æ‰€æœ‰å¯¹è±¡å®ä¾‹çš„æƒ…å†µä¸‹ç»™è¶…ç±»å‹çš„æ„é€ å‡½æ•°ä¸­ä¼ é€’å‚æ•°ã€‚</li>
</ol>
<h4 id="å€Ÿç”¨æ„é€ å‡½æ•°"><a href="#å€Ÿç”¨æ„é€ å‡½æ•°" class="headerlink" title="å€Ÿç”¨æ„é€ å‡½æ•°"></a>å€Ÿç”¨æ„é€ å‡½æ•°</h4><p><strong>å€Ÿç”¨æ„é€ å‡½æ•°</strong>çš„æŠ€æœ¯ï¼Œå…¶åŸºæœ¬æ€æƒ³ä¸º:</p>
<p>åœ¨å­ç±»å‹çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨è¶…ç±»å‹æ„é€ å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.colors = [<span class="string">&quot;pink&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;green&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  SuperType.call(<span class="built_in">this</span>, name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> intance1 = <span class="keyword">new</span> SubType(<span class="string">&quot;zc&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(intance1.name); <span class="comment">//zc</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¼˜ç‚¹:</p>
</blockquote>
<ol>
<li>å¯ä»¥å‘è¶…ç±»ä¼ é€’å‚æ•°</li>
<li>è§£å†³äº†åŸå‹ä¸­åŒ…å«å¼•ç”¨ç±»å‹å€¼è¢«æ‰€æœ‰å®ä¾‹å…±äº«çš„é—®é¢˜</li>
</ol>
<blockquote>
<p>ç¼ºç‚¹:</p>
</blockquote>
<ol>
<li>æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œå‡½æ•°å¤ç”¨æ— ä»è°ˆèµ·ï¼Œå¦å¤–è¶…ç±»å‹åŸå‹ä¸­å®šä¹‰çš„æ–¹æ³•å¯¹äºå­ç±»å‹è€Œè¨€éƒ½æ˜¯ä¸å¯è§çš„ã€‚</li>
</ol>
<h4 id="ç»„åˆç»§æ‰¿"><a href="#ç»„åˆç»§æ‰¿" class="headerlink" title="ç»„åˆç»§æ‰¿"></a>ç»„åˆç»§æ‰¿</h4><p>ç»„åˆç»§æ‰¿æŒ‡çš„æ˜¯å°†åŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°æŠ€æœ¯ç»„åˆåˆ°ä¸€å—ï¼Œä»è€Œå‘æŒ¥äºŒè€…ä¹‹é•¿çš„ä¸€ç§ç»§æ‰¿æ¨¡å¼ã€‚åŸºæœ¬æ€è·¯ï¼š</p>
<p>ä½¿ç”¨åŸå‹é“¾å®ç°å¯¹åŸå‹å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œé€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥å®ç°å¯¹å®ä¾‹å±æ€§çš„ç»§æ‰¿ï¼Œæ—¢é€šè¿‡åœ¨åŸå‹ä¸Šå®šä¹‰æ–¹æ³•æ¥å®ç°äº†å‡½æ•°å¤ç”¨ï¼Œåˆä¿è¯äº†æ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„å±æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.colors = [<span class="string">&quot;pink&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;green&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SuperType.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// console.log(SuperType)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuberType</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  SuperType.call(<span class="built_in">this</span>, name);</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SuberType.prototype = <span class="keyword">new</span> SuperType();</span><br><span class="line">SuberType.prototype.constructor = SuberType;</span><br><span class="line">SuberType.prototype.sayAge = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.age);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> instance1 = <span class="keyword">new</span> SuberType(<span class="string">&quot;Yvette&quot;</span>, <span class="number">20</span>);</span><br><span class="line">instance1.colors.push(<span class="string">&quot;yellow&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(instance1.colors); <span class="comment">//[ &#x27;pink&#x27;, &#x27;blue&#x27;, &#x27;green&#x27;, &#x27;yellow&#x27; ]</span></span><br><span class="line">instance1.sayName(); <span class="comment">//Yvette</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> instance2 = <span class="keyword">new</span> SuberType(<span class="string">&quot;Jack&quot;</span>, <span class="number">22</span>);</span><br><span class="line"><span class="built_in">console</span>.log(instance2.colors); <span class="comment">//[ &#x27;pink&#x27;, &#x27;blue&#x27;, &#x27;green&#x27; ]</span></span><br><span class="line">instance2.sayName(); <span class="comment">//Jack</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç¼ºç‚¹:</p>
</blockquote>
<ul>
<li>æ— è®ºä»€ä¹ˆæƒ…å†µä¸‹ï¼Œéƒ½ä¼šè°ƒç”¨ä¸¤æ¬¡è¶…ç±»å‹æ„é€ å‡½æ•°ï¼šä¸€æ¬¡æ˜¯åœ¨åˆ›å»ºå­ç±»å‹åŸå‹çš„æ—¶å€™ï¼Œå¦ä¸€æ¬¡æ˜¯åœ¨å­ç±»å‹æ„é€ å‡½æ•°å†…éƒ¨ã€‚</li>
</ul>
<blockquote>
<p>ä¼˜ç‚¹:</p>
</blockquote>
<ul>
<li>å¯ä»¥å‘è¶…ç±»ä¼ é€’å‚æ•°</li>
<li>æ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„å±æ€§</li>
<li>å®ç°äº†å‡½æ•°å¤ç”¨</li>
</ul>
<h4 id="åŸå‹å¼ç»§æ‰¿"><a href="#åŸå‹å¼ç»§æ‰¿" class="headerlink" title="åŸå‹å¼ç»§æ‰¿"></a>åŸå‹å¼ç»§æ‰¿</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/5b5dcf8351882519790c9a2e">æµ…æ‹·è´ä¸æ·±æ‹·è´</a></p>
</blockquote>
<p>åŸå‹ç»§æ‰¿çš„åŸºæœ¬æ€æƒ³ï¼š</p>
<p>å€ŸåŠ©åŸå‹å¯ä»¥åŸºäºå·²æœ‰çš„å¯¹è±¡åˆ›å»ºæ–°å¯¹è±¡ï¼ŒåŒæ—¶è¿˜ä¸å¿…å› æ­¤åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  F.prototype = o;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>object()</code> å‡½æ•°å†…éƒ¨ï¼Œå…ˆç©¿ç”²ä¸€ä¸ªä¸´æ—¶æ€§çš„æ„é€ å‡½æ•°ï¼Œç„¶åå°†ä¼ å…¥çš„å¯¹è±¡ä½œä¸ºè¿™ä¸ªæ„é€ å‡½æ•°çš„åŸå‹ï¼Œæœ€åè¿”å›äº†è¿™ä¸ªä¸´æ—¶ç±»å‹çš„ä¸€ä¸ªæ–°å®ä¾‹ï¼Œä»æœ¬è´¨ä¸Šè®²ï¼Œ<code>object()</code> å¯¹ä¼ å…¥çš„å¯¹è±¡æ‰§è¡Œäº†ä¸€æ¬¡æµ…æ‹·è´ã€‚</p>
<p>ECMAScript5 é€šè¿‡æ–°å¢ <code>Object.create()</code>æ–¹æ³•è§„èŒƒäº†åŸå‹å¼ç»§æ‰¿ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªç”¨ä½œæ–°å¯¹è±¡åŸå‹çš„å¯¹è±¡å’Œï¼ˆå¯é€‰çš„ï¼‰ä¸€ä¸ªä¸ºæ–°å¯¹è±¡å®šä¹‰é¢å¤–å±æ€§çš„å¯¹è±¡(å¯ä»¥è¦†ç›–åŸå‹å¯¹è±¡ä¸Šçš„åŒåå±æ€§)ï¼Œåœ¨ä¼ å…¥ä¸€ä¸ªå‚æ•°çš„æƒ…å†µä¸‹ï¼Œ<code>Object.create()</code> å’Œ <code>object()</code> æ–¹æ³•çš„è¡Œä¸ºç›¸åŒã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  name: <span class="string">&quot;Yvette&quot;</span>,</span><br><span class="line">  hobbies: [<span class="string">&quot;reading&quot;</span>, <span class="string">&quot;photography&quot;</span>],</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="built_in">Object</span>.create(person);</span><br><span class="line">person1.name = <span class="string">&quot;Jack&quot;</span>;</span><br><span class="line">person1.hobbies.push(<span class="string">&quot;coding&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="built_in">Object</span>.create(person);</span><br><span class="line">person2.name = <span class="string">&quot;Echo&quot;</span>;</span><br><span class="line">person2.hobbies.push(<span class="string">&quot;running&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(person.hobbies); <span class="comment">//[ &#x27;reading&#x27;, &#x27;photography&#x27;, &#x27;coding&#x27;, &#x27;running&#x27; ]</span></span><br><span class="line"><span class="built_in">console</span>.log(person1.hobbies); <span class="comment">//[ &#x27;reading&#x27;, &#x27;photography&#x27;, &#x27;coding&#x27;, &#x27;running&#x27; ]</span></span><br></pre></td></tr></table></figure>

<p>åœ¨æ²¡æœ‰å¿…è¦åˆ›å»ºæ„é€ å‡½æ•°ï¼Œä»…è®©ä¸€ä¸ªå¯¹è±¡ä¸å¦ä¸€ä¸ªå¯¹è±¡ä¿æŒç›¸ä¼¼çš„æƒ…å†µä¸‹ï¼ŒåŸå‹å¼ç»§æ‰¿æ˜¯å¯ä»¥èƒœä»»çš„ã€‚</p>
<blockquote>
<p>ç¼ºç‚¹:</p>
</blockquote>
<p>åŒåŸå‹é“¾å®ç°ç»§æ‰¿ä¸€æ ·ï¼ŒåŒ…å«å¼•ç”¨ç±»å‹å€¼çš„å±æ€§ä¼šè¢«æ‰€æœ‰å®ä¾‹å…±äº«ã€‚</p>
<h4 id="å¯„ç”Ÿå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿå¼ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿå¼ç»§æ‰¿"></a>å¯„ç”Ÿå¼ç»§æ‰¿</h4><p>å¯„ç”Ÿå¼ç»§æ‰¿æ˜¯ä¸åŸå‹å¼ç»§æ‰¿ç´§å¯†ç›¸å…³çš„ä¸€ç§æ€è·¯ã€‚å¯„ç”Ÿå¼ç»§æ‰¿çš„æ€è·¯ä¸å¯„ç”Ÿæ„é€ å‡½æ•°å’Œå·¥å‚æ¨¡å¼ç±»ä¼¼ï¼Œå³åˆ›å»ºä¸€ä¸ªä»…ç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨å†…éƒ¨å·²æŸç§æ–¹å¼æ¥å¢å¼ºå¯¹è±¡ï¼Œæœ€åå†åƒçœŸåœ°æ˜¯å®ƒåšäº†æ‰€æœ‰å·¥ä½œä¸€æ ·è¿”å›å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  F.prototype = o;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAnother</span>(<span class="params">original</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> clone = object(original); <span class="comment">//é€šè¿‡è°ƒç”¨å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</span></span><br><span class="line">  clone.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//ä»¥æŸç§æ–¹å¼å¢å¼ºè¿™ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;hi&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> clone; <span class="comment">//è¿”å›è¿™ä¸ªå¯¹è±¡</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  name: <span class="string">&quot;Yvette&quot;</span>,</span><br><span class="line">  hobbies: [<span class="string">&quot;reading&quot;</span>, <span class="string">&quot;photography&quot;</span>],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person2 = createAnother(person);</span><br><span class="line">person2.sayHi(); <span class="comment">//hi</span></span><br></pre></td></tr></table></figure>

<p>åŸºäº <code>person</code> è¿”å›äº†ä¸€ä¸ªæ–°å¯¹è±¡ -â€”â€” <code>person2</code>ï¼Œæ–°å¯¹è±¡ä¸ä»…å…·æœ‰ <code>person</code> çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œè€Œä¸”è¿˜æœ‰è‡ªå·±çš„ <code>sayHi()</code> æ–¹æ³•ã€‚åœ¨è€ƒè™‘å¯¹è±¡è€Œä¸æ˜¯è‡ªå®šä¹‰ç±»å‹å’Œæ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œå¯„ç”Ÿå¼ç»§æ‰¿ä¹Ÿæ˜¯ä¸€ç§æœ‰ç”¨çš„æ¨¡å¼ã€‚</p>
<blockquote>
<p>ç¼ºç‚¹ï¼š</p>
</blockquote>
<ul>
<li>ä½¿ç”¨å¯„ç”Ÿå¼ç»§æ‰¿æ¥ä¸ºå¯¹è±¡æ·»åŠ å‡½æ•°ï¼Œä¼šç”±äºä¸èƒ½åšåˆ°å‡½æ•°å¤ç”¨è€Œæ•ˆç‡ä½ä¸‹ã€‚</li>
<li>åŒåŸå‹é“¾å®ç°ç»§æ‰¿ä¸€æ ·ï¼ŒåŒ…å«å¼•ç”¨ç±»å‹å€¼çš„å±æ€§ä¼šè¢«æ‰€æœ‰å®ä¾‹å…±äº«ã€‚</li>
</ul>
<h4 id="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"></a>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</h4><p>æ‰€è°“å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼Œå³é€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥ç»§æ‰¿å±æ€§ï¼Œé€šè¿‡åŸå‹é“¾çš„æ··æˆå½¢å¼æ¥ç»§æ‰¿æ–¹æ³•ï¼ŒåŸºæœ¬æ€è·¯ï¼š</p>
<p>ä¸å¿…ä¸ºäº†æŒ‡å®šå­ç±»å‹çš„åŸå‹è€Œè°ƒç”¨è¶…ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦çš„ä»…æ˜¯è¶…ç±»å‹åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä½¿ç”¨å¯„ç”Ÿå¼ç»§æ‰¿æ¥ç»§æ‰¿è¶…ç±»å‹çš„åŸå‹ï¼Œç„¶åå†å°†ç»“æœæŒ‡å®šç»™å­ç±»å‹çš„åŸå‹ã€‚å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„åŸºæœ¬æ¨¡å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inheritPrototype</span>(<span class="params">subType, superType</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> prototype = object(superType.prototype); <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">  prototype.constructor = subType; <span class="comment">//å¢å¼ºå¯¹è±¡</span></span><br><span class="line">  subType.prototype = prototype; <span class="comment">//æŒ‡å®šå¯¹è±¡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºè¶…ç±»å‹åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬</li>
<li>ç¬¬äºŒæ­¥ï¼šä¸ºåˆ›å»ºçš„å‰¯æœ¬æ·»åŠ  <code>constructor</code> å±æ€§</li>
<li>ç¬¬ä¸‰æ­¥ï¼šå°†æ–°åˆ›å»ºçš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»å‹çš„åŸå‹</li>
</ul>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è°ƒç”¨ <code>inheritPrototype</code> æ¥æ›¿æ¢ä¸ºå­ç±»å‹åŸå‹èµ‹å€¼çš„è¯­å¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.colors = [<span class="string">&quot;pink&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;green&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//...code</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuberType</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  SuperType.call(<span class="built_in">this</span>, name);</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">inheritPrototype(SuberType, SuperType);</span><br><span class="line"><span class="comment">//...code</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¼˜ç‚¹:</p>
</blockquote>
<p>åªè°ƒç”¨äº†ä¸€æ¬¡è¶…ç±»æ„é€ å‡½æ•°ï¼Œæ•ˆç‡æ›´é«˜ã€‚é¿å…åœ¨<code>SuberType.prototype</code>ä¸Šé¢åˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±æ€§ï¼Œä¸å…¶åŒæ—¶ï¼ŒåŸå‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ã€‚</p>
<p>å› æ­¤å¯„ç”Ÿç»„åˆç»§æ‰¿æ˜¯å¼•ç”¨ç±»å‹æœ€ç†æ€§çš„ç»§æ‰¿èŒƒå¼ã€‚</p>
<h4 id="ES6-ç»§æ‰¿"><a href="#ES6-ç»§æ‰¿" class="headerlink" title="ES6 ç»§æ‰¿"></a>ES6 ç»§æ‰¿</h4><p><code>Class</code> å¯ä»¥é€šè¿‡ extends å…³é”®å­—å®ç°ç»§æ‰¿ï¼Œå¦‚:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SuperType</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(age) &#123;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getAge() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.age);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubType</span> <span class="keyword">extends</span> <span class="title">SuperType</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(age, name) &#123;</span><br><span class="line">    <span class="built_in">super</span>(age); <span class="comment">// è°ƒç”¨çˆ¶ç±»çš„constructor(x, y)</span></span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getName() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> instance = <span class="keyword">new</span> SubType(<span class="number">22</span>, <span class="string">&quot;åˆ˜å°å¤•&quot;</span>);</span><br><span class="line">instance.getAge(); <span class="comment">//22</span></span><br></pre></td></tr></table></figure>

<p>å¯¹äº ES6 çš„ <code>class</code> éœ€è¦åšä»¥ä¸‹å‡ ç‚¹è¯´æ˜ï¼š</p>
<ol>
<li>ç±»çš„æ•°æ®ç±»å‹å°±æ˜¯å‡½æ•°ï¼Œç±»æœ¬èº«å°±æŒ‡å‘æ„é€ å‡½æ•°ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> SuperType); <span class="comment">//function</span></span><br><span class="line"><span class="built_in">console</span>.log(SuperType === SuperType.prototype.constructor); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç±»çš„å†…éƒ¨æ‰€æœ‰å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½æ˜¯ä¸å¯æšä¸¾çš„ã€‚(ES5 åŸå‹ä¸Šçš„æ–¹æ³•é»˜è®¤æ˜¯å¯æšä¸¾çš„)</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.keys(SuperType.prototype);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><code>constructor</code> æ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡ <code>new</code> å‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚ä¸€ä¸ªç±»å¿…é¡»æœ‰<code>constructor</code> æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰ï¼Œä¸€ä¸ªç©ºçš„ <code>constructor</code> æ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚</li>
<li><code>Class</code> ä¸èƒ½åƒæ„é€ å‡½æ•°é‚£æ ·ç›´æ¥è°ƒç”¨ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚</li>
</ol>
<p>ä½¿ç”¨ <code>extends</code> å…³é”®å­—å®ç°ç»§æ‰¿ï¼Œæœ‰ä¸€ç‚¹éœ€è¦ç‰¹åˆ«è¯´æ˜ï¼š</p>
<ul>
<li>å­ç±»å¿…é¡»åœ¨ <code>constructor</code> ä¸­è°ƒç”¨ <code>super</code> æ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æ—¶ä¼šæŠ¥é”™ã€‚å¦‚æœæ²¡æœ‰å­ç±»æ²¡æœ‰å®šä¹‰ <code>constructor</code> æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œåªæœ‰è°ƒç”¨ <code>super</code> ä¹‹åï¼Œæ‰èƒ½ä½¿ç”¨ <code>this</code>å…³é”®å­—ï¼Œå¦åˆ™æŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»å®ä¾‹çš„æ„å»ºï¼ŒåŸºäºçˆ¶ç±»å®ä¾‹ï¼Œåªæœ‰ super æ–¹æ³•æ‰èƒ½è°ƒç”¨çˆ¶ç±»å®ä¾‹ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubType</span> <span class="keyword">extends</span> <span class="title">SuperType</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(...args) &#123;</span><br><span class="line">    <span class="built_in">super</span>(...args);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-07"><a href="#ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ-å‘¨åˆŠ-07" class="headerlink" title="ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 07"></a>ã€Step-By-Stepã€‘é«˜é¢‘é¢è¯•é¢˜æ·±å…¥è§£æ / å‘¨åˆŠ 07</h2><blockquote>
<p>æœ¬å‘¨é¢è¯•é¢˜ä¸€è§ˆ:</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Step-By-Step/issues/39">å®ç°ä¸€ä¸ª JSON.stringify</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Step-By-Step/issues/40">å®ç°ä¸€ä¸ª JSON.parse</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Step-By-Step/issues/41">å®ç°ä¸€ä¸ªè§‚å¯Ÿè€…æ¨¡å¼</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Step-By-Step/issues/42">ä½¿ç”¨ CSS è®©ä¸€ä¸ªå…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­æœ‰å“ªäº›æ–¹å¼</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Step-By-Step/issues/43">ES6 æ¨¡å—å’Œ CommonJS æ¨¡å—æœ‰å“ªäº›å·®å¼‚ï¼Ÿ</a></li>
</ul>
<h3 id="1-å®ç°ä¸€ä¸ª-JSON-stringify-ï¼ˆ2019-10-27ï¼‰"><a href="#1-å®ç°ä¸€ä¸ª-JSON-stringify-ï¼ˆ2019-10-27ï¼‰" class="headerlink" title="1. å®ç°ä¸€ä¸ª JSON.stringify ï¼ˆ2019-10-27ï¼‰"></a>1. å®ç°ä¸€ä¸ª <code>JSON.stringify</code> ï¼ˆ2019-10-27ï¼‰</h3><p><code>JSON.stringify([, replacer [, space])</code> æ–¹æ³•æ˜¯å°†ä¸€ä¸ª JavaScript å€¼(å¯¹è±¡æˆ–è€…æ•°ç»„)è½¬æ¢ä¸ºä¸€ä¸ª JSON å­—ç¬¦ä¸²ã€‚æ­¤å¤„æ¨¡æ‹Ÿå®ç°ï¼Œä¸è€ƒè™‘å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•° <code>replacer</code> å’Œç¬¬ä¸‰ä¸ªå‚æ•° <code>space</code>ï¼Œå¦‚æœå¯¹è¿™ä¸¤ä¸ªå‚æ•°çš„ä½œç”¨è¿˜ä¸äº†è§£ï¼Œå»ºè®®é˜…è¯» <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">MDN</a> æ–‡æ¡£ã€‚</p>
<blockquote>
<p><code>JSON.stringify()</code> å°†å€¼è½¬æ¢æˆå¯¹åº”çš„ <code>JSON</code> æ ¼å¼:</p>
</blockquote>
<p>1ã€åŸºæœ¬æ•°æ®ç±»å‹ï¼š</p>
<ul>
<li>undefined è½¬æ¢ä¹‹åä»æ˜¯ undefined(ç±»å‹ä¹Ÿæ˜¯ <code>undefined</code>)</li>
<li>boolean å€¼è½¬æ¢ä¹‹åæ˜¯å­—ç¬¦ä¸² <code>&quot;false&quot;/&quot;true&quot;</code></li>
<li>number ç±»å‹(é™¤äº† <code>NaN</code> å’Œ <code>Infinity</code>)è½¬æ¢ä¹‹åæ˜¯å­—ç¬¦ä¸²ç±»å‹çš„æ•°å€¼</li>
<li>symbol è½¬æ¢ä¹‹åæ˜¯ <code>undefined</code></li>
<li>null è½¬æ¢ä¹‹åæ˜¯å­—ç¬¦ä¸² <code>&quot;null&quot;</code></li>
<li>string è½¬æ¢ä¹‹åä»æ˜¯ string</li>
<li><code>NaN</code> å’Œ <code>Infinity</code> è½¬æ¢ä¹‹åæ˜¯å­—ç¬¦ä¸² <code>&quot;null&quot;</code></li>
</ul>
<p>2ã€å¦‚æœæ˜¯å‡½æ•°ç±»å‹</p>
<ul>
<li>è½¬æ¢ä¹‹åæ˜¯ <code>undefined</code></li>
</ul>
<p>3ã€å¦‚æœæ˜¯å¯¹è±¡ç±»å‹(éå‡½æ•°)</p>
<ul>
<li>å¦‚æœæœ‰ <code>toJSON()</code> æ–¹æ³•ï¼Œé‚£ä¹ˆåºåˆ—åŒ– <code>toJSON()</code> çš„è¿”å›å€¼ã€‚</li>
<li>å¦‚æœæ˜¯ä¸€ä¸ªæ•°ç»„<ul>
<li>å¦‚æœå±æ€§å€¼ä¸­å‡ºç°äº† <code>undefined</code>ã€ä»»æ„çš„å‡½æ•°ä»¥åŠ <code>symbol</code>ï¼Œè½¬æ¢æˆå­—ç¬¦ä¸² <code>&quot;null&quot;</code></li>
</ul>
</li>
<li>å¦‚æœæ˜¯ <code>RegExp</code> å¯¹è±¡ã€‚<br>è¿”å› <code>&#123;&#125;</code> (ç±»å‹æ˜¯ string)</li>
<li>å¦‚æœæ˜¯ <code>Date</code> å¯¹è±¡ï¼Œè¿”å› <code>Date</code> çš„ <code>toJSON</code> å­—ç¬¦ä¸²å€¼</li>
<li>å¦‚æœæ˜¯æ™®é€šå¯¹è±¡ï¼›<ul>
<li>å¦‚æœå±æ€§å€¼ä¸­å‡ºç°äº† <code>undefined</code>ã€ä»»æ„çš„å‡½æ•°ä»¥åŠ symbol å€¼ï¼Œå¿½ç•¥ã€‚</li>
<li>æ‰€æœ‰ä»¥ <code>symbol</code> ä¸ºå±æ€§é”®çš„å±æ€§éƒ½ä¼šè¢«å®Œå…¨å¿½ç•¥æ‰ã€‚</li>
</ul>
</li>
</ul>
<p>4ã€å¯¹åŒ…å«å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ï¼ˆå¯¹è±¡ä¹‹é—´ç›¸äº’å¼•ç”¨ï¼Œå½¢æˆæ— é™å¾ªç¯ï¼‰æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<blockquote>
<p>æ¨¡æ‹Ÿå®ç°</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsonStringify</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> dataType = <span class="keyword">typeof</span> data;</span><br><span class="line">  <span class="keyword">if</span> (dataType !== <span class="string">&quot;object&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = data;</span><br><span class="line">    <span class="comment">//data å¯èƒ½æ˜¯ string/number/null/undefined/boolean</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Number</span>.isNaN(data) || data === <span class="literal">Infinity</span>) &#123;</span><br><span class="line">      <span class="comment">//NaN å’Œ Infinity åºåˆ—åŒ–è¿”å› &quot;null&quot;</span></span><br><span class="line">      result = <span class="string">&quot;null&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">      dataType === <span class="string">&quot;function&quot;</span> ||</span><br><span class="line">      dataType === <span class="string">&quot;undefined&quot;</span> ||</span><br><span class="line">      dataType === <span class="string">&quot;symbol&quot;</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="comment">//function ã€undefined ã€symbol åºåˆ—åŒ–è¿”å› undefined</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dataType === <span class="string">&quot;string&quot;</span>) &#123;</span><br><span class="line">      result = <span class="string">&#x27;&quot;&#x27;</span> + data + <span class="string">&#x27;&quot;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//boolean è¿”å› String()</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">String</span>(result);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dataType === <span class="string">&quot;object&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (data === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;null&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.toJSON &amp;&amp; <span class="keyword">typeof</span> data.toJSON === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> jsonStringify(data.toJSON());</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> result = [];</span><br><span class="line">      <span class="comment">//å¦‚æœæ˜¯æ•°ç»„</span></span><br><span class="line">      <span class="comment">//toJSON æ–¹æ³•å¯ä»¥å­˜åœ¨äºåŸå‹é“¾ä¸­</span></span><br><span class="line">      data.forEach(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">          <span class="keyword">typeof</span> item === <span class="string">&quot;undefined&quot;</span> ||</span><br><span class="line">          <span class="keyword">typeof</span> item === <span class="string">&quot;function&quot;</span> ||</span><br><span class="line">          <span class="keyword">typeof</span> item === <span class="string">&quot;symbol&quot;</span></span><br><span class="line">        ) &#123;</span><br><span class="line">          result[index] = <span class="string">&quot;null&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          result[index] = jsonStringify(item);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      result = <span class="string">&quot;[&quot;</span> + result + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">      <span class="keyword">return</span> result.replace(<span class="regexp">/&#x27;/g</span>, <span class="string">&#x27;&quot;&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">//æ™®é€šå¯¹è±¡</span></span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * å¾ªç¯å¼•ç”¨æŠ›é”™(æš‚æœªæ£€æµ‹ï¼Œå¾ªç¯å¼•ç”¨æ—¶ï¼Œå †æ ˆæº¢å‡º)</span></span><br><span class="line"><span class="comment">       * symbol key å¿½ç•¥</span></span><br><span class="line"><span class="comment">       * undefinedã€å‡½æ•°ã€symbol ä¸ºå±æ€§å€¼ï¼Œè¢«å¿½ç•¥</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">let</span> result = [];</span><br><span class="line">      <span class="built_in">Object</span>.keys(data).forEach(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> item !== <span class="string">&quot;symbol&quot;</span>) &#123;</span><br><span class="line">          <span class="comment">//key å¦‚æœæ˜¯symbolå¯¹è±¡ï¼Œå¿½ç•¥</span></span><br><span class="line">          <span class="keyword">if</span> (</span><br><span class="line">            data[item] !== <span class="literal">undefined</span> &amp;&amp;</span><br><span class="line">            <span class="keyword">typeof</span> data[item] !== <span class="string">&quot;function&quot;</span> &amp;&amp;</span><br><span class="line">            <span class="keyword">typeof</span> data[item] !== <span class="string">&quot;symbol&quot;</span></span><br><span class="line">          ) &#123;</span><br><span class="line">            <span class="comment">//é”®å€¼å¦‚æœæ˜¯ undefinedã€å‡½æ•°ã€symbol ä¸ºå±æ€§å€¼ï¼Œå¿½ç•¥</span></span><br><span class="line">            result.push(<span class="string">&#x27;&quot;&#x27;</span> + item + <span class="string">&#x27;&quot;&#x27;</span> + <span class="string">&quot;:&quot;</span> + jsonStringify(data[item]));</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">return</span> (<span class="string">&quot;&#123;&quot;</span> + result + <span class="string">&quot;&#125;&quot;</span>).replace(<span class="regexp">/&#x27;/g</span>, <span class="string">&#x27;&quot;&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-å®ç°ä¸€ä¸ª-JSON-parse-ï¼ˆ2019-10-28ï¼‰"><a href="#2-å®ç°ä¸€ä¸ª-JSON-parse-ï¼ˆ2019-10-28ï¼‰" class="headerlink" title="2. å®ç°ä¸€ä¸ª JSON.parse  ï¼ˆ2019-10-28ï¼‰"></a>2. å®ç°ä¸€ä¸ª <code>JSON.parse </code> ï¼ˆ2019-10-28ï¼‰</h3><p><code>JSON.parse(JSON.parse(text[, reviver])</code> æ–¹æ³•ç”¨æ¥è§£æ JSON å­—ç¬¦ä¸²ï¼Œæ„é€ ç”±å­—ç¬¦ä¸²æè¿°çš„ JavaScript å€¼æˆ–å¯¹è±¡ã€‚æä¾›å¯é€‰çš„ reviver å‡½æ•°ç”¨ä»¥åœ¨è¿”å›ä¹‹å‰å¯¹æ‰€å¾—åˆ°çš„å¯¹è±¡æ‰§è¡Œå˜æ¢ã€‚æ­¤å¤„æ¨¡æ‹Ÿå®ç°ï¼Œä¸è€ƒè™‘å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•° <code>reviver</code> ï¼Œå¦‚æœå¯¹è¿™ä¸ªå‚æ•°çš„ä½œç”¨è¿˜ä¸äº†è§£ï¼Œå»ºè®®é˜…è¯» <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse">MDN</a> æ–‡æ¡£ã€‚</p>
<p><strong>ç¬¬ä¸€ç§æ–¹å¼ eval</strong></p>
<p>æœ€ç®€å•ï¼Œæœ€ç›´è§‚çš„æ–¹å¼å°±æ˜¯è°ƒç”¨ <code>eval</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> json = <span class="string">&#x27;&#123;&quot;name&quot;:&quot;å°å§å§&quot;, &quot;age&quot;:20&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">eval</span>(<span class="string">&quot;(&quot;</span> + json + <span class="string">&quot;)&quot;</span>); <span class="comment">// obj å°±æ˜¯ json ååºåˆ—åŒ–ä¹‹åå¾—åˆ°çš„å¯¹è±¡</span></span><br></pre></td></tr></table></figure>

<p>ç›´æ¥è°ƒç”¨ <code>eval</code> å­˜åœ¨ <code>XSS</code> æ¼æ´ï¼Œæ•°æ®ä¸­å¯èƒ½ä¸æ˜¯ <code>json</code> æ•°æ®ï¼Œè€Œæ˜¯å¯æ‰§è¡Œçš„ <code>JavaScript</code> ä»£ç ã€‚å› æ­¤ï¼Œåœ¨è°ƒç”¨ <code>eval</code> ä¹‹å‰ï¼Œéœ€è¦å¯¹æ•°æ®è¿›è¡Œæ ¡éªŒã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rx_one = <span class="regexp">/^[\],:&#123;&#125;\s]*$/</span>;</span><br><span class="line"><span class="keyword">var</span> rx_two = <span class="regexp">/\\(?:[&quot;\\\/bfnrt]|u[0-9a-fA-F]&#123;4&#125;)/g</span>;</span><br><span class="line"><span class="keyword">var</span> rx_three = <span class="regexp">/&quot;[^&quot;\\\n\r]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g</span>;</span><br><span class="line"><span class="keyword">var</span> rx_four = <span class="regexp">/(?:^|:|,)(?:\s*\[)+/g</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (</span><br><span class="line">  rx_one.test(</span><br><span class="line">    json.replace(rx_two, <span class="string">&quot;@&quot;</span>).replace(rx_three, <span class="string">&quot;]&quot;</span>).replace(rx_four, <span class="string">&quot;&quot;</span>)</span><br><span class="line">  )</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">var</span> obj = <span class="built_in">eval</span>(<span class="string">&quot;(&quot;</span> + json + <span class="string">&quot;)&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>JSON</code> æ˜¯ JS çš„å­é›†ï¼Œå¯ä»¥ç›´æ¥äº¤ç»™ <code>eval</code> è¿è¡Œã€‚</p>
<p><strong>ç¬¬äºŒç§æ–¹å¼ <code>new Function</code></strong></p>
<p><code>Function</code> ä¸ <code>eval</code> æœ‰ç›¸åŒçš„å­—ç¬¦ä¸²å‚æ•°ç‰¹æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> json = <span class="string">&#x27;&#123;&quot;name&quot;:&quot;å°å§å§&quot;, &quot;age&quot;:20&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">&quot;return &quot;</span> + json)();</span><br></pre></td></tr></table></figure>

<h3 id="3-å®ç°ä¸€ä¸ªè§‚å¯Ÿè€…æ¨¡å¼-ï¼ˆ2019-10-29ï¼‰"><a href="#3-å®ç°ä¸€ä¸ªè§‚å¯Ÿè€…æ¨¡å¼-ï¼ˆ2019-10-29ï¼‰" class="headerlink" title="3. å®ç°ä¸€ä¸ªè§‚å¯Ÿè€…æ¨¡å¼ ï¼ˆ2019-10-29ï¼‰"></a>3. å®ç°ä¸€ä¸ªè§‚å¯Ÿè€…æ¨¡å¼ ï¼ˆ2019-10-29ï¼‰</h3><p>è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥ï¼Œå¹¶è‡ªåŠ¨æ›´æ–°ã€‚è§‚å¯Ÿè€…æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ï¼Œè¡Œä¸ºå‹æ¨¡å¼å…³æ³¨çš„æ˜¯å¯¹è±¡ä¹‹é—´çš„é€šè®¯ï¼Œè§‚å¯Ÿè€…æ¨¡å¼å°±æ˜¯è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…ä¹‹é—´çš„é€šè®¯ã€‚</p>
<p>è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ç›´æ¥è®¢é˜…ï¼ˆSubscribeï¼‰ä¸»é¢˜ï¼ˆSubjectï¼‰ï¼Œè€Œå½“ä¸»é¢˜è¢«æ¿€æ´»çš„æ—¶å€™ï¼Œä¼šè§¦å‘ï¼ˆFire Eventï¼‰è§‚å¯Ÿè€…é‡Œçš„äº‹ä»¶ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æœ‰ä¸€å®¶çŒäººå·¥ä¼šï¼Œå…¶ä¸­æ¯ä¸ªçŒäººéƒ½å…·æœ‰å‘å¸ƒä»»åŠ¡(publish)ï¼Œè®¢é˜…ä»»åŠ¡(subscribe)çš„åŠŸèƒ½</span></span><br><span class="line"><span class="comment">//ä»–ä»¬éƒ½æœ‰ä¸€ä¸ªè®¢é˜…åˆ—è¡¨æ¥è®°å½•è°è®¢é˜…äº†è‡ªå·±</span></span><br><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªçŒäººç±»</span></span><br><span class="line"><span class="comment">//åŒ…æ‹¬å§“åï¼Œçº§åˆ«ï¼Œè®¢é˜…åˆ—è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hunter</span>(<span class="params">name, level</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.level = level;</span><br><span class="line">  <span class="built_in">this</span>.list = [];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Hunter.prototype.publish = <span class="function"><span class="keyword">function</span> (<span class="params">money</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.level + <span class="string">&quot;çŒäºº&quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot;å¯»æ±‚å¸®åŠ©&quot;</span>);</span><br><span class="line">  <span class="built_in">this</span>.list.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">    item(money);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Hunter.prototype.subscribe = <span class="function"><span class="keyword">function</span> (<span class="params">targrt, fn</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.level + <span class="string">&quot;çŒäºº&quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot;è®¢é˜…äº†&quot;</span> + targrt.name);</span><br><span class="line">  targrt.list.push(fn);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//çŒäººå·¥ä¼šèµ°æ¥äº†å‡ ä¸ªçŒäºº</span></span><br><span class="line"><span class="keyword">let</span> hunterMing = <span class="keyword">new</span> Hunter(<span class="string">&quot;å°æ˜&quot;</span>, <span class="string">&quot;é»„é‡‘&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> hunterJin = <span class="keyword">new</span> Hunter(<span class="string">&quot;å°é‡‘&quot;</span>, <span class="string">&quot;ç™½é“¶&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> hunterZhang = <span class="keyword">new</span> Hunter(<span class="string">&quot;å°å¼ &quot;</span>, <span class="string">&quot;é»„é‡‘&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> hunterPeter = <span class="keyword">new</span> Hunter(<span class="string">&quot;Peter&quot;</span>, <span class="string">&quot;é’é“œ&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Peterç­‰çº§è¾ƒä½ï¼Œå¯èƒ½éœ€è¦å¸®åŠ©ï¼Œæ‰€ä»¥å°æ˜ï¼Œå°é‡‘ï¼Œå°å¼ éƒ½è®¢é˜…äº†Peter</span></span><br><span class="line">hunterMing.subscribe(hunterPeter, <span class="function"><span class="keyword">function</span> (<span class="params">money</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(</span><br><span class="line">    <span class="string">&quot;å°æ˜è¡¨ç¤ºï¼š&quot;</span> + (money &gt; <span class="number">200</span> ? <span class="string">&quot;&quot;</span> : <span class="string">&quot;æš‚æ—¶å¾ˆå¿™ï¼Œä¸èƒ½&quot;</span>) + <span class="string">&quot;ç»™äºˆå¸®åŠ©&quot;</span></span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line">hunterJin.subscribe(hunterPeter, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;å°é‡‘è¡¨ç¤ºï¼šç»™äºˆå¸®åŠ©&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line">hunterZhang.subscribe(hunterPeter, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;å°å¼ è¡¨ç¤ºï¼šç»™äºˆå¸®åŠ©&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Peteré‡åˆ°å›°éš¾ï¼Œèµé‡‘198å¯»æ±‚å¸®åŠ©</span></span><br><span class="line">hunterPeter.publish(<span class="number">198</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//çŒäººä»¬(è§‚å¯Ÿè€…)å…³è”ä»–ä»¬æ„Ÿå…´è¶£çš„çŒäºº(ç›®æ ‡å¯¹è±¡)ï¼Œå¦‚Peterï¼Œå½“Peteræœ‰å›°éš¾æ—¶ï¼Œä¼šè‡ªåŠ¨é€šçŸ¥ç»™ä»–ä»¬ï¼ˆè§‚å¯Ÿè€…ï¼‰</span></span><br></pre></td></tr></table></figure>

<h3 id="5-ES6-æ¨¡å—å’Œ-CommonJS-æ¨¡å—æœ‰å“ªäº›å·®å¼‚ï¼Ÿï¼ˆ2019-10-30ï¼‰"><a href="#5-ES6-æ¨¡å—å’Œ-CommonJS-æ¨¡å—æœ‰å“ªäº›å·®å¼‚ï¼Ÿï¼ˆ2019-10-30ï¼‰" class="headerlink" title="5. ES6 æ¨¡å—å’Œ CommonJS æ¨¡å—æœ‰å“ªäº›å·®å¼‚ï¼Ÿï¼ˆ2019-10-30ï¼‰"></a>5. ES6 æ¨¡å—å’Œ <code>CommonJS</code> æ¨¡å—æœ‰å“ªäº›å·®å¼‚ï¼Ÿï¼ˆ2019-10-30ï¼‰</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/YvetteLau/Blog/issues/38">å‚è€ƒ</a></p>
</blockquote>
<ol>
<li><code>CommonJS</code> æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ã€‚</li>
</ol>
<ul>
<li>ES6 æ¨¡å—åœ¨ç¼–è¯‘æ—¶ï¼Œå°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œå®ƒçš„å¯¹å¤–æ¥å£åªæ˜¯ä¸€ç§é™æ€å®šä¹‰ï¼Œåœ¨ä»£ç é™æ€è§£æé˜¶æ®µå°±ä¼šç”Ÿæˆã€‚</li>
<li><code>CommonJS</code> åŠ è½½çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åªæœ‰åœ¨è„šæœ¬è¿è¡Œå®Œæ‰ä¼šç”Ÿæˆã€‚</li>
</ul>
<ol start="2">
<li><code>CommonJS</code> æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚</li>
</ol>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- `CommonJS` è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´(æ³¨æ„åŸºæœ¬æ•°æ®ç±»å‹/å¤æ‚æ•°æ®ç±»å‹)</span><br><span class="line"></span><br><span class="line">- ES6 æ¨¡å—æ˜¯åŠ¨æ€å¼•ç”¨ï¼Œå¹¶ä¸”ä¸ä¼šç¼“å­˜å€¼ï¼Œæ¨¡å—é‡Œé¢çš„å˜é‡ç»‘å®šå…¶æ‰€åœ¨çš„æ¨¡å—ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ES6 æ¨¡å—è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œæ— è®ºæ¨¡å—å¤´éƒ¨æ˜¯å¦å†™äº† <code>&quot;use strict&quot;;</code></li>
<li>require å¯ä»¥åšåŠ¨æ€åŠ è½½ï¼Œ<code>import</code> è¯­å¥åšä¸åˆ°ï¼Œ<code>import</code> è¯­å¥å¿…é¡»ä½äºé¡¶å±‚ä½œç”¨åŸŸä¸­ã€‚</li>
<li>ES6 æ¨¡å—çš„è¾“å…¥å˜é‡æ˜¯åªè¯»çš„ï¼Œä¸èƒ½å¯¹å…¶è¿›è¡Œé‡æ–°èµ‹å€¼</li>
<li>å½“ä½¿ç”¨ require å‘½ä»¤åŠ è½½æŸä¸ªæ¨¡å—æ—¶ï¼Œå°±ä¼šè¿è¡Œæ•´ä¸ªæ¨¡å—çš„ä»£ç ã€‚</li>
<li>å½“ä½¿ç”¨ require å‘½ä»¤åŠ è½½åŒä¸€ä¸ªæ¨¡å—æ—¶ï¼Œä¸ä¼šå†æ‰§è¡Œè¯¥æ¨¡å—ï¼Œè€Œæ˜¯å–åˆ°ç¼“å­˜ä¹‹ä¸­çš„å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒCommonJS æ¨¡å—æ— è®ºåŠ è½½å¤šå°‘æ¬¡ï¼Œéƒ½åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶è¿è¡Œä¸€æ¬¡ï¼Œä»¥åå†åŠ è½½ï¼Œå°±è¿”å›ç¬¬ä¸€æ¬¡è¿è¡Œçš„ç»“æœï¼Œé™¤éæ‰‹åŠ¨æ¸…é™¤ç³»ç»Ÿç¼“å­˜ã€‚</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%89%9B%E4%BA%BA%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">ç‰›äººé¢è¯•é¢˜</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-ComplexityAnalysis"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/09/11/ComplexityAnalysis/"
    >é¢è¯•ä¸­çš„å¤æ‚åº¦åˆ†æ</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/09/11/ComplexityAnalysis/" class="article-date">
  <time datetime="2019-09-11T11:56:35.000Z" itemprop="datePublished">2019-09-11</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%8E%A9%E8%BD%AC%E7%AE%97%E6%B3%95%E9%9D%A2%E8%AF%95/">ç©è½¬ç®—æ³•é¢è¯•</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="é¢è¯•ä¸­çš„å¤æ‚åº¦åˆ†æ"><a href="#é¢è¯•ä¸­çš„å¤æ‚åº¦åˆ†æ" class="headerlink" title="é¢è¯•ä¸­çš„å¤æ‚åº¦åˆ†æ"></a>é¢è¯•ä¸­çš„å¤æ‚åº¦åˆ†æ</h1><blockquote>
<p>å¾ˆå¤šåŒå­¦ä¸€æèµ·å¤æ‚åº¦åˆ†æå°±å¤´ç–¼ï¼Œé©¬ä¸Šæƒ³èµ·äº†ã€Šç®—æ³•å¯¼è®ºã€‹ä¸­å¤æ‚çš„æ•°å­¦æ¨å¯¼ã€‚ä½†å…¶å®åœ¨ä¸€èˆ¬çš„ä¼ä¸šé¢è¯•ä¸­ï¼Œå¯¹å¤æ‚åº¦çš„åˆ†æè¦æ±‚å¹¶æ²¡æœ‰é‚£ä¹ˆé«˜ï¼Œä½†ä¹Ÿæ˜¯ç»•ä¸è¿‡å»çš„åå„¿ã€‚åœ¨è¿™ä¸€ç« ï¼Œå’Œå¤§å®¶ä»‹ç»ä¸€ä¸‹ï¼Œé¢è¯•ä¸­éœ€è¦æŒæ¡çš„å¤æ‚åº¦åˆ†æã€‚â€¦</p>
</blockquote>
<h2 id="2-1-ç©¶ç«Ÿä»€ä¹ˆæ˜¯å¤§-Oï¼ˆBig-Oï¼‰"><a href="#2-1-ç©¶ç«Ÿä»€ä¹ˆæ˜¯å¤§-Oï¼ˆBig-Oï¼‰" class="headerlink" title="2-1 ç©¶ç«Ÿä»€ä¹ˆæ˜¯å¤§ Oï¼ˆBig Oï¼‰"></a>2-1 ç©¶ç«Ÿä»€ä¹ˆæ˜¯å¤§ Oï¼ˆBig Oï¼‰</h2><h4 id="å¤§-Oï¼Ÿ"><a href="#å¤§-Oï¼Ÿ" class="headerlink" title="å¤§ Oï¼Ÿ"></a>å¤§ Oï¼Ÿ</h4><ul>
<li>n è¡¨ç¤ºæ•°æ®è§„æ¨¡</li>
<li>Oï¼ˆf(n)ï¼‰è¡¨ç¤ºè¿è¡Œç®—æ³•æ‰€éœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤æ•°ï¼Œå’Œ f(n) æˆæ­£æ¯”</li>
</ul>
<h4 id="ä¾‹å¦‚"><a href="#ä¾‹å¦‚" class="headerlink" title="ä¾‹å¦‚"></a>ä¾‹å¦‚</h4><ul>
<li>äºŒåˆ†æŸ¥æ‰¾æ³• O(logn) â€” æ‰€éœ€æ‰§è¡ŒæŒ‡ä»¤æ•° ï¼ša * logn</li>
<li>å¯»æ‰¾ æ•°ç»„ä¸­çš„æœ€å¤§/æœ€å°å€¼ O(n) â€” æ‰€éœ€æ‰§è¡ŒæŒ‡ä»¤æ•° ï¼šb * n</li>
<li>å½’å¹¶æ’åºç®—æ³• O(nlogn) â€” æ‰€éœ€æ‰§è¡ŒæŒ‡ä»¤æ•° ï¼šc * nlogn</li>
<li>é€‰æ‹©æ’åºæ³• O(n^2) â€” æ‰€éœ€æ‰§è¡ŒæŒ‡ä»¤æ•° ï¼šd * n^2</li>
</ul>
<h3 id="åˆ°åº•ä»€ä¹ˆæ˜¯-Big-Oï¼Ÿ"><a href="#åˆ°åº•ä»€ä¹ˆæ˜¯-Big-Oï¼Ÿ" class="headerlink" title="åˆ°åº•ä»€ä¹ˆæ˜¯ Big Oï¼Ÿ"></a>åˆ°åº•ä»€ä¹ˆæ˜¯ Big Oï¼Ÿ</h3><p><img src="http://static.zxinc520.com/blog/20190909/61aLQ2wE8prQ.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190909/2PO7UfwEDOpW.png?imageslim" alt="mark"></p>
<p><strong>åœ¨å­¦æœ¯ç•Œ</strong>ï¼Œä¸¥æ ¼æ¥è®²ï¼ŒO(f(n)) è¡¨ç¤ºç®—æ³•æ‰§è¡Œçš„ä¸Šç•Œ</p>
<p>å½’å¹¶æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(nlogn)çš„ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ Oï¼ˆn^2ï¼‰</p>
<p><strong>åœ¨ä¸šç•Œ</strong>ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨ O æ¥è¡¨ç¤ºç®—æ³•æ‰§è¡Œçš„æœ€ä½ä¸Šç•Œ</p>
<p>æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šè¯´å½’å¹¶æ’åºæ˜¯ O(n^2)çš„</p>
<h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><ul>
<li>Oï¼ˆnlogn + nï¼‰= O ï¼ˆnlognï¼‰</li>
<li>Oï¼ˆnlogn + n^2ï¼‰=Oï¼ˆn^2ï¼‰</li>
</ul>
<h4 id="æ— æ³•åˆ¤æ–­"><a href="#æ— æ³•åˆ¤æ–­" class="headerlink" title="æ— æ³•åˆ¤æ–­"></a>æ— æ³•åˆ¤æ–­</h4><ul>
<li><p>Oï¼ˆAlogA + Bï¼‰ â€“ A ä¸ B æ— æ³•ç¡®å®š</p>
</li>
<li><p>Oï¼ˆAlogA + B ^2ï¼‰</p>
</li>
<li><p>å¯¹é‚»æ¥è¡¨å®ç°çš„å›¾è¿›è¡Œéå†</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šOï¼ˆ V + E ï¼‰</li>
</ul>
</li>
</ul>
<h3 id="ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦çš„é—®é¢˜"><a href="#ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦çš„é—®é¢˜" class="headerlink" title="ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦çš„é—®é¢˜"></a>ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦çš„é—®é¢˜</h3><p>æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå°†æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ç…§å­—æ¯åºæ’åºï¼›ä¹‹åå†å°†æ•´ä¸ªå­—ç¬¦ä¸²æ•°ç»„æŒ‰ç…§å­—å…¸åºæ’åºã€‚æ•´ä¸ªæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ï¼Ÿ</p>
<p><img src="http://static.zxinc520.com/blog/20190909/8cfiXUHkirne.png?imageslim" alt="mark"></p>
<p>æ­£ç¡®è§£ç­”ï¼š</p>
<ul>
<li>å‡è®¾æœ€é•¿çš„å­—ç¬¦ä¸²é•¿åº¦ä¸º s ï¼›æ•°ç»„ä¸­æœ‰ n ä¸ªå­—ç¬¦ä¸²</li>
<li>å¯¹æ¯ä¸ªå­—ç¬¦ä¸²æ’åºï¼šOï¼ˆslogsï¼‰</li>
<li>å°†æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ç…§å­—æ¯åºæ’åºï¼šOï¼ˆn * slog(s) ï¼‰</li>
<li>å°†æ•´ä¸ªå­—ç¬¦ä¸²æ•°ç»„æŒ‰ç…§å­—å…¸åºæ’åºï¼šOï¼ˆs * nlog(n) ï¼‰</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190909/Q5nKtKe1dCi7.png?imageslim" alt="mark"></p>
<h3 id="ç®—æ³•å¤æ‚åº¦åœ¨æœ‰äº›æƒ…å†µæ˜¯ç”¨ä¾‹ç›¸å…³çš„"><a href="#ç®—æ³•å¤æ‚åº¦åœ¨æœ‰äº›æƒ…å†µæ˜¯ç”¨ä¾‹ç›¸å…³çš„" class="headerlink" title="ç®—æ³•å¤æ‚åº¦åœ¨æœ‰äº›æƒ…å†µæ˜¯ç”¨ä¾‹ç›¸å…³çš„"></a>ç®—æ³•å¤æ‚åº¦åœ¨æœ‰äº›æƒ…å†µæ˜¯ç”¨ä¾‹ç›¸å…³çš„</h3><ul>
<li><p>æ’å…¥æ’åº Oï¼ˆn ^ 2ï¼‰</p>
<ul>
<li>æœ€å·®æƒ…å†µï¼šOï¼ˆn ^ 2ï¼‰</li>
<li>æœ€å¥½æƒ…å†µï¼šOï¼ˆnï¼‰</li>
<li>å¹³å‡æƒ…å†µï¼šOï¼ˆn ^ 2ï¼‰</li>
</ul>
</li>
<li><p>å¿«é€Ÿæ’åºç®—æ³• O ï¼ˆnlognï¼‰</p>
<ul>
<li>æœ€å·®æƒ…å†µï¼šOï¼ˆn ^ 2ï¼‰</li>
<li>æœ€å¥½æƒ…å†µï¼šOï¼ˆ nlogn ï¼‰</li>
<li>å¹³å‡æƒ…å†µï¼šOï¼ˆ nlogn ï¼‰</li>
</ul>
</li>
</ul>
<h2 id="2-2-å¯¹æ•°æ®è§„æ¨¡æœ‰ä¸€ä¸ªæ¦‚å¿µ"><a href="#2-2-å¯¹æ•°æ®è§„æ¨¡æœ‰ä¸€ä¸ªæ¦‚å¿µ" class="headerlink" title="2-2 å¯¹æ•°æ®è§„æ¨¡æœ‰ä¸€ä¸ªæ¦‚å¿µ"></a>2-2 å¯¹æ•°æ®è§„æ¨¡æœ‰ä¸€ä¸ªæ¦‚å¿µ</h2><h3 id="æŠ›å‡ºé—®é¢˜"><a href="#æŠ›å‡ºé—®é¢˜" class="headerlink" title="æŠ›å‡ºé—®é¢˜"></a>æŠ›å‡ºé—®é¢˜</h3><p>å¯¹ 10 ^ 5 çš„æ•°æ®è¿›è¡Œé€‰æ‹©æ’åºï¼Œç»“æœè®¡ç®—æœºå‡æ­»ï¼Ÿ</p>
<ul>
<li>å¦‚æœè¦æƒ³åœ¨ 1s ä¹‹å†…è§£å†³é—®é¢˜ï¼š<ul>
<li>Oï¼ˆn ^ 2ï¼‰çš„ç®—æ³•å¯ä»¥å¤„ç†å¤§çº¦ 10 ^ 4 çº§åˆ«çš„æ•°æ®</li>
<li>Oï¼ˆ n ï¼‰çš„ç®—æ³•å¯ä»¥å¤„ç†å¤§çº¦ 10 ^ 8 çº§åˆ«çš„æ•°æ®</li>
<li>Oï¼ˆ nlogn ï¼‰çš„ç®—æ³•å¯ä»¥å¤„ç†å¤§çº¦ 10 ^7 çº§åˆ«çš„æ•°æ®</li>
</ul>
</li>
</ul>
<h3 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h3><ul>
<li>å¤šå¼€ä¸€ä¸ªè¾…åŠ©çš„æ•°ç»„ï¼šOï¼ˆnï¼‰</li>
<li>å¤šå¼€ä¸€ä¸ªè¾…åŠ©çš„äºŒç»´æ•°ç»„ï¼šOï¼ˆn ^ 2ï¼‰</li>
<li>å¤šå¼€å¸¸æ•°ç©ºé—´ï¼šOï¼ˆ1ï¼‰</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190909/7uFcA2L2OHhI.png?imageslim" alt="mark"></p>
<h2 id="2-3-ç®€å•çš„å¤æ‚åº¦åˆ†æ"><a href="#2-3-ç®€å•çš„å¤æ‚åº¦åˆ†æ" class="headerlink" title="2-3 ç®€å•çš„å¤æ‚åº¦åˆ†æ"></a>2-3 ç®€å•çš„å¤æ‚åº¦åˆ†æ</h2><h3 id="Oï¼ˆ1ï¼‰ï¼š"><a href="#Oï¼ˆ1ï¼‰ï¼š" class="headerlink" title="Oï¼ˆ1ï¼‰ï¼š"></a>Oï¼ˆ1ï¼‰ï¼š</h3><p><img src="http://static.zxinc520.com/blog/20190909/wmyLLvW5hvGh.png?imageslim" alt="mark"></p>
<h3 id="Oï¼ˆ-n-ï¼‰ï¼š"><a href="#Oï¼ˆ-n-ï¼‰ï¼š" class="headerlink" title="Oï¼ˆ n ï¼‰ï¼š"></a>Oï¼ˆ n ï¼‰ï¼š</h3><p><img src="http://static.zxinc520.com/blog/20190909/R4zqgJ9zJqqs.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190909/fujJT4N78Ybh.png?imageslim" alt="mark"></p>
<p>1/2 *n æ¬¡ swap æ“ä½œä¹Ÿæ˜¯ï¼šO(n) ã€‚</p>
<h3 id="Oï¼ˆn-2ï¼‰-é€‰æ‹©æ’åº"><a href="#Oï¼ˆn-2ï¼‰-é€‰æ‹©æ’åº" class="headerlink" title="Oï¼ˆn ^ 2ï¼‰: ( é€‰æ‹©æ’åº )"></a>Oï¼ˆn ^ 2ï¼‰: ( é€‰æ‹©æ’åº )</h3><p><img src="http://static.zxinc520.com/blog/20190909/HPtrTeSx6DsB.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190909/rh5JcB9dA8ux.png?imageslim" alt="mark"></p>
<p>å¹¶ä¸æ˜¯æ‰€æœ‰åŒé‡å¾ªç¯éƒ½æ˜¯ Oï¼ˆn ^ 2ï¼‰ï¼šä¾‹å¦‚ ã€å› ä¸ºé‡Œé¢çš„å¾ªç¯æ¬¡æ•°æ˜¯å›ºå®šçš„ ã€‘</p>
<p><img src="http://static.zxinc520.com/blog/20190909/Vs0lBjzBPEi9.png?imageslim" alt="mark"></p>
<p>ä¸‹é¢ç®—æ³•æ˜¯ Oï¼ˆlognï¼‰çº§åˆ«çš„ï¼š ã€ è‡ªå¢å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½åŠ  1 ã€‘</p>
<p><img src="http://static.zxinc520.com/blog/20190909/QJC2YLSAOdAk.png?imageslim" alt="mark"></p>
<p>ä¸‹é¢ç®—æ³•æ˜¯ Oï¼ˆ sqrt (n) ï¼‰ã€ åˆ¤æ–­ n æ˜¯ä¸æ˜¯ ä¸€ä¸ªç´ æ•°ã€‘</p>
<p><img src="http://static.zxinc520.com/blog/20190909/QeClcFN8EsWa.png?imageslim" alt="mark"></p>
<h3 id="Oï¼ˆlognï¼‰ï¼šï¼ˆ-äºŒåˆ†æŸ¥æ‰¾æ³•-ï¼‰"><a href="#Oï¼ˆlognï¼‰ï¼šï¼ˆ-äºŒåˆ†æŸ¥æ‰¾æ³•-ï¼‰" class="headerlink" title="Oï¼ˆlognï¼‰ï¼šï¼ˆ äºŒåˆ†æŸ¥æ‰¾æ³• ï¼‰"></a>Oï¼ˆlognï¼‰ï¼šï¼ˆ äºŒåˆ†æŸ¥æ‰¾æ³• ï¼‰</h3><p><img src="http://static.zxinc520.com/blog/20190909/HCC3KITFnmlL.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190909/Y18HXPKRMICe.png?imageslim" alt="mark"></p>
<h4 id="æ•´å½¢è½¬æˆå­—ç¬¦ä¸²"><a href="#æ•´å½¢è½¬æˆå­—ç¬¦ä¸²" class="headerlink" title="æ•´å½¢è½¬æˆå­—ç¬¦ä¸²"></a>æ•´å½¢è½¬æˆå­—ç¬¦ä¸²</h4><p><img src="http://static.zxinc520.com/blog/20190909/gDCAKNS0NtKo.png?imageslim" alt="mark"></p>
<h3 id="log-ä»¥-2-ä¸ºåº•-å’Œ-ä»¥-10-ä¸ºåº•æœ‰åŒºåˆ«å—"><a href="#log-ä»¥-2-ä¸ºåº•-å’Œ-ä»¥-10-ä¸ºåº•æœ‰åŒºåˆ«å—" class="headerlink" title="log ä»¥ 2 ä¸ºåº• å’Œ ä»¥ 10 ä¸ºåº•æœ‰åŒºåˆ«å—"></a>log ä»¥ 2 ä¸ºåº• å’Œ ä»¥ 10 ä¸ºåº•æœ‰åŒºåˆ«å—</h3><p><img src="http://static.zxinc520.com/blog/20190909/hhkkzyo7uTJM.png?imageslim" alt="mark"></p>
<h2 id="2-4-äº²è‡ªè¯•éªŒè‡ªå·±ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦"><a href="#2-4-äº²è‡ªè¯•éªŒè‡ªå·±ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦" class="headerlink" title="2-4 äº²è‡ªè¯•éªŒè‡ªå·±ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦"></a>2-4 äº²è‡ªè¯•éªŒè‡ªå·±ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦</h2><h3 id="å¤æ‚åº¦å®éªŒ"><a href="#å¤æ‚åº¦å®éªŒ" class="headerlink" title="å¤æ‚åº¦å®éªŒ"></a>å¤æ‚åº¦å®éªŒ</h3><p>å®éªŒï¼Œè§‚å¯Ÿè¶‹åŠ¿</p>
<p>æ¯æ¬¡ å°†æ•°æ®è§„æ¨¡æé«˜ä¸¤å€ï¼Œçœ‹æ—¶é—´çš„å˜åŒ–</p>
<h2 id="2-5-é€’å½’ç®—æ³•çš„å¤æ‚åº¦åˆ†æ"><a href="#2-5-é€’å½’ç®—æ³•çš„å¤æ‚åº¦åˆ†æ" class="headerlink" title="2-5 é€’å½’ç®—æ³•çš„å¤æ‚åº¦åˆ†æ"></a>2-5 é€’å½’ç®—æ³•çš„å¤æ‚åº¦åˆ†æ</h2><blockquote>
<p>ä¸æ˜¯æœ‰é€’å½’çš„å‡½æ•°å°±ä¸€å®šæ˜¯ Oï¼ˆ nlogn ï¼‰ï¼</p>
</blockquote>
<h3 id="é€’å½’ä¸­è¿›è¡Œä¸€æ¬¡é€’å½’è°ƒç”¨çš„å¤æ‚åº¦åˆ†æ"><a href="#é€’å½’ä¸­è¿›è¡Œä¸€æ¬¡é€’å½’è°ƒç”¨çš„å¤æ‚åº¦åˆ†æ" class="headerlink" title="é€’å½’ä¸­è¿›è¡Œä¸€æ¬¡é€’å½’è°ƒç”¨çš„å¤æ‚åº¦åˆ†æ"></a>é€’å½’ä¸­è¿›è¡Œä¸€æ¬¡é€’å½’è°ƒç”¨çš„å¤æ‚åº¦åˆ†æ</h3><p>äºŒåˆ†æ³•ä½¿ç”¨é€’å½’ï¼š</p>
<p><img src="http://static.zxinc520.com/blog/20190911/Vrm1PVyknLyf.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190911/HKc9QUhHzufd.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190911/Mrr5oypWBxGk.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190911/1hAzDU4ifP7w.png?imageslim" alt="mark"></p>
<p>å¼•ç”³ï¼šä¸Šè¿° å‡½æ•°å¢åŠ æ±‚ è´Ÿæ¬¡å¹‚ï¼Ÿ</p>
<h3 id="é€’å½’ä¸­è¿›è¡Œå¤šæ¬¡é€’å½’è°ƒç”¨"><a href="#é€’å½’ä¸­è¿›è¡Œå¤šæ¬¡é€’å½’è°ƒç”¨" class="headerlink" title="é€’å½’ä¸­è¿›è¡Œå¤šæ¬¡é€’å½’è°ƒç”¨"></a>é€’å½’ä¸­è¿›è¡Œå¤šæ¬¡é€’å½’è°ƒç”¨</h3><p><img src="http://static.zxinc520.com/blog/20190911/DmVGKhPNOvil.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190911/vlrGbmrXl4uo.png?imageslim" alt="mark"></p>
<p>æ·±åº¦ä¸ä¸€æ ·ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰ å¤šæ¬¡é€’å½’è°ƒç”¨ çš„æ—¶é—´å¤æ‚åº¦ ä¸ºï¼šOï¼ˆ2 ^ nï¼‰</p>
<p><img src="http://static.zxinc520.com/blog/20190911/copG1I1hd0ya.png?imageslim" alt="mark"></p>
<h4 id="é€’å½’å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦"><a href="#é€’å½’å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦" class="headerlink" title="é€’å½’å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦"></a>é€’å½’å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦</h4><p>æŸ¥é˜… <strong>ä¸»å®šç†</strong> ï¼ˆé¢è¯•ä¸€èˆ¬ä¸è€ƒå¯Ÿï¼‰</p>
<h2 id="2-6-å‡æ‘Šæ—¶é—´å¤æ‚åº¦åˆ†æï¼ˆAmortized-Time-Analysisï¼‰"><a href="#2-6-å‡æ‘Šæ—¶é—´å¤æ‚åº¦åˆ†æï¼ˆAmortized-Time-Analysisï¼‰" class="headerlink" title="2-6 å‡æ‘Šæ—¶é—´å¤æ‚åº¦åˆ†æï¼ˆAmortized Time Analysisï¼‰"></a>2-6 å‡æ‘Šæ—¶é—´å¤æ‚åº¦åˆ†æï¼ˆAmortized Time Analysisï¼‰</h2><p><img src="http://static.zxinc520.com/blog/20190911/lH5rYQsGwqtN.png?imageslim" alt="mark"></p>
<h2 id="2-7-é¿å…å¤æ‚åº¦çš„éœ‡è¡"><a href="#2-7-é¿å…å¤æ‚åº¦çš„éœ‡è¡" class="headerlink" title="2-7 é¿å…å¤æ‚åº¦çš„éœ‡è¡"></a>2-7 é¿å…å¤æ‚åº¦çš„éœ‡è¡</h2><p><img src="http://static.zxinc520.com/blog/20190911/glngyIU8g3Mi.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190911/AFsH4CLIkIE3.png?imageslim" alt="mark"></p>
<h3 id="å¤æ‚åº¦çš„éœ‡è¡çš„è§£å†³æ–¹æ¡ˆ"><a href="#å¤æ‚åº¦çš„éœ‡è¡çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å¤æ‚åº¦çš„éœ‡è¡çš„è§£å†³æ–¹æ¡ˆ"></a>å¤æ‚åº¦çš„éœ‡è¡çš„è§£å†³æ–¹æ¡ˆ</h3><p><img src="http://static.zxinc520.com/blog/20190911/hwAvgAw9rUM1.png?imageslim" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/" rel="tag">å¤æ‚åº¦åˆ†æ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%A7-O%EF%BC%9F/" rel="tag">å¤§ Oï¼Ÿ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95%E9%9D%A2%E8%AF%95/" rel="tag">ç®—æ³•é¢è¯•</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-AlgorithmForTheInterview01"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/09/09/AlgorithmForTheInterview01/"
    >ç®—æ³•é¢è¯•åˆ°åº•æ˜¯ä»€ä¹ˆé¬¼</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/09/09/AlgorithmForTheInterview01/" class="article-date">
  <time datetime="2019-09-09T02:43:24.000Z" itemprop="datePublished">2019-09-09</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%8E%A9%E8%BD%AC%E7%AE%97%E6%B3%95%E9%9D%A2%E8%AF%95/">ç©è½¬ç®—æ³•é¢è¯•</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="ç®—æ³•é¢è¯•åˆ°åº•æ˜¯ä»€ä¹ˆé¬¼"><a href="#ç®—æ³•é¢è¯•åˆ°åº•æ˜¯ä»€ä¹ˆé¬¼" class="headerlink" title="ç®—æ³•é¢è¯•åˆ°åº•æ˜¯ä»€ä¹ˆé¬¼?"></a>ç®—æ³•é¢è¯•åˆ°åº•æ˜¯ä»€ä¹ˆé¬¼?</h1><blockquote>
<p>ç©è½¬ç®—æ³•é¢è¯• ä»çœŸé¢˜åˆ°æ€ç»´å…¨é¢æå‡ç®—æ³•æ€ç»´</p>
<p>ä¸ºäº†é¢è¯•ï¼Œæ›´ä¸ºäº†æå‡ä½ çš„ç®—æ³•æ€ç»´</p>
<p>ä¸€æèµ·ç®—æ³•é¢è¯•ï¼Œå¾ˆå¤šåŒå­¦å°±ä¼šå¿ƒæœ‰ä½™æ‚¸ã€‚å¯å…¶å®ï¼Œå¤§å¤šæ•°ä¼ä¸šçš„ç®—æ³•é¢è¯•ï¼Œå¹¶æ²¡æœ‰é‚£ä¹ˆå¯æ€•ã€‚å¹¶ä¸æ˜¯ä¸€å®šè¦å•ƒå®Œæ•´æœ¬ã€Šç®—æ³•å¯¼è®ºã€‹ï¼Œæ‰èƒ½ç©å„¿è½¬ç®—æ³•é¢è¯•ï¼›ä¹Ÿå¹¶ä¸æ˜¯åªæœ‰ ACM å‚èµ›é€‰æ‰‹ï¼Œæ‰èƒ½ç¬‘å‚²ç®—æ³•é¢è¯•ã€‚æ°æ°ç›¸åï¼Œå¤§å¤šæ•°ç®—æ³•é¢è¯•å…³æ³¨çš„ç®—æ³•æ€ç»´ï¼Œå…¶å®å¾ˆåŸºç¡€ã€‚åœ¨è¿™ä¸€ç« ï¼Œå’Œå¤§å®¶èŠä¸€èŠï¼Œç®—æ³•é¢è¯•ï¼Œåˆ°åº•æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿâ€¦</p>
</blockquote>
<h2 id="1-1-ç®—æ³•é¢è¯•ä¸ä»…ä»…æ˜¯æ­£ç¡®çš„å›ç­”é—®é¢˜"><a href="#1-1-ç®—æ³•é¢è¯•ä¸ä»…ä»…æ˜¯æ­£ç¡®çš„å›ç­”é—®é¢˜" class="headerlink" title="1-1 ç®—æ³•é¢è¯•ä¸ä»…ä»…æ˜¯æ­£ç¡®çš„å›ç­”é—®é¢˜"></a>1-1 ç®—æ³•é¢è¯•ä¸ä»…ä»…æ˜¯æ­£ç¡®çš„å›ç­”é—®é¢˜</h2><h4 id="ç®—æ³•é¢è¯•æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ç®—æ³•é¢è¯•æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ç®—æ³•é¢è¯•æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ç®—æ³•é¢è¯•æ˜¯ä»€ä¹ˆï¼Ÿ</h4><ul>
<li>è®©å¤§å®¶åœ¨é¢å¯¹é¢è¯•ä¸­çš„ç®—æ³•é—®é¢˜æ—¶ï¼Œæœ‰ä¸€ä¸ªåˆç†çš„æ€è€ƒè·¯å¾„<ul>
<li>ä¸ä»£è¡¨èƒ½å¤Ÿâ€œæ­£ç¡®â€å›ç­”æ¯ä¸€ä¸ªç®—æ³•é—®é¢˜ï¼Œä½†æ˜¯åˆç†çš„æ€è€ƒæ–¹å‘å…¶å®æ›´é‡è¦ï¼Œè¿™ä¹Ÿæ˜¯æ­£ç¡®å®Œæˆç®—æ³•é¢è¯•é—®é¢˜çš„å‰æ</li>
<li>ç®—æ³•é¢è¯•ä¼˜ç§€ä¸æ„å‘³ç€æŠ€æœ¯é¢è¯•ä¼˜ç§€</li>
<li>æŠ€æœ¯é¢è¯•ä¼˜ç§€ä¸æ„å‘³ç€èƒ½å¤Ÿæ‹¿åˆ° Offer</li>
</ul>
</li>
</ul>
<h3 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h3><h4 id="é—®é¢˜ï¼šå¯¹ä¸€ç»„æ•°æ®è¿›è¡Œæ’åº"><a href="#é—®é¢˜ï¼šå¯¹ä¸€ç»„æ•°æ®è¿›è¡Œæ’åº" class="headerlink" title="é—®é¢˜ï¼šå¯¹ä¸€ç»„æ•°æ®è¿›è¡Œæ’åº"></a>é—®é¢˜ï¼šå¯¹ä¸€ç»„æ•°æ®è¿›è¡Œæ’åº</h4><p>ä¸å‡æ€ç´¢æ€è€ƒæ–¹å‘ï¼š</p>
<ul>
<li>å¿«é€Ÿæ’åºç®—æ³• Oï¼ˆnlognï¼‰</li>
</ul>
<p><strong>æ­£ç¡®çš„æ–¹å¼</strong>æ˜¯ï¼šåº”è¯¥å’Œé¢è¯•å®˜æ¢è®¨ï¼ˆ <strong>æ€è€ƒè·¯å¾„</strong> ï¼‰ï¼š</p>
<ul>
<li>è¿™ç»„æ•°æ®æœ‰ä»€ä¹ˆæ ·çš„ç‰¹å¾ï¼Ÿ<ul>
<li>æœ‰æ²¡æœ‰å¯èƒ½åŒ…å«æœ‰å¤§é‡é‡å¤çš„å…ƒç´ ï¼Ÿ</li>
<li>å¦‚æœæœ‰è¿™ç§å¯èƒ½çš„è¯ï¼Œä¸‰è·¯å¿«æ’æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚</li>
</ul>
</li>
<li>è¿™ç»„æ•°æ®æœ‰ä»€ä¹ˆæ ·çš„ç‰¹å¾ï¼Ÿ<ul>
<li>æ˜¯å¦å¤§éƒ¨åˆ†æ•°æ®è·ç¦»å®ƒæ­£ç¡®çš„ä½ç½®å¾ˆè¿‘ï¼Ÿæ˜¯å¦è¿‘ä¹æœ‰åºï¼Ÿ</li>
<li>å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œæ’å…¥æ’åºæ˜¯æ›´å¥½çš„é€‰æ‹©</li>
</ul>
</li>
<li>è¿™ç»„æ•°æ®æœ‰ä»€ä¹ˆæ ·çš„ç‰¹å¾ï¼Ÿ<ul>
<li>æ˜¯å¦æ•°æ®çš„å–å€¼èŒƒå›´éå¸¸æœ‰é™ï¼Ÿæ¯”å¦‚å¯¹å­¦ç”Ÿæˆç»©æ’åº</li>
<li>å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œè®¡æ•°æ’åºæ˜¯æ›´å¥½çš„é€‰æ‹©</li>
</ul>
</li>
<li>å¯¹æ’åºæœ‰ä»€ä¹ˆé¢å¤–çš„è¦æ±‚ï¼Ÿ<ul>
<li>æ˜¯å¦éœ€è¦ç¨³å®šæ’åºï¼Ÿ</li>
<li>å¦‚æœæ˜¯çš„è¯ï¼Œå½’å¹¶æ’åºæ˜¯æ›´å¥½çš„é€‰æ‹©</li>
</ul>
</li>
<li>æ•°æ®çš„å­˜å‚¨çŠ¶å†µæ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ<ul>
<li>æ˜¯å¦æ˜¯ä½¿ç”¨é“¾è¡¨å­˜å‚¨çš„ï¼Ÿ</li>
<li>å¦‚æœæ˜¯çš„è¯ï¼Œå½’å¹¶æ’åºæ˜¯æ›´å¥½çš„é€‰æ‹©</li>
</ul>
</li>
<li>æ•°æ®çš„å­˜å‚¨çŠ¶æ€æ˜¯æ€æ ·çš„ï¼Ÿ<ul>
<li>æ•°æ®çš„å¤§å°æ˜¯å¦å¯ä»¥è£…è½½åœ¨å†…å­˜é‡Œï¼Ÿ</li>
<li>æ•°æ®é‡å¾ˆå¤§ï¼Œæˆ–è€…å†…å­˜å¾ˆå°ï¼Œä¸è¶³ä»¥è£…è½½åœ¨å†…å­˜é‡Œï¼Œéœ€è¦ä½¿ç”¨å¤–æ’åºç®—æ³•</li>
</ul>
</li>
</ul>
<h2 id="1-2-ä»€ä¹ˆæ˜¯â€œæ­£ç¡®â€çš„å›ç­”ä¸€ä¸ªç®—æ³•é—®é¢˜"><a href="#1-2-ä»€ä¹ˆæ˜¯â€œæ­£ç¡®â€çš„å›ç­”ä¸€ä¸ªç®—æ³•é—®é¢˜" class="headerlink" title="1-2 ä»€ä¹ˆæ˜¯â€œæ­£ç¡®â€çš„å›ç­”ä¸€ä¸ªç®—æ³•é—®é¢˜"></a>1-2 ä»€ä¹ˆæ˜¯â€œæ­£ç¡®â€çš„å›ç­”ä¸€ä¸ªç®—æ³•é—®é¢˜</h2><p><strong>æ­£ç¡®</strong> è¿˜åŒ…å«å¯¹é—®é¢˜çš„ç‹¬åˆ°è§è§£ï¼›ä¼˜åŒ–ï¼›ä»£ç è§„èŒƒï¼›å®¹é”™æ€§</p>
<p>å¦‚æœæ˜¯ éå¸¸éš¾çš„é—®é¢˜ï¼Œå¯¹ä½ çš„ç«äº‰å¯¹æ‰‹æ¥è¯´ï¼Œä¹Ÿæ˜¯éš¾çš„ã€‚</p>
<p>å…³é”®åœ¨äºä½ æ‰€è¡¨è¾¾å‡ºçš„è§£å†³é—®é¢˜çš„æ€è·¯</p>
<p>ç”šè‡³é€šè¿‡è¡¨è¾¾è§£é¢˜æ€è·¯çš„æ–¹å‘ï¼Œå¾—å‡ºç»“è®ºï¼šè¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œåº”è¯¥åœ¨å“ªä¸€ä¸ªé¢†åŸŸï¼Œæˆ‘å¯ä»¥é€šè¿‡æŸ¥é˜…æˆ–è€…è¿›ä¸€æ­¥å­¦ä¹ è§£å†³é—®é¢˜</p>
<h3 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h3><ul>
<li>é¡¹ç›®ç»å† å’Œ é¡¹ç›®ä¸­é‡åˆ°çš„å®é™…é—®é¢˜</li>
<li>ä½ é‡åˆ°çš„å°è±¡æœ€æ·±çš„ bug æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>é¢å‘å¯¹è±¡</li>
<li>è®¾è®¡æ¨¡å¼</li>
<li>ç½‘ç»œç›¸å…³ï¼›å®‰å…¨ç›¸å…³ï¼›å†…å­˜ç›¸å…³ï¼›å¹¶å‘ç›¸å…³</li>
<li>ç³»ç»Ÿè®¾è®¡ï¼›scalability</li>
</ul>
<p>æŠ€æœ¯é¢è¯•åªæ˜¯é¢è¯•çš„ä¸€éƒ¨åˆ†ã€‚é¢è¯•ä¸ä»…ä»…æ˜¯è€ƒå¯Ÿä½ çš„æŠ€æœ¯æ°´å¹³ï¼Œè¿˜æ˜¯äº†è§£ä½ çš„è¿‡å»ä»¥åŠå½¢æˆçš„æ€è€ƒè¡Œä¸ºæ–¹å¼</p>
<p>å…³äºè¿‡å»ï¼šå‚ä¸é¡¹ç›®è‡³å…³é‡è¦</p>
<h4 id="é¡¹ç›®ç»å†"><a href="#é¡¹ç›®ç»å†" class="headerlink" title="é¡¹ç›®ç»å†"></a>é¡¹ç›®ç»å†</h4><ul>
<li>æœ¬ç§‘ç”Ÿ<ul>
<li>æ¯•ä¸šè®¾è®¡</li>
<li>å…¶å®ƒè¯¾ç¨‹è®¾è®¡(å¤§ä½œä¸šï¼Œå¤§ä¸€ç‚¹çš„ç¨‹åºè®¾è®¡ç­‰ç­‰)</li>
</ul>
</li>
<li>å¦‚ä½•æ‰¾åˆ°é¡¹ç›®ï¼Ÿ<ul>
<li>å®ä¹ </li>
<li>å‚ä¸å®æˆ˜è¯¾ç¨‹å­¦ä¹ <ul>
<li>æ…•è¯¾ç½‘</li>
<li>Coursera</li>
</ul>
</li>
</ul>
</li>
<li>åˆ›å»ºè‡ªå·±çš„é¡¹ç›®<ul>
<li>è‡ªå·±åšå°åº”ç”¨ï¼šè®¡åˆ’è¡¨ï¼›å¤‡å¿˜å½•ï¼›æ’­æ”¾å™¨â€¦</li>
<li>è‡ªå·±è§£å†³å°é—®é¢˜ï¼šçˆ¬è™«ï¼›æ•°æ®åˆ†æï¼›è¯é¢‘ç»Ÿè®¡</li>
<li>â€œä¸æ˜¯é¡¹ç›®â€ çš„é¡¹ç›®ï¼šä¸€æœ¬ä¼˜ç§€çš„æŠ€æœ¯ä¹¦ç±çš„ä»£ç æ•´ç†ç­‰â€¦</li>
<li>åˆ†äº«ï¼šè‡ªå·±çš„æŠ€æœ¯åšå®¢ï¼›github ç­‰ç­‰â€¦</li>
</ul>
</li>
</ul>
<h4 id="è¡Œä¸ºç±»é—®é¢˜"><a href="#è¡Œä¸ºç±»é—®é¢˜" class="headerlink" title="è¡Œä¸ºç±»é—®é¢˜"></a>è¡Œä¸ºç±»é—®é¢˜</h4><p>é€šè¿‡è¿‡å»äº†è§£ä½ çš„æ€è€ƒè¡Œä¸ºæ–¹å¼ï¼Ÿ</p>
<ul>
<li>é‡åˆ°çš„æœ€å¤§çš„æŒ‘æˆ˜ï¼Ÿ</li>
<li>çŠ¯è¿‡çš„é”™è¯¯ï¼Ÿ</li>
<li>é­é‡çš„å¤±è´¥ï¼Ÿ</li>
<li>æœ€äº«å—çš„å·¥ä½œå†…å®¹ï¼Ÿ</li>
<li>é‡åˆ°å†²çªçš„å¤„ç†æ–¹å¼ï¼Ÿ</li>
<li>åšçš„æœ€ä¸ä¼—ä¸åŒçš„äº‹å„¿ï¼Ÿ</li>
</ul>
<h4 id="å‡†å¤‡å¥½åˆé€‚çš„é—®é¢˜é—®é¢è¯•å®˜"><a href="#å‡†å¤‡å¥½åˆé€‚çš„é—®é¢˜é—®é¢è¯•å®˜" class="headerlink" title="å‡†å¤‡å¥½åˆé€‚çš„é—®é¢˜é—®é¢è¯•å®˜"></a>å‡†å¤‡å¥½åˆé€‚çš„é—®é¢˜é—®é¢è¯•å®˜</h4><ul>
<li>æ•´ä¸ªå°ç»„çš„å¤§æ¦‚è¿è¡Œæ¨¡å¼æ˜¯æ€æ ·çš„ï¼Ÿ</li>
<li>æ•´ä¸ªé¡¹ç›®çš„åç»­è§„åˆ’æ˜¯å¦‚ä½•çš„ï¼Ÿ</li>
<li>è¿™ä¸ªäº§å“ä¸­çš„æŸä¸ªé—®é¢˜æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆä¼šé€‰æ‹©æŸäº›æŠ€æœ¯ï¼Ÿæ ‡å‡†ï¼Ÿ</li>
<li>æˆ‘å¯¹æŸä¸ªæŠ€æœ¯å¾ˆæ„Ÿå…´è¶£ï¼Œåœ¨ä½ çš„å°ç»„ä¸­æˆ‘ä¼šæœ‰æ€æ ·çš„æœºä¼šæ·±å…¥è¿™ç§æŠ€æœ¯ï¼Ÿ</li>
</ul>
<p><strong>ç®—æ³•é¢è¯•ä»ç„¶æ˜¯éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†</strong></p>
<h2 id="1-3-å¦‚ä½•å‡†å¤‡ç®—æ³•é¢è¯•"><a href="#1-3-å¦‚ä½•å‡†å¤‡ç®—æ³•é¢è¯•" class="headerlink" title="1-3 å¦‚ä½•å‡†å¤‡ç®—æ³•é¢è¯•"></a>1-3 å¦‚ä½•å‡†å¤‡ç®—æ³•é¢è¯•</h2><p>å‡†å¤‡é¢è¯• å’Œ å‡†å¤‡ç®—æ³•é¢è¯• æ˜¯ä¸¤ä¸ªæ¦‚å¿µ</p>
<p>ç®—æ³•é¢è¯• ï¼Œåªæ˜¯é¢è¯•ä¸­çš„ä¸€ä¸ªç¯èŠ‚</p>
<h2 id="ç®—æ³•é¢è¯•å¹¶æ²¡æœ‰é‚£ä¹ˆéš¾"><a href="#ç®—æ³•é¢è¯•å¹¶æ²¡æœ‰é‚£ä¹ˆéš¾" class="headerlink" title="ç®—æ³•é¢è¯•å¹¶æ²¡æœ‰é‚£ä¹ˆéš¾"></a>ç®—æ³•é¢è¯•å¹¶æ²¡æœ‰é‚£ä¹ˆéš¾</h2><ul>
<li>è¿œè¿œä¸éœ€è¦å•ƒå®Œä¸€æœ¬ ã€Šç®—æ³•å¯¼è®ºã€‹<ul>
<li>è¿‡äºå¼ºè°ƒç†è®ºè¯æ˜</li>
</ul>
</li>
<li>é«˜çº§æ•°æ®ç»“æ„ å’Œ ç®—æ³•é¢è¯•æåŠçš„æ¦‚ç‡å¾ˆä½<ul>
<li>çº¢é»‘æ ‘</li>
<li>è®¡ç®—å‡ ä½•</li>
<li>B - Tree</li>
<li>æ•°è®º</li>
<li>æ–æ³¢é‚£å¥‘å †</li>
<li>FFT</li>
</ul>
</li>
</ul>
<p><strong>ç®—æ³•é¢è¯•è¿œè¿œä¸éœ€è¦è¾¾åˆ°ä¿¡æ¯å­¦ç«èµ›çš„æ°´å¹³</strong> ã€‚</p>
<p><img src="http://static.zxinc520.com/blog/20190908/CNmOn2PupuUn.png?imageslim" alt="mark"></p>
<h3 id="ç®—æ³•é¢è¯•çš„å‡†å¤‡èŒƒå›´"><a href="#ç®—æ³•é¢è¯•çš„å‡†å¤‡èŒƒå›´" class="headerlink" title="ç®—æ³•é¢è¯•çš„å‡†å¤‡èŒƒå›´"></a>ç®—æ³•é¢è¯•çš„å‡†å¤‡èŒƒå›´</h3><ul>
<li>ä¸è¦è½»è§†åŸºç¡€ç®—æ³• å’Œ æ•°æ®ç»“æ„ï¼Œè€Œåªå…³æ³¨ â€œæœ‰æ„æ€â€ çš„é¢˜ç›®</li>
</ul>
<p>é‡ç‚¹å…³æ³¨ï¼š</p>
<ul>
<li>å„ç§æ’åºç®—æ³•</li>
<li>åŸºç¡€æ•°æ®ç»“æ„å’Œç®—æ³•çš„å®ç°ï¼šå¦‚å †ã€äºŒå‰æ ‘ã€å›¾â€¦.</li>
<li>åŸºç¡€æ•°æ®ç»“æ„çš„ä½¿ç”¨ï¼šå¦‚é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€å“ˆå¸Œè¡¨ã€å›¾ã€Trieã€å¹¶æŸ¥é›†â€¦</li>
<li>åŸºç¡€ç®—æ³•ï¼šæ·±åº¦ä¼˜å…ˆã€å¹¿åº¦ä¼˜å…ˆã€äºŒåˆ†æŸ¥æ‰¾ã€é€’å½’â€¦</li>
<li>åŸºæœ¬ç®—æ³•æ€æƒ³ï¼šé€’å½’ã€åˆ†æ²»ã€å›æº¯æœç´¢ã€è´ªå¿ƒã€åŠ¨æ€è§„åˆ’â€¦</li>
</ul>
<h3 id="é€‰æ‹©åˆé€‚çš„-OJ"><a href="#é€‰æ‹©åˆé€‚çš„-OJ" class="headerlink" title="é€‰æ‹©åˆé€‚çš„ OJ"></a>é€‰æ‹©åˆé€‚çš„ OJ</h3><blockquote>
<p>OJï¼šonline judge</p>
<p>åœ¨çº¿åˆ¤é¢˜ç³»ç»Ÿ</p>
</blockquote>
<p><img src="http://static.zxinc520.com/blog/20190908/iW0zhuflnMIs.png?imageslim" alt="mark"></p>
<h3 id="æ¨è"><a href="#æ¨è" class="headerlink" title="æ¨è"></a>æ¨è</h3><ul>
<li><a target="_blank" rel="noopener" href="https://leetcode-cn.com/">LeetCode</a> ï¼ˆ æºäºçœŸå®çš„é¢è¯•é—®é¢˜ ï¼‰</li>
<li><a target="_blank" rel="noopener" href="https://www.hackerrank.com/">HackerRank</a> ï¼ˆ å¯¹é—®é¢˜åˆ†ç±»å¾ˆè¯¦ç»† ï¼Œæ›´éš¾ä¸€ç‚¹ï¼Œè¾…åŠ©ä½œç”¨ï¼‰</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼š åœ¨å­¦ä¹ å’Œå®è·µåšé¢˜ä¹‹é—´ï¼Œè¦æŒæ¡å¹³è¡¡</p>
<h2 id="1-4-è§£å†³ç®—æ³•é¢è¯•é—®é¢˜çš„æ•´ä½“æ€è·¯"><a href="#1-4-è§£å†³ç®—æ³•é¢è¯•é—®é¢˜çš„æ•´ä½“æ€è·¯" class="headerlink" title="1-4 è§£å†³ç®—æ³•é¢è¯•é—®é¢˜çš„æ•´ä½“æ€è·¯"></a>1-4 è§£å†³ç®—æ³•é¢è¯•é—®é¢˜çš„æ•´ä½“æ€è·¯</h2><h3 id="æ³¨æ„é¢˜ç›®ä¸­çš„æ¡ä»¶"><a href="#æ³¨æ„é¢˜ç›®ä¸­çš„æ¡ä»¶" class="headerlink" title="æ³¨æ„é¢˜ç›®ä¸­çš„æ¡ä»¶"></a>æ³¨æ„é¢˜ç›®ä¸­çš„æ¡ä»¶</h3><ul>
<li>ç»™å®šä¸€ä¸ªæœ‰åºæ•°ç»„â€¦<ul>
<li><strong>æœ‰åº</strong>ï¼š æ˜¯ä¸æ˜¯å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•</li>
</ul>
</li>
<li>æœ‰ä¸€äº›é¢˜ç›®ä¸­çš„æ¡ä»¶æœ¬è´¨æ˜¯æš—ç¤ºï¼š<ul>
<li>è®¾è®¡ä¸€ä¸ª Oï¼ˆnlognï¼‰çš„ç®—æ³•<ul>
<li>åˆ†æ²»æ³•</li>
</ul>
</li>
<li>æ— éœ€è€ƒè™‘é¢å¤–çš„ç©ºé—´<ul>
<li>å¼€è¾Ÿé¢å¤–çš„ç©ºé—´</li>
</ul>
</li>
<li>æ•°æ®è§„æ¨¡å¤§æ¦‚æ˜¯ 10000<ul>
<li>Oï¼ˆn çš„äºŒæ¬¡æ–¹ï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="å½“æ²¡æœ‰æ€è·¯çš„æ—¶å€™"><a href="#å½“æ²¡æœ‰æ€è·¯çš„æ—¶å€™" class="headerlink" title="å½“æ²¡æœ‰æ€è·¯çš„æ—¶å€™"></a>å½“æ²¡æœ‰æ€è·¯çš„æ—¶å€™</h3><ul>
<li>è‡ªå·±ç»™è‡ªå·±å‡ ä¸ªç®€å•çš„æµ‹è¯•ç”¨ä¾‹ï¼Œè¯•éªŒä¸€ä¸‹</li>
<li>ä¸è¦å¿½è§†æš´åŠ›è§£æ³•ã€‚æš´åŠ›è§£æ³•é€šå¸¸æ˜¯æ€è€ƒçš„èµ·ç‚¹</li>
</ul>
<h4 id="ä¸è¦å¿½è§†æš´åŠ›æ³•"><a href="#ä¸è¦å¿½è§†æš´åŠ›æ³•" class="headerlink" title="ä¸è¦å¿½è§†æš´åŠ›æ³•"></a>ä¸è¦å¿½è§†æš´åŠ›æ³•</h4><p><img src="http://static.zxinc520.com/blog/20190908/4H4HSG2k68nE.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190908/DTm490pyX7Vm.png?imageslim" alt="mark"></p>
<h2 id="ä¼˜åŒ–ç®—æ³•"><a href="#ä¼˜åŒ–ç®—æ³•" class="headerlink" title="ä¼˜åŒ–ç®—æ³•"></a>ä¼˜åŒ–ç®—æ³•</h2><h3 id="æ— å¤´ç»ªçš„æ€è·¯"><a href="#æ— å¤´ç»ªçš„æ€è·¯" class="headerlink" title="æ— å¤´ç»ªçš„æ€è·¯"></a>æ— å¤´ç»ªçš„æ€è·¯</h3><ul>
<li>éå†å¸¸è§çš„ç®—æ³•æ€è·¯</li>
<li>éå†å¸¸è§çš„æ•°æ®ç»“æ„</li>
<li>ç©ºé—´ å’Œ æ—¶é—´çš„ äº¤æ¢ ï¼ˆ å“ˆå¸Œè¡¨ ï¼‰</li>
<li>é¢„å¤„ç†ä¿¡æ¯ ï¼ˆ æ’åº ï¼‰</li>
<li>åœ¨ç“¶é¢ˆå¤„å¯»æ‰¾ç­”æ¡ˆï¼šOï¼ˆnlognï¼‰+ Oï¼ˆn âˆ§ 2ï¼‰ï¼›Oï¼ˆnâˆ§3ï¼‰</li>
</ul>
<h3 id="å®é™…ç¼–å†™é—®é¢˜"><a href="#å®é™…ç¼–å†™é—®é¢˜" class="headerlink" title="å®é™…ç¼–å†™é—®é¢˜"></a>å®é™…ç¼–å†™é—®é¢˜</h3><ul>
<li>æç«¯æ¡ä»¶çš„åˆ¤æ–­<ul>
<li>æ•°ç»„ä¸ºç©ºï¼Ÿå­—ç¬¦ä¸²ä¸ºç©ºï¼Ÿæ•°é‡ä¸º 0? æŒ‡é’ˆä¸º NULL ï¼Ÿ</li>
</ul>
</li>
<li>å˜é‡å</li>
<li>æ¨¡å—åŒ–ï¼Œå¤ç”¨æ€§</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95%E9%9D%A2%E8%AF%95/" rel="tag">ç®—æ³•é¢è¯•</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-ReactTheory"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/09/07/ReactTheory/"
    >ç»„ä»¶åŒ–å’Œ React</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/09/07/ReactTheory/" class="article-date">
  <time datetime="2019-09-07T14:32:45.000Z" itemprop="datePublished">2019-09-07</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">æ¡†æ¶</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/React/">React</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="ç»„ä»¶åŒ–å’Œ-React"><a href="#ç»„ä»¶åŒ–å’Œ-React" class="headerlink" title="ç»„ä»¶åŒ–å’Œ React"></a>ç»„ä»¶åŒ–å’Œ React</h1><blockquote>
<p>æœ¬ç« å…ˆå¸¦é¢†å­¦ç”Ÿåšä¸€ä¸ª React çš„å®ä¾‹ï¼Œç†Ÿæ‚‰ React å¼€å‘ç¯å¢ƒã€ä»¥åŠ <strong>ç»„ä»¶åŒ–</strong> çš„æ¦‚å¿µã€‚ç„¶åï¼Œé€šè¿‡å®ä¾‹æ¥è®²è§£ React çš„ <strong>å®ç°åŸç†</strong>ï¼ŒåŒ…æ‹¬ <strong>JSX çš„æœ¬è´¨</strong> ã€<strong>è™šæ‹Ÿ DOM å’Œ JSX çš„ç»“åˆ</strong>ã€ä»¥åŠ <strong>setState</strong> ã€‚æœ€åï¼Œ<strong>å¯¹æ¯” vue å’Œ React</strong> ï¼Œåˆ†æä¸¤è€…çš„å¼‚åŒã€‚</p>
<p>ç»„ä»¶åŒ–å’Œ React é«˜çº§é¢è¯•çŸ¥è¯†ç‚¹</p>
<p>Think great thoughts and you will be great!</p>
<p>å¿ƒæ€€ä¼Ÿå¤§çš„ç†æƒ³ï¼Œä½ å°†ä¼šå˜å¾—ä¼Ÿå¤§ã€‚</p>
</blockquote>
<h3 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>æ˜¯å¦åšè¿‡ React å¼€å‘ï¼Ÿ</li>
<li>React ä»¥åŠç»„ä»¶åŒ–çš„ä¸€äº›æ ¸å¿ƒæ¦‚å¿µ</li>
<li>å®ç°æµç¨‹</li>
</ul>
<h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><ul>
<li>è¯´ä¸€ä¸‹å¯¹ç»„ä»¶åŒ–çš„ç†è§£</li>
<li>JSX æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>JSX å’Œ vdom çš„å…³ç³»ï¼Ÿ</li>
<li>è¯´ä¸€ä¸‹ setState çš„è¿‡ç¨‹</li>
<li>é˜è¿°ä¸€ä¸‹å¯¹ React å’Œ Vue çš„ è®¤è¯†</li>
</ul>
<h4 id="å›é¡¾-React"><a href="#å›é¡¾-React" class="headerlink" title="å›é¡¾ React"></a>å›é¡¾ <a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/">React</a></h4><ol>
<li><p>åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ React åº”ç”¨</p>
<p><a target="_blank" rel="noopener" href="https://github.com/facebookincubator/create-react-app">Create React App</a> æ˜¯ä¸€ä¸ªç”¨äº<strong>å­¦ä¹  React</strong> çš„èˆ’é€‚ç¯å¢ƒï¼Œä¹Ÿæ˜¯ç”¨ React åˆ›å»º<strong>æ–°çš„å•é¡µåº”ç”¨</strong>çš„æœ€ä½³æ–¹å¼ã€‚</p>
<p>å®ƒä¼šé…ç½®ä½ çš„å¼€å‘ç¯å¢ƒï¼Œä»¥ä¾¿ä½¿ä½ èƒ½å¤Ÿä½¿ç”¨æœ€æ–°çš„ JavaScript ç‰¹æ€§ï¼Œæä¾›è‰¯å¥½çš„å¼€å‘ä½“éªŒï¼Œå¹¶ä¸ºç”Ÿäº§ç¯å¢ƒä¼˜åŒ–ä½ çš„åº”ç”¨ç¨‹åºã€‚ä½ éœ€è¦åœ¨ä½ çš„æœºå™¨ä¸Šå®‰è£… Node &gt;= 8.10 å’Œ npm &gt;= 5.6ã€‚è¦åˆ›å»ºé¡¹ç›®ï¼Œè¯·æ‰§è¡Œï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app my-app</span><br><span class="line">cd my-app</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨ React å®ç° <strong>to-do-list</strong> ï¼š</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Todo</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      list: [],</span><br><span class="line">      title: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> list = <span class="built_in">this</span>.state.list;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input</span><br><span class="line">          type=<span class="string">&quot;text&quot;</span></span><br><span class="line">          value=&#123;<span class="built_in">this</span>.state.title&#125;</span><br><span class="line">          onChange=&#123;<span class="built_in">this</span>.changeHandle.bind(<span class="built_in">this</span>)&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.clickHandle.bind(<span class="built_in">this</span>)&#125;&gt;Submit&lt;/button&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &#123;list.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span> &#123;item&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>;</span><br><span class="line">          &#125;)&#125;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  changeHandle(e) &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      title: e.target.value,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  addTitle(title) &#123;</span><br><span class="line">    <span class="keyword">const</span> currentList = <span class="built_in">this</span>.state.list;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      list: currentList.concat(title),</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.list);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  clickHandle(e) &#123;</span><br><span class="line">    <span class="keyword">const</span> title = <span class="built_in">this</span>.state.title;</span><br><span class="line">    <span class="built_in">this</span>.addTitle(title);</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      title: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Todo;</span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190907/GRlG7LRoeKp7.gif" alt="mark"></p>
<h2 id="7-1-è¯´ä¸€ä¸‹å¯¹ç»„ä»¶åŒ–çš„ç†è§£"><a href="#7-1-è¯´ä¸€ä¸‹å¯¹ç»„ä»¶åŒ–çš„ç†è§£" class="headerlink" title="7-1 è¯´ä¸€ä¸‹å¯¹ç»„ä»¶åŒ–çš„ç†è§£"></a>7-1 è¯´ä¸€ä¸‹å¯¹ç»„ä»¶åŒ–çš„ç†è§£</h2><h3 id="çŸ¥è¯†ç‚¹-1"><a href="#çŸ¥è¯†ç‚¹-1" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>ç»„ä»¶çš„ <strong>å°è£…</strong></li>
<li>ç»„ä»¶çš„ <strong>å¤ç”¨</strong></li>
</ul>
<h4 id="ç»„ä»¶çš„å°è£…"><a href="#ç»„ä»¶çš„å°è£…" class="headerlink" title="ç»„ä»¶çš„å°è£…"></a>ç»„ä»¶çš„å°è£…</h4><ul>
<li>è§†å›¾</li>
<li>æ•°æ®</li>
<li>å˜åŒ–é€»è¾‘ ï¼ˆ æ•°æ®é©±åŠ¨è§†å›¾å˜åŒ– ï¼‰</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190907/m1BCsjY31wOd.png?imageslim" alt="mark"></p>
<h4 id="ç»„ä»¶çš„-å¤ç”¨"><a href="#ç»„ä»¶çš„-å¤ç”¨" class="headerlink" title="ç»„ä»¶çš„ å¤ç”¨"></a>ç»„ä»¶çš„ å¤ç”¨</h4><ul>
<li>props ä¼ é€’</li>
<li>å¤ç”¨</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190907/dSD9f5yFTKYD.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190907/dig0u7rhRuJi.png?imageslim" alt="mark"></p>
<h3 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><ul>
<li>è¯´ä¸€ä¸‹å¯¹ç»„ä»¶åŒ–çš„ç†è§£ï¼Ÿ<ul>
<li>ç»„ä»¶çš„å°è£…ï¼šå°è£…è§†å›¾ã€æ•°æ®ã€å˜åŒ–é€»è¾‘</li>
<li>ç»„ä»¶çš„å¤ç”¨ï¼šprops ä¼ é€’ã€å¤ç”¨</li>
</ul>
</li>
</ul>
<h2 id="7-2-JSX-æœ¬è´¨æ˜¯ä»€ä¹ˆ"><a href="#7-2-JSX-æœ¬è´¨æ˜¯ä»€ä¹ˆ" class="headerlink" title="7-2 JSX æœ¬è´¨æ˜¯ä»€ä¹ˆ"></a>7-2 JSX æœ¬è´¨æ˜¯ä»€ä¹ˆ</h2><h3 id="çŸ¥è¯†ç‚¹-2"><a href="#çŸ¥è¯†ç‚¹-2" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>JSX è¯­æ³•</li>
<li>JSX è§£ææˆ JS</li>
<li>ç‹¬ç«‹çš„æ ‡å‡†</li>
</ul>
<h4 id="JSX-è¯­æ³•"><a href="#JSX-è¯­æ³•" class="headerlink" title="JSX è¯­æ³•"></a>JSX è¯­æ³•</h4><ul>
<li>html å½¢å¼</li>
<li>å¼•å…¥ JS å˜é‡å’Œè¡¨è¾¾å¼</li>
<li>if â€¦ else â€¦</li>
<li>å¾ªç¯</li>
<li>style å’Œ className</li>
<li>äº‹ä»¶</li>
</ul>
<h4 id="æå‡ºç–‘é—®"><a href="#æå‡ºç–‘é—®" class="headerlink" title="æå‡ºç–‘é—®"></a>æå‡ºç–‘é—®</h4><ul>
<li>JSX è¯­æ³•æ ¹æœ¬æ— æ³•è¢«æµè§ˆå™¨æ‰€è§£æ</li>
<li>é‚£ä¹ˆå®ƒå¦‚ä½•åœ¨æµè§ˆå™¨è¿è¡Œ</li>
</ul>
<h4 id="JSX-è§£æ"><a href="#JSX-è§£æ" class="headerlink" title="JSX è§£æ"></a>JSX è§£æ</h4><ul>
<li>JSX å…¶å®æ˜¯è¯­æ³•ç³–</li>
<li>å¼€å‘ç¯å¢ƒä¼šå°† JSX ç¼–è¯‘æˆ JS ä»£ç </li>
<li>JSX çš„å†™æ³• å¤§å¤§é™ä½äº†å­¦ä¹ æˆæœ¬å’Œ ç¼–ç å·¥ä½œé‡</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190907/Xy8TYGeoHcWC.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190907/yjXVnlK8oLfk.png?imageslim" alt="mark"></p>
<h4 id="JSX-ç‹¬ç«‹çš„æ ‡å‡†"><a href="#JSX-ç‹¬ç«‹çš„æ ‡å‡†" class="headerlink" title="JSX ç‹¬ç«‹çš„æ ‡å‡†"></a>JSX ç‹¬ç«‹çš„æ ‡å‡†</h4><ul>
<li>JSX æ˜¯ React å¼•å…¥çš„ï¼Œä½†ä¸æ˜¯ React ç‹¬æœ‰çš„</li>
<li>React å·²ç»å°†å®ƒä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„æ ‡å‡†å¼€æ”¾ï¼Œå…¶å®ƒé¡¹ç›®ä¹Ÿå¯ç”¨</li>
<li>React.createElement æ˜¯å¯ä»¥è‡ªå®šä¹‰ä¿®æ”¹çš„</li>
<li>è¯´æ˜ï¼šæœ¬èº«åŠŸèƒ½å·²ç»å®Œå¤‡ï¼›å’Œå…¶å®ƒæ ‡å‡†å…¼å®¹å’Œæ‰©å±•æ€§æ²¡é—®é¢˜</li>
</ul>
<h3 id="é—®é¢˜è§£ç­”"><a href="#é—®é¢˜è§£ç­”" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>JSX æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ<ul>
<li>JSX è¯­æ³•ï¼ˆæ ‡ç­¾ã€JS è¡¨è¾¾å¼ã€åˆ¤æ–­ã€å¾ªç¯ã€äº‹ä»¶ç»‘å®šï¼‰</li>
<li>JSX æœ¬è´¨å°±æ˜¯è¯­æ³•ç³–ï¼Œéœ€è¢«è§£ææˆ JS æ‰èƒ½è¿è¡Œ</li>
<li>JSX æ˜¯ç‹¬ç«‹çš„æ ‡å‡†ï¼Œå¯è¢«å…¶å®ƒé¡¹ç›®ä½¿ç”¨</li>
</ul>
</li>
</ul>
<h2 id="7-3-JSX-å’Œ-vdom-çš„å…³ç³»"><a href="#7-3-JSX-å’Œ-vdom-çš„å…³ç³»" class="headerlink" title="7-3 JSX å’Œ vdom çš„å…³ç³»"></a>7-3 JSX å’Œ vdom çš„å…³ç³»</h2><h3 id="çŸ¥è¯†ç‚¹-3"><a href="#çŸ¥è¯†ç‚¹-3" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>åˆ†æï¼šä¸ºä½•éœ€è¦ vdom</li>
<li>React.createElement å’Œ h</li>
<li>ä½•æ—¶ patchï¼Ÿ</li>
<li>è‡ªå®šä¹‰ç»„ä»¶çš„è§£æ</li>
</ul>
<h4 id="ä¸ºä½•éœ€è¦-vdom"><a href="#ä¸ºä½•éœ€è¦-vdom" class="headerlink" title="ä¸ºä½•éœ€è¦ vdom"></a>ä¸ºä½•éœ€è¦ vdom</h4><ul>
<li>vdom æ˜¯ React åˆæ¬¡æ¨å¹¿å¼€æ¥çš„ï¼Œç»“åˆ JSX</li>
<li>JSX å°±æ˜¯æ¨¡æ¿ï¼Œæœ€ç»ˆè¦æ¸²æŸ“æˆ html</li>
<li>åˆæ¬¡æ¸²æŸ“ + ä¿®æ”¹ state åçš„ re-render</li>
<li>æ­£å¥½ ç¬¦åˆ vdom çš„åº”ç”¨åœºæ™¯</li>
</ul>
<h4 id="å›é¡¾-vdom"><a href="#å›é¡¾-vdom" class="headerlink" title="å›é¡¾ vdom"></a>å›é¡¾ <a target="_blank" rel="noopener" href="http://www.zxinc520.com/lcj/%225d63a1bce9920a5ce05e2c3b%22">vdom</a></h4><ul>
<li>vdom å¦‚ä½•åº”ç”¨ï¼Œæ ¸å¿ƒ API æ˜¯ ä»€ä¹ˆï¼Ÿ<ul>
<li>å¦‚ä½•ä½¿ç”¨ï¼Ÿ å¯ç”¨ snabbdom çš„ ç”¨æ³• æ¥ ä¸¾ä¾‹</li>
<li>æ ¸å¿ƒ å‡½æ•° ï¼šh å‡½æ•°ï¼Œpatch å‡½æ•°</li>
</ul>
</li>
</ul>
<p><strong>æ ¸å¿ƒ API</strong> ï¼š</p>
<ul>
<li>hï¼ˆâ€™&lt;æ ‡ç­¾å&gt;â€™ï¼Œ{ â€¦ å±æ€§ â€¦ }ï¼Œ[â€¦ å­å…ƒç´  â€¦]ï¼‰</li>
<li>hï¼ˆâ€™&lt;æ ‡ç­¾å&gt;â€™ï¼Œ{ â€¦ å±æ€§ â€¦ }ï¼Œ[ â€˜â€¦.â€™]ï¼‰</li>
<li>patchï¼ˆcontainerï¼Œvnodeï¼‰</li>
<li>patchï¼ˆvnodeï¼ŒnewVnodeï¼‰</li>
</ul>
<h4 id="React-createElement-å’Œ-h"><a href="#React-createElement-å’Œ-h" class="headerlink" title="React.createElement å’Œ h"></a>React.createElement å’Œ h</h4><p><img src="http://static.zxinc520.com/blog/20190907/hro0P4sQFQug.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190907/3N0XehWXEtQa.png?imageslim" alt="mark"></p>
<h4 id="ä½•æ—¶-patch"><a href="#ä½•æ—¶-patch" class="headerlink" title="ä½•æ—¶ patch"></a>ä½•æ—¶ patch</h4><ul>
<li>åˆæ¬¡æ¸²æŸ“ - ReactDOM.render (&lt; App /&gt;,container)</li>
<li>ä¼šè§¦å‘ patch (container,vnode)</li>
<li>re-render - setState</li>
<li>ä¼šè§¦å‘ patch (vnode,newVnode)</li>
</ul>
<h4 id="è‡ªå®šä¹‰ç»„ä»¶çš„è§£æ"><a href="#è‡ªå®šä¹‰ç»„ä»¶çš„è§£æ" class="headerlink" title="è‡ªå®šä¹‰ç»„ä»¶çš„è§£æ"></a>è‡ªå®šä¹‰ç»„ä»¶çš„è§£æ</h4><ul>
<li>â€˜divâ€™ - ç›´æ¥æ¸²æŸ“ &lt; div&gt; å³å¯ï¼Œvdom å¯ä»¥åšåˆ°</li>
<li>Input å’Œ List ï¼Œæ˜¯è‡ªå®šä¹‰ç»„ä»¶ ï¼ˆclassï¼‰ï¼Œvdom é»˜è®¤ä¸è®¤è¯†</li>
<li>å› æ­¤ Input å’Œ List å®šä¹‰çš„æ—¶å€™ å¿…é¡»å£°æ˜ render å‡½æ•°</li>
<li>æ ¹æ® props åˆå§‹åŒ–å®ä¾‹ï¼Œç„¶åæ‰§è¡Œå®ä¾‹çš„ render å‡½æ•°</li>
<li>render å‡½æ•°è¿”å›çš„è¿˜æ˜¯ vnode å¯¹è±¡</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190907/q3iTc0PViQbi.png?imageslim" alt="mark"></p>
<h3 id="é—®é¢˜è§£ç­”-1"><a href="#é—®é¢˜è§£ç­”-1" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>ä¸ºä½•éœ€è¦ vdomï¼šJSX éœ€è¦æ¸²æŸ“æˆ htmlï¼Œæ•°æ®é©±åŠ¨è§†å›¾</li>
<li>React.createElement å’Œ h ï¼Œéƒ½ç”Ÿæˆ vnode</li>
<li>ä½•æ—¶ patchï¼šReactDOM.render(â€¦) å’Œ setState</li>
<li>è‡ªå®šä¹‰ç»„ä»¶çš„è§£æï¼šåˆå§‹åŒ–å®ä¾‹ï¼Œç„¶åæ‰§è¡Œ render</li>
</ul>
<h2 id="7-4-è¯´ä¸€ä¸‹-setState-çš„è¿‡ç¨‹"><a href="#7-4-è¯´ä¸€ä¸‹-setState-çš„è¿‡ç¨‹" class="headerlink" title="7-4 è¯´ä¸€ä¸‹ setState çš„è¿‡ç¨‹"></a>7-4 è¯´ä¸€ä¸‹ setState çš„è¿‡ç¨‹</h2><h3 id="çŸ¥è¯†ç‚¹-4"><a href="#çŸ¥è¯†ç‚¹-4" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>setState çš„å¼‚æ­¥</li>
<li>vue ä¿®æ”¹å±æ€§ä¹Ÿæ˜¯ å¼‚æ­¥</li>
<li>setState çš„è¿‡ç¨‹</li>
</ul>
<h4 id="setState-çš„å¼‚æ­¥"><a href="#setState-çš„å¼‚æ­¥" class="headerlink" title="setState çš„å¼‚æ­¥"></a>setState çš„å¼‚æ­¥</h4><p><img src="http://static.zxinc520.com/blog/20190907/z8fAo7IMaYcs.png?imageslim" alt="mark"></p>
<h4 id="setState-ä¸ºä½•éœ€è¦å¼‚æ­¥ï¼Ÿ"><a href="#setState-ä¸ºä½•éœ€è¦å¼‚æ­¥ï¼Ÿ" class="headerlink" title="setState ä¸ºä½•éœ€è¦å¼‚æ­¥ï¼Ÿ"></a>setState ä¸ºä½•éœ€è¦å¼‚æ­¥ï¼Ÿ</h4><ul>
<li>å¯èƒ½ä¼šä¸€æ¬¡æ‰§è¡Œ å¤šæ¬¡ setState</li>
<li>ä½ æ— æ³•è§„å®šã€é™åˆ¶ç”¨æˆ·å¦‚ä½•ä½¿ç”¨ setState</li>
<li>æ²¡å¿…è¦æ¯æ¬¡ setState éƒ½é‡æ–°æ¸²æŸ“ï¼Œè€ƒè™‘æ€§èƒ½</li>
<li>å³ä¾¿æ˜¯æ¯æ¬¡é‡æ–°æ¸²æŸ“ï¼Œç”¨æˆ·ä¹Ÿçœ‹ä¸åˆ°ä¸­é—´çš„æ•ˆæœ</li>
<li>åªçœ‹åˆ°æœ€åçš„ç»“æœå³å¯</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190907/0E8yvUnt3JOn.png?imageslim" alt="mark"></p>
<h4 id="vue-ä¿®æ”¹å±æ€§ä¹Ÿæ˜¯å¼‚æ­¥"><a href="#vue-ä¿®æ”¹å±æ€§ä¹Ÿæ˜¯å¼‚æ­¥" class="headerlink" title="vue ä¿®æ”¹å±æ€§ä¹Ÿæ˜¯å¼‚æ­¥"></a>vue ä¿®æ”¹å±æ€§ä¹Ÿæ˜¯å¼‚æ­¥</h4><ul>
<li>æ•ˆæœã€åŸå› å’Œ setState ä¸€æ ·</li>
<li>å¯¹æ¯”è®°å¿†ï¼Œå°è±¡æ·±åˆ»</li>
</ul>
<h4 id="vue-çš„æ•´ä¸ªå®ç°æµç¨‹"><a href="#vue-çš„æ•´ä¸ªå®ç°æµç¨‹" class="headerlink" title="vue çš„æ•´ä¸ªå®ç°æµç¨‹"></a>vue çš„æ•´ä¸ªå®ç°æµç¨‹</h4><ul>
<li>ç¬¬ä¸€æ­¥ï¼šè§£ææ¨¡æ¿æˆ render å‡½æ•°</li>
<li>ç¬¬äºŒæ­¥ï¼šå“åº”å¼å¼€å§‹ç›‘å¬</li>
<li>ç¬¬ä¸‰æ­¥ï¼šé¦–æ¬¡æ¸²æŸ“ï¼Œæ˜¾ç¤ºé¡µé¢ï¼Œä¸”ç»‘å®šä¾èµ–</li>
<li>ç¬¬å››æ­¥ï¼šdata å±æ€§å˜åŒ–ï¼ˆ <strong>å¼‚æ­¥</strong> ï¼‰ï¼Œè§¦å‘ rerender</li>
</ul>
<h5 id="data-å±æ€§å˜åŒ–"><a href="#data-å±æ€§å˜åŒ–" class="headerlink" title="data å±æ€§å˜åŒ–"></a>data å±æ€§å˜åŒ–</h5><ul>
<li>ä¿®æ”¹å±æ€§ï¼Œè¢«å“åº”å¼ çš„ set ç›‘å¬åˆ°</li>
<li>set ä¸­æ‰§è¡Œ updataComponent ï¼ˆ <strong>å¼‚æ­¥</strong> ï¼‰</li>
<li>updataComponent é‡æ–°æ‰§è¡Œ vm.render()</li>
<li>ç”Ÿæˆçš„ vnode å’Œ prevVnodeï¼Œé€šè¿‡ patch è¿›è¡Œæ¯”è¾ƒ</li>
<li>æ¸²æŸ“åˆ° html ä¸­</li>
</ul>
<h4 id="setState-çš„è¿‡ç¨‹"><a href="#setState-çš„è¿‡ç¨‹" class="headerlink" title="setState çš„è¿‡ç¨‹"></a>setState çš„è¿‡ç¨‹</h4><ul>
<li>æ¯ä¸ªç»„ä»¶å®ä¾‹ï¼Œéƒ½æœ‰ renderComponent æ–¹æ³•</li>
<li>æ‰§è¡Œ renderComponent ä¼šé‡æ–°æ‰§è¡Œå®ä¾‹çš„ render</li>
<li>render å‡½æ•°è¿”å› newVnodeï¼Œç„¶åæ‹¿åˆ° preVnode</li>
<li>æ‰§è¡Œ patch ï¼ˆpreVnodeï¼ŒnewVnodeï¼‰</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* renderComponentæ–¹æ³• å¤§è‡´æ¨¡æ‹Ÿ*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  renderComponent() &#123;</span><br><span class="line">    <span class="keyword">const</span> preVnode = <span class="built_in">this</span>._vnode;</span><br><span class="line">    <span class="keyword">const</span> newVnode = <span class="built_in">this</span>.render();</span><br><span class="line">    patch(preVnode, newVnode);</span><br><span class="line">    <span class="built_in">this</span>._vnode = newVnode;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é—®é¢˜è§£ç­”-2"><a href="#é—®é¢˜è§£ç­”-2" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>setState çš„å¼‚æ­¥ï¼šæ•ˆæœã€åŸå› </li>
<li>vue ä¿®æ”¹å±æ€§ä¹Ÿæ˜¯å¼‚æ­¥ï¼šæ•ˆæœã€åŸå› </li>
<li>setState çš„è¿‡ç¨‹ï¼šæœ€ç»ˆèµ°åˆ° patch(preVnode, newVnode)</li>
</ul>
<h1 id="7-5-æ€»ç»“"><a href="#7-5-æ€»ç»“" class="headerlink" title="7-5 æ€»ç»“"></a>7-5 æ€»ç»“</h1><ul>
<li><p>è¯´ä¸€ä¸‹å¯¹ç»„ä»¶åŒ–çš„ç†è§£ï¼Ÿ</p>
<ul>
<li>ç»„ä»¶çš„å°è£…ï¼šå°è£…è§†å›¾ã€æ•°æ®ã€å˜åŒ–é€»è¾‘</li>
<li>ç»„ä»¶çš„å¤ç”¨ï¼šprops ä¼ é€’ã€å¤ç”¨</li>
</ul>
</li>
<li><p>JSX æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>JSX è¯­æ³•ï¼ˆæ ‡ç­¾ã€JS è¡¨è¾¾å¼ã€åˆ¤æ–­ã€å¾ªç¯ã€äº‹ä»¶ç»‘å®šï¼‰</li>
<li>JSX æœ¬è´¨å°±æ˜¯è¯­æ³•ç³–ï¼Œéœ€è¢«è§£ææˆ JS æ‰èƒ½è¿è¡Œ</li>
<li>JSX æ˜¯ç‹¬ç«‹çš„æ ‡å‡†ï¼Œå¯è¢«å…¶å®ƒé¡¹ç›®ä½¿ç”¨</li>
</ul>
</li>
<li><p>JSX å’Œ vdom çš„å…³ç³»ï¼Ÿ</p>
<ul>
<li>ä¸ºä½•éœ€è¦ vdomï¼šJSX éœ€è¦æ¸²æŸ“æˆ htmlï¼Œæ•°æ®é©±åŠ¨è§†å›¾</li>
<li>React.createElement å’Œ h ï¼Œéƒ½ç”Ÿæˆ vnode</li>
<li>ä½•æ—¶ patchï¼šReactDOM.render(â€¦) å’Œ setState</li>
<li>è‡ªå®šä¹‰ç»„ä»¶çš„è§£æï¼šåˆå§‹åŒ–å®ä¾‹ï¼Œç„¶åæ‰§è¡Œ render</li>
</ul>
</li>
<li><p>è¯´ä¸€ä¸‹ setState çš„è¿‡ç¨‹</p>
<ul>
<li>setState çš„å¼‚æ­¥ï¼šæ•ˆæœã€åŸå› </li>
<li>vue ä¿®æ”¹å±æ€§ä¹Ÿæ˜¯å¼‚æ­¥ï¼šæ•ˆæœã€åŸå› </li>
<li>setState çš„è¿‡ç¨‹ï¼šæœ€ç»ˆèµ°åˆ° patch(preVnode, newVnode)</li>
</ul>
</li>
</ul>
<h2 id="7-6-React-Vs-vue"><a href="#7-6-React-Vs-vue" class="headerlink" title="7-6 React Vs vue"></a>7-6 React Vs vue</h2><h3 id="çŸ¥è¯†ç‚¹-5"><a href="#çŸ¥è¯†ç‚¹-5" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>ä¸¤è€…çš„æœ¬è´¨åŒºåˆ«</li>
<li>çœ‹æ¨¡æ¿å’Œç»„ä»¶åŒ–çš„åŒºåˆ«</li>
<li>ä¸¤è€…å…±åŒç‚¹</li>
<li>æ€»ç»“é—®é¢˜çš„ç­”æ¡ˆ</li>
</ul>
<h4 id="ä¸¤è€…çš„æœ¬è´¨åŒºåˆ«"><a href="#ä¸¤è€…çš„æœ¬è´¨åŒºåˆ«" class="headerlink" title="ä¸¤è€…çš„æœ¬è´¨åŒºåˆ«"></a>ä¸¤è€…çš„æœ¬è´¨åŒºåˆ«</h4><ul>
<li>vue - æœ¬è´¨æ˜¯ MVVM æ¡†æ¶ï¼Œç”± MVC å‘å±•è€Œæ¥</li>
<li>React - æœ¬è´¨æ˜¯å‰ç«¯ç»„ä»¶åŒ–æ¡†æ¶ï¼Œæœ‰åç«¯ç»„ä»¶åŒ–å‘å±•è€Œæ¥</li>
</ul>
<h4 id="æ¨¡æ¿çš„åŒºåˆ«"><a href="#æ¨¡æ¿çš„åŒºåˆ«" class="headerlink" title="æ¨¡æ¿çš„åŒºåˆ«"></a>æ¨¡æ¿çš„åŒºåˆ«</h4><ul>
<li>vue - ä½¿ç”¨æ¨¡æ¿ ï¼ˆ æœ€åˆç”± angular æå‡ºï¼‰</li>
<li>React - ä½¿ç”¨ JSX</li>
<li>**æ¨¡æ¿è¯­æ³• **ä¸Šï¼Œæˆ‘æ›´å€¾å‘äº JSX</li>
<li><strong>æ¨¡æ¿åˆ†ç¦»</strong> ä¸Šï¼Œæˆ‘æ›´åŠ å€¾å‘äº vue</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190907/3TJdcbF6Ud41.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190907/oPnkXYam0Ovp.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190907/O7ONMqnOcIxs.png?imageslim" alt="mark"></p>
<ul>
<li>æ¨¡æ¿åº”è¯¥ å’Œ JS é€»è¾‘åˆ†ç¦»</li>
<li>å›é¡¾ â€å¼€æ”¾å°é—­åŸåˆ™â€œ</li>
</ul>
<h4 id="ç»„ä»¶åŒ–çš„åŒºåˆ«"><a href="#ç»„ä»¶åŒ–çš„åŒºåˆ«" class="headerlink" title="ç»„ä»¶åŒ–çš„åŒºåˆ«"></a>ç»„ä»¶åŒ–çš„åŒºåˆ«</h4><ul>
<li>React æœ¬èº«å°±æ˜¯ç»„ä»¶åŒ–ï¼Œæ²¡æœ‰ç»„ä»¶åŒ–å°±ä¸æ˜¯ React</li>
<li>vue ä¹Ÿæ”¯æŒç»„ä»¶åŒ–ï¼Œä¸è¿‡æ˜¯åœ¨ MVVM ä¸Šçš„æ‰©å±•</li>
<li>æŸ¥é˜… vue ç»„ä»¶åŒ–çš„æ–‡æ¡£ï¼Œæ´‹æ´‹æ´’æ´’å¾ˆå¤šï¼ˆ ä¾§é¢åæ˜  ï¼‰</li>
<li>å¯¹äºç»„ä»¶åŒ–ï¼Œæˆ‘æ›´å€¾å‘äº Reactï¼Œåšçš„å½»åº•è€Œæ¸…æ™°</li>
</ul>
<h4 id="ä¸¤è€…çš„å…±åŒç‚¹"><a href="#ä¸¤è€…çš„å…±åŒç‚¹" class="headerlink" title="ä¸¤è€…çš„å…±åŒç‚¹"></a>ä¸¤è€…çš„å…±åŒç‚¹</h4><ul>
<li>éƒ½æ”¯æŒç»„ä»¶åŒ–</li>
<li>éƒ½æ˜¯æ•°æ®é©±åŠ¨è§†å›¾</li>
</ul>
<h3 id="é—®é¢˜è§£ç­”-3"><a href="#é—®é¢˜è§£ç­”-3" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>é˜è¿°ä¸€ä¸‹å¯¹ React å’Œ Vue çš„ è®¤è¯†<ul>
<li>å›½å†…ä½¿ç”¨ï¼Œé¦–æ¨ vueã€‚æ–‡æ¡£æ›´æ˜“è¯»ã€æ˜“å­¦ã€ç¤¾åŒºå¤Ÿå¤§</li>
<li>å¦‚æœå›¢é˜Ÿæ°´å¹³è¾ƒé«˜ï¼Œæ¨èä½¿ç”¨ Reactã€‚ç»„ä»¶åŒ– å’Œ JSX</li>
</ul>
</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/" rel="tag">React</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-VueTheory"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/09/05/VueTheory/"
    >MVVM å’Œ vue</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/09/05/VueTheory/" class="article-date">
  <time datetime="2019-09-05T09:07:39.000Z" itemprop="datePublished">2019-09-05</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/">æ¡†æ¶</a> / <a class="article-category-link" href="/categories/%E6%A1%86%E6%9E%B6/Vue/">Vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="MVVM-å’Œ-vue"><a href="#MVVM-å’Œ-vue" class="headerlink" title="MVVM å’Œ vue"></a>MVVM å’Œ vue</h1><blockquote>
<p>æœ¬ç« é¦–å…ˆä»‹ç»äº† <strong>jQuery å¼€å‘æ–¹å¼å’Œæ¡†æ¶å¼€å‘æ–¹å¼çš„åŒºåˆ«</strong> ï¼Œå¼•å¯¼å­¦ç”Ÿè¿›å…¥æ¡†æ¶å¼€å‘çš„æ€è·¯è½¬å˜ã€‚ç„¶åé€šè¿‡ MVC æ¨¡å¼å¼•å…¥ <strong>MVVM</strong> ï¼Œåœ¨ä¸¤è€…æ¯”è¾ƒè®©å­¦ç”Ÿæ›´å¿«ç†Ÿæ‚‰ MVVM ã€‚æœ€åç»“åˆå®ä¾‹ï¼Œè¯¦ç»†è®²è§£ vue çš„ <strong>å®ç°åŸç†</strong> ï¼ŒåŒ…æ‹¬ <strong>å“åº”å¼</strong>ã€<strong>æ¨¡æ¿è§£æ</strong>ã€<strong>æ¸²æŸ“</strong> è¿™ä¸‰å¤§è¦ç´ ã€‚â€¦</p>
<p>é«˜çº§é¢è¯•ï¼š<strong>vue çŸ¥è¯†ç‚¹</strong></p>
<p>æ”¾å¼ƒè¯¥æ”¾å¼ƒçš„æ˜¯æ— å¥ˆï¼Œæ”¾å¼ƒä¸è¯¥æ”¾å¼ƒçš„æ˜¯æ— èƒ½ï¼Œä¸æ”¾å¼ƒè¯¥æ”¾å¼ƒçš„æ˜¯æ— çŸ¥ï¼Œä¸æ”¾å¼ƒä¸è¯¥æ”¾å¼ƒçš„æ˜¯æ‰§è‘—ï¼</p>
<p>It is helpless to give up the waiver. It is incompetence to give up what should not be given up. It is ignorance that does not give up the waiver. It is attachment that does not give up and should not give up!</p>
</blockquote>
<h3 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>å¦‚ä½• ç†è§£ MVVM</li>
<li>å¦‚ä½• å®ç° MVVM</li>
<li>æ˜¯å¦è§£è¯»è¿‡ vue æºç </li>
</ul>
<h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><ul>
<li>è¯´ä¸€ä¸‹ ä½¿ç”¨ jQuery å’Œ ä½¿ç”¨æ¡†æ¶çš„åŒºåˆ«</li>
<li>è¯´ä¸€ä¸‹ å¯¹ MVVM çš„ç†è§£</li>
<li>vue ä¸­å¦‚ä½•å®ç° <strong>å“åº”å¼</strong></li>
<li>vue ä¸­å¦‚ä½•è§£æ <strong>æ¨¡æ¿</strong></li>
<li>vue çš„ æ•´ä¸ªå®ç°æµç¨‹</li>
</ul>
<h2 id="ä½¿ç”¨-jQuery-å’Œ-ä½¿ç”¨æ¡†æ¶çš„åŒºåˆ«"><a href="#ä½¿ç”¨-jQuery-å’Œ-ä½¿ç”¨æ¡†æ¶çš„åŒºåˆ«" class="headerlink" title="ä½¿ç”¨ jQuery å’Œ ä½¿ç”¨æ¡†æ¶çš„åŒºåˆ«"></a>ä½¿ç”¨ jQuery å’Œ ä½¿ç”¨æ¡†æ¶çš„åŒºåˆ«</h2><h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><ul>
<li>jQuery å®ç° todo-list</li>
<li>vue å®ç° todo-list</li>
<li>jQuery å’Œ æ¡†æ¶çš„åŒºåˆ«</li>
</ul>
<h4 id="jQuery-å®ç°-todo-list"><a href="#jQuery-å®ç°-todo-list" class="headerlink" title="jQuery å®ç° todo-list"></a>jQuery å®ç° todo-list</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;txt-title&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn-submit&quot;</span>&gt;</span>submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;ul-list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $txtTitle = $(<span class="string">&quot;#txt-title&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $ulList = $(<span class="string">&quot;#ul-list&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $btnSubmit = $(<span class="string">&quot;#btn-submit&quot;</span>);</span></span><br><span class="line"><span class="javascript">      $btnSubmit.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> title = $txtTitle.val();</span></span><br><span class="line">        if (!title) &#123;</span><br><span class="line"><span class="javascript">          <span class="keyword">return</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> $li = $(<span class="string">`&lt;li&gt;<span class="subst">$&#123;title&#125;</span>&lt;/li&gt;`</span>);</span></span><br><span class="line">        $ulList.append($li);</span><br><span class="line"><span class="javascript">        $txtTitle.val(<span class="string">&quot;&quot;</span>);</span></span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190902/BaCUCHQ12jJW.gif" alt="mark"></p>
<h4 id="vue-å®ç°-todo-list"><a href="#vue-å®ç°-todo-list" class="headerlink" title="vue å®ç° todo-list"></a>vue å®ç° todo-list</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;title&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in list&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/vue/2.6.10/vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line"><span class="javascript">          title: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line">          list: [],</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="javascript">          add: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.list.push(<span class="built_in">this</span>.title);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.title = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190903/sQq0jR7s1E7E.gif" alt="mark"></p>
<h3 id="ä¸¤è€…çš„åŒºåˆ«"><a href="#ä¸¤è€…çš„åŒºåˆ«" class="headerlink" title="ä¸¤è€…çš„åŒºåˆ«"></a>ä¸¤è€…çš„åŒºåˆ«</h3><ul>
<li><strong>æ•°æ®</strong> å’Œ <strong>è§†å›¾</strong> çš„åˆ†ç¦»</li>
<li>ä»¥æ•°æ®é©±åŠ¨è§†å›¾</li>
</ul>
<h3 id="é—®é¢˜è§£ç­”"><a href="#é—®é¢˜è§£ç­”" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>è¯´ä¸€ä¸‹ ä½¿ç”¨ jQuery å’Œ ä½¿ç”¨æ¡†æ¶çš„åŒºåˆ« ï¼Ÿ<ul>
<li><strong>æ•°æ®</strong> å’Œ <strong>è§†å›¾</strong> çš„åˆ†ç¦»ï¼Œ<u>è§£è€¦</u>ï¼ˆ <em>å¼€æ”¾å°é—­åŸåˆ™</em> ï¼‰</li>
<li>ä»¥æ•°æ®é©±åŠ¨è§†å›¾ï¼Œåªå…³å¿ƒæ•°æ®å˜åŒ–ï¼ŒDOM æ“ä½œè¢«å°è£…</li>
</ul>
</li>
</ul>
<h2 id="è¯´ä¸€ä¸‹-å¯¹-MVVM-çš„ç†è§£"><a href="#è¯´ä¸€ä¸‹-å¯¹-MVVM-çš„ç†è§£" class="headerlink" title="è¯´ä¸€ä¸‹ å¯¹ MVVM çš„ç†è§£"></a>è¯´ä¸€ä¸‹ å¯¹ MVVM çš„ç†è§£</h2><blockquote>
<p>ç›®å‰å‰ç«¯æ¡†æ¶ä¸­ï¼Œæœ€ä¸ºå‡ºè‰²çš„è¦å± Vue å’Œ React äº†ï¼Œè¿™ä¿©ä¸ªæ¡†æ¶çš„æ ¸å¿ƒç†å¿µéƒ½<strong>æ˜¯æ•°æ®é©±åŠ¨é¡µé¢æ¸²æŸ“</strong>ï¼ŒåŒæ—¶ä»–ä»¬éƒ½æ˜¯ MVVM æ¨¡å¼çš„æ¡†æ¶ï¼Œ<strong>MVVM æ¨¡å¼</strong> ä¸­çš„ M è¿˜æ˜¯å›ºå®šè¡¨ç¤º Modalï¼ŒV è¿˜æ˜¯è¡¨æ­» Viewï¼Œè¿™ä¿©ä¸ªåŸºæœ¬éƒ½æ˜¯ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä¸€ä¸ªé¡µé¢å¿…ç„¶éœ€è¦æ•°æ®å’Œæ¸²æŸ“ä¿©ä¸ªéƒ¨åˆ†ï¼Œé‚£ä¹ˆå˜åŒ–çš„æ˜¯å¦‚ä½•å°† Modal æ¸²æŸ“åˆ° View çš„è¿‡ç¨‹å˜äº†ï¼Œåœ¨ MVVM æ¨¡å¼ä¸­ï¼Œå°† View å’Œ Modal ç»‘å®šåœ¨ä¸€èµ·ï¼Œåªè¦ Modal å‘ç”Ÿäº†å˜åŒ–ï¼ŒView å°±ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œä¸éœ€è¦æˆ‘ä»¬è®¤ä¸ºçš„å†å»å†™å¦‚ä½•æ“ä½œ DOM æ›´æ–°çš„è¿‡ç¨‹äº†</p>
</blockquote>
<h3 id="çŸ¥è¯†ç‚¹-1"><a href="#çŸ¥è¯†ç‚¹-1" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>MVC</li>
<li>MVVM</li>
<li>å…³äº ViewModel</li>
</ul>
<h4 id="MVC"><a href="#MVC" class="headerlink" title="MVC"></a>MVC</h4><ul>
<li>M -Model æ•°æ®</li>
<li>V - View è§†å›¾ã€ç•Œé¢</li>
<li>C - Controller æ§åˆ¶å™¨ ã€é€»è¾‘å¤„ç†</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190903/k21xefObaEwr.png?imageslim" alt="mark"></p>
<p><strong>MVC</strong>æ¨¡å¼ï¼ˆModelâ€“viewâ€“controllerï¼‰æ˜¯è½¯ä»¶å·¥ç¨‹ä¸­çš„ä¸€ç§è½¯ä»¶æ¶æ„æ¨¡å¼ï¼ŒæŠŠè½¯ä»¶ç³»ç»Ÿåˆ†ä¸ºä¸‰ä¸ªåŸºæœ¬éƒ¨åˆ†ï¼šæ¨¡å‹ï¼ˆModelï¼‰ã€è§†å›¾ï¼ˆViewï¼‰å’Œæ§åˆ¶å™¨ï¼ˆControllerï¼‰ã€‚</p>
<p>åœ¨å‰ç«¯çš„ <strong>MVC æ¨¡å¼</strong> ä¸­ï¼ŒM è¿˜æ˜¯è¡¨ç¤º Modal å±‚ï¼Œè´Ÿè´£ä¸åå°äº¤äº’æ•°æ®ï¼ŒV è¡¨ç¤º Viewï¼Œè´Ÿè´£é¡µé¢ä¸Š DOM çš„æ¸²æŸ“ï¼ŒC è¡¨ç¤ºç»‘å®šåœ¨ DOM å…ƒç´ ä¸Šçš„äº‹ä»¶ï¼Œå½“ Controllor ä¸­çš„äº‹ä»¶è¢«è°ƒç”¨ï¼Œä¼šå»è°ƒç”¨ Modal ä¸­çš„æ•°æ®ï¼Œç„¶åäº¤ç»™ View é‡æ–°æ¸²æŸ“æ•°æ®</p>
<h4 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h4><ul>
<li>M - Model æ¨¡å‹ã€æ•°æ®</li>
<li>V - View è§†å›¾ã€æ¨¡æ¿ï¼ˆ è§†å›¾å’Œæ¨¡æ¿æ˜¯åˆ†ç¦»çš„ ï¼‰</li>
<li>ViewModel - <strong>è¿æ¥</strong> Model å’Œ View</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190903/23g0MdeUf9sw.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190903/1qFclAqzYLGt.png?imageslim" alt="mark"></p>
<h4 id="å…³äº-ViewModel"><a href="#å…³äº-ViewModel" class="headerlink" title="å…³äº ViewModel"></a>å…³äº ViewModel</h4><ul>
<li>MVVM ä¸ç®—æ˜¯ä¸€ç§åˆ›æ–°</li>
<li>ä½†å…¶ä¸­çš„ ViewModel ç¡®å®æ˜¯ä¸€ç§åˆ›æ–°</li>
<li>çœŸæ­£ ç»“åˆå‰ç«¯åœºæ™¯åº”ç”¨çš„åˆ›å»º</li>
</ul>
<h3 id="é—®é¢˜è§£ç­”-1"><a href="#é—®é¢˜è§£ç­”-1" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>è¯´ä¸€ä¸‹ å¯¹ MVVM çš„ç†è§£<ul>
<li>MVVM - Model View ViewModel</li>
<li>ä¸‰è€…ä¹‹é—´çš„è”ç³»ã€‚ä»¥åŠå¦‚ä½•å¯¹åº”åˆ°å„æ®µä»£ç </li>
<li>ViewModel çš„ç†è§£ï¼Œè”ç³» View å’Œ Model</li>
</ul>
</li>
</ul>
<h1 id="MVVM-æ¡†æ¶çš„ä¸‰å¤§è¦ç´ "><a href="#MVVM-æ¡†æ¶çš„ä¸‰å¤§è¦ç´ " class="headerlink" title="MVVM æ¡†æ¶çš„ä¸‰å¤§è¦ç´ "></a>MVVM æ¡†æ¶çš„ä¸‰å¤§è¦ç´ </h1><h3 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h3><ul>
<li>å†æ¬¡åˆ†æ demo</li>
<li>ä¸‰è¦ç´ æ€»ç»“</li>
</ul>
<h3 id="ä¸‰è¦ç´ "><a href="#ä¸‰è¦ç´ " class="headerlink" title="ä¸‰è¦ç´ "></a>ä¸‰è¦ç´ </h3><ul>
<li>å“åº”å¼ï¼švue å¦‚ä½•ç›‘å¬åˆ° data çš„æ¯ä¸ªå±æ€§å˜åŒ–ï¼Ÿ</li>
<li>æ¨¡æ¿å¼•æ“ï¼švue çš„æ¨¡æ¿å¦‚ä½•è¢«è§£æï¼ŒæŒ‡ä»¤å¦‚ä½•å¤„ç†ï¼Ÿ</li>
<li>æ¸²æŸ“ï¼švue çš„æ¨¡æ¿å¦‚ä½•è¢«æ¸²æŸ“æˆ htmlï¼Ÿä»¥åŠæ¸²æŸ“è¿‡ç¨‹</li>
</ul>
<h2 id="vue-ä¸­å¦‚ä½•å®ç°å“åº”å¼"><a href="#vue-ä¸­å¦‚ä½•å®ç°å“åº”å¼" class="headerlink" title="vue ä¸­å¦‚ä½•å®ç°å“åº”å¼"></a>vue ä¸­å¦‚ä½•å®ç°å“åº”å¼</h2><h3 id="çŸ¥è¯†ç‚¹-2"><a href="#çŸ¥è¯†ç‚¹-2" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>ä»€ä¹ˆæ˜¯å“åº”å¼ï¼Ÿ</li>
<li>Object.defineProperty</li>
<li>æ¨¡æ‹Ÿ</li>
</ul>
<h4 id="ä»€ä¹ˆæ˜¯å“åº”å¼ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å“åº”å¼ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å“åº”å¼ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å“åº”å¼ï¼Ÿ</h4><ul>
<li>ä¿®æ”¹ data å±æ€§åï¼Œvue ç«‹åˆ»ç›‘å¬åˆ°</li>
<li>data å±æ€§è¢«ä»£ç†åˆ° vm ä¸Š</li>
<li>æ¼”ç¤º</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;age&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/vue/2.6.10/vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        el: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line"><span class="javascript">          name: <span class="string">&quot;å¼ ä¸‰&quot;</span>,</span></span><br><span class="line"><span class="javascript">          age: <span class="string">&quot;18&quot;</span>,</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190904/h1SkefYXlHkn.gif" alt="mark"></p>
<h4 id="Object-defineProperty"><a href="#Object-defineProperty" class="headerlink" title="Object.defineProperty"></a>Object.defineProperty</h4><blockquote>
<p><code>Object.defineProperty()</code> æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œ å¹¶è¿”å›è¿™ä¸ªå¯¹è±¡ã€‚</p>
<p><strong>è¯­æ³•</strong> ï¼šObject.defineProperty(obj, prop, descriptor)</p>
<p><strong>å‚æ•°</strong> ï¼š</p>
<p><u>Object.defineProperty(obj, prop, descriptor)</u></p>
<p><strong>obj</strong> ï¼šè¦åœ¨å…¶ä¸Šå®šä¹‰å±æ€§çš„å¯¹è±¡ã€‚</p>
<p><strong>prop</strong> ï¼šè¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°ã€‚</p>
<p><strong>descriptor</strong> ï¼šå°†è¢«å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&quot;å¼ ä¸‰&quot;</span>,</span><br><span class="line">  age: <span class="number">25</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name); <span class="comment">//è·å–å±æ€§çš„æ—¶å€™ï¼Œå¦‚ä½•ç›‘å¬åˆ°ï¼Ÿ</span></span><br><span class="line">obj.age = <span class="number">26</span>; <span class="comment">//èµ‹å€¼å±æ€§çš„æ—¶å€™ï¼Œå¦‚ä½•ç›‘å¬åˆ°ï¼Ÿ</span></span><br></pre></td></tr></table></figure>

<p><em>Object.definePropertyï¼š</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;å¼ ä¸‰&quot;</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&quot;name&quot;</span>, &#123;</span><br><span class="line">  get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;get&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">  &#125;,</span><br><span class="line">  set: <span class="function"><span class="keyword">function</span> (<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;set&quot;</span>);</span><br><span class="line">    name = newVal;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj.name);</span><br><span class="line">obj.name = <span class="string">&quot;list&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="æ¨¡æ‹Ÿå®ç°"><a href="#æ¨¡æ‹Ÿå®ç°" class="headerlink" title="æ¨¡æ‹Ÿå®ç°"></a>æ¨¡æ‹Ÿå®ç°</h3><blockquote>
<p>æ¨¡æ‹Ÿå®ç° Vue å¦‚ä½•ç›‘å¬ data</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* å¦‚ä½•ç›‘å¬data</span></span><br><span class="line"><span class="comment">var vm=new Vue(&#123;</span></span><br><span class="line"><span class="comment">    el:&#x27;å¼ ä¸‰&#x27;,</span></span><br><span class="line"><span class="comment">    data:&#123;</span></span><br><span class="line"><span class="comment">        name:&#x27;å¼ ä¸‰&#x27;,</span></span><br><span class="line"><span class="comment">        age:20</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¨¡æ‹Ÿå®ç°</span></span><br><span class="line"><span class="keyword">var</span> vm = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">  price: <span class="number">100</span>,</span><br><span class="line">  name: <span class="string">&quot;å¼ ä¸‰&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> key, value;</span><br><span class="line"><span class="keyword">for</span> (key <span class="keyword">in</span> data) &#123;</span><br><span class="line">  <span class="comment">//å‘½ä¸­é—­åŒ…ã€‚æ–°å»ºä¸€ä¸ªå‡½æ•°ï¼Œä¿è¯ key çš„ç‹¬ç«‹çš„ä½œç”¨åŸŸ</span></span><br><span class="line">  (<span class="function"><span class="keyword">function</span> (<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(vm, key, &#123;</span><br><span class="line">      get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;get&quot;</span>); <span class="comment">//ç›‘å¬</span></span><br><span class="line">        <span class="keyword">return</span> data[key];</span><br><span class="line">      &#125;,</span><br><span class="line">      set: <span class="function"><span class="keyword">function</span> (<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;set&quot;</span>); <span class="comment">//ç›‘å¬</span></span><br><span class="line">        data[key] = newVal;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;)(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190904/P570ewmXOdNX.gif" alt="mark"></p>
<h3 id="é—®é¢˜è§£ç­”-2"><a href="#é—®é¢˜è§£ç­”-2" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>ä»€ä¹ˆæ˜¯å“åº”å¼ï¼Ÿ<ul>
<li>å…³é”®æ˜¯ç†è§£ Object.defineProperty</li>
<li>å°† data çš„å±æ€§ä»£ç†åˆ° vm ä¸Š</li>
</ul>
</li>
</ul>
<h2 id="vue-ä¸­å¦‚ä½•è§£ææ¨¡æ¿"><a href="#vue-ä¸­å¦‚ä½•è§£ææ¨¡æ¿" class="headerlink" title="vue ä¸­å¦‚ä½•è§£ææ¨¡æ¿"></a>vue ä¸­å¦‚ä½•è§£ææ¨¡æ¿</h2><h3 id="çŸ¥è¯†ç‚¹-3"><a href="#çŸ¥è¯†ç‚¹-3" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>æ¨¡æ¿æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>render å‡½æ•°</li>
<li>render å‡½æ•° ä¸ vdom</li>
</ul>
<h4 id="æ¨¡æ¿æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#æ¨¡æ¿æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æ¨¡æ¿æ˜¯ä»€ä¹ˆï¼Ÿ"></a>æ¨¡æ¿æ˜¯ä»€ä¹ˆï¼Ÿ</h4><ul>
<li><p>æœ¬è´¨ï¼šå­—ç¬¦ä¸²</p>
</li>
<li><p>æœ‰é€»è¾‘ï¼Œå¦‚ v-if ã€v-for ç­‰</p>
</li>
<li><p>ä¸ html æ ¼å¼å¾ˆåƒï¼Œä½†æœ‰å¾ˆå¤§åŒºåˆ«</p>
</li>
<li><p>æœ€ç»ˆè¿˜è¦è½¬æ¢ä¸º html æ¥æ˜¾ç¤º</p>
</li>
<li><p><strong>æ¨¡æ¿æœ€ç»ˆå¿…é¡»è½¬åŒ–æˆ JS ä»£ç </strong> ï¼Œå› ä¸ºï¼š</p>
<ul>
<li>æœ‰é€»è¾‘ï¼ˆv-ifã€v-forï¼‰ï¼Œå¿…é¡»ç”¨ JS æ‰èƒ½å®ç° ï¼ˆ å›¾çµå®Œå¤‡ ï¼‰</li>
<li>è½¬æ¢æˆ html æ¸²æŸ“é¡µé¢ï¼Œå¿…é¡»ç”¨ JS æ‰èƒ½å®ç°</li>
<li>å› æ­¤ï¼Œæ¨¡æ¿æœ€é‡è¦è½¬æ¢æˆ ä¸€ä¸ª JS å‡½æ•° ï¼ˆrender å‡½æ•°ï¼‰</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;title&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in list&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="render-å‡½æ•°-with-çš„ç”¨æ³•"><a href="#render-å‡½æ•°-with-çš„ç”¨æ³•" class="headerlink" title="render å‡½æ•° - with çš„ç”¨æ³•"></a>render å‡½æ•° - with çš„ç”¨æ³•</h4><blockquote>
<p>with çš„ç”¨æ³• â€” <strong>è‡ªå·±å¼€å‘çš„ä»£ç å°½é‡ä¸è¦ä½¿ç”¨ï¼</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&quot;å¼ ä¸‰&quot;</span>,</span><br><span class="line">  age: <span class="number">20</span>,</span><br><span class="line">  getAddress: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&quot;beijing&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ä½¿ç”¨ with</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(obj.name);</span><br><span class="line">  alert(obj.age);</span><br><span class="line">  obj.getAddress();</span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&quot;å¼ ä¸‰&quot;</span>,</span><br><span class="line">  age: <span class="number">20</span>,</span><br><span class="line">  getAddress: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&quot;beijing&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ with</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">with</span> (obj) &#123;</span><br><span class="line">    alert(obj.name);</span><br><span class="line">    alert(obj.age);</span><br><span class="line">    getAddress();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">fn1();</span><br></pre></td></tr></table></figure>

<h4 id="render-å‡½æ•°"><a href="#render-å‡½æ•°" class="headerlink" title="render å‡½æ•°"></a>render å‡½æ•°</h4><p><img src="http://static.zxinc520.com/blog/20190905/igfqtojmzQ4H.png?imageslim" alt="mark"></p>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul>
<li>æ¨¡æ¿ä¸­æ‰€æœ‰ä¿¡æ¯éƒ½åŒ…å«åœ¨äº† render å‡½æ•°ä¸­</li>
<li>this å³ vm</li>
<li>price å³ this.price å³ vm.price ï¼Œå³ data ä¸­çš„ price</li>
<li>_c å³ this. _c å³ vm. _c</li>
</ul>
<h4 id="render-å‡½æ•°å‰–æ"><a href="#render-å‡½æ•°å‰–æ" class="headerlink" title="render å‡½æ•°å‰–æ"></a>render å‡½æ•°å‰–æ</h4><ul>
<li>ä»å“ªé‡Œå¯ä»¥çœ‹åˆ° render å‡½æ•°ï¼Ÿ</li>
<li>å¤æ‚ä¸€ç‚¹çš„ä¾‹å­ï¼Œrender å‡½æ•°æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Ÿ</li>
<li>v- if ã€v-for ã€v-on éƒ½æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ</li>
</ul>
<h4 id="çœ‹ä¸€ä¸‹-todo-list-demo-çš„-render-å‡½æ•°"><a href="#çœ‹ä¸€ä¸‹-todo-list-demo-çš„-render-å‡½æ•°" class="headerlink" title="çœ‹ä¸€ä¸‹ todo-list demo çš„ render å‡½æ•°"></a>çœ‹ä¸€ä¸‹ todo-list demo çš„ render å‡½æ•°</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;title&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in list&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> _c(<span class="string">&quot;div&quot;</span>, &#123; <span class="attr">attrs</span>: &#123; <span class="attr">id</span>: <span class="string">&quot;app&quot;</span> &#125; &#125;, [</span><br><span class="line">    _c(<span class="string">&quot;div&quot;</span>, [</span><br><span class="line">      _c(<span class="string">&quot;input&quot;</span>, &#123;</span><br><span class="line">        directives: [</span><br><span class="line">          &#123;</span><br><span class="line">            name: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">            rawName: <span class="string">&quot;v-model&quot;</span>,</span><br><span class="line">            value: title,</span><br><span class="line">            expression: <span class="string">&quot;title&quot;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">        attrs: &#123; <span class="attr">type</span>: <span class="string">&quot;text&quot;</span> &#125;,</span><br><span class="line">        domProps: &#123; <span class="attr">value</span>: title &#125;,</span><br><span class="line">        on: &#123;</span><br><span class="line">          input: <span class="function"><span class="keyword">function</span> (<span class="params">$event</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> ($event.target.composing) <span class="keyword">return</span>;</span><br><span class="line">            title = $event.target.value;</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;),</span><br><span class="line">      _v(<span class="string">&quot; &quot;</span>),</span><br><span class="line">      _c(<span class="string">&quot;button&quot;</span>, &#123; <span class="attr">on</span>: &#123; <span class="attr">click</span>: add &#125; &#125;, [_v(<span class="string">&quot;submit&quot;</span>)]),</span><br><span class="line">    ]),</span><br><span class="line">    _v(<span class="string">&quot; &quot;</span>),</span><br><span class="line">    _c(</span><br><span class="line">      <span class="string">&quot;ul&quot;</span>,</span><br><span class="line">      _l(list, <span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _c(<span class="string">&quot;li&quot;</span>, [_v(_s(item))]);</span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="number">0</span></span><br><span class="line">    ),</span><br><span class="line">  ]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ ¹æ® todo-list demo çš„ render å‡½æ•°</li>
<li>v- model æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</li>
<li>v-on :click æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</li>
<li>v- for æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</li>
</ul>
<h4 id="é‡è¦"><a href="#é‡è¦" class="headerlink" title="é‡è¦"></a>é‡è¦</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    vue2.0 å¼€å§‹æ”¯æŒé¢„ç¼–è¯‘</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    å¼€å‘ç¯å¢ƒ ï¼šå†™æ¨¡æ¿</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    ç¼–è¯‘æ‰“åŒ…</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    ç”Ÿäº§ç¯å¢ƒï¼šJS</span></span><br><span class="line"><span class="comment">    --------------------------------------------</span></span><br><span class="line"><span class="comment">    React ç»„ä»¶åŒ–</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    JSX æ¨¡æ¿</span></span><br><span class="line"><span class="comment">    ç¼–è¯‘ ï¼š -&gt; JS ä»£ç </span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="æ¸²æŸ“"><a href="#æ¸²æŸ“" class="headerlink" title="æ¸²æŸ“"></a>æ¸²æŸ“</h3><ul>
<li><p>å·²ç»è§£å†³äº† æ¨¡æ¿ä¸­ â€œé€»è¾‘â€ ï¼ˆv-forã€v-if ï¼‰çš„é—®é¢˜</p>
</li>
<li><p>è¿˜å‰©ä¸‹æ¨¡æ¿ç”Ÿæˆ html é—®é¢˜</p>
</li>
<li><p>å¦å¤–ï¼Œvm._c æ˜¯ä»€ä¹ˆï¼Ÿ render å‡½æ•° è¿”å›äº†ä»€ä¹ˆï¼Ÿ</p>
</li>
</ul>
<h5 id="å…ˆå¤ä¹ ä¸€ä¸‹-vdom-çš„çŸ¥è¯†"><a href="#å…ˆå¤ä¹ ä¸€ä¸‹-vdom-çš„çŸ¥è¯†" class="headerlink" title="å…ˆå¤ä¹ ä¸€ä¸‹ vdom çš„çŸ¥è¯†"></a>å…ˆå¤ä¹ ä¸€ä¸‹ vdom çš„çŸ¥è¯†</h5><blockquote>
<p>å¯å‚è€ƒ <a target="_blank" rel="noopener" href="http://zxinc520.com/lcj/%225d63a1bce9920a5ce05e2c3b%22">vdom ç¯‡</a></p>
</blockquote>
<p>vdom çš„å¦‚ä½•åº”ç”¨ï¼Œæ ¸å¿ƒ API æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>ä»‹ç» <a target="_blank" rel="noopener" href="https://github.com/snabbdom/snabbdom">snabbdom</a></li>
<li>é‡åš ä¹‹å‰çš„ demo</li>
<li>æ ¸å¿ƒ API</li>
</ul>
<h5 id="render-å‡½æ•°å’Œ-vdom"><a href="#render-å‡½æ•°å’Œ-vdom" class="headerlink" title="render å‡½æ•°å’Œ vdom"></a>render å‡½æ•°å’Œ vdom</h5><p><img src="http://static.zxinc520.com/blog/20190905/ldxxH0zJ4t3s.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190905/MykHq1vOBFyL.png?imageslim" alt="mark"></p>
<ul>
<li>updataComponent ä¸­å®ç°äº† vdom çš„ patch</li>
<li>é¡µé¢é¦–æ¬¡æ¸²æŸ“æ‰§è¡Œ updataComponent</li>
<li>data ä¸­æ¯æ¬¡ä¿®æ”¹å±æ€§ï¼Œæ‰§è¡Œ updataComponent</li>
</ul>
<h3 id="é—®é¢˜è§£ç­”-3"><a href="#é—®é¢˜è§£ç­”-3" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>vue ä¸­å¦‚ä½•è§£æ <strong>æ¨¡æ¿</strong><ul>
<li>æ¨¡æ¿ï¼šå­—ç¬¦ä¸²ï¼Œæœ‰é€»è¾‘ï¼ŒåµŒå…¥ JS å˜é‡â€¦â€¦</li>
<li>æ¨¡æ¿å¿…é¡»è½¬æ¢æˆ JS ä»£ç ï¼ˆæœ‰é€»è¾‘ï¼Œæ¸²æŸ“ htmlï¼ŒJS å˜é‡ï¼‰</li>
<li>render å‡½æ•°æ˜¯ä»€ä¹ˆæ ·å­çš„</li>
<li>render å‡½æ•°æ‰§è¡Œæ˜¯è¿”å› vnode</li>
<li>updataComponent</li>
</ul>
</li>
</ul>
<h1 id="vue-çš„æ•´ä¸ªå®ç°æµç¨‹"><a href="#vue-çš„æ•´ä¸ªå®ç°æµç¨‹" class="headerlink" title="vue çš„æ•´ä¸ªå®ç°æµç¨‹"></a>vue çš„æ•´ä¸ªå®ç°æµç¨‹</h1><h3 id="æ•´ä¸ªå®ç°æµç¨‹"><a href="#æ•´ä¸ªå®ç°æµç¨‹" class="headerlink" title="æ•´ä¸ªå®ç°æµç¨‹"></a>æ•´ä¸ªå®ç°æµç¨‹</h3><ul>
<li><p>ç¬¬ä¸€æ­¥ï¼šè§£ææ¨¡æ¿æˆ render å‡½æ•°</p>
<ul>
<li>with çš„ç”¨æ³•</li>
<li>æ¨¡æ¿ä¸­çš„æ‰€æœ‰ä¿¡æ¯éƒ½è¢« render å‡½æ•° åŒ…å«</li>
<li>æ¨¡æ¿ä¸­ç”¨åˆ°çš„ data ä¸­çš„å±æ€§ï¼Œéƒ½å˜æˆäº† JS å˜é‡</li>
<li>æ¨¡æ¿ä¸­çš„ v-modelã€v-forã€v-on éƒ½å˜æˆäº† JS é€»è¾‘</li>
<li>render å‡½æ•°è¿”å› vnode</li>
</ul>
</li>
<li><p>ç¬¬äºŒæ­¥ï¼šå“åº”å¼å¼€å§‹ç›‘å¬</p>
<ul>
<li>Object.defineProperty</li>
<li>å°† data çš„å±æ€§ä»£ç†åˆ° vm ä¸Š</li>
</ul>
</li>
<li><p>ç¬¬ä¸‰æ­¥ï¼šé¦–æ¬¡æ¸²æŸ“ï¼Œæ˜¾ç¤ºé¡µé¢ï¼Œä¸”ç»‘å®šä¾èµ–</p>
<ul>
<li>åˆæ¬¡æ¸²æŸ“ï¼Œæ‰§è¡Œ updataComponent ï¼Œæ‰§è¡Œ vm.render()</li>
<li>æ‰§è¡Œ render å‡½æ•°ï¼Œä¼šè®¿é—®åˆ° vm.list å’Œ vm.title</li>
<li>ä¼šè¢«å“åº”å¼çš„ get æ–¹æ³•ç›‘å¬åˆ° ï¼ˆåé¢è¯¦ç»†è®²ï¼‰</li>
<li>æ‰§è¡Œ updataComponent ï¼Œä¼šè¢« vdom çš„ patch æ–¹æ³•</li>
<li>patch å°† vnode æ¸²æŸ“æˆ DOM ï¼Œåˆæ¬¡æ¸²æŸ“å®Œæˆ</li>
</ul>
<hr>
<ul>
<li>ä¸ºä½•è¦ç›‘å¬ getï¼Œç›´æ¥ç›‘å¬ set ä¸è¡Œå—ï¼Ÿ</li>
<li>data ä¸­æœ‰å¾ˆå¤šå±æ€§ï¼Œæœ‰äº›è¢«ç”¨åˆ°ï¼Œæœ‰äº›å¯èƒ½ä¸è¢«ç”¨åˆ°</li>
<li>è¢«ç”¨åˆ°çš„ä¼šèµ°åˆ° get ï¼Œä¸è¢«ç”¨åˆ°çš„ ä¸ä¼šèµ°åˆ° get</li>
<li>æœªèµ°åˆ° get ä¸­çš„å±æ€§ï¼Œset çš„æ—¶å€™æˆ‘ä»¬ä¹Ÿæ— éœ€å…³å¿ƒ</li>
<li><strong>é¿å…ä¸å¿…è¦çš„é‡å¤æ¸²æŸ“</strong></li>
</ul>
</li>
<li><p>ç¬¬å››æ­¥ï¼šdata å±æ€§å˜åŒ–ï¼Œè§¦å‘ rerender</p>
<ul>
<li>ä¿®æ”¹å±æ€§ï¼Œè¢«å“åº”å¼ çš„ set ç›‘å¬åˆ°</li>
<li>set ä¸­æ‰§è¡Œ updataComponent</li>
<li>updataComponent é‡æ–°æ‰§è¡Œ vm.render()</li>
<li>ç”Ÿæˆçš„ vnode å’Œ prevVnodeï¼Œé€šè¿‡ patch è¿›è¡Œæ¯”è¾ƒ</li>
</ul>
</li>
</ul>
<h3 id="é—®é¢˜è§£ç­”-4"><a href="#é—®é¢˜è§£ç­”-4" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>vue çš„æ•´ä¸ªå®ç°æµç¨‹ï¼Ÿ<ul>
<li>ç¬¬ä¸€æ­¥ï¼šè§£ææ¨¡æ¿æˆ render å‡½æ•°</li>
<li>ç¬¬äºŒæ­¥ï¼šå“åº”å¼å¼€å§‹ç›‘å¬</li>
<li>ç¬¬ä¸‰æ­¥ï¼šé¦–æ¬¡æ¸²æŸ“ï¼Œæ˜¾ç¤ºé¡µé¢ï¼Œä¸”ç»‘å®šä¾èµ–</li>
<li>ç¬¬å››æ­¥ï¼šdata å±æ€§å˜åŒ–ï¼Œè§¦å‘ rerender</li>
</ul>
</li>
</ul>
<h1 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ul>
<li><p>è¯´ä¸€ä¸‹ ä½¿ç”¨ jQuery å’Œ ä½¿ç”¨æ¡†æ¶çš„åŒºåˆ«</p>
<ul>
<li><strong>æ•°æ®</strong> å’Œ <strong>è§†å›¾</strong> çš„åˆ†ç¦»ï¼Œ<u>è§£è€¦</u>ï¼ˆ <em>å¼€æ”¾å°é—­åŸåˆ™</em> ï¼‰</li>
<li>ä»¥æ•°æ®é©±åŠ¨è§†å›¾ï¼Œåªå…³å¿ƒæ•°æ®å˜åŒ–ï¼ŒDOM æ“ä½œè¢«å°è£…</li>
</ul>
</li>
<li><p>ä»€ä¹ˆæ˜¯ MVVM ï¼Ÿ</p>
<ul>
<li><p>MVVM - Model View ViewModel</p>
</li>
<li><p>ä¸‰è€…ä¹‹é—´çš„è”ç³»ã€‚ä»¥åŠå¦‚ä½•å¯¹åº”åˆ°å„æ®µä»£ç </p>
</li>
<li><p>ViewModel çš„ç†è§£ï¼Œè”ç³» View å’Œ Model</p>
</li>
</ul>
</li>
</ul>
<h3 id="ä¸‰è¦ç´ -1"><a href="#ä¸‰è¦ç´ -1" class="headerlink" title="ä¸‰è¦ç´ "></a>ä¸‰è¦ç´ </h3><ul>
<li><p>å“åº”å¼ï¼švue å¦‚ä½•ç›‘å¬åˆ° data çš„æ¯ä¸ªå±æ€§å˜åŒ–ï¼Ÿ</p>
</li>
<li><p>æ¨¡æ¿å¼•æ“ï¼švue çš„æ¨¡æ¿å¦‚ä½•è¢«è§£æï¼ŒæŒ‡ä»¤å¦‚ä½•å¤„ç†ï¼Ÿ</p>
</li>
<li><p>æ¸²æŸ“ï¼švue çš„æ¨¡æ¿å¦‚ä½•è¢«æ¸²æŸ“æˆ htmlï¼Ÿä»¥åŠæ¸²æŸ“è¿‡ç¨‹ï¼Ÿ</p>
</li>
<li><p>Vue å¦‚ä½•å®ç°å“åº”å¼ï¼Ÿ</p>
<ul>
<li>å…³é”®æ˜¯ç†è§£ Object.defineProperty</li>
<li>å°† data çš„å±æ€§ä»£ç†åˆ° vm ä¸Š</li>
</ul>
</li>
<li><p>vue ä¸­å¦‚ä½•è§£æ <strong>æ¨¡æ¿</strong> ï¼Ÿ</p>
<ul>
<li>æ¨¡æ¿ï¼šå­—ç¬¦ä¸²ï¼Œæœ‰é€»è¾‘ï¼ŒåµŒå…¥ JS å˜é‡â€¦â€¦</li>
<li>æ¨¡æ¿å¿…é¡»è½¬æ¢æˆ JS ä»£ç ï¼ˆæœ‰é€»è¾‘ï¼Œæ¸²æŸ“ htmlï¼ŒJS å˜é‡ï¼‰</li>
<li>render å‡½æ•°æ˜¯ä»€ä¹ˆæ ·å­çš„</li>
<li>render å‡½æ•°æ‰§è¡Œæ˜¯è¿”å› vnode</li>
<li>updataComponent</li>
</ul>
</li>
<li><p>vue çš„æ•´ä¸ªå®ç°æµç¨‹ï¼Ÿ</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šè§£ææ¨¡æ¿æˆ render å‡½æ•°</li>
<li>ç¬¬äºŒæ­¥ï¼šå“åº”å¼å¼€å§‹ç›‘å¬</li>
<li>ç¬¬ä¸‰æ­¥ï¼šé¦–æ¬¡æ¸²æŸ“ï¼Œæ˜¾ç¤ºé¡µé¢ï¼Œä¸”ç»‘å®šä¾èµ–</li>
<li>ç¬¬å››æ­¥ï¼šdata å±æ€§å˜åŒ–ï¼Œè§¦å‘ rerender</li>
</ul>
</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVVM/" rel="tag">MVVM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F%E3%80%81%E6%A8%A1%E6%9D%BF%E8%A7%A3%E6%9E%90%E3%80%81%E6%B8%B2%E6%9F%93/" rel="tag">å“åº”å¼ã€æ¨¡æ¿è§£æã€æ¸²æŸ“</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-WeChatUp"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/09/05/WeChatUp/"
    >å¾®ä¿¡å°ç¨‹åºç¬”è®°ä¸Š</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/09/05/WeChatUp/" class="article-date">
  <time datetime="2019-09-05T09:07:39.000Z" itemprop="datePublished">2019-09-05</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">å¾®ä¿¡å°ç¨‹åº</a> / <a class="article-category-link" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%8A%E7%AF%87/">å¾®ä¿¡å°ç¨‹åºä¸Šç¯‡</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="å¾®ä¿¡å°ç¨‹åºç¬”è®°ä¸Š"><a href="#å¾®ä¿¡å°ç¨‹åºç¬”è®°ä¸Š" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºç¬”è®°ä¸Š"></a>å¾®ä¿¡å°ç¨‹åºç¬”è®°ä¸Š</h1><blockquote>
<p>å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸Š</p>
<p>åˆæ­¥æ¥è§¦å°ç¨‹åº</p>
<p>åŸºç¡€å†…å®¹ä»‹ç»</p>
<p>å¼€å‘è€…æ–‡æ¡£</p>
<p>app.js å…¨å±€ç”Ÿå‘½å‘¨æœŸå‡½æ•°</p>
<p>WXML æ•°æ®ç»‘å®š</p>
<p>é€šè¿‡ wx.request è¯·æ±‚æ•°æ®</p>
<p>å¾®ä¿¡å°ç¨‹åºé‡Œåˆ—è¡¨æ¸²æŸ“</p>
<p>é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°</p>
<p>True mastery of any skill takes a lifetime.</p>
<p>å¯¹ä»»ä½•æŠ€èƒ½çš„æŒæ¡éƒ½éœ€è¦ä¸€ç”Ÿçš„åˆ»è‹¦æ“ç»ƒã€‚</p>
</blockquote>
<h1 id="å°ç¨‹åºç®€ä»‹"><a href="#å°ç¨‹åºç®€ä»‹" class="headerlink" title="å°ç¨‹åºç®€ä»‹"></a>å°ç¨‹åºç®€ä»‹</h1><blockquote>
<p>å°ç¨‹åºæ˜¯ä¸€ç§å…¨æ–°çš„è¿æ¥ç”¨æˆ·ä¸æœåŠ¡çš„æ–¹å¼ï¼Œå®ƒå¯ä»¥åœ¨å¾®ä¿¡å†…è¢«ä¾¿æ·åœ°è·å–å’Œä¼ æ’­ï¼ŒåŒæ—¶å…·æœ‰å‡ºè‰²çš„ä½¿ç”¨ä½“éªŒã€‚</p>
<p>å¾®ä¿¡å°ç¨‹åºä½¿ç”¨äº†å‰ç«¯æŠ€æœ¯æ ˆ JavaScript/WXML/WXSSã€‚</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/quickstart/basic/introduction.html">ç›¸å…³ä»‹ç»</a></p>
<p><strong>å¾®ä¿¡å°ç¨‹åºä½¿ç”¨äº†å‰ç«¯æŠ€æœ¯æ ˆ JavaScript/WXML/WXSSã€‚ä½†å’Œå¸¸è§„çš„å‰ç«¯å¼€å‘åˆæœ‰ä¸€äº›åŒºåˆ«ï¼š</strong> <a target="_blank" rel="noopener" href="https://juejin.im/entry/581db98fa0bb9f0058abffea">å¯ä»¥å‚è€ƒ</a></p>
<ol>
<li><strong>JavaScript</strong>: å¾®ä¿¡å°ç¨‹åºçš„ JavaScript è¿è¡Œç¯å¢ƒå³ä¸æ˜¯ Browser ä¹Ÿä¸æ˜¯ Node.jsã€‚å®ƒè¿è¡Œåœ¨å¾®ä¿¡ App çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä¸èƒ½æ“ä½œ Browser context ä¸‹çš„ DOMï¼Œä¹Ÿä¸èƒ½é€šè¿‡ N*ode.js ç›¸å…³æ¥å£è®¿é—®æ“ä½œç³»ç»Ÿ APIã€‚æ‰€ä»¥ï¼Œä¸¥æ ¼æ„ä¹‰æ¥è®²ï¼Œå¾®ä¿¡å°ç¨‹åºå¹¶ä¸æ˜¯ Html5ï¼Œè™½ç„¶å¼€å‘è¿‡ç¨‹å’Œç”¨åˆ°çš„æŠ€æœ¯æ ˆå’Œ Html5 æ˜¯ç›¸é€šçš„ã€‚</li>
<li><strong>WXMLï¼š</strong>ä½œä¸ºå¾®ä¿¡å°ç¨‹åºçš„å±•ç¤ºå±‚ï¼Œå¹¶ä¸æ˜¯ä½¿ç”¨ Htmlï¼Œè€Œæ˜¯è‡ªå·±å‘æ˜çš„åŸºäº XML è¯­æ³•çš„æè¿°ã€‚</li>
<li><strong>WXSSï¼š</strong>ç”¨æ¥ä¿®é¥°å±•ç¤ºå±‚çš„æ ·å¼ã€‚å®˜æ–¹çš„æè¿°æ˜¯ â€œ WXSS (WeiXin Style Sheets) æ˜¯ä¸€å¥—æ ·å¼è¯­è¨€ï¼Œç”¨äºæè¿° WXML çš„ç»„ä»¶æ ·å¼ã€‚WXSS ç”¨æ¥å†³å®š WXML çš„ç»„ä»¶åº”è¯¥æ€ä¹ˆæ˜¾ç¤ºã€‚â€ â€œæˆ‘ä»¬çš„ WXSS å…·æœ‰ CSS å¤§éƒ¨åˆ†ç‰¹æ€§â€¦æˆ‘ä»¬å¯¹ CSS è¿›è¡Œäº†æ‰©å……ä»¥åŠä¿®æ”¹ã€‚â€åŸºäº CSS2 è¿˜æ˜¯ CSS3ï¼Ÿå¤§éƒ¨åˆ†æ˜¯å“ªäº›éƒ¨åˆ†ï¼Ÿæ˜¯å¦æ”¯æŒ CSS3 é‡Œçš„åŠ¨ç”»ï¼Ÿä¸å¾—è€ŒçŸ¥ã€‚</li>
</ol>
<h4 id="ç›®å½•ç»“æ„ï¼š"><a href="#ç›®å½•ç»“æ„ï¼š" class="headerlink" title="ç›®å½•ç»“æ„ï¼š"></a>ç›®å½•ç»“æ„ï¼š</h4><p><img src="http://static.zxinc520.com/blog/20190514/yTqqYeB2UoIS.png?imageslim" alt="mark"></p>
<ol>
<li><code>app.js</code>åšä¸ºå°ç¨‹åºçš„å…¥å£ï¼Œé‡Œé¢æœ‰ä¸ª App å®ä¾‹ï¼Œæ¯ä¸ªå°ç¨‹åºåªä¼šæœ‰ä¸€ä¸ª App å®ä¾‹ï¼Œå°ç¨‹åºå¯åŠ¨ä»¥åè§¦å‘ onLaunch å‡½æ•°æ‰§è¡Œï¼Œè·å–ç”¨æˆ·ä¿¡æ¯</li>
<li><code>app.json</code>æ˜¯å°ç¨‹åºçš„æ‰€æœ‰å…¨å±€é…ç½®ï¼Œ<code>pages</code>å­—æ®µæ”¾ç½®æ‰€æœ‰é¡µé¢çš„è·¯å¾„ï¼Œ<code>window</code>å­—æ®µå®šä¹‰æ‰€æœ‰é¡µé¢çš„é¡¶éƒ¨èƒŒæ™¯é¢œè‰²ï¼Œæ–‡å­—é¢œè‰² è¯¦ç»†é…ç½®è¯·<a href="https://link.juejin.im/?target=https://mp.weixin.qq.com/debug/wxadoc/dev/framework/config.html">æˆ³è¿™é‡Œ ğŸ‘‡</a></li>
<li><code>app.wxss</code>æ–‡ä»¶å°±æ˜¯é¡µé¢å…¬ç”¨çš„æ ·å¼ï¼Œä»…æ”¯æŒéƒ¨åˆ† css é€‰æ‹©å™¨</li>
<li><code>wxml</code>å°±æ˜¯æˆ‘ä»¬çš„ HTML æ–‡ä»¶ï¼Œå¸¸ç”¨æ ‡ç­¾ä¸º <code>view</code> ã€<code>text</code> ç­‰ï¼Œæ²¡æœ‰æ‰€è°“çš„<code>div</code>ã€<code>span</code>ã€<code>p</code>ä¸€ç±»çš„æ ‡ç­¾äº†ï¼Œæˆ‘ä»¬ä¹ æƒ¯ç§°å®ƒä»¬ä¸ºç»„ä»¶</li>
</ol>
<hr>
<blockquote>
<p><strong>è®¾è®¡ç†å¿µï¼š</strong></p>
<p>å°ç¨‹åºå†…éƒ¨å¯ä»¥ç†è§£æˆä¸€ä¸ª mvvm çš„æ¡†æ¶ï¼Œåˆ†ä¸ºé€»è¾‘å±‚å’Œè§†å›¾å±‚ï¼Œé€»è¾‘å±‚å°†æ•°æ®è¿›è¡Œå¤„ç†åå‘é€ç»™è§†å›¾å±‚ï¼ŒåŒæ—¶æ¥å—è§†å›¾å±‚çš„äº‹ä»¶åé¦ˆã€‚</p>
</blockquote>
<hr>
<p><img src="http://static.zxinc520.com/blog/20190514/U6eXvlL8evmQ.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190514/m4UDxEkFa1ae.png?imageslim" alt="mark"></p>
<h2 id="å¼€å§‹ä¸Šæ‰‹"><a href="#å¼€å§‹ä¸Šæ‰‹" class="headerlink" title="å¼€å§‹ä¸Šæ‰‹"></a>å¼€å§‹ä¸Šæ‰‹</h2><blockquote>
<p><strong>å¼€å§‹æ­£å¼å­¦ä¹ </strong></p>
<p>åŸºç¡€å­¦ä¹ éƒ¨åˆ†</p>
</blockquote>
<h3 id="åŠ è½½ä¸€å¼ å›¾ç‰‡"><a href="#åŠ è½½ä¸€å¼ å›¾ç‰‡" class="headerlink" title="åŠ è½½ä¸€å¼ å›¾ç‰‡"></a>åŠ è½½ä¸€å¼ å›¾ç‰‡</h3><p><img src="http://static.zxinc520.com/blog/20190514/GnYuPkAo16G5.png?imageslim" alt="mark"></p>
<p>_ç®€å•ä½¿ç”¨æ ·å¼_ï¼š</p>
<p><img src="http://static.zxinc520.com/blog/20190514/gvNQzg8BaF74.png?imageslim" alt="mark"></p>
<h2 id="WXSS"><a href="#WXSS" class="headerlink" title="WXSS"></a>WXSS</h2><blockquote>
<p>WXSS (WeiXin Style Sheets)æ˜¯ä¸€å¥—æ ·å¼è¯­è¨€ï¼Œç”¨äºæè¿° WXML çš„ç»„ä»¶æ ·å¼ã€‚</p>
<p>WXSS ç”¨æ¥å†³å®š WXML çš„ç»„ä»¶åº”è¯¥æ€ä¹ˆæ˜¾ç¤ºã€‚ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html">å¯ä»¥å‚è€ƒå®˜ç½‘</a></p>
</blockquote>
<p>ä¸ºäº†é€‚åº”å¹¿å¤§çš„å‰ç«¯å¼€å‘è€…ï¼ŒWXSS å…·æœ‰ CSS å¤§éƒ¨åˆ†ç‰¹æ€§ã€‚åŒæ—¶ä¸ºäº†æ›´é€‚åˆå¼€å‘å¾®ä¿¡å°ç¨‹åºï¼ŒWXSS å¯¹ CSS è¿›è¡Œäº†æ‰©å……ä»¥åŠä¿®æ”¹ã€‚</p>
<p>ä¸ CSS ç›¸æ¯”ï¼ŒWXSS æ‰©å±•çš„ç‰¹æ€§æœ‰ï¼š</p>
<ul>
<li>å°ºå¯¸å•ä½</li>
<li>æ ·å¼å¯¼å…¥</li>
</ul>
<h2 id="å°ºå¯¸å•ä½"><a href="#å°ºå¯¸å•ä½" class="headerlink" title="å°ºå¯¸å•ä½"></a>å°ºå¯¸å•ä½</h2><p>â€‹ <strong>rpx</strong>ï¼ˆresponsive pixelï¼‰: å¯ä»¥æ ¹æ®å±å¹•å®½åº¦è¿›è¡Œè‡ªé€‚åº”ã€‚è§„å®šå±å¹•å®½ä¸º 750rpxã€‚å¦‚åœ¨ iPhone6 ä¸Šï¼Œå±å¹•å®½åº¦ä¸º 375pxï¼Œå…±æœ‰ 750 ä¸ªç‰©ç†åƒç´ ï¼Œåˆ™ 750rpx = 375px = 750 ç‰©ç†åƒç´ ï¼Œ1rpx = 0.5px = 1 ç‰©ç†åƒç´ </p>
<p><img src="http://static.zxinc520.com/blog/20190514/57Wa2m8PEEyp.png?imageslim" alt="mark"></p>
<p><strong>å»ºè®®ï¼š</strong> å¼€å‘å¾®ä¿¡å°ç¨‹åºæ—¶è®¾è®¡å¸ˆå¯ä»¥ç”¨ iPhone6 ä½œä¸ºè§†è§‰ç¨¿çš„æ ‡å‡†ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong> åœ¨è¾ƒå°çš„å±å¹•ä¸Šä¸å¯é¿å…çš„ä¼šæœ‰ä¸€äº›æ¯›åˆºï¼Œè¯·åœ¨å¼€å‘æ—¶å°½é‡é¿å…è¿™ç§æƒ…å†µã€‚</p>
<h2 id="å…¨å±€æ ·å¼ä¸å±€éƒ¨æ ·å¼"><a href="#å…¨å±€æ ·å¼ä¸å±€éƒ¨æ ·å¼" class="headerlink" title="å…¨å±€æ ·å¼ä¸å±€éƒ¨æ ·å¼"></a>å…¨å±€æ ·å¼ä¸å±€éƒ¨æ ·å¼</h2><p>å®šä¹‰åœ¨ app.wxss ä¸­çš„æ ·å¼ä¸ºå…¨å±€æ ·å¼ï¼Œä½œç”¨äºæ¯ä¸€ä¸ªé¡µé¢ã€‚åœ¨ page çš„ wxss æ–‡ä»¶ä¸­å®šä¹‰çš„æ ·å¼ä¸ºå±€éƒ¨æ ·å¼ï¼Œåªä½œç”¨åœ¨å¯¹åº”çš„é¡µé¢ï¼Œå¹¶ä¼šè¦†ç›– app.wxss ä¸­ç›¸åŒçš„é€‰æ‹©å™¨ã€‚</p>
<h2 id="å¼€å‘è€…æ–‡æ¡£"><a href="#å¼€å‘è€…æ–‡æ¡£" class="headerlink" title="å¼€å‘è€…æ–‡æ¡£"></a>å¼€å‘è€…æ–‡æ¡£</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/image.html">å¼€å‘è€…æ–‡æ¡£</a></p>
<p><strong>ä¸ä¼š</strong> æˆ– <strong>å¿˜äº†</strong> å°±æŸ¥æ–‡æ¡£ï¼</p>
</blockquote>
<h3 id="image"><a href="#image" class="headerlink" title="image:"></a>image:</h3><p>â€‹ <strong>è§£å†³å›¾ç‰‡ç¼©æ”¾é—®é¢˜ï¼š</strong></p>
<ul>
<li>mode ï¼ˆ å¸¸ç”¨ä¸‹é¢ 2 ä¸ªå±æ€§å€¼ç¼©æ”¾å›¾ç‰‡ ï¼‰<ul>
<li>aspectFitï¼šç¼©æ”¾æ¨¡å¼ï¼Œä¿æŒçºµæ¨ªæ¯”ç¼©æ”¾å›¾ç‰‡ï¼Œä½¿å›¾ç‰‡çš„é•¿è¾¹èƒ½å®Œå…¨æ˜¾ç¤ºå‡ºæ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥å®Œæ•´åœ°å°†å›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥ã€‚</li>
<li>aspectFillï¼šç¼©æ”¾æ¨¡å¼ï¼Œä¿æŒçºµæ¨ªæ¯”ç¼©æ”¾å›¾ç‰‡ï¼Œåªä¿è¯å›¾ç‰‡çš„çŸ­è¾¹èƒ½å®Œå…¨æ˜¾ç¤ºå‡ºæ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå›¾ç‰‡é€šå¸¸åªåœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘æ˜¯å®Œæ•´çš„ï¼Œå¦ä¸€ä¸ªæ–¹å‘å°†ä¼šå‘ç”Ÿæˆªå–ã€‚</li>
</ul>
</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190520/XC3RPCh4fJdY.png?imageslim" alt="mark"></p>
<h3 id="swiper"><a href="#swiper" class="headerlink" title="swiper"></a>swiper</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html">çœ‹å¼€å‘è€…æ–‡æ¡£</a></p>
<p>è½®æ’­ç»„ä»¶ï¼šè°ƒç”¨ç›¸åº”çš„æ ‡ç­¾åŠå‚æ•°è®¾ç½®</p>
</blockquote>
<p><img src="http://static.zxinc520.com/blog/20190520/PgOdEdCQrqvp.gif" alt="mark"></p>
<h2 id="è§£è¯»-app-json"><a href="#è§£è¯»-app-json" class="headerlink" title="è§£è¯» app.json"></a>è§£è¯» app.json</h2><blockquote>
<p>å°ç¨‹åºæ ¹ç›®å½•ä¸‹çš„ <code>app.json</code> æ–‡ä»¶ç”¨æ¥å¯¹å¾®ä¿¡å°ç¨‹åºè¿›è¡Œå…¨å±€é…ç½®ã€‚æ–‡ä»¶å†…å®¹ä¸ºä¸€ä¸ª JSON å¯¹è±¡ï¼Œæœ‰ä»¥ä¸‹å±æ€§ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html">å¯ä»¥å‚è€ƒå®˜ç½‘</a></p>
</blockquote>
<h3 id="pages"><a href="#pages" class="headerlink" title="pages"></a>pages</h3><blockquote>
<p>ç”¨äºæŒ‡å®šå°ç¨‹åºç”±å“ªäº›é¡µé¢ç»„æˆï¼Œæ¯ä¸€é¡¹éƒ½å¯¹åº”ä¸€ä¸ªé¡µé¢çš„ è·¯å¾„ï¼ˆå«æ–‡ä»¶åï¼‰ ä¿¡æ¯ã€‚æ–‡ä»¶åä¸éœ€è¦å†™æ–‡ä»¶åç¼€ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨å»å¯»æ‰¾å¯¹äºä½ç½®çš„ <code>.json</code>, <code>.js</code>, <code>.wxml</code>, <code>.wxss</code> å››ä¸ªæ–‡ä»¶è¿›è¡Œå¤„ç†ã€‚</p>
</blockquote>
<h3 id="window"><a href="#window" class="headerlink" title="window"></a>window</h3><blockquote>
<p>ç”¨äºè®¾ç½®å°ç¨‹åºçš„çŠ¶æ€æ ã€å¯¼èˆªæ¡ã€æ ‡é¢˜ã€çª—å£èƒŒæ™¯è‰²ã€‚</p>
</blockquote>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;window&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;navigationBarBackgroundColor&quot;</span>: <span class="string">&quot;#ffffff&quot;</span>,</span><br><span class="line">    <span class="string">&quot;navigationBarTextStyle&quot;</span>: <span class="string">&quot;black&quot;</span>,</span><br><span class="line">    <span class="string">&quot;navigationBarTitleText&quot;</span>: <span class="string">&quot;å¾®ä¿¡æ¥å£åŠŸèƒ½æ¼”ç¤º&quot;</span>,</span><br><span class="line">    <span class="string">&quot;backgroundColor&quot;</span>: <span class="string">&quot;#eeeeee&quot;</span>,</span><br><span class="line">    <span class="string">&quot;backgroundTextStyle&quot;</span>: <span class="string">&quot;light&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="tabBar"><a href="#tabBar" class="headerlink" title="tabBar"></a>tabBar</h3><blockquote>
<p>å¦‚æœå°ç¨‹åºæ˜¯ä¸€ä¸ªå¤š tab åº”ç”¨ï¼ˆå®¢æˆ·ç«¯çª—å£çš„åº•éƒ¨æˆ–é¡¶éƒ¨æœ‰ tab æ å¯ä»¥åˆ‡æ¢é¡µé¢ï¼‰ï¼Œå¯ä»¥é€šè¿‡ tabBar é…ç½®é¡¹æŒ‡å®š tab æ çš„è¡¨ç°ï¼Œä»¥åŠ tab åˆ‡æ¢æ—¶æ˜¾ç¤ºçš„å¯¹åº”é¡µé¢ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;tabBar&quot;</span>: &#123;</span><br><span class="line">   <span class="string">&quot;color&quot;</span>: <span class="string">&quot;#333&quot;</span>,</span><br><span class="line">   <span class="string">&quot;selectedColor&quot;</span>: <span class="string">&quot;#f30&quot;</span>,</span><br><span class="line">   <span class="string">&quot;list&quot;</span>: [&#123;</span><br><span class="line">     <span class="string">&quot;pagePath&quot;</span>: <span class="string">&quot;pages/index/index&quot;</span>,</span><br><span class="line">     <span class="string">&quot;text&quot;</span>: <span class="string">&quot;é¦–é¡µ&quot;</span>,</span><br><span class="line">     <span class="string">&quot;iconPath&quot;</span>: <span class="string">&quot;assets/tabs/icon1.png&quot;</span>,</span><br><span class="line">     <span class="string">&quot;selectedIconPath&quot;</span>: <span class="string">&quot;assets/tabs/icon1.png&quot;</span></span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="string">&quot;pagePath&quot;</span>: <span class="string">&quot;pages/message/message&quot;</span>,</span><br><span class="line">     <span class="string">&quot;text&quot;</span>: <span class="string">&quot;æ¶ˆæ¯&quot;</span>,</span><br><span class="line">     <span class="string">&quot;iconPath&quot;</span>: <span class="string">&quot;assets/tabs/icon1.png&quot;</span>,</span><br><span class="line">     <span class="string">&quot;selectedIconPath&quot;</span>: <span class="string">&quot;assets/tabs/icon1.png&quot;</span></span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="string">&quot;pagePath&quot;</span>: <span class="string">&quot;pages/index/index&quot;</span>,</span><br><span class="line">     <span class="string">&quot;text&quot;</span>: <span class="string">&quot;ä¸ªäººä¸­å¿ƒ&quot;</span>,</span><br><span class="line">     <span class="string">&quot;iconPath&quot;</span>: <span class="string">&quot;assets/tabs/icon1.png&quot;</span>,</span><br><span class="line">     <span class="string">&quot;selectedIconPath&quot;</span>: <span class="string">&quot;assets/tabs/icon1.png&quot;</span></span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="string">&quot;pagePath&quot;</span>: <span class="string">&quot;pages/index/index&quot;</span>,</span><br><span class="line">     <span class="string">&quot;text&quot;</span>: <span class="string">&quot;ç»¼åˆ&quot;</span>,</span><br><span class="line">     <span class="string">&quot;iconPath&quot;</span>: <span class="string">&quot;assets/tabs/icon1.png&quot;</span>,</span><br><span class="line">     <span class="string">&quot;selectedIconPath&quot;</span>: <span class="string">&quot;assets/tabs/icon1.png&quot;</span></span><br><span class="line">   &#125;]</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190521/OCDT2PNCaB4Y.png?imageslim" alt="mark"></p>
<p><em>ç­‰ç­‰ç­‰â€¦ ä¸äº†è§£å°±çœ‹æ–‡æ¡£ï¼</em></p>
<p><strong>æ³¨æ„ï¼š æ‰€ä»¥çœ‹å¼€å‘è€…æ–‡æ¡£å¾ˆé‡è¦ï¼</strong></p>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html">ç‚¹ä¸€ä¸‹å°±å¯ä»¥çœ‹äº†ï¼Œåˆ«æ‡’ï¼</a></p>
<h2 id="app-js-å…¨å±€ç”Ÿå‘½å‘¨æœŸå‡½æ•°"><a href="#app-js-å…¨å±€ç”Ÿå‘½å‘¨æœŸå‡½æ•°" class="headerlink" title="app.js å…¨å±€ç”Ÿå‘½å‘¨æœŸå‡½æ•°"></a>app.js å…¨å±€ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h2><blockquote>
<p>app.js å…¨å±€ç”Ÿå‘½å‘¨æœŸå‡½æ•°</p>
</blockquote>
<p><em>åœ¨ app.js æ–‡ä»¶ä¸­</em> ï¼Œ å®šä¹‰äº†ä¸€äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³• ï¼Œ onLaunchï¼ŒonShowï¼ŒonHideï¼ŒonErrorï¼Œä»¥åŠä»»æ„å¼€å‘è€…æ·»åŠ çš„å‡½æ•°æˆ–è€…æ•°æ®ï¼ˆé€šè¿‡ this å¯ä»¥è®¿é—®ï¼‰</p>
<p><strong>ä»¥ä¸‹æ˜¯å„ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä½œç”¨å’Œæè¿°ï¼š</strong></p>
<ol>
<li><strong>onLaunch ç”Ÿå‘½å‘¨æœŸå‡½æ•°</strong> â€“ç›‘å¬å°ç¨‹åºåˆå§‹åŒ– å½“å°ç¨‹åºåˆå§‹åŒ–å®Œæˆæ—¶ï¼Œä¼šè§¦å‘ onLaunchï¼ˆå…¨å±€åªè§¦å‘ä¸€æ¬¡ï¼‰</li>
<li><strong>onShow ç”Ÿå‘½å‘¨æœŸå‡½æ•°</strong>â€“ç›‘å¬å°ç¨‹åºæ˜¾ç¤º å½“å°ç¨‹åºå¯åŠ¨ï¼Œæˆ–ä»åå°è¿›å…¥å‰å°æ˜¾ç¤ºï¼Œä¼šè§¦å‘ onShow</li>
<li><strong>onHide ç”Ÿå‘½å‘¨æœŸå‡½æ•°</strong>â€“ç›‘å¬å°ç¨‹åºéšè— å½“å°ç¨‹åºä»å‰å°è¿›å…¥åå°ï¼Œä¼šè§¦å‘ onHide</li>
<li><strong>onError é”™è¯¯ç›‘å¬å‡½æ•°</strong> å½“å°ç¨‹åºå‘ç”Ÿè„šæœ¬é”™è¯¯ï¼Œæˆ–è€… api è°ƒç”¨å¤±è´¥æ—¶ï¼Œä¼šè§¦å‘ onError å¹¶å¸¦ä¸Šé”™è¯¯ä¿¡æ¯</li>
</ol>
<p>å…¶ä»– Any å¼€å‘è€…å¯ä»¥æ·»åŠ ä»»æ„çš„å‡½æ•°æˆ–æ•°æ®åˆ° Object å‚æ•°ä¸­ï¼Œç”¨ this å¯ä»¥è®¿é—®</p>
<p><em>index.js:</em> ï¼ˆä¸ªäººæ„Ÿè§‰ å’Œ <strong>Vue</strong> çœŸçš„å¥½åƒï¼Œå¦‚æœç†Ÿæ‚‰ Vue çš„è¯ï¼Œè¿™ç†è§£èµ·æ¥åº”è¯¥æ²¡æœ‰éš¾åº¦ã€‚ï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="comment">//è·å–åº”ç”¨å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> app = getApp();</span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    motto: <span class="string">&quot;Hello World&quot;</span>,</span><br><span class="line">    listarr: <span class="number">0</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//ç›‘å¬å°ç¨‹åºåˆå§‹åŒ– å½“å°ç¨‹åºåˆå§‹åŒ–å®Œæˆæ—¶ï¼Œä¼šè§¦å‘ onLaunchï¼ˆå…¨å±€åªè§¦å‘ä¸€æ¬¡ï¼‰</span></span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">option</span>) </span>&#123;</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: <span class="string">&quot;https://www.baifubao.com/callback&quot;</span>,</span><br><span class="line">      success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">          listarr: res.statusCode,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šç€é‡å…³æ³¨ onLoad å‡½æ•°ï¼Œå› ä¸ºä½¿ç”¨æœ€é¢‘ç¹ï¼</strong></p>
<h2 id="WXML-æ•°æ®ç»‘å®š"><a href="#WXML-æ•°æ®ç»‘å®š" class="headerlink" title="WXML æ•°æ®ç»‘å®š"></a>WXML æ•°æ®ç»‘å®š</h2><blockquote>
<p>WXML ä¸­çš„åŠ¨æ€æ•°æ®å‡æ¥è‡ªå¯¹åº” Page çš„ dataã€‚</p>
</blockquote>
<h3 id="å†…å®¹"><a href="#å†…å®¹" class="headerlink" title="å†…å®¹"></a>å†…å®¹</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">&quot;Hello World!&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190526/Dr9a1AITnQo7.png?imageslim" alt="mark"></p>
<h4 id="ç‰¹åˆ«æ³¨æ„ï¼š"><a href="#ç‰¹åˆ«æ³¨æ„ï¼š" class="headerlink" title="ç‰¹åˆ«æ³¨æ„ï¼š"></a>ç‰¹åˆ«æ³¨æ„ï¼š</h4><ol>
<li>èŠ±æ‹¬å·å’Œå¼•å·ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼</li>
<li>ä¸èƒ½ç›´æ¥å†™ checked=â€œfalseâ€ï¼Œå…¶è®¡ç®—ç»“æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè½¬æˆ boolean ç±»å‹åè½¬ä¸ºçœŸå€¼ã€‚</li>
</ol>
<h2 id="é€šè¿‡-wx-request-è¯·æ±‚æ•°æ®"><a href="#é€šè¿‡-wx-request-è¯·æ±‚æ•°æ®" class="headerlink" title="é€šè¿‡ wx.request è¯·æ±‚æ•°æ®"></a>é€šè¿‡ wx.request è¯·æ±‚æ•°æ®</h2><blockquote>
<p>é€šè¿‡ wx.request è¯·æ±‚æ•°æ®</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">wx.request(&#123;</span><br><span class="line">  url: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  data: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  header: &#123;&#125;,</span><br><span class="line">  method: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">  dataType: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">  responseType: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">  success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">  &#125;,</span><br><span class="line">  fail: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;&#125;,</span><br><span class="line">  complete: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190527/x00Ledvp9GT7.png?imageslim" alt="mark"></p>
<p><strong>setData</strong>ï¼šæ¥å— <u>wx.request</u> è¯·æ±‚çš„æ•°æ®ï¼Œèµ‹å€¼ç»™ Page é‡Œé¢çš„ dataï¼ˆç„¶åé€šè¿‡æ’å€¼è¡¨è¾¾å¼æ¸²æŸ“åˆ°é¡µé¢ï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="comment">//è·å–åº”ç”¨å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> app = getApp();</span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    motto: <span class="string">&quot;Hello World&quot;</span>,</span><br><span class="line">    listarr: <span class="number">0</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">option</span>) </span>&#123;</span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: <span class="string">&quot;https://www.baifubao.com/callback&quot;</span>,</span><br><span class="line">      success: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">          listarr: res.statusCode,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="å¾®ä¿¡å°ç¨‹åºé‡Œåˆ—è¡¨æ¸²æŸ“"><a href="#å¾®ä¿¡å°ç¨‹åºé‡Œåˆ—è¡¨æ¸²æŸ“" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºé‡Œåˆ—è¡¨æ¸²æŸ“"></a>å¾®ä¿¡å°ç¨‹åºé‡Œåˆ—è¡¨æ¸²æŸ“</h2><blockquote>
<h3 id="wx-for"><a href="#wx-for" class="headerlink" title="wx:for"></a>wx:for</h3><p>åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ <code>wx:for</code> æ§åˆ¶å±æ€§ç»‘å®šä¸€ä¸ªæ•°ç»„ï¼Œå³å¯ä½¿ç”¨æ•°ç»„ä¸­å„é¡¹çš„æ•°æ®é‡å¤æ¸²æŸ“è¯¥ç»„ä»¶ã€‚</p>
<p>é»˜è®¤æ•°ç»„çš„å½“å‰é¡¹çš„ä¸‹æ ‡å˜é‡åé»˜è®¤ä¸º <code>index</code>ï¼Œæ•°ç»„å½“å‰é¡¹çš„å˜é‡åé»˜è®¤ä¸º <code>item</code></p>
</blockquote>
<p><em>ç±»æ¯”äº Vueï¼š</em></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;example-1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span>&gt;</span>&#123;&#123; item.message &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><em>å¾®ä¿¡å°ç¨‹åºé‡Œé¢ï¼š</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view wx:<span class="keyword">for</span>=<span class="string">&quot;&#123;&#123;array&#125;&#125;&quot;</span>&gt;&#123;&#123;index&#125;&#125;: &#123;&#123;item.message&#125;&#125;&lt;/view&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    array: [</span><br><span class="line">      &#123;</span><br><span class="line">        message: <span class="string">&quot;foo&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        message: <span class="string">&quot;bar&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="wx-key"><a href="#wx-key" class="headerlink" title="wx:key"></a>wx:key</h4><p>â€‹ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/list.html">å¯ä»¥å‚è€ƒ</a></p>
<p>å¦‚æœåˆ—è¡¨ä¸­é¡¹ç›®çš„ä½ç½®ä¼šåŠ¨æ€æ”¹å˜æˆ–è€…æœ‰æ–°çš„é¡¹ç›®æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œå¹¶ä¸”å¸Œæœ›åˆ—è¡¨ä¸­çš„é¡¹ç›®ä¿æŒè‡ªå·±çš„ç‰¹å¾å’ŒçŠ¶æ€ï¼ˆå¦‚ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/input.html">``</a> ä¸­çš„è¾“å…¥å†…å®¹ï¼Œ<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/switch.html">``</a>çš„é€‰ä¸­çŠ¶æ€ï¼‰ï¼Œéœ€è¦ä½¿ç”¨ <code>wx:key</code> æ¥æŒ‡å®šåˆ—è¡¨ä¸­é¡¹ç›®çš„å”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚</p>
<ol>
<li>å­—ç¬¦ä¸²ï¼Œä»£è¡¨åœ¨ for å¾ªç¯çš„ array ä¸­ item çš„æŸä¸ª propertyï¼Œè¯¥ property çš„å€¼éœ€è¦æ˜¯åˆ—è¡¨ä¸­å”¯ä¸€çš„å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œä¸”ä¸èƒ½åŠ¨æ€æ”¹å˜ã€‚</li>
<li>ä¿ç•™å…³é”®å­— <code>*this</code> ä»£è¡¨åœ¨ for å¾ªç¯ä¸­çš„ item æœ¬èº«ï¼Œè¿™ç§è¡¨ç¤ºéœ€è¦ item æœ¬èº«æ˜¯ä¸€ä¸ªå”¯ä¸€çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ï¼Œå¦‚ï¼š</li>
</ol>
<p>å½“æ•°æ®æ”¹å˜è§¦å‘æ¸²æŸ“å±‚é‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œä¼šæ ¡æ­£å¸¦æœ‰ key çš„ç»„ä»¶ï¼Œæ¡†æ¶ä¼šç¡®ä¿ä»–ä»¬è¢«é‡æ–°æ’åºï¼Œè€Œä¸æ˜¯é‡æ–°åˆ›å»ºï¼Œä»¥ç¡®ä¿ä½¿ç»„ä»¶ä¿æŒè‡ªèº«çš„çŠ¶æ€ï¼Œå¹¶ä¸”æé«˜åˆ—è¡¨æ¸²æŸ“æ—¶çš„æ•ˆç‡ã€‚</p>
<p><strong>å¦‚ä¸æä¾› wx:keyï¼Œä¼šæŠ¥ä¸€ä¸ª warningï¼Œ å¦‚æœæ˜ç¡®çŸ¥é“è¯¥åˆ—è¡¨æ˜¯é™æ€ï¼Œæˆ–è€…ä¸å¿…å…³æ³¨å…¶é¡ºåºï¼Œå¯ä»¥é€‰æ‹©å¿½ç•¥ã€‚</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">switch</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;objectArray&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;unique&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: block;&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123;item.id&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">switch</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;switch&quot;</span>&gt;</span>Switch<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;addToFront&quot;</span>&gt;</span>Add to the front<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">switch</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;numberArray&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;*this&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: block;&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123;item&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">switch</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;addNumberToFront&quot;</span>&gt;</span>Add to the front<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    objectArray: [</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">5</span>, <span class="attr">unique</span>: <span class="string">&quot;unique_5&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">4</span>, <span class="attr">unique</span>: <span class="string">&quot;unique_4&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">unique</span>: <span class="string">&quot;unique_3&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">unique</span>: <span class="string">&quot;unique_2&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">unique</span>: <span class="string">&quot;unique_1&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">unique</span>: <span class="string">&quot;unique_0&quot;</span> &#125;,</span><br><span class="line">    ],</span><br><span class="line">    numberArray: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°"><a href="#é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°" class="headerlink" title="é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°"></a>é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°</h2><blockquote>
<p>é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°ï¼ˆ<strong>ä¸‹æ‹‰åˆ·æ–°</strong>ï¼Œ<strong>æ»‘åˆ°åº•éƒ¨åŠ è½½æ›´å¤š</strong>ç­‰ï¼‰</p>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/ui/pull-down-refresh/wx.startPullDownRefresh.html">å¯ä»¥å‚è€ƒ</a></p>
</blockquote>
<p><strong>ä¸‹æ‹‰äº‹ä»¶å’Œè§¦åº•äº‹ä»¶</strong>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°---ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ</span></span><br><span class="line">   onPullDownRefresh:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&#x27;ä¸‹æ‹‰ï¼&#x27;</span>)</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">//é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶çš„å¤„ç†å‡½æ•°</span></span><br><span class="line">   onReachBottom:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&#x27;ä¸Šæ‹‰&#x27;</span>)</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¯¼èˆªæ "><a href="#å¯¼èˆªæ " class="headerlink" title="å¯¼èˆªæ "></a>å¯¼èˆªæ </h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/ui/navigation-bar/wx.showNavigationBarLoading.html">å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£</a></p>
<p>js æ–‡ä»¶</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">å‡½æ•° API</th>
<th align="center">åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td align="center">wx.showNavigationBarLoading(Object object)</td>
<td align="center">åœ¨å½“å‰é¡µé¢æ˜¾ç¤ºå¯¼èˆªæ¡åŠ è½½åŠ¨ç”»</td>
</tr>
<tr>
<td align="center">wx.setNavigationBarTitle(Object object)</td>
<td align="center">åŠ¨æ€è®¾ç½®å½“å‰é¡µé¢çš„æ ‡é¢˜</td>
</tr>
<tr>
<td align="center">wx.setNavigationBarColor(Object object)</td>
<td align="center">è®¾ç½®é¡µé¢å¯¼èˆªæ¡é¢œè‰²</td>
</tr>
<tr>
<td align="center">wx.hideNavigationBarLoading(Object object)</td>
<td align="center">åœ¨å½“å‰é¡µé¢éšè—å¯¼èˆªæ¡åŠ è½½åŠ¨ç”»</td>
</tr>
</tbody></table>
<p><img src="http://static.zxinc520.com/blog/20190603/DXIDRjESGUHv.gif" alt="mark"></p>
<h2 id="ç•Œé¢äº¤äº’"><a href="#ç•Œé¢äº¤äº’" class="headerlink" title="ç•Œé¢äº¤äº’"></a>ç•Œé¢äº¤äº’</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showToast.html">å‚è€ƒå®˜æ–¹æ–‡æ¡£</a></p>
</blockquote>
<h4 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wx.showToast(&#123;</span><br><span class="line">  title: <span class="string">&quot;æˆåŠŸw&quot;</span>,</span><br><span class="line">  icon: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">  duration: <span class="number">2000</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190603/fRajsw7UWlQc.gif" alt="mark"></p>
<h2 id="ä¸‹æ‹‰åˆ·æ–°"><a href="#ä¸‹æ‹‰åˆ·æ–°" class="headerlink" title="ä¸‹æ‹‰åˆ·æ–°"></a>ä¸‹æ‹‰åˆ·æ–°</h2><blockquote>
<p>ä¸‹æ‹‰åˆ·æ–°( <strong>é…åˆ</strong> é¡µé¢<em>ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°</em>â€”ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ)</p>
</blockquote>
<p><strong>index.json:</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;enablePullDownRefresh&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&quot;backgroundTextStyle&quot;</span>: <span class="string">&quot;dark&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>index.js:</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°---ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ</span></span><br><span class="line"> onPullDownRefresh:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&#x27;ä¸‹æ‹‰ï¼&#x27;</span>)</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190603/bHEJTM3fLLsC.gif" alt="mark"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">å¾®ä¿¡å°ç¨‹åº</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-WeChatUp02"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/09/05/WeChatUp02/"
    >å¾®ä¿¡å°ç¨‹åºç¬”è®°ä¸‹</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/09/05/WeChatUp02/" class="article-date">
  <time datetime="2019-09-05T09:07:39.000Z" itemprop="datePublished">2019-09-05</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">å¾®ä¿¡å°ç¨‹åº</a> / <a class="article-category-link" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%8B%E7%AF%87/">å¾®ä¿¡å°ç¨‹åºä¸‹ç¯‡</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="å¾®ä¿¡å°ç¨‹åºç¬”è®°ä¸‹"><a href="#å¾®ä¿¡å°ç¨‹åºç¬”è®°ä¸‹" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºç¬”è®°ä¸‹"></a>å¾®ä¿¡å°ç¨‹åºç¬”è®°ä¸‹</h1><blockquote>
<p>å¾®ä¿¡å°ç¨‹åºç¬”è®°ä¸‹</p>
<p>input</p>
<p>color å±æ€§</p>
<p>bindchange</p>
<p>wxs é¡µé¢è„šæœ¬</p>
<p>å¾®ä¿¡å°ç¨‹åºäº‹ä»¶ <strong>å†’æ³¡ ** å’Œ äº‹ä»¶</strong>ä¼ å‚**</p>
<p>æœåŠ¡å·ã€è®¢é˜…å·</p>
<p>sdk</p>
</blockquote>
<h2 id="å¾®ä¿¡å°ç¨‹åºç»„ä»¶"><a href="#å¾®ä¿¡å°ç¨‹åºç»„ä»¶" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºç»„ä»¶"></a>å¾®ä¿¡å°ç¨‹åºç»„ä»¶</h2><h3 id="è¡¨å•ç»„ä»¶"><a href="#è¡¨å•ç»„ä»¶" class="headerlink" title="è¡¨å•ç»„ä»¶"></a>è¡¨å•ç»„ä»¶</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><blockquote>
<p>è¾“å…¥æ¡†ã€‚è¯¥ç»„ä»¶æ˜¯<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html">åŸç”Ÿç»„ä»¶</a>ï¼Œä½¿ç”¨æ—¶è¯·æ³¨æ„ç›¸å…³é™åˆ¶</p>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/input.html">å¯ä»¥å‚è€ƒ</a></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è¾“å…¥æ¡† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&#x27;text&#x27;</span> <span class="attr">placeholder</span>=<span class="string">&#x27;text&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&#x27;password&#x27;</span> <span class="attr">placeholder</span>=<span class="string">&#x27;password&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&#x27;number&#x27;</span> <span class="attr">placeholder</span>=<span class="string">&#x27;number&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&#x27;idcard&#x27;</span> <span class="attr">placeholder</span>=<span class="string">&#x27;idcard&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&#x27;digit&#x27;</span> <span class="attr">placeholder</span>=<span class="string">&#x27;digit&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- å•é€‰æ¡† --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">radio-group</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">radio</span>&gt;</span>å•é€‰æ¡†<span class="tag">&lt;/<span class="name">radio</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">radio</span>&gt;</span>å•é€‰æ¡†<span class="tag">&lt;/<span class="name">radio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">radio-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- å¤šé€‰æ¡† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox-group</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">checkbox</span>&gt;</span>å¤šé€‰æ¡†<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">checkbox</span>&gt;</span>å¤šé€‰æ¡†<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">checkbox</span>&gt;</span>å¤šé€‰æ¡†<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">checkbox-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190605/iBUB5P8LKOTz.png?imageslim" alt="mark"></p>
<h3 id="æ”¹å˜é¢œè‰²"><a href="#æ”¹å˜é¢œè‰²" class="headerlink" title="æ”¹å˜é¢œè‰²"></a>æ”¹å˜é¢œè‰²</h3><blockquote>
<p><strong>color å±æ€§</strong></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å•é€‰æ¡† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">radio-group</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">radio</span> <span class="attr">color</span>=<span class="string">&quot;#f30&quot;</span>&gt;</span>å•é€‰æ¡†<span class="tag">&lt;/<span class="name">radio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">radio</span>&gt;</span>å•é€‰æ¡†<span class="tag">&lt;/<span class="name">radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">radio-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¤šé€‰æ¡† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox-group</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">color</span>=<span class="string">&quot;#f30&quot;</span>&gt;</span>å¤šé€‰æ¡†<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">checkbox</span>&gt;</span>å¤šé€‰æ¡†<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">checkbox</span>&gt;</span>å¤šé€‰æ¡†<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">checkbox-group</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190605/0lbNety1l8Nr.gif" alt="mark"></p>
<ul>
<li>checkedï¼šé»˜è®¤é€‰ä¸­</li>
<li>disabled: ç¦ç”¨</li>
</ul>
<h3 id="bindchange"><a href="#bindchange" class="headerlink" title="bindchange"></a>bindchange</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox-group.html">checkbox-group</a>ä¸­é€‰ä¸­é¡¹å‘ç”Ÿæ”¹å˜æ—¶è§¦å‘ change äº‹ä»¶ï¼Œdetail = {value:[é€‰ä¸­çš„ checkbox çš„ value çš„æ•°ç»„]}</p>
<p><strong>å•é€‰æ¡†</strong> å’Œ <strong>å¤é€‰æ¡†</strong> éƒ½èƒ½ç”¨ï¼</p>
</blockquote>
<p><strong>ä¾‹å¦‚ï¼š</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å•é€‰æ¡† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">radio-group</span> =<span class="string">&quot;radiobindchangefun&quot;</span> <span class="attr">data-index</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">radio</span> <span class="attr">color</span>=<span class="string">&quot;#f30&quot;</span> <span class="attr">value</span>=<span class="string">&quot;nan&quot;</span>&gt;</span>å•é€‰æ¡†<span class="tag">&lt;/<span class="name">radio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">radio</span> <span class="attr">value</span>=<span class="string">&quot;nv&quot;</span>&gt;</span>å•é€‰æ¡†<span class="tag">&lt;/<span class="name">radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">radio-group</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>index.jsï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">radiobindchangefun(e)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.detail.value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190605/HhwLwtgLFk7s.gif" alt="mark"></p>
<h2 id="wxs-é¡µé¢è„šæœ¬"><a href="#wxs-é¡µé¢è„šæœ¬" class="headerlink" title="wxs é¡µé¢è„šæœ¬"></a>wxs é¡µé¢è„šæœ¬</h2><blockquote>
<p>WXSï¼ˆWeiXin Scriptï¼‰æ˜¯å°ç¨‹åºçš„ä¸€å¥—è„šæœ¬è¯­è¨€ï¼Œç»“åˆ <code>WXML</code>ï¼Œå¯ä»¥æ„å»ºå‡ºé¡µé¢çš„ç»“æ„ã€‚</p>
<p>WXS ä¸ JavaScript æ˜¯ä¸åŒçš„è¯­è¨€ï¼Œæœ‰è‡ªå·±çš„è¯­æ³•ï¼Œå¹¶ä¸å’Œ JavaScript ä¸€è‡´ã€‚</p>
<p><strong>ç”¨çš„ç›¸å¯¹ä¸å¤š</strong></p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/01wxs-module.html">WXS æ¨¡å—</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/02variate.html">å˜é‡</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/03annotation.html">æ³¨é‡Š</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/04operator.html">è¿ç®—ç¬¦</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/05statement.html">è¯­å¥</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/06datatype.html">æ•°æ®ç±»å‹</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/07basiclibrary.html">åŸºç¡€ç±»åº“</a></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">wxs</span> <span class="attr">module</span>=<span class="string">&quot;foo&quot;</span>&gt;</span></span><br><span class="line">  var sum=function(a,b)&#123; return a+b; &#125; module.exports.sum=sum</span><br><span class="line"><span class="tag">&lt;/<span class="name">wxs</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;foo.sum(1,2)&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190605/sEHFhCJgcSTT.png?imageslim" alt="mark"></p>
<h2 id="å¾®ä¿¡å°ç¨‹åºäº‹ä»¶å†’æ³¡å’Œäº‹ä»¶ä¼ å‚"><a href="#å¾®ä¿¡å°ç¨‹åºäº‹ä»¶å†’æ³¡å’Œäº‹ä»¶ä¼ å‚" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºäº‹ä»¶å†’æ³¡å’Œäº‹ä»¶ä¼ å‚"></a>å¾®ä¿¡å°ç¨‹åºäº‹ä»¶å†’æ³¡å’Œäº‹ä»¶ä¼ å‚</h2><blockquote>
<p>å¾®ä¿¡å°ç¨‹åºäº‹ä»¶å†’æ³¡å’Œäº‹ä»¶ä¼ å‚</p>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html">å‚è€ƒ</a></p>
</blockquote>
<h3 id="äº‹ä»¶ç»‘å®šå’Œå†’æ³¡"><a href="#äº‹ä»¶ç»‘å®šå’Œå†’æ³¡" class="headerlink" title="äº‹ä»¶ç»‘å®šå’Œå†’æ³¡"></a>äº‹ä»¶ç»‘å®šå’Œå†’æ³¡</h3><p>äº‹ä»¶ç»‘å®šçš„å†™æ³•åŒç»„ä»¶çš„å±æ€§ï¼Œä»¥ keyã€value çš„å½¢å¼ã€‚</p>
<ul>
<li>key ä»¥<code>bind</code>æˆ–<code>catch</code>å¼€å¤´ï¼Œç„¶åè·Ÿä¸Šäº‹ä»¶çš„ç±»å‹ï¼Œå¦‚<code>bindtap</code>ã€<code>catchtouchstart</code>ã€‚è‡ªåŸºç¡€åº“ç‰ˆæœ¬ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a> èµ·ï¼Œåœ¨é<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html">åŸç”Ÿç»„ä»¶</a>ä¸­ï¼Œ<code>bind</code>å’Œ<code>catch</code>åå¯ä»¥ç´§è·Ÿä¸€ä¸ªå†’å·ï¼Œå…¶å«ä¹‰ä¸å˜ï¼Œå¦‚<code>bind:tap</code>ã€<code>catch:touchstart</code>ã€‚</li>
<li>value æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œéœ€è¦åœ¨å¯¹åº”çš„ Page ä¸­å®šä¹‰åŒåçš„å‡½æ•°ã€‚ä¸ç„¶å½“è§¦å‘äº‹ä»¶çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚</li>
</ul>
<p><code>bind</code>äº‹ä»¶ç»‘å®š<strong>ä¸ä¼šé˜»æ­¢</strong>å†’æ³¡äº‹ä»¶å‘ä¸Šå†’æ³¡ï¼Œ<code>catch</code>äº‹ä»¶ç»‘å®š<strong>å¯ä»¥é˜»æ­¢</strong>å†’æ³¡äº‹ä»¶å‘ä¸Šå†’æ³¡ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;ClickFatherEvent&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span> <span class="attr">catchtap</span>=<span class="string">&quot;ClickSonEvent&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190610/iYPyQKFs0uUh.gif" alt="mark"></p>
<h3 id="äº‹ä»¶ä¼ å‚"><a href="#äº‹ä»¶ä¼ å‚" class="headerlink" title="äº‹ä»¶ä¼ å‚"></a>äº‹ä»¶ä¼ å‚</h3><blockquote>
<p>è‡ªå®šä¹‰å±æ€§ä¼ å‚ ( <strong>data-index=â€1â€</strong> )</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;ClickFatherEvent&quot;</span> <span class="attr">data-index</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span> <span class="attr">catchtap</span>=<span class="string">&quot;ClickSonEvent&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ClickFatherEvent(event)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;father&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(event.currentTarget.dataset.index)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="http://static.zxinc520.com/blog/20190611/QGePjx2yA28Q.gif" alt="mark"></p>
<h2 id="æœåŠ¡å·"><a href="#æœåŠ¡å·" class="headerlink" title="æœåŠ¡å·"></a>æœåŠ¡å·</h2><blockquote>
<p>æœåŠ¡å·ï¼šä¸ºä¼ä¸šå’Œç»„ç»‡æä¾›æ›´å¼ºå¤§çš„ä¸šåŠ¡æœåŠ¡ä¸ç”¨æˆ·ç®¡ç†èƒ½åŠ›ï¼Œä¸»è¦åå‘æœåŠ¡ç±»äº¤äº’ï¼ˆåŠŸèƒ½ç±»ä¼¼ 12315ï¼Œ114ï¼Œé“¶è¡Œï¼Œæä¾›ç»‘å®šä¿¡æ¯ï¼ŒæœåŠ¡äº¤äº’çš„ï¼‰ï¼›</p>
<p>é€‚ç”¨äººç¾¤ï¼šåª’ä½“ã€ä¼ä¸šã€æ”¿åºœæˆ–å…¶ä»–ç»„ç»‡ã€‚</p>
<p>ç¾¤å‘æ¬¡æ•°ï¼šæœåŠ¡å· 1 ä¸ªæœˆï¼ˆæŒ‰è‡ªç„¶æœˆï¼‰å†…å¯å‘é€ 4 æ¡ç¾¤å‘æ¶ˆæ¯ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://kf.qq.com/faq/120911VrYVrA150918fMZ77R.html?scene_id=kf3386">å¯ä»¥å‚è€ƒ</a></p>
</blockquote>
<h2 id="è®¢é˜…å·"><a href="#è®¢é˜…å·" class="headerlink" title="è®¢é˜…å·"></a>è®¢é˜…å·</h2><blockquote>
<h1 id="ä»€ä¹ˆæ˜¯è®¢é˜…å·ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯è®¢é˜…å·ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯è®¢é˜…å·ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯è®¢é˜…å·ï¼Ÿ</h1><p>è®¢é˜…å·ï¼šä¸ºåª’ä½“å’Œä¸ªäººæä¾›ä¸€ç§æ–°çš„ä¿¡æ¯ä¼ æ’­æ–¹å¼ï¼Œä¸»è¦åŠŸèƒ½æ˜¯åœ¨å¾®ä¿¡ä¾§ç»™ç”¨æˆ·ä¼ è¾¾èµ„è®¯ï¼›ï¼ˆåŠŸèƒ½ç±»ä¼¼æŠ¥çº¸æ‚å¿—ï¼Œæä¾›æ–°é—»ä¿¡æ¯æˆ–å¨±ä¹è¶£äº‹ï¼‰</p>
<p>é€‚ç”¨äººç¾¤ï¼šä¸ªäººã€åª’ä½“ã€ä¼ä¸šã€æ”¿åºœæˆ–å…¶ä»–ç»„ç»‡ã€‚</p>
<p>ç¾¤å‘æ¬¡æ•°ï¼šè®¢é˜…å·ï¼ˆè®¤è¯ç”¨æˆ·ã€éè®¤è¯ç”¨æˆ·ï¼‰1 å¤©å†…å¯ç¾¤å‘ 1 æ¡æ¶ˆæ¯ã€‚</p>
</blockquote>
<p><strong>æ¸©é¦¨æç¤ºï¼š</strong></p>
<ol>
<li>å¦‚æœæƒ³ç”¨å…¬ä¼—å¹³å°ç®€å•å‘å‘æ¶ˆæ¯ï¼Œåšå®£ä¼ æ¨å¹¿æœåŠ¡ï¼Œå»ºè®®å¯é€‰æ‹©è®¢é˜…å·ï¼›</li>
<li>å¦‚æœæƒ³ç”¨å…¬ä¼—å¹³å°è¿›è¡Œå•†å“é”€å”®ï¼Œå»ºè®®å¯é€‰æ‹©æœåŠ¡å·ï¼Œåç»­å¯è®¤è¯å†ç”³è¯·å¾®ä¿¡æ”¯ä»˜å•†æˆ·ï¼›</li>
</ol>
<h2 id="sdk"><a href="#sdk" class="headerlink" title="sdk"></a>sdk</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E5%8C%85">è½¯ä»¶å¼€å‘å·¥å…·åŒ…</a>ï¼ˆç¼©å†™ï¼š<strong>SDK</strong>ã€å¤–è¯­å…¨ç§°ï¼š<strong>Software Development Kitï¼‰</strong>ä¸€èˆ¬éƒ½æ˜¯ä¸€äº›<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%B8%88/836275">è½¯ä»¶å·¥ç¨‹å¸ˆ</a>ä¸ºç‰¹å®šçš„<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E5%8C%85/10508451">è½¯ä»¶åŒ…</a>ã€<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E6%A1%86%E6%9E%B6/1471931">è½¯ä»¶æ¡†æ¶</a>ã€<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E7%A1%AC%E4%BB%B6/479446">ç¡¬ä»¶</a>å¹³å°ã€<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/192">æ“ä½œç³»ç»Ÿ</a>ç­‰å»ºç«‹åº”ç”¨è½¯ä»¶æ—¶çš„<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/10464557">å¼€å‘å·¥å…·</a>çš„é›†åˆã€‚ [1]</p>
<p>è½¯ä»¶å¼€å‘å·¥å…·åŒ…æ‹¬å¹¿ä¹‰ä¸ŠæŒ‡<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%BE%85%E5%8A%A9/1045139">è¾…åŠ©</a>å¼€å‘æŸä¸€ç±»è½¯ä»¶çš„ç›¸å…³æ–‡æ¡£ã€èŒƒä¾‹å’Œå·¥å…·çš„<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E9%9B%86%E5%90%88/73081">é›†åˆ</a>ã€‚</p>
<p>è½¯ä»¶å¼€å‘å·¥å…·åŒ…æ˜¯ä¸€äº›è¢«è½¯ä»¶å·¥ç¨‹å¸ˆç”¨äºä¸ºç‰¹å®šçš„è½¯ä»¶åŒ…ã€è½¯ä»¶æ¡†æ¶ã€ç¡¬ä»¶å¹³å°ã€æ“ä½œç³»ç»Ÿç­‰åˆ›å»ºåº”ç”¨è½¯ä»¶çš„å¼€å‘å·¥å…·çš„é›†åˆï¼Œä¸€èˆ¬è€Œè¨€ SDK å³å¼€å‘ <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Windows">Windows</a> å¹³å°ä¸‹çš„åº”ç”¨ç¨‹åºæ‰€ä½¿ç”¨çš„ SDKã€‚å®ƒå¯ä»¥ç®€å•çš„ä¸ºæŸä¸ª<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/2317999">ç¨‹åºè®¾è®¡è¯­è¨€</a>æä¾›<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3/10418844">åº”ç”¨ç¨‹åºæ¥å£</a> <strong>API</strong>çš„ä¸€äº›æ–‡ä»¶ï¼Œä½†ä¹Ÿå¯èƒ½åŒ…æ‹¬èƒ½ä¸æŸç§<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F/186978">åµŒå…¥å¼ç³»ç»Ÿ</a>é€šè®¯çš„å¤æ‚çš„ç¡¬ä»¶ã€‚ä¸€èˆ¬çš„å·¥å…·åŒ…æ‹¬ç”¨äºè°ƒè¯•å’Œå…¶ä»–ç”¨é€”çš„å®ç”¨å·¥å…·ã€‚SDK è¿˜ç»å¸¸åŒ…æ‹¬ç¤ºä¾‹ä»£ç ã€æ”¯æŒæ€§çš„æŠ€æœ¯æ³¨è§£æˆ–è€…å…¶ä»–çš„ä¸ºåŸºæœ¬å‚è€ƒèµ„æ–™æ¾„æ¸…ç–‘ç‚¹çš„æ”¯æŒæ–‡æ¡£ã€‚</p>
<p>ä¸ºäº†é¼“åŠ±å¼€å‘è€…ä½¿ç”¨å…¶ç³»ç»Ÿæˆ–è€…è¯­è¨€ï¼Œè®¸å¤š SDK æ˜¯<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%85%8D%E8%B4%B9/131326">å…è´¹</a>æä¾›çš„ã€‚<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%B8%88/836275">è½¯ä»¶å·¥ç¨‹å¸ˆ</a>é€šå¸¸ä»ç›®æ ‡ç³»ç»Ÿå¼€å‘è€…é‚£é‡Œè·å¾—è½¯ä»¶å¼€å‘åŒ…ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä»äº’è”ç½‘ä¸‹è½½ï¼Œæœ‰æ—¶ä¹Ÿè¢«ä½œä¸º<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%90%A5%E9%94%80%E6%89%8B%E6%AE%B5">è¥é”€æ‰‹æ®µ</a>ã€‚ä¾‹å¦‚ï¼Œè¥é”€å…¬å¸ä¼šå…è´¹æä¾›æ„å»º SDK ä»¥é¼“åŠ±äººä»¬ä½¿ç”¨å®ƒï¼Œä»è€Œä¼šå¸å¼•æ›´å¤šäººç”±äºèƒ½å…è´¹ä¸ºå…¶ç¼–ç¨‹è€Œè´­ä¹°å…¶æ„ä»¶ã€‚</p>
<p>SDK å¯èƒ½é™„å¸¦äº†ä½¿å…¶ä¸èƒ½åœ¨ä¸å…¼å®¹çš„è®¸å¯è¯ä¸‹å¼€å‘è½¯ä»¶çš„è®¸å¯è¯ã€‚ä¾‹å¦‚äº§å“ä¾›åº”å•†æä¾›ä¸€ä¸ªä¸“æœ‰çš„ SDK å¯èƒ½ä¸è‡ªç”±è½¯ä»¶å¼€å‘æŠµè§¦ã€‚<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/GPL">GPL</a> èƒ½ä½¿ SDK ä¸ä¸“æœ‰è½¯ä»¶å¼€å‘è¿‘ä¹ä¸å…¼å®¹ã€‚<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/LGPL">LGPL</a> ä¸‹çš„ SDK åˆ™æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/SDK/7815680">å¯å‚è€ƒå®˜æ–¹è§£é‡Š</a></p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421141115">å¾®ä¿¡ JS-SDK è¯´æ˜æ–‡æ¡£</a></p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">å¾®ä¿¡å°ç¨‹åº</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-hybrid"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/29/hybrid/"
    >hybrid</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/08/29/hybrid/" class="article-date">
  <time datetime="2019-08-29T07:53:28.000Z" itemprop="datePublished">2019-08-29</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%B7%B7%E5%90%88APP/">æ··åˆAPP</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="hybrid"><a href="#hybrid" class="headerlink" title="hybrid"></a>hybrid</h1><blockquote>
<p>æœ¬ç« ä¸»è¦ä»‹ç» hybrid çš„åŸç†å’Œåº”ç”¨ã€‚hybrid åŸºç¡€éƒ¨åˆ†è¦è®²è§£ file åè®®ã€webviewã€æ›´æ–°ä¸Šçº¿æµç¨‹ï¼›å¦å¤–ï¼Œé€šè¿‡ h5 å’Œ hybrid çš„å¯¹æ¯”ï¼Œæ¥äº†è§£ä¸¤è€…çš„å¼‚åŒå’Œä½¿ç”¨åœºæ™¯ï¼›æœ€åè®²è§£å‰ç«¯ JS å’Œå®¢æˆ·ç«¯çš„é€šè®¯ï¼ŒåŒ…æ‹¬é€šè®¯åŸç†å’Œ JS-bridge çš„ä»£ç å°è£…ã€‚â€¦</p>
<p>ç¤¾ä¼šä¸»æµ <strong>å¤§å‰ç«¯</strong> çš„æ¦‚å¿µã€‚</p>
<p><strong>çŸ¥è¯†ç‚¹</strong></p>
<p>6-1 hybrid æ˜¯ä»€ä¹ˆï¼Ÿ ä¸ºä½•ç”¨ hybrid ï¼Ÿ</p>
<p>6-2 hybrid æ›´æ–°ä¸Šçº¿æµç¨‹</p>
<p>6-3 hybrid å’Œ h5 çš„ ä¸»è¦åŒºåˆ«ï¼Ÿ</p>
<p>6-4 å‰ç«¯ JS å’Œ å®¢æˆ·ç«¯ å¦‚ä½•é€šè®¯ï¼Ÿ</p>
<p>The greatest test of courage on earth is to bear defeat without losing heart.</p>
<p>ä¸–ç•Œä¸Šå¯¹å‹‡æ°”çš„æœ€å¤§è€ƒéªŒæ˜¯å¿å—å¤±è´¥è€Œä¸ä¸§å¤±ä¿¡å¿ƒã€‚</p>
</blockquote>
<h3 id="hybrid-1"><a href="#hybrid-1" class="headerlink" title="hybrid"></a>hybrid</h3><ul>
<li>ç§»åŠ¨ç«¯å å¤§éƒ¨åˆ†æµé‡ï¼Œå·²ç»è¿œè¿œè¶…è¿‡ PC</li>
<li>ä¸€çº¿äº’è”ç½‘å…¬å¸éƒ½æœ‰è‡ªå·±çš„ App</li>
<li>è¿™äº› App ä¸­æœ‰å¾ˆå¤§æ¯”ä¾‹çš„å‰ç«¯ä»£ç  ( ä¸è¦æƒŠè®¶ )</li>
<li>æ‹¿å¾®ä¿¡ä¸¾ä¾‹ï¼Œä½ æ¯å¤©æµè§ˆå¾®ä¿¡çš„å†…å®¹ï¼Œå¤šå°‘æ˜¯å‰ç«¯ï¼Ÿ</li>
</ul>
<h3 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>hybrid æ˜¯ä»€ä¹ˆï¼Ÿ ä¸ºä½•ç”¨ hybrid ï¼Ÿ</li>
<li>ä»‹ç»ä¸€ä¸‹ hybrid æ›´æ–° å’Œä¸Šçº¿çš„æµç¨‹ï¼Ÿ</li>
<li>hybrid å’Œ h5 çš„ ä¸»è¦åŒºåˆ«ï¼Ÿ</li>
<li>å‰ç«¯ JS å’Œ å®¢æˆ·ç«¯ å¦‚ä½•é€šè®¯ï¼Ÿ</li>
</ul>
<h2 id="6-1-hybrid-æ˜¯ä»€ä¹ˆï¼Ÿ-ä¸ºä½•ç”¨-hybrid-ï¼Ÿ"><a href="#6-1-hybrid-æ˜¯ä»€ä¹ˆï¼Ÿ-ä¸ºä½•ç”¨-hybrid-ï¼Ÿ" class="headerlink" title="6-1 hybrid æ˜¯ä»€ä¹ˆï¼Ÿ ä¸ºä½•ç”¨ hybrid ï¼Ÿ"></a>6-1 hybrid æ˜¯ä»€ä¹ˆï¼Ÿ ä¸ºä½•ç”¨ hybrid ï¼Ÿ</h2><h3 id="çŸ¥è¯†ç‚¹-1"><a href="#çŸ¥è¯†ç‚¹-1" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>hybrid æ–‡å­—è§£é‡Š</li>
<li>å­˜åœ¨ä»·å€¼ï¼Œä¸ºä½•ç”¨ hybrid ï¼Ÿ</li>
<li>webview</li>
<li>fileï¼š//åè®®</li>
<li>hybrid å®ç°æµç¨‹</li>
</ul>
<h4 id="hybrid-æ–‡å­—è§£é‡Š"><a href="#hybrid-æ–‡å­—è§£é‡Š" class="headerlink" title="hybrid æ–‡å­—è§£é‡Š"></a>hybrid æ–‡å­—è§£é‡Š</h4><ul>
<li>hybrid å³ â€œæ··åˆâ€ ï¼Œå³ å‰ç«¯ å’Œå®¢æˆ·ç«¯çš„æ··åˆå¼€å‘</li>
<li>éœ€å‰ç«¯å¼€å‘äººå‘˜ å’Œ å®¢æˆ·ç«¯å¼€å‘äººå‘˜é…åˆå®Œæˆ</li>
<li>æŸäº›ç¯èŠ‚ä¹Ÿå¯èƒ½æ¶‰åŠåˆ° server ç«¯</li>
<li>æ³¨æ„ï¼šä¸è¦ä»¥ä¸ºè‡ªå·±æ˜¯å‰ç«¯å°±å¯ä»¥ä¸ç†ä¼šå®¢æˆ·ç«¯çš„çŸ¥è¯†</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190829/no77eoeMXoEi.png?imageslim" alt="mark"></p>
<h4 id="hybrid-å­˜åœ¨ä»·å€¼"><a href="#hybrid-å­˜åœ¨ä»·å€¼" class="headerlink" title="hybrid å­˜åœ¨ä»·å€¼"></a>hybrid å­˜åœ¨ä»·å€¼</h4><ul>
<li>å¯ä»¥å¿«é€Ÿè¿­ä»£æ›´æ–°ã€å…³é”®ã€‘ï¼ˆæ— éœ€ app å®¡æ ¸ï¼Œæ€è€ƒä¸ºä½•ï¼Ÿâ€“&gt; å‰ç«¯éƒ¨åˆ†èƒ½å¤Ÿå¿«é€Ÿæ›´æ–°ä¸Šçº¿ï¼‰</li>
<li>ä½“éªŒæµç•… ï¼ˆ å’Œ NA çš„ä½“éªŒåŸºæœ¬ç±»ä¼¼ ï¼‰</li>
<li>å‡å°‘å¼€å‘å’Œæ²Ÿé€šæˆæœ¬ï¼ŒåŒç«¯å…¬ç”¨ä¸€å¥—ä»£ç </li>
</ul>
<h4 id="webview"><a href="#webview" class="headerlink" title="webview"></a>webview</h4><ul>
<li>æ˜¯ App ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼ˆapp å¯ä»¥æœ‰ webviewï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ï¼‰</li>
<li>ç”¨äºåŠ è½½ h5 é¡µé¢ï¼Œå³ä¸€ä¸ªå°å‹çš„æµè§ˆå™¨ å†…æ ¸</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190829/I797MG2jf2xe.png?imageslim" alt="mark"></p>
<h4 id="file-åè®®"><a href="#file-åè®®" class="headerlink" title="file åè®®"></a>file åè®®</h4><ul>
<li>å…¶å®åœ¨ä¸€å¼€å§‹æ¥è§¦ html å¼€å‘ï¼Œå°±å·²ç»ä½¿ç”¨äº† file åè®®</li>
<li>åªä¸è¿‡ä½ å½“æ—¶æ²¡æœ‰ â€œåè®®â€ â€œæ ‡å‡†â€ ç­‰è¿™äº›æ¦‚å¿µ</li>
<li>å†æ¬¡å¼ºè°ƒ â€œåè®®â€ â€œæ ‡å‡†â€ çš„é‡è¦æ€§ ï¼ï¼ï¼</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190829/kyXpWyLb4oVR.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190829/cxJ86AeO2374.png?imageslim" alt="mark"></p>
<p><em>ä¸¤è€…çš„åŒºåˆ«ï¼š</em></p>
<ul>
<li>file åè®®ï¼šæœ¬åœ°æ–‡ä»¶ï¼Œå¿«</li>
<li>http(s) åè®®ï¼šç½‘ç»œåŠ è½½ï¼Œæ…¢</li>
</ul>
<h4 id="hybrid-å…·ä½“å®ç°"><a href="#hybrid-å…·ä½“å®ç°" class="headerlink" title="hybrid å…·ä½“å®ç°"></a>hybrid å…·ä½“å®ç°</h4><ul>
<li>ä¸æ˜¯æ‰€æœ‰çš„åœºæ™¯éƒ½é€‚åˆä½¿ç”¨ hybrid</li>
<li>ä½¿ç”¨ <strong>NA</strong> ï¼šä½“éªŒè¦æ±‚æè‡´ï¼Œå˜åŒ–ä¸é¢‘ç¹ï¼ˆ å¦‚å¤´æ¡çš„é¦–é¡µ ï¼‰</li>
<li>ä½¿ç”¨ <strong>hybrid</strong> ï¼šä½“éªŒè¦æ±‚é«˜ï¼Œå˜åŒ–é¢‘ç¹ï¼ˆ å¦‚å¤´æ¡çš„æ–°é—»è¯¦æƒ…é¡µ ï¼‰</li>
<li>ä½¿ç”¨ <strong>h5</strong> ï¼šä½“éªŒæ— è¦æ±‚ï¼Œä¸å¸¸ç”¨ï¼ˆå¦‚ä¸¾æŠ¥ã€åé¦ˆç­‰é¡µé¢ï¼‰</li>
</ul>
<p><strong>å…·ä½“å®ç°</strong>ï¼š</p>
<ul>
<li>å‰ç«¯ åšå¥½é™æ€é¡µé¢ï¼ˆhtml css jsï¼‰ï¼Œå°†æ–‡ä»¶äº¤ç»™å®¢æˆ·ç«¯</li>
<li>å®¢æˆ·ç«¯æ‹¿åˆ°å‰ç«¯é™æ€é¡µé¢ï¼Œä»¥æ–‡ä»¶å½¢å¼å‚¨å­˜åœ¨ app ä¸­</li>
<li>å®¢æˆ·ç«¯ åœ¨ä¸€ä¸ª webview ä¸­</li>
<li>ä½¿ç”¨ file åè®® åŠ è½½é™æ€é¡µé¢</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190829/RIR0zOPUN22I.png?imageslim" alt="mark"></p>
<h4 id="å…·ä½“å®ç°-â€“-é—ç•™é—®é¢˜ï¼š"><a href="#å…·ä½“å®ç°-â€“-é—ç•™é—®é¢˜ï¼š" class="headerlink" title="å…·ä½“å®ç° â€“ é—ç•™é—®é¢˜ï¼š"></a>å…·ä½“å®ç° â€“ é—ç•™é—®é¢˜ï¼š</h4><ul>
<li>app å‘å¸ƒä¹‹åï¼Œé™æ€æ–‡ä»¶å¦‚ä½•å®æ—¶æ›´æ–°ï¼Ÿ</li>
<li>é™æ€é¡µé¢å¦‚ä½•è·å–å†…å®¹ï¼Ÿ</li>
</ul>
<h3 id="é—®é¢˜è§£ç­”"><a href="#é—®é¢˜è§£ç­”" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>hybrid æ˜¯ä»€ä¹ˆï¼Ÿ ä¸ºä½•ç”¨ hybrid ï¼Ÿ<ul>
<li>hybrid å³ â€œæ··åˆâ€ ï¼Œå³ å‰ç«¯ å’Œå®¢æˆ·ç«¯çš„æ··åˆå¼€å‘</li>
<li>hybrid å­˜åœ¨çš„æ ¸å¿ƒæ„ä¹‰åœ¨äºå¿«é€Ÿè¿­ä»£ï¼Œæ— éœ€å®¡æ ¸</li>
<li>hybrid å®ç°æµç¨‹ï¼ˆå›¾ï¼‰ï¼Œä»¥åŠ webview å’Œ file åè®®</li>
</ul>
</li>
</ul>
<h2 id="6-2-hybrid-æ›´æ–°ä¸Šçº¿æµç¨‹"><a href="#6-2-hybrid-æ›´æ–°ä¸Šçº¿æµç¨‹" class="headerlink" title="6-2 hybrid æ›´æ–°ä¸Šçº¿æµç¨‹"></a>6-2 hybrid æ›´æ–°ä¸Šçº¿æµç¨‹</h2><ul>
<li>å›é¡¾ hybrid å®ç°æµç¨‹</li>
<li>æ€è€ƒ ï¼ˆç›®çš„ï¼Œå®ç°é€”å¾„ï¼‰</li>
<li>æ›´æ–°æµç¨‹</li>
</ul>
<h4 id="å›é¡¾-hybrid-å®ç°æµç¨‹"><a href="#å›é¡¾-hybrid-å®ç°æµç¨‹" class="headerlink" title="å›é¡¾ hybrid å®ç°æµç¨‹"></a>å›é¡¾ hybrid å®ç°æµç¨‹</h4><p><img src="http://static.zxinc520.com/blog/20190829/aeHMDopqsrCy.png?imageslim" alt="mark"></p>
<h4 id="æ€è€ƒ-ï¼ˆç›®çš„ï¼Œå®ç°é€”å¾„ï¼‰"><a href="#æ€è€ƒ-ï¼ˆç›®çš„ï¼Œå®ç°é€”å¾„ï¼‰" class="headerlink" title="æ€è€ƒ ï¼ˆç›®çš„ï¼Œå®ç°é€”å¾„ï¼‰"></a>æ€è€ƒ ï¼ˆç›®çš„ï¼Œå®ç°é€”å¾„ï¼‰</h4><p><img src="http://static.zxinc520.com/blog/20190829/wCDenA4EGmC8.png?imageslim" alt="mark"></p>
<ul>
<li>è¦æ›¿æ¢æ¯ä¸ªå®¢æˆ·ç«¯çš„é™æ€æ–‡ä»¶</li>
<li>åªèƒ½å®¢æˆ·ç«¯æ¥åšï¼ˆå®¢æˆ·ç«¯æ˜¯æˆ‘ä»¬å¼€å‘çš„ï¼‰</li>
<li>å®¢æˆ·ç«¯å» server ä¸‹è½½æœ€æ–°çš„é™æ€æ–‡ä»¶</li>
<li>æˆ‘ä»¬ç»´æŠ¤ server çš„é™æ€æ–‡ä»¶</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190829/H6H3arUgJB6d.png?imageslim" alt="mark"></p>
<p><em>å®Œæ•´æµç¨‹ï¼š</em></p>
<ul>
<li>åˆ†ç‰ˆæœ¬ï¼Œæœ‰ç‰ˆæœ¬å·ï¼Œå¦‚ 201803211015</li>
<li>å°†é™æ€ æ–‡ä»¶å‹ç¼©æˆ zip åŒ…ï¼Œä¸Šä¼ åˆ°æœåŠ¡å™¨</li>
<li>å®¢æˆ·ç«¯æ¯æ¬¡å¯åŠ¨ï¼Œéƒ½å»æœåŠ¡ç«¯æ£€æŸ¥ç‰ˆæœ¬å·</li>
<li>å¦‚æœæœåŠ¡ç«¯æœ¬ç‰ˆæœ¬å·å¤§äºå®¢æˆ·ç«¯ç‰ˆæœ¬å·ï¼Œå°±å»ä¸‹è½½æœ€æ–°çš„ zip åŒ…</li>
<li>ä¸‹è½½å®Œä¹‹åè§£å‹åŒ…ï¼Œç„¶åå°†ç°æœ‰çš„æ–‡ä»¶è¦†ç›–</li>
</ul>
<h3 id="é—®é¢˜è§£ç­”-1"><a href="#é—®é¢˜è§£ç­”-1" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>ä»‹ç»ä¸€ä¸‹ hybrid æ›´æ–° å’Œä¸Šçº¿çš„æµç¨‹ï¼Ÿ<ul>
<li>æŒæ¡æµç¨‹å›¾</li>
<li>è¦ç‚¹ 1ï¼šæœåŠ¡ç«¯çš„ç‰ˆæœ¬å’Œ zip åŒ…ç»´æŠ¤</li>
<li>è¦ç‚¹ 2ï¼šæ›´æ–° zip åŒ…ä¹‹å‰ï¼Œå…ˆå¯¹æ¯”ç‰ˆæœ¬å·</li>
<li>è¦ç‚¹ 3ï¼šzip ä¸‹è½½è§£å‹å’Œè¦†ç›–</li>
</ul>
</li>
</ul>
<h2 id="6-3hybrid-å’Œ-h5-çš„-ä¸»è¦åŒºåˆ«ï¼Ÿ"><a href="#6-3hybrid-å’Œ-h5-çš„-ä¸»è¦åŒºåˆ«ï¼Ÿ" class="headerlink" title="6-3hybrid å’Œ h5 çš„ ä¸»è¦åŒºåˆ«ï¼Ÿ"></a>6-3hybrid å’Œ h5 çš„ ä¸»è¦åŒºåˆ«ï¼Ÿ</h2><h3 id="çŸ¥è¯†ç‚¹-2"><a href="#çŸ¥è¯†ç‚¹-2" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>ä¼˜ç‚¹</li>
<li>ç¼ºç‚¹</li>
<li>é€‚ç”¨çš„åœºæ™¯</li>
</ul>
<h4 id="hybrid-ä¼˜ç‚¹"><a href="#hybrid-ä¼˜ç‚¹" class="headerlink" title="hybrid ä¼˜ç‚¹"></a>hybrid ä¼˜ç‚¹</h4><ul>
<li>ä½“éªŒæ›´å¥½ï¼Œè·Ÿ NA ä½“éªŒåŸºæœ¬ä¸€è‡´</li>
<li>å¯å¿«é€Ÿè¿­ä»£ï¼Œæ— éœ€ app å®¡æ ¸ ã€å…³é”®ã€‘</li>
</ul>
<h4 id="hybrid-ç¼ºç‚¹"><a href="#hybrid-ç¼ºç‚¹" class="headerlink" title="hybrid ç¼ºç‚¹"></a>hybrid ç¼ºç‚¹</h4><ul>
<li>å¼€å‘æˆæœ¬é«˜ã€‚è”è°ƒï¼Œæµ‹è¯•ï¼ŒæŸ¥ bug éƒ½æ¯”è¾ƒéº»çƒ¦</li>
<li>è¿ç»´æˆæœ¬é«˜ã€‚å‚è€ƒæ­¤å‰è®²è¿‡çš„æ›´æ–°ä¸Šçº¿çš„æµç¨‹</li>
</ul>
<h4 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h4><ul>
<li>hybrid ï¼šäº§å“çš„ç¨³å®šåŠŸèƒ½ï¼Œä½“éªŒè¦æ±‚é«˜ï¼Œè¿­ä»£é¢‘ç¹</li>
<li>h5ï¼šå•æ¬¡çš„è¿è¥æ´»åŠ¨ï¼ˆå¦‚ xx çº¢åŒ…ï¼‰æˆ– ä¸å¸¸ç”¨åŠŸèƒ½ï¼ˆåé¦ˆã€ä¸¾æŠ¥é¡µé¢ç­‰ï¼‰</li>
</ul>
<h3 id="é—®é¢˜è§£ç­”-2"><a href="#é—®é¢˜è§£ç­”-2" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>hybrid å’Œ h5 çš„ ä¸»è¦åŒºåˆ«ï¼Ÿ<ul>
<li>ä¼˜ç‚¹ï¼šä½“éªŒå¥½ï¼Œå¯å¿«é€Ÿè¿­ä»£</li>
<li>ç¼ºç‚¹ï¼šå¼€å‘æˆæœ¬é«˜ï¼Œè¿ç»´æˆæœ¬é«˜</li>
<li>é€‚ç”¨çš„åœºæ™¯ï¼šhybrid é€‚åˆäº§å“å‹ï¼Œh5 é€‚åˆ è¿è¡Œå‹</li>
</ul>
</li>
</ul>
<h2 id="6-4-å‰ç«¯-JS-å’Œ-å®¢æˆ·ç«¯-å¦‚ä½•é€šè®¯ï¼Ÿ"><a href="#6-4-å‰ç«¯-JS-å’Œ-å®¢æˆ·ç«¯-å¦‚ä½•é€šè®¯ï¼Ÿ" class="headerlink" title="6-4 å‰ç«¯ JS å’Œ å®¢æˆ·ç«¯ å¦‚ä½•é€šè®¯ï¼Ÿ"></a>6-4 å‰ç«¯ JS å’Œ å®¢æˆ·ç«¯ å¦‚ä½•é€šè®¯ï¼Ÿ</h2><h3 id="çŸ¥è¯†ç‚¹-3"><a href="#çŸ¥è¯†ç‚¹-3" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>å›é¡¾ ä¹‹å‰é—ç•™çš„é—®é¢˜</li>
<li>JS å’Œ å®¢æˆ·ç«¯é€šè®¯çš„åŸºæœ¬å½¢å¼</li>
<li>schema åè®®ç®€ä»‹å’Œä½¿ç”¨</li>
<li>schema ä½¿ç”¨çš„å°è£…</li>
<li>å†…ç½®ä¸Šçº¿</li>
</ul>
<h4 id="ä¹‹å‰é—ç•™çš„é—®é¢˜"><a href="#ä¹‹å‰é—ç•™çš„é—®é¢˜" class="headerlink" title="ä¹‹å‰é—ç•™çš„é—®é¢˜"></a>ä¹‹å‰é—ç•™çš„é—®é¢˜</h4><ul>
<li>æ–°é—»è¯¦æƒ…é¡µé€‚ç”¨äº hybridï¼Œå‰ç«¯å¦‚ä½• è·å–æ–°é—»å†…å®¹ ï¼Ÿ<ul>
<li>ä¸èƒ½ç”¨ ajax ï¼ˆhttp(s)åè®®ï¼‰è·å–ã€‚ç¬¬ä¸€ï¼š è·¨åŸŸ ï¼Œç¬¬äºŒ ï¼šé€Ÿåº¦æ…¢</li>
<li>å®¢æˆ·ç«¯è·å–æ–°é—»å†…å®¹ï¼Œç„¶å JS é€šè®¯æ‹¿åˆ°å†…å®¹ï¼Œå†æ¸²æŸ“</li>
</ul>
</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190829/MIj2ETWq9QH1.png?imageslim" alt="mark"></p>
<p><em>JS å’Œ å®¢æˆ·ç«¯é€šè®¯çš„åŸºæœ¬å½¢å¼</em> ï¼š</p>
<ul>
<li>JS è®¿é—®å®¢æˆ·ç«¯èƒ½åŠ›ï¼Œä¼ é€’å‚æ•° å’Œ å›è°ƒå‡½æ•°</li>
<li>å®¢æˆ·ç«¯ é€šè¿‡ å›è°ƒå‡½æ•° è¿”å›å†…å®¹</li>
</ul>
<h4 id="schema-åè®®ç®€ä»‹å’Œä½¿ç”¨"><a href="#schema-åè®®ç®€ä»‹å’Œä½¿ç”¨" class="headerlink" title="schema åè®®ç®€ä»‹å’Œä½¿ç”¨"></a>schema åè®®ç®€ä»‹å’Œä½¿ç”¨</h4><ul>
<li>ä¹‹å‰ä»‹ç»äº† http(s) å’Œ file åè®®</li>
<li>schema åè®® â€”â€”å‰ç«¯å’Œå®¢æˆ·ç«¯é€šè®¯çš„çº¦å®š</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190829/w3OphLjO8erc.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190829/QpzXgisk6E3y.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190829/RjgtefgjYzXH.png?imageslim" alt="mark"></p>
<h4 id="æ¨¡æ‹Ÿæ‰«ä¸€æ‰«å‰åç«¯é€šè®¯"><a href="#æ¨¡æ‹Ÿæ‰«ä¸€æ‰«å‰åç«¯é€šè®¯" class="headerlink" title="æ¨¡æ‹Ÿæ‰«ä¸€æ‰«å‰åç«¯é€šè®¯"></a>æ¨¡æ‹Ÿæ‰«ä¸€æ‰«å‰åç«¯é€šè®¯</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>æ‰«ä¸€æ‰«<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">invokeScan</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>[<span class="string">&quot;_invoke_scan_callback_&quot;</span>] = <span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span></span><br><span class="line">          alert(result);</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> iframe = <span class="built_in">document</span>.createElement(<span class="string">&quot;iframe&quot;</span>);</span></span><br><span class="line"><span class="javascript">        iframe.style.display = <span class="string">&quot;none&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// iframe.src = &#x27;weixin://dl/scan&#x27;  //é‡è¦</span></span></span><br><span class="line">        iframe.src =</span><br><span class="line"><span class="javascript">          <span class="string">&quot;weixin://dl/scan?k1=v1&amp;k2=v2&amp;k3=v3&amp;callback=_invoke_scan_callback_&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> body = <span class="built_in">document</span>.body;</span></span><br><span class="line">        body.appendChild(iframe);</span><br><span class="line"><span class="javascript">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">          body.removeChild(iframe);</span><br><span class="line"><span class="javascript">          iframe = <span class="literal">null</span>;</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.getElementById(<span class="string">&quot;btn&quot;</span>).addEventListener(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        invokeScan();</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="schema-ä½¿ç”¨çš„å°è£…"><a href="#schema-ä½¿ç”¨çš„å°è£…" class="headerlink" title="schema ä½¿ç”¨çš„å°è£…"></a>schema ä½¿ç”¨çš„å°è£…</h4><p><img src="http://static.zxinc520.com/blog/20190829/jcvC6T5SH3Pm.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190829/fW8NCvLoYRAg.png?imageslim" alt="mark"></p>
<p><img src="http://static.zxinc520.com/blog/20190829/5Yhq6r9uLr7X.png?imageslim" alt="mark"></p>
<h4 id="schema-å°è£…ä»£ç "><a href="#schema-å°è£…ä»£ç " class="headerlink" title="schema å°è£…ä»£ç "></a>schema å°è£…ä»£ç </h4><p><em>schema ä½¿ç”¨çš„å°è£…</em> ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span>æ‰«ä¸€æ‰«<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn2&quot;</span>&gt;</span>åˆ†äº«<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;invoke.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//è°ƒç”¨æ‰«ä¸€æ‰«</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.getElementById(<span class="string">&quot;btn1&quot;</span>).addEventListener(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.invoke.scan(&#123;&#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;);</span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">//è°ƒç”¨åˆ†äº«</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.getElementById(<span class="string">&quot;btn2&quot;</span>).addEventListener(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.invoke.share(</span></span><br><span class="line">          &#123;</span><br><span class="line"><span class="javascript">            title: <span class="string">&quot;xxx&quot;</span>,</span></span><br><span class="line"><span class="javascript">            content: <span class="string">&quot;yyy&quot;</span>,</span></span><br><span class="line">          &#125;,</span><br><span class="line"><span class="javascript">          <span class="function"><span class="keyword">function</span> (<span class="params">relust</span>) </span>&#123;</span></span><br><span class="line">            if (relust.error === 0) &#123;</span><br><span class="line"><span class="javascript">              alert(<span class="string">&quot;åˆ†äº«æˆåŠŸ&quot;</span>);</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line">              alert(relust.message);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        );</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><em>invoke.js</em> ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// invoke.js</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window, undefined</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//è°ƒç”¨ schema çš„å°è£…</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">_invoke</span>(<span class="params">action, data, callback</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//æ‹¼è£… schema åè®®</span></span><br><span class="line">    <span class="keyword">var</span> schema = <span class="string">&quot;myapp://utils/&quot;</span> + action;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ‹¼æ¥å‚æ•°</span></span><br><span class="line">    schema += <span class="string">&quot;?a=a&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> key;</span><br><span class="line">    <span class="keyword">for</span> (key <span class="keyword">in</span> data) &#123;</span><br><span class="line">      <span class="keyword">if</span> (data.hasOwnProperty(key)) &#123;</span><br><span class="line">        schema += <span class="string">&quot;&amp;&quot;</span> + key + data[key];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¤„ç† callback</span></span><br><span class="line">    <span class="keyword">var</span> callbackName = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> callback === <span class="string">&quot;string&quot;</span>) &#123;</span><br><span class="line">      callbackName = callback;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      callbackName = action + <span class="built_in">Date</span>.now();</span><br><span class="line">      <span class="built_in">window</span>[callbackName] = callback;</span><br><span class="line">    &#125;</span><br><span class="line">    schema += <span class="string">&quot;callback=callbackName&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è§¦å‘</span></span><br><span class="line">    <span class="keyword">var</span> iframe = <span class="built_in">document</span>.createElement(<span class="string">&quot;iframe&quot;</span>);</span><br><span class="line">    iframe.style.display = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">    iframe.src = schema; <span class="comment">//é‡è¦</span></span><br><span class="line">    <span class="keyword">var</span> body = <span class="built_in">document</span>.body;</span><br><span class="line">    body.appendChild(iframe);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      body.removeChild(iframe);</span><br><span class="line">      iframe = <span class="literal">null</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//æš´éœ²åˆ°å…¨å±€å˜é‡</span></span><br><span class="line">  <span class="built_in">window</span>.invoke = &#123;</span><br><span class="line">    share: <span class="function"><span class="keyword">function</span> (<span class="params">data, callback</span>) </span>&#123;</span><br><span class="line">      _invoke(<span class="string">&quot;share&quot;</span>, data, callback);</span><br><span class="line">    &#125;,</span><br><span class="line">    scan: <span class="function"><span class="keyword">function</span> (<span class="params">data, callback</span>) </span>&#123;</span><br><span class="line">      _invoke(<span class="string">&quot;scan&quot;</span>, data, callback);</span><br><span class="line">    &#125;,</span><br><span class="line">    login: <span class="function"><span class="keyword">function</span> (<span class="params">data, callback</span>) </span>&#123;</span><br><span class="line">      _invoke(<span class="string">&quot;login&quot;</span>, data, callback);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br></pre></td></tr></table></figure>

<h3 id="é—®é¢˜è§£ç­”-3"><a href="#é—®é¢˜è§£ç­”-3" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>å‰ç«¯ JS å’Œ å®¢æˆ·ç«¯ å¦‚ä½•é€šè®¯ï¼Ÿ<ul>
<li>é€šè®¯çš„åŸºæœ¬å½¢å¼ï¼šè°ƒç”¨èƒ½åŠ›ï¼Œä¼ é€’å‚æ•°ï¼Œç›‘å¬å›è°ƒ</li>
<li>å¯¹ schema åè®®çš„ç†è§£å’Œä½¿ç”¨ ï¼ˆè¿™ä¸ªåè®®å¯ç†è§£ä¸º ï¼šå®šä¹‰äº†å‰ç«¯å’Œå®¢æˆ·ç«¯ é€šä¿¡çš„ä¸€ä¸ªæ ‡å‡†ï¼‰</li>
<li>è°ƒç”¨ schema ä»£ç çš„å°è£…</li>
<li>å†…ç½®ä¸Šçº¿çš„å¥½å¤„ï¼šæ›´å¿«ã€æ›´å®‰å…¨</li>
</ul>
</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hybrid/" rel="tag">hybrid</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
    <article
  id="post-asynchronization"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/08/14/asynchronization/"
    >å¼‚æ­¥</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2019/08/14/asynchronization/" class="article-date">
  <time datetime="2019-08-14T07:30:31.000Z" itemprop="datePublished">2019-08-14</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/JS/">JS</a> / <a class="article-category-link" href="/categories/JS/JS-%E4%B8%89%E5%BA%A7%E5%A4%A7%E5%B1%B1/">JS ä¸‰åº§å¤§å±±</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="å¼‚æ­¥"><a href="#å¼‚æ­¥" class="headerlink" title="å¼‚æ­¥"></a>å¼‚æ­¥</h1><blockquote>
<p>æœ¬ç« å…¨é¢è®²è§£äº† JS å¼‚æ­¥çš„çŸ¥è¯†ç‚¹ã€‚å…ˆä»<strong>åŸç†å¼€å§‹</strong> ï¼Œè®²è§£ä»€ä¹ˆæ˜¯ <strong>å•çº¿ç¨‹</strong>ã€ä»€ä¹ˆæ˜¯ <strong>event loop</strong> ï¼›ç„¶åè®²è§£ jQuery ä¸­è§£å†³ <strong>å¼‚æ­¥çš„ Deferred</strong> ä»¥åŠ jQuery åˆæ¬¡å±•ç¤ºå‡ºæ¥çš„ <strong>Promise çš„ç”¨æ³•</strong>ï¼›æœ€åå†è®²è§£ ES6 ä¸­ <strong>Promise çš„ç”¨æ³•å’Œæ ‡å‡†</strong> ã€‚</p>
<p><strong>åŸºç¡€ç¯‡è¯·çœ‹</strong> ï¼š<a target="_blank" rel="noopener" href="http://zxinc520.com/lcj/%225d2eeda9d797f0309cf6ab02%22">å¼‚æ­¥å’Œå•çº¿ç¨‹</a></p>
</blockquote>
<h2 id="å¼‚æ­¥-1"><a href="#å¼‚æ­¥-1" class="headerlink" title="å¼‚æ­¥"></a>å¼‚æ­¥</h2><blockquote>
<p>é«˜çº§é¢è¯•</p>
</blockquote>
<ul>
<li>ã€Š<a target="_blank" rel="noopener" href="http://zxinc520.com/lcj/%225d2eeda9d797f0309cf6ab02%22">å‰ç«¯ JS é¢è¯•æŠ€å·§</a>ã€‹è®²åˆ°å¼‚æ­¥çš„åŸºç¡€</li>
<li>é«˜çº§é¢è¯•ä¼šé—®åˆ°æ›´å¤šçš„å†…å®¹</li>
<li>å¦‚ event-loop Promise Async/Await ç­‰</li>
</ul>
<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><ul>
<li>ä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Œå’Œå¼‚æ­¥æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ <a target="_blank" rel="noopener" href="http://zxinc520.com/lcj/%225d2eeda9d797f0309cf6ab02%22">å‚è€ƒ </a></li>
<li>ä»€ä¹ˆæ˜¯ event-loopï¼Ÿ</li>
<li>æ˜¯å¦ç”¨è¿‡ jQuery çš„ Deferred</li>
<li>Promise çš„åŸºæœ¬ä½¿ç”¨å’ŒåŸç†</li>
<li>ä»‹ç»ä¸€ä¸‹ async/awaitï¼ˆES7ï¼‰ï¼ˆå’Œ Promise çš„åŒºåˆ«ã€è”ç³»ï¼‰</li>
<li>æ€»ç»“ä¸€ä¸‹å½“å‰ JS è§£å†³å¼‚æ­¥çš„æ–¹æ¡ˆ</li>
</ul>
<h2 id="4-1-å•çº¿ç¨‹å’Œå¼‚æ­¥"><a href="#4-1-å•çº¿ç¨‹å’Œå¼‚æ­¥" class="headerlink" title="4-1 å•çº¿ç¨‹å’Œå¼‚æ­¥"></a>4-1 å•çº¿ç¨‹å’Œå¼‚æ­¥</h2><blockquote>
<p><a target="_blank" rel="noopener" href="http://zxinc520.com/lcj/%225d2eeda9d797f0309cf6ab02%22">å•çº¿ç¨‹å’Œå¼‚æ­¥åŸºç¡€ç¯‡ </a></p>
</blockquote>
<ul>
<li>ä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Ÿ<ul>
<li>åŸå›  - é¿å… DOM æ¸²æŸ“å†²çª<ul>
<li>æµè§ˆå™¨éœ€è¦æ¸²æŸ“ DOM</li>
<li>JS å¯ä»¥ä¿®æ”¹ DOM ç»“æ„</li>
<li>JS æ‰§è¡Œçš„æ—¶å€™ï¼Œæµè§ˆå™¨ DOM æ¸²æŸ“ä¼šæš‚åœ</li>
<li>ä¸¤æ®µ JS ä¹Ÿä¸èƒ½åŒæ—¶æ‰§è¡Œ ï¼ˆ éƒ½ä¿®æ”¹ DOM å°±å†²çªäº†ï¼‰</li>
<li>webworker æ”¯æŒå¤šçº¿ç¨‹ ï¼Œä½†æ˜¯ä¸èƒ½ è®¿é—® DOM</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>å•çº¿ç¨‹çš„è§£å†³æ–¹æ¡ˆ</strong> ï¼š <strong>å¼‚æ­¥</strong></p>
<p><em>æš´éœ²å‡ºçš„é—®é¢˜</em> ï¼š</p>
<ul>
<li>é—®é¢˜ä¸€ï¼šæ²¡æŒ‰ç…§ä¹¦å†™æ–¹å¼æ‰§è¡Œï¼Œå¯è¯»æ€§å·®</li>
<li>é—®é¢˜äºŒï¼šcallback ä¸­ä¸å®¹æ˜“æ¨¡å—åŒ–</li>
</ul>
<h3 id="é—®é¢˜è§£ç­”"><a href="#é—®é¢˜è§£ç­”" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>ä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Œå’Œå¼‚æ­¥æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ<ul>
<li>å•çº¿ç¨‹å°±æ˜¯åŒæ—¶åªåšä¸€ä»¶äº‹ï¼Œä¸¤æ®µ JS ä¸èƒ½åŒæ—¶ æ‰§è¡Œ</li>
<li>åŸå› å°±æ˜¯ ä¸ºäº†é¿å… DOM æ¸²æŸ“çš„å†²çª</li>
<li>å¼‚æ­¥æ˜¯ä¸€ç§ â€œæ— å¥ˆâ€ çš„è§£å†³æ–¹æ¡ˆï¼Œè™½ç„¶æœ‰å¾ˆå¤šé—®é¢˜</li>
</ul>
</li>
</ul>
<p><strong>æ‰¿ä¸Šå¯ä¸‹ï¼š</strong></p>
<ul>
<li>å•çº¿ç¨‹ - åŒæ—¶é—´åªèƒ½åšä¸€ä»¶äº‹</li>
<li>åŸå›  - é¿å… DOM æ¸²æŸ“å†²çª</li>
<li>è§£å†³æ–¹æ¡ˆ - å¼‚æ­¥</li>
<li>å¼‚æ­¥çš„å®ç°æ–¹å¼ - event loop</li>
</ul>
<h2 id="4-2-ä»€ä¹ˆæ˜¯-event-loop"><a href="#4-2-ä»€ä¹ˆæ˜¯-event-loop" class="headerlink" title="4-2 ä»€ä¹ˆæ˜¯ event-loop"></a>4-2 ä»€ä¹ˆæ˜¯ event-loop</h2><blockquote>
<p>ä¸»çº¿ç¨‹ä»â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­è¯»å–äº‹ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œæ‰€ä»¥æ•´ä¸ªçš„è¿™ç§è¿è¡Œæœºåˆ¶åˆç§°ä¸º Event Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰ã€‚ <a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2014/10/event-loop.html">å†è°ˆ Event Loop</a></p>
</blockquote>
<h3 id="æ–‡å­—è§£é‡Š"><a href="#æ–‡å­—è§£é‡Š" class="headerlink" title="æ–‡å­—è§£é‡Š"></a>æ–‡å­—è§£é‡Š</h3><blockquote>
<p>event-loop</p>
</blockquote>
<ul>
<li>äº‹ä»¶è½®è¯¢ï¼Œ JS å®ç°å¼‚æ­¥ çš„å…·ä½“è§£å†³æ–¹æ¡ˆ</li>
<li>åŒæ­¥ä»£ç ï¼Œç›´æ¥æ‰§è¡Œ</li>
<li>å¼‚æ­¥å‡½æ•°å…ˆæ”¾åœ¨ å¼‚æ­¥é˜Ÿåˆ— ä¸­</li>
<li>å¾…åŒæ­¥å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œè½®è¯¢æ‰§è¡Œ å¼‚æ­¥é˜Ÿåˆ— çš„å‡½æ•°</li>
</ul>
<h3 id="å®ä¾‹åˆ†æ"><a href="#å®ä¾‹åˆ†æ" class="headerlink" title="å®ä¾‹åˆ†æ"></a>å®ä¾‹åˆ†æ</h3><p><em>ç¤ºä¾‹ä¸€ï¼š</em></p>
<p><img src="http://static.zxinc520.com/blog/20190813/mxsAJyrO4cLE.png?imageslim" alt="mark"></p>
<p><em>ç¤ºä¾‹äºŒï¼š</em></p>
<p><img src="http://static.zxinc520.com/blog/20190813/kftHfWYaHL80.png?imageslim" alt="mark"></p>
<p><em>ç¤ºä¾‹ä¸‰ï¼š</em></p>
<p><img src="http://static.zxinc520.com/blog/20190813/j3lPm5VCfcSB.png?imageslim" alt="mark"></p>
<p><strong>ä¸Šå›¾æœ‰ 2 ç§ç»“æœ</strong>ï¼š(a æ˜¯åœ¨ ajax è¯·æ±‚æˆåŠŸæ—¶æ”¾å…¥å¼‚æ­¥é˜Ÿåˆ—ï¼Œæ‰€ä»¥æ—¶é—´ä¸ç¡®å®š)</p>
<ol>
<li>d -&gt; c -&gt; a -&gt; b</li>
<li>d -&gt; c -&gt; b -&gt; a</li>
</ol>
<h3 id="é—®é¢˜è§£ç­”-1"><a href="#é—®é¢˜è§£ç­”-1" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>ä»€ä¹ˆæ˜¯ event-loopï¼Ÿ<ul>
<li>äº‹ä»¶è½®è¯¢ï¼Œ JS å®ç°å¼‚æ­¥ çš„å…·ä½“è§£å†³æ–¹æ¡ˆ</li>
<li>ä»€ä¹ˆæ˜¯å¼‚æ­¥é˜Ÿåˆ—ï¼Œä½•æ—¶è¢«æ”¾å…¥ å¼‚æ­¥é˜Ÿåˆ—</li>
<li>è½®è¯¢çš„è¿‡ç¨‹</li>
</ul>
</li>
</ul>
<h2 id="4-3-jQuery-çš„-Deferred"><a href="#4-3-jQuery-çš„-Deferred" class="headerlink" title="4-3 jQuery çš„ Deferred"></a>4-3 jQuery çš„ Deferred</h2><blockquote>
<p><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2011/08/a_detailed_explanation_of_jquery_deferred_object.html">jQuery çš„ deferred å¯¹è±¡è¯¦è§£</a></p>
<p>jQuery 1.5.0 ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ä¸€ä¸ªæ–°åŠŸèƒ½â€”-<a target="_blank" rel="noopener" href="http://api.jquery.com/category/deferred-object/">deferred å¯¹è±¡</a>ã€‚</p>
<p>é’ˆå¯¹çš„è¯»è€…æ˜¯é‚£äº›å·²ç»å…·å¤‡ jQuery ä½¿ç”¨ç»éªŒçš„å¼€å‘è€…ã€‚å¦‚æœä½ æƒ³äº†è§£ jQuery çš„åŸºæœ¬ç”¨æ³•ï¼Œè¯·é˜…è¯» <a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/">é˜®ä¸€å³°</a> ç¼–å†™çš„<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2011/07/jquery_fundamentals.html">ã€ŠjQuery è®¾è®¡æ€æƒ³ã€‹</a>å’Œ<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2011/08/jquery_best_practices.html">ã€ŠjQuery æœ€ä½³å®è·µã€‹</a>ã€‚</p>
</blockquote>
<h3 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul>
<li>jQuery 1.5 çš„å˜åŒ–</li>
<li>ä½¿ç”¨ jQuery Deferred</li>
<li>åˆæ­¥å¼•å…¥ Promise æ¦‚å¿µ</li>
</ul>
<p><strong>æ³¨æ„</strong> ï¼šä¸è¦ä»¥ä¸ºæ‰€æœ‰çš„ç½‘ç«™ éƒ½æ˜¯ vue å’Œ React å¼€å‘çš„</p>
<h4 id="jQuery-1-5-ä¹‹å‰"><a href="#jQuery-1-5-ä¹‹å‰" class="headerlink" title="jQuery 1.5 ä¹‹å‰"></a>jQuery 1.5 ä¹‹å‰</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ajax = $.ajax(&#123;</span><br><span class="line">  url: <span class="string">&quot;data.json&quot;</span>,</span><br><span class="line">  success: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;success1&quot;</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;success2&quot;</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;success3&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  error: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(ajax); <span class="comment">//è¿”å›ä¸€ä¸ª XHR å¯¹è±¡</span></span><br></pre></td></tr></table></figure>

<h4 id="jQuery-1-5-ä¹‹å"><a href="#jQuery-1-5-ä¹‹å" class="headerlink" title="jQuery 1.5 ä¹‹å"></a>jQuery 1.5 ä¹‹å</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ajax = $.ajax(<span class="string">&quot;data.json&quot;</span>);</span><br><span class="line">ajax</span><br><span class="line">  .done(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;success 1&quot;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .fail(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .done(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;success 2&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(ajax); <span class="comment">//è¿”å›ä¸€ä¸ª deferred å¯¹è±¡</span></span><br></pre></td></tr></table></figure>

<h4 id="jQuery-1-5-çš„å˜åŒ–"><a href="#jQuery-1-5-çš„å˜åŒ–" class="headerlink" title="jQuery 1.5 çš„å˜åŒ–"></a>jQuery 1.5 çš„å˜åŒ–</h4><ul>
<li>æ— æ³•æ”¹å˜ JS å¼‚æ­¥å’Œå•çº¿ç¨‹çš„æœ¬è´¨</li>
<li>åªèƒ½ä»å†™æ³•ä¸Šæœç» callback è¿™ç§å½¢å¼</li>
<li>å®ƒæ˜¯ä¸€ç§è¯­æ³•ç³–å½¢å¼ï¼Œä½†æ˜¯è§£è€¦äº†ä»£ç </li>
<li>å¾ˆå¥½çš„ä½“ç°ï¼š<strong>å¼€æ”¾å°é—­åŸåˆ™</strong></li>
</ul>
<h3 id="ä½¿ç”¨-jQuery-Deferred"><a href="#ä½¿ç”¨-jQuery-Deferred" class="headerlink" title="ä½¿ç”¨ jQuery Deferred"></a>ä½¿ç”¨ jQuery Deferred</h3><blockquote>
<p>ä½¿ç”¨ jQuery Deferred</p>
<p>å¯¹æ¯” è¯´æ˜</p>
</blockquote>
<p><em>æœªä½¿ç”¨æƒ…å†µï¼š</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»™å‡ºä¸€æ®µéå¸¸ç®€å•çš„å¼‚æ­¥æ“ä½œä»£ç ï¼Œä½¿ç”¨ setTimeout å‡½æ•°</span></span><br><span class="line"><span class="keyword">var</span> wait = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> task = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;æ‰§è¡Œå®Œæˆ&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="built_in">setTimeout</span>(task, <span class="number">2000</span>);</span><br><span class="line">&#125;;</span><br><span class="line">wait();</span><br><span class="line"><span class="comment">// æ–°å¢éœ€æ±‚ï¼šè¦åœ¨æ‰§è¡Œå®Œæˆä¹‹åè¿›è¡ŒæŸäº›ç‰¹åˆ«å¤æ‚çš„æ“ä½œï¼Œä»£ç å¯èƒ½ä¼šå¾ˆå¤šï¼Œè€Œä¸”åˆ†å¥½å‡ ä¸ªæ­¥éª¤</span></span><br></pre></td></tr></table></figure>

<p>_ä½¿ç”¨ jQuery Deferred_ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">waitHandle</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> dtd = $.Deferred(); <span class="comment">//åˆ›å»ºä¸€ä¸ª Deferred å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> wait = <span class="function"><span class="keyword">function</span> (<span class="params">dtd</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//è¦æ±‚ä¼ å…¥ä¸€ä¸ª Deferred å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">var</span> task = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;æ‰§è¡Œå®Œæˆ&quot;</span>);</span><br><span class="line">      dtd.resolve(); <span class="comment">//è¡¨ç¤ºå¼‚æ­¥ä»»åŠ¡å·²ç»å®Œæˆ</span></span><br><span class="line">      <span class="comment">// dtd.reject()  //è¡¨ç¤ºå¼‚æ­¥ä»»åŠ¡å¤±è´¥æˆ–å‡ºé”™</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">setTimeout</span>(task, <span class="number">2000</span>);</span><br><span class="line">    <span class="keyword">return</span> dtd; <span class="comment">// è¦æ±‚è¿”å› Deferred å¯¹è±¡</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ³¨æ„ï¼Œè¿™é‡Œä¸€å®šè¦æœ‰è¿”å›å€¼</span></span><br><span class="line">  <span class="keyword">return</span> wait(dtd);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŒºåˆ«äºpromiseï¼Œå¥½åƒä¸èƒ½é“¾å¼è°ƒç”¨</span></span><br><span class="line"><span class="keyword">var</span> w = waitHandle();</span><br><span class="line">w.then(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;ok 1&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;err 1&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">w.then(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;ok 2&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;error 2&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿˜æœ‰ w.done w.fail</span></span><br></pre></td></tr></table></figure>

<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul>
<li>æ€»ç»“ï¼Œdtd çš„ API å¯åˆ†æˆä¸¤ç±»ï¼Œç”¨æ„ä¸åŒ</li>
<li>ç¬¬ä¸€ç±»ï¼šdtd.resolve dtd.reject</li>
<li>ç¬¬äºŒç±»ï¼šdtd.then dtd.done dtd.fail</li>
<li>è¿™ä¸¤ç±»åº”è¯¥åˆ†å¼€ï¼Œå¦åˆ™åæœå¾ˆä¸¥é‡</li>
</ul>
<h3 id="é—®é¢˜è§£ç­”-2"><a href="#é—®é¢˜è§£ç­”-2" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li><p>æ˜¯å¦ç”¨è¿‡ jQuery çš„ Deferred</p>
<ul>
<li>å¯ä»¥ jQuery 1.5 å¯¹ ajax çš„æ”¹å˜ä¸¾ä¾‹</li>
<li>è¯´æ˜å¦‚ä½•ç®€å•çš„å°è£…ï¼Œä½¿ç”¨ Deferred</li>
<li>è¯´æ˜ ES6 promise å’Œ Deferred çš„åŒºåˆ«</li>
</ul>
</li>
</ul>
<p><strong>æƒ³è¦æ·±å…¥ç†è§£å®ƒï¼Œå°±éœ€è¦çŸ¥é“å®ƒçš„å‰ä¸–ä»Šç”Ÿã€‚</strong></p>
<h2 id="4-4-Promise"><a href="#4-4-Promise" class="headerlink" title="4-4 Promise"></a>4-4 Promise</h2><blockquote>
<p>Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†<code>Promise</code>å¯¹è±¡ã€‚</p>
<p>æ‰€è°“<code>Promise</code>ï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚</p>
<p><a target="_blank" rel="noopener" href="http://es6.ruanyifeng.com/#docs/promise">ECMAScript 6 Promise å¯¹è±¡</a></p>
<p><strong>åŸºç¡€è¯­æ³•</strong> è¯·å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡åšå®¢ï¼š <a target="_blank" rel="noopener" href="http://zxinc520.com/lcj/%225cbb3bf05733fa0a66088c80%22">Promise è¯¦ç»†åˆ†æ</a></p>
</blockquote>
<p><code>Promise</code><strong>å¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹</strong>ã€‚</p>
<ol>
<li>å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚<code>Promise</code>å¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼š<code>pending</code>ï¼ˆè¿›è¡Œä¸­ï¼‰ã€<code>fulfilled</code>ï¼ˆå·²æˆåŠŸï¼‰å’Œ<code>rejected</code>ï¼ˆå·²å¤±è´¥ï¼‰ã€‚åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯<code>Promise</code>è¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯â€œæ‰¿è¯ºâ€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜ã€‚</li>
<li>ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚<code>Promise</code>å¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»<code>pending</code>å˜ä¸º<code>fulfilled</code>å’Œä»<code>pending</code>å˜ä¸º<code>rejected</code>ã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æœï¼Œè¿™æ—¶å°±ç§°ä¸º resolvedï¼ˆå·²å®šå‹ï¼‰ã€‚å¦‚æœæ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹<code>Promise</code>å¯¹è±¡æ·»åŠ å›è°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—åˆ°è¿™ä¸ªç»“æœã€‚è¿™ä¸äº‹ä»¶ï¼ˆEventï¼‰å®Œå…¨ä¸åŒï¼Œäº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå¦‚æœä½ é”™è¿‡äº†å®ƒï¼Œå†å»ç›‘å¬ï¼Œæ˜¯å¾—ä¸åˆ°ç»“æœçš„ã€‚</li>
</ol>
<p>æ³¨æ„ï¼Œä¸ºäº†è¡Œæ–‡æ–¹ä¾¿ï¼Œæœ¬ç« åé¢çš„<code>resolved</code>ç»Ÿä¸€åªæŒ‡<code>fulfilled</code>çŠ¶æ€ï¼Œä¸åŒ…å«<code>rejected</code>çŠ¶æ€ã€‚</p>
<p>æœ‰äº†<code>Promise</code>å¯¹è±¡ï¼Œå°±å¯ä»¥å°†å¼‚æ­¥æ“ä½œä»¥åŒæ­¥æ“ä½œçš„æµç¨‹è¡¨è¾¾å‡ºæ¥ï¼Œé¿å…äº†å±‚å±‚åµŒå¥—çš„å›è°ƒå‡½æ•°ã€‚æ­¤å¤–ï¼Œ<code>Promise</code>å¯¹è±¡æä¾›ç»Ÿä¸€çš„æ¥å£ï¼Œä½¿å¾—æ§åˆ¶å¼‚æ­¥æ“ä½œæ›´åŠ å®¹æ˜“ã€‚</p>
<p><code>Promise</code>ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ã€‚é¦–å…ˆï¼Œæ— æ³•å–æ¶ˆ<code>Promise</code>ï¼Œä¸€æ—¦æ–°å»ºå®ƒå°±ä¼šç«‹å³æ‰§è¡Œï¼Œæ— æ³•ä¸­é€”å–æ¶ˆã€‚å…¶æ¬¡ï¼Œå¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼Œ<code>Promise</code>å†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸ä¼šååº”åˆ°å¤–éƒ¨ã€‚ç¬¬ä¸‰ï¼Œå½“å¤„äº<code>pending</code>çŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µï¼ˆåˆšåˆšå¼€å§‹è¿˜æ˜¯å³å°†å®Œæˆï¼‰ã€‚</p>
<p>å¦‚æœæŸäº›äº‹ä»¶ä¸æ–­åœ°åå¤å‘ç”Ÿï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨ <a target="_blank" rel="noopener" href="https://nodejs.org/api/stream.html">Stream</a> æ¨¡å¼æ˜¯æ¯”éƒ¨ç½²<code>Promise</code>æ›´å¥½çš„é€‰æ‹©ã€‚</p>
<h3 id="å¼‚å¸¸æ•è·"><a href="#å¼‚å¸¸æ•è·" class="headerlink" title="å¼‚å¸¸æ•è·"></a>å¼‚å¸¸æ•è·</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadImg</span>(<span class="params">src</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> img = <span class="built_in">document</span>.createElement(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">    img.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      resolve(img);</span><br><span class="line">    &#125;;</span><br><span class="line">    img.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      reject();</span><br><span class="line">    &#125;;</span><br><span class="line">    img.src = src;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> promise;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> src =</span><br><span class="line">  <span class="string">&quot;https://edu-image.nosdn.127.net/B34DC36428D2D51B8EF5EE2C83CE9BF2.png?imageView&amp;thumbnail=241y34&amp;quality=100&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> result = loadImg(src);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è§„å®š ï¼š then åªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œæœ€åç»Ÿä¸€ç”¨ catch æ•è·å¼‚å¸¸</span></span><br><span class="line">result</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">img</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img.width);</span><br><span class="line">    <span class="keyword">return</span> img;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">img</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img.height);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">ex</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æœ€åç»Ÿä¸€ catch</span></span><br><span class="line">    <span class="built_in">console</span>.log(ex);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Promise-all-amp-Promise-race"><a href="#Promise-all-amp-Promise-race" class="headerlink" title="Promise.all &amp; Promise.race"></a>Promise.all &amp; Promise.race</h3><blockquote>
<p><strong>Promise.all</strong> å¯ä»¥å°†å¤šä¸ª Promise å®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚åŒæ—¶ï¼ŒæˆåŠŸå’Œå¤±è´¥çš„è¿”å›å€¼æ˜¯ä¸åŒçš„ï¼ŒæˆåŠŸçš„æ—¶å€™è¿”å›çš„æ˜¯ä¸€ä¸ªç»“æœæ•°ç»„ï¼Œè€Œå¤±è´¥çš„æ—¶å€™åˆ™è¿”å›æœ€å…ˆè¢« reject å¤±è´¥çŠ¶æ€çš„å€¼ã€‚</p>
<p><strong>Promse.race</strong> å°±æ˜¯èµ›è·‘çš„æ„æ€ï¼Œæ„æ€å°±æ˜¯è¯´ï¼ŒPromise.race([p1, p2, p3])é‡Œé¢å“ªä¸ªç»“æœè·å¾—çš„å¿«ï¼Œå°±è¿”å›é‚£ä¸ªç»“æœï¼Œä¸ç®¡ç»“æœæœ¬èº«æ˜¯æˆåŠŸçŠ¶æ€è¿˜æ˜¯å¤±è´¥çŠ¶æ€ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/7e60fc1be1b2">ç†è§£å’Œä½¿ç”¨ Promise.all å’Œ Promise.race</a></p>
</blockquote>
<p><img src="http://static.zxinc520.com/blog/20190814/LoF987DaE10r.png?imageslim" alt="mark"></p>
<p><em>æ¼”ç¤º</em> ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadImg</span>(<span class="params">src</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> img = <span class="built_in">document</span>.createElement(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">    img.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      resolve(img);</span><br><span class="line">    &#125;;</span><br><span class="line">    img.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      reject();</span><br><span class="line">    &#125;;</span><br><span class="line">    img.src = src;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> promise;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> src1 =</span><br><span class="line">  <span class="string">&quot;https://edu-image.nosdn.127.net/B34DC36428D2D51B8EF5EE2C83CE9BF2.png?imageView&amp;thumbnail=241y34&amp;quality=100&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> src2 = <span class="string">&quot;https://www.imooc.com/static/img/index/logo.png&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result1 = loadImg(src1);</span><br><span class="line"><span class="keyword">var</span> result2 = loadImg(src2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.all([result1, result2]).then(<span class="function"><span class="keyword">function</span> (<span class="params">datas</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(datas[<span class="number">0</span>]);</span><br><span class="line">  <span class="built_in">console</span>.log(datas[<span class="number">1</span>]);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°å¿«è°å…ˆæ‰§è¡Œ</span></span><br><span class="line"><span class="built_in">Promise</span>.race([result1, result2]).then(<span class="function"><span class="keyword">function</span> (<span class="params">datas</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(datas);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>Promise.all çš„æ‰§è¡Œç»“æœ</strong> ï¼š</p>
<p><img src="http://static.zxinc520.com/blog/20190814/ITqccL9zhyE0.png?imageslim" alt="mark"></p>
<p><strong>Promise.race çš„æ‰§è¡Œç»“æœ</strong> ï¼š</p>
<p><img src="http://static.zxinc520.com/blog/20190814/PP76XFiW0S3V.png?imageslim" alt="mark"></p>
<h3 id="promise-æ ‡å‡†"><a href="#promise-æ ‡å‡†" class="headerlink" title="promise æ ‡å‡†"></a>promise æ ‡å‡†</h3><ul>
<li>å…³äº â€œæ ‡å‡†â€ çš„é—²è°ˆ</li>
<li>çŠ¶æ€å˜åŒ–</li>
<li>then</li>
</ul>
<h4 id="å…³äº-â€œæ ‡å‡†â€-çš„é—²è°ˆ"><a href="#å…³äº-â€œæ ‡å‡†â€-çš„é—²è°ˆ" class="headerlink" title="å…³äº â€œæ ‡å‡†â€ çš„é—²è°ˆ"></a>å…³äº â€œæ ‡å‡†â€ çš„é—²è°ˆ</h4><ul>
<li>ä»»ä½•æŠ€æœ¯æ¨å¹¿ä½¿ç”¨éƒ½éœ€è¦ä¸€å¥—æ ‡å‡†æ¥æ”¯æ’‘</li>
<li>å¦‚ html js css http ç­‰ï¼Œæ— è§„çŸ©ä¸æˆæ–¹åœ†</li>
<li>ä»»ä½•ä¸ç¬¦åˆæ ‡å‡†çš„ä¸œè¥¿ï¼Œç»ˆå°†ä¼šè¢«ç”¨æˆ·æŠ›å¼ƒ</li>
<li>ä¸è¦æŒ‘æˆ˜æ ‡å‡†ï¼Œä¸è¦è‡ªé€ æ ‡å‡†</li>
</ul>
<h4 id="çŠ¶æ€å˜åŒ–"><a href="#çŠ¶æ€å˜åŒ–" class="headerlink" title="çŠ¶æ€å˜åŒ–"></a>çŠ¶æ€å˜åŒ–</h4><ul>
<li>ä¸‰ç§çŠ¶æ€ï¼špending fulfilled rejected</li>
<li>åˆå§‹çŠ¶æ€ï¼špending</li>
<li><strong>æˆåŠŸ</strong>ï¼špending å˜æˆ fulfilled ï¼Œ<strong>å¤±è´¥</strong>ï¼špending å˜æˆ rejected</li>
<li>çŠ¶æ€å˜åŒ–ä¸å¯é€†</li>
</ul>
<h4 id="then"><a href="#then" class="headerlink" title="then"></a>then</h4><ul>
<li><p>Promise å®ä¾‹å¿…é¡»å®ç° then è¿™ä¸ªæ–¹æ³•</p>
</li>
<li><p>then() å¿…é¡»å¯ä»¥æ¥å—ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°</p>
</li>
<li><p>then() è¿”å›çš„å¿…é¡»æ˜¯ä¸€ä¸ª Promise å®ä¾‹</p>
<p><img src="http://static.zxinc520.com/blog/20190814/p2zjIfnNkjIp.png?imageslim" alt="mark"></p>
</li>
</ul>
<h3 id="é—®é¢˜è§£ç­”-3"><a href="#é—®é¢˜è§£ç­”-3" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><p><strong>é—®é¢˜ï¼šPromise çš„åŸºæœ¬ä½¿ç”¨å’ŒåŸç†ï¼Ÿ</strong></p>
<ul>
<li>åŸºæœ¬è¯­æ³• ï¼ˆå¤ä¹ ï¼‰</li>
<li>å¦‚ä½•å¼‚å¸¸æ•è· ï¼ˆ error å’Œ reject éƒ½è¦è€ƒè™‘ï¼‰</li>
<li>å¤šä¸ªä¸²è” - é“¾å¼æ‰§è¡Œçš„å¥½å¤„</li>
<li>Promise.all å’Œ Promise.race</li>
<li>Promise æ ‡å‡† - çŠ¶æ€å˜åŒ–ï¼Œthen å‡½æ•°</li>
</ul>
<h2 id="4-5-async-await"><a href="#4-5-async-await" class="headerlink" title="4-5 async/await"></a>4-5 async/await</h2><blockquote>
<p>ES2017 æ ‡å‡†å¼•å…¥äº† async å‡½æ•°ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚</p>
<p>async å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿä¸€å¥è¯ï¼Œå®ƒå°±æ˜¯ Generator å‡½æ•°çš„è¯­æ³•ç³–ã€‚</p>
<p><a target="_blank" rel="noopener" href="http://es6.ruanyifeng.com/">ECMAScript 6 å…¥é—¨</a> <a target="_blank" rel="noopener" href="http://es6.ruanyifeng.com/#docs/async">async å‡½æ•°</a></p>
</blockquote>
<ul>
<li>then åªæ˜¯å°† callback æ‹†åˆ†äº†</li>
<li>async/await æ˜¯æœ€ç›´æ¥çš„åŒæ­¥å†™æ³•</li>
</ul>
<p><img src="http://static.zxinc520.com/blog/20190815/B2MsvoDMkq7B.png?imageslim" alt="mark"></p>
<p><strong>æœ€ç›´æ¥çš„åŒæ­¥å†™æ³•ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> load = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result1 = <span class="keyword">await</span> loadImg(src1);</span><br><span class="line">  <span class="built_in">console</span>.log(result1);</span><br><span class="line">  <span class="keyword">const</span> result2 = <span class="keyword">await</span> loadImg(src2);</span><br><span class="line">  <span class="built_in">console</span>.log(result2);</span><br><span class="line">&#125;;</span><br><span class="line">load();</span><br></pre></td></tr></table></figure>

<h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><ul>
<li>ä½¿ç”¨ awaitï¼Œå‡½æ•°å¿…é¡»ç”¨ async æ ‡è¯†</li>
<li>await åé¢è·Ÿçš„æ˜¯ä¸€ä¸ª Promise å®ä¾‹</li>
<li>éœ€è¦ babel-polyfill</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadImg</span>(<span class="params">src</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> img = <span class="built_in">document</span>.createElement(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">    img.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      resolve(img);</span><br><span class="line">    &#125;;</span><br><span class="line">    img.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      reject();</span><br><span class="line">    &#125;;</span><br><span class="line">    img.src = src;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> promise;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> src1 =</span><br><span class="line">  <span class="string">&quot;https://edu-image.nosdn.127.net/B34DC36428D2D51B8EF5EE2C83CE9BF2.png?imageView&amp;thumbnail=241y34&amp;quality=100&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> src2 = <span class="string">&quot;https://www.imooc.com/static/img/index/logo.png&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> load = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result1 = <span class="keyword">await</span> loadImg(src1);</span><br><span class="line">  <span class="built_in">console</span>.log(result1);</span><br><span class="line">  <span class="keyword">const</span> result2 = <span class="keyword">await</span> loadImg(src2);</span><br><span class="line">  <span class="built_in">console</span>.log(result2);</span><br><span class="line">&#125;;</span><br><span class="line">load();</span><br></pre></td></tr></table></figure>

<h3 id="é—®é¢˜è§£ç­”-4"><a href="#é—®é¢˜è§£ç­”-4" class="headerlink" title="é—®é¢˜è§£ç­”"></a>é—®é¢˜è§£ç­”</h3><ul>
<li>ä»‹ç»ä¸€ä¸‹ async/awaitï¼ˆES7ï¼‰ï¼ˆå’Œ Promise çš„åŒºåˆ«ã€è”ç³»ï¼‰<ul>
<li>åŸºæœ¬è¯­æ³•</li>
<li>ä½¿ç”¨äº† Promiseï¼Œå¹¶æ²¡æœ‰å’Œ Promise å†²çª</li>
<li>å®Œå…¨æ˜¯åŒæ­¥çš„å†™æ³•ï¼Œå†ä¹Ÿæ²¡æœ‰å›è°ƒå‡½æ•°</li>
<li>ä½†æ˜¯ï¼šæ”¹å˜ä¸äº† JS å•çº¿ç¨‹ã€å¼‚æ­¥çš„æœ¬è´¨</li>
</ul>
</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS-%E4%B8%89%E5%BA%A7%E5%A4%A7%E5%B1%B1/" rel="tag">JS ä¸‰åº§å¤§å±±</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Promise/" rel="tag">Promise</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/event-loop/" rel="tag">event loop</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8D%95%E7%BA%BF%E7%A8%8B/" rel="tag">å•çº¿ç¨‹</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BC%82%E6%AD%A5%E7%9A%84-Deferred/" rel="tag">å¼‚æ­¥çš„ Deferred</a></li></ul>

    </footer>
  </div>

    
 
   
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">ä¸Šä¸€é¡µ</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/4/">ä¸‹ä¸€é¡µ</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2020
        <i class="ri-heart-fill heart_icon"></i> zhou chen
      </li>
    </ul>
    <ul>
      <li>
        
        
        
        Powered by <a href="https://hexo.io" target="_blank">Hexo</a>
        <span class="division">|</span>
        Theme - <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="ç›"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">å½’æ¡£</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">åˆ†ç±»</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">æ ‡ç­¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="http://zxinc520.com">ä¸ªäººåšå®¢</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">å‹æƒ…é“¾æ¥</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>è¯·æˆ‘å–æ¯å’–å•¡å§~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="http://static.zxinc520.com/blog/20190512/p4IWzLUrorWK.jpg?imageslim">
      <span class="reward-type">æ”¯ä»˜å®</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="http://static.zxinc520.com/blog/20190512/pGHOMdDF79sb.jpg?imageslim">
      <span class="reward-type">å¾®ä¿¡</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>


<!-- ClickBoom2 -->

<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


    
  </div>
</body>

</html>